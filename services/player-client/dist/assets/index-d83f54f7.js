var Q7=Object.defineProperty;var e9=(n,e,t)=>e in n?Q7(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var au=(n,e,t)=>(e9(n,typeof e!="symbol"?e+"":e,t),t);function t9(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function u4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var c4={exports:{}},RP={},f4={exports:{}},UC={exports:{}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */UC.exports;(function(n,e){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t="18.3.1",i=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),N=Symbol.iterator,T="@@iterator";function A($){if($===null||typeof $!="object")return null;var Me=N&&$[N]||$[T];return typeof Me=="function"?Me:null}var w={current:null},L={transition:null},U={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},k={current:null},V={},H=null;function P($){H=$}V.setExtraStackFrame=function($){H=$},V.getCurrentStack=null,V.getStackAddendum=function(){var $="";H&&($+=H);var Me=V.getCurrentStack;return Me&&($+=Me()||""),$};var I=!1,q=!1,j=!1,J=!1,W=!1,se={ReactCurrentDispatcher:w,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};se.ReactDebugCurrentFrame=V,se.ReactCurrentActQueue=U;function te($){{for(var Me=arguments.length,Je=new Array(Me>1?Me-1:0),pt=1;pt<Me;pt++)Je[pt-1]=arguments[pt];ge("warn",$,Je)}}function ae($){{for(var Me=arguments.length,Je=new Array(Me>1?Me-1:0),pt=1;pt<Me;pt++)Je[pt-1]=arguments[pt];ge("error",$,Je)}}function ge($,Me,Je){{var pt=se.ReactDebugCurrentFrame,jt=pt.getStackAddendum();jt!==""&&(Me+="%s",Je=Je.concat([jt]));var yn=Je.map(function(fn){return String(fn)});yn.unshift("Warning: "+Me),Function.prototype.apply.call(console[$],console,yn)}}var ve={};function ce($,Me){{var Je=$.constructor,pt=Je&&(Je.displayName||Je.name)||"ReactClass",jt=pt+"."+Me;if(ve[jt])return;ae("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",Me,pt),ve[jt]=!0}}var Y={isMounted:function($){return!1},enqueueForceUpdate:function($,Me,Je){ce($,"forceUpdate")},enqueueReplaceState:function($,Me,Je,pt){ce($,"replaceState")},enqueueSetState:function($,Me,Je,pt){ce($,"setState")}},ee=Object.assign,le={};Object.freeze(le);function ye($,Me,Je){this.props=$,this.context=Me,this.refs=le,this.updater=Je||Y}ye.prototype.isReactComponent={},ye.prototype.setState=function($,Me){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Me,"setState")},ye.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};{var be={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},we=function($,Me){Object.defineProperty(ye.prototype,$,{get:function(){te("%s(...) is deprecated in plain JavaScript React classes. %s",Me[0],Me[1])}})};for(var Oe in be)be.hasOwnProperty(Oe)&&we(Oe,be[Oe])}function De(){}De.prototype=ye.prototype;function st($,Me,Je){this.props=$,this.context=Me,this.refs=le,this.updater=Je||Y}var dt=st.prototype=new De;dt.constructor=st,ee(dt,ye.prototype),dt.isPureReactComponent=!0;function ze(){var $={current:null};return Object.seal($),$}var ie=Array.isArray;function $e($){return ie($)}function Le($){{var Me=typeof Symbol=="function"&&Symbol.toStringTag,Je=Me&&$[Symbol.toStringTag]||$.constructor.name||"Object";return Je}}function je($){try{return Ve($),!1}catch{return!0}}function Ve($){return""+$}function ft($){if(je($))return ae("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Le($)),Ve($)}function Ge($,Me,Je){var pt=$.displayName;if(pt)return pt;var jt=Me.displayName||Me.name||"";return jt!==""?Je+"("+jt+")":Je}function it($){return $.displayName||"Context"}function vt($){if($==null)return null;if(typeof $.tag=="number"&&ae("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case s:return"Fragment";case r:return"Portal";case u:return"Profiler";case l:return"StrictMode";case v:return"Suspense";case y:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case f:var Me=$;return it(Me)+".Consumer";case h:var Je=$;return it(Je._context)+".Provider";case p:return Ge($,$.render,"ForwardRef");case x:var pt=$.displayName||null;return pt!==null?pt:vt($.type)||"Memo";case _:{var jt=$,yn=jt._payload,fn=jt._init;try{return vt(fn(yn))}catch{return null}}}return null}var Ye=Object.prototype.hasOwnProperty,Lt={key:!0,ref:!0,__self:!0,__source:!0},Q,K,Ne;Ne={};function ut($){if(Ye.call($,"ref")){var Me=Object.getOwnPropertyDescriptor($,"ref").get;if(Me&&Me.isReactWarning)return!1}return $.ref!==void 0}function Ue($){if(Ye.call($,"key")){var Me=Object.getOwnPropertyDescriptor($,"key").get;if(Me&&Me.isReactWarning)return!1}return $.key!==void 0}function Qe($,Me){var Je=function(){Q||(Q=!0,ae("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Me))};Je.isReactWarning=!0,Object.defineProperty($,"key",{get:Je,configurable:!0})}function Nt($,Me){var Je=function(){K||(K=!0,ae("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Me))};Je.isReactWarning=!0,Object.defineProperty($,"ref",{get:Je,configurable:!0})}function ht($){if(typeof $.ref=="string"&&k.current&&$.__self&&k.current.stateNode!==$.__self){var Me=vt(k.current.type);Ne[Me]||(ae('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',Me,$.ref),Ne[Me]=!0)}}var ue=function($,Me,Je,pt,jt,yn,fn){var wn={$$typeof:i,type:$,key:Me,ref:Je,props:fn,_owner:yn};return wn._store={},Object.defineProperty(wn._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(wn,"_self",{configurable:!1,enumerable:!1,writable:!1,value:pt}),Object.defineProperty(wn,"_source",{configurable:!1,enumerable:!1,writable:!1,value:jt}),Object.freeze&&(Object.freeze(wn.props),Object.freeze(wn)),wn};function Te($,Me,Je){var pt,jt={},yn=null,fn=null,wn=null,En=null;if(Me!=null){ut(Me)&&(fn=Me.ref,ht(Me)),Ue(Me)&&(ft(Me.key),yn=""+Me.key),wn=Me.__self===void 0?null:Me.__self,En=Me.__source===void 0?null:Me.__source;for(pt in Me)Ye.call(Me,pt)&&!Lt.hasOwnProperty(pt)&&(jt[pt]=Me[pt])}var Gn=arguments.length-2;if(Gn===1)jt.children=Je;else if(Gn>1){for(var Wn=Array(Gn),si=0;si<Gn;si++)Wn[si]=arguments[si+2];Object.freeze&&Object.freeze(Wn),jt.children=Wn}if($&&$.defaultProps){var Ui=$.defaultProps;for(pt in Ui)jt[pt]===void 0&&(jt[pt]=Ui[pt])}if(yn||fn){var rr=typeof $=="function"?$.displayName||$.name||"Unknown":$;yn&&Qe(jt,rr),fn&&Nt(jt,rr)}return ue($,yn,fn,wn,En,k.current,jt)}function ke($,Me){var Je=ue($.type,Me,$.ref,$._self,$._source,$._owner,$.props);return Je}function Ae($,Me,Je){if($==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var pt,jt=ee({},$.props),yn=$.key,fn=$.ref,wn=$._self,En=$._source,Gn=$._owner;if(Me!=null){ut(Me)&&(fn=Me.ref,Gn=k.current),Ue(Me)&&(ft(Me.key),yn=""+Me.key);var Wn;$.type&&$.type.defaultProps&&(Wn=$.type.defaultProps);for(pt in Me)Ye.call(Me,pt)&&!Lt.hasOwnProperty(pt)&&(Me[pt]===void 0&&Wn!==void 0?jt[pt]=Wn[pt]:jt[pt]=Me[pt])}var si=arguments.length-2;if(si===1)jt.children=Je;else if(si>1){for(var Ui=Array(si),rr=0;rr<si;rr++)Ui[rr]=arguments[rr+2];jt.children=Ui}return ue($.type,yn,fn,wn,En,Gn,jt)}function Be($){return typeof $=="object"&&$!==null&&$.$$typeof===i}var pe=".",Pe=":";function He($){var Me=/[=:]/g,Je={"=":"=0",":":"=2"},pt=$.replace(Me,function(jt){return Je[jt]});return"$"+pt}var Ee=!1,gt=/\/+/g;function me($){return $.replace(gt,"$&/")}function at($,Me){return typeof $=="object"&&$!==null&&$.key!=null?(ft($.key),He(""+$.key)):Me.toString(36)}function bt($,Me,Je,pt,jt){var yn=typeof $;(yn==="undefined"||yn==="boolean")&&($=null);var fn=!1;if($===null)fn=!0;else switch(yn){case"string":case"number":fn=!0;break;case"object":switch($.$$typeof){case i:case r:fn=!0}}if(fn){var wn=$,En=jt(wn),Gn=pt===""?pe+at(wn,0):pt;if($e(En)){var Wn="";Gn!=null&&(Wn=me(Gn)+"/"),bt(En,Me,Wn,"",function(gx){return gx})}else En!=null&&(Be(En)&&(En.key&&(!wn||wn.key!==En.key)&&ft(En.key),En=ke(En,Je+(En.key&&(!wn||wn.key!==En.key)?me(""+En.key)+"/":"")+Gn)),Me.push(En));return 1}var si,Ui,rr=0,vi=pt===""?pe:pt+Pe;if($e($))for(var Zo=0;Zo<$.length;Zo++)si=$[Zo],Ui=vi+at(si,Zo),rr+=bt(si,Me,Je,Ui,jt);else{var dh=A($);if(typeof dh=="function"){var rm=$;dh===rm.entries&&(Ee||te("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Ee=!0);for(var vx=dh.call(rm),hu,am=0;!(hu=vx.next()).done;)si=hu.value,Ui=vi+at(si,am++),rr+=bt(si,Me,Je,Ui,jt)}else if(yn==="object"){var sm=String($);throw new Error("Objects are not valid as a React child (found: "+(sm==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":sm)+"). If you meant to render a collection of children, use an array instead.")}}return rr}function We($,Me,Je){if($==null)return $;var pt=[],jt=0;return bt($,pt,"","",function(yn){return Me.call(Je,yn,jt++)}),pt}function Et($){var Me=0;return We($,function(){Me++}),Me}function Vt($,Me,Je){We($,function(){Me.apply(this,arguments)},Je)}function Rt($){return We($,function(Me){return Me})||[]}function ln($){if(!Be($))throw new Error("React.Children.only expected to receive a single React element child.");return $}function Mn($){var Me={$$typeof:f,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};Me.Provider={$$typeof:h,_context:Me};var Je=!1,pt=!1,jt=!1;{var yn={$$typeof:f,_context:Me};Object.defineProperties(yn,{Provider:{get:function(){return pt||(pt=!0,ae("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),Me.Provider},set:function(fn){Me.Provider=fn}},_currentValue:{get:function(){return Me._currentValue},set:function(fn){Me._currentValue=fn}},_currentValue2:{get:function(){return Me._currentValue2},set:function(fn){Me._currentValue2=fn}},_threadCount:{get:function(){return Me._threadCount},set:function(fn){Me._threadCount=fn}},Consumer:{get:function(){return Je||(Je=!0,ae("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),Me.Consumer}},displayName:{get:function(){return Me.displayName},set:function(fn){jt||(te("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",fn),jt=!0)}}}),Me.Consumer=yn}return Me._currentRenderer=null,Me._currentRenderer2=null,Me}var dn=-1,bn=0,Un=1,Ji=2;function Ni($){if($._status===dn){var Me=$._result,Je=Me();if(Je.then(function(yn){if($._status===bn||$._status===dn){var fn=$;fn._status=Un,fn._result=yn}},function(yn){if($._status===bn||$._status===dn){var fn=$;fn._status=Ji,fn._result=yn}}),$._status===dn){var pt=$;pt._status=bn,pt._result=Je}}if($._status===Un){var jt=$._result;return jt===void 0&&ae(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,jt),"default"in jt||ae(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,jt),jt.default}else throw $._result}function Se($){var Me={_status:dn,_result:$},Je={$$typeof:_,_payload:Me,_init:Ni};{var pt,jt;Object.defineProperties(Je,{defaultProps:{configurable:!0,get:function(){return pt},set:function(yn){ae("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),pt=yn,Object.defineProperty(Je,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return jt},set:function(yn){ae("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),jt=yn,Object.defineProperty(Je,"propTypes",{enumerable:!0})}}})}return Je}function Dt($){$!=null&&$.$$typeof===x?ae("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof $!="function"?ae("forwardRef requires a render function but was given %s.",$===null?"null":typeof $):$.length!==0&&$.length!==2&&ae("forwardRef render functions accept exactly two parameters: props and ref. %s",$.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),$!=null&&($.defaultProps!=null||$.propTypes!=null)&&ae("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var Me={$$typeof:p,render:$};{var Je;Object.defineProperty(Me,"displayName",{enumerable:!1,configurable:!0,get:function(){return Je},set:function(pt){Je=pt,!$.name&&!$.displayName&&($.displayName=pt)}})}return Me}var Ht;Ht=Symbol.for("react.module.reference");function de($){return!!(typeof $=="string"||typeof $=="function"||$===s||$===u||W||$===l||$===v||$===y||J||$===M||I||q||j||typeof $=="object"&&$!==null&&($.$$typeof===_||$.$$typeof===x||$.$$typeof===h||$.$$typeof===f||$.$$typeof===p||$.$$typeof===Ht||$.getModuleId!==void 0))}function nt($,Me){de($)||ae("memo: The first argument must be a component. Instead received: %s",$===null?"null":typeof $);var Je={$$typeof:x,type:$,compare:Me===void 0?null:Me};{var pt;Object.defineProperty(Je,"displayName",{enumerable:!1,configurable:!0,get:function(){return pt},set:function(jt){pt=jt,!$.name&&!$.displayName&&($.displayName=jt)}})}return Je}function yt(){var $=w.current;return $===null&&ae(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),$}function kt($){var Me=yt();if($._context!==void 0){var Je=$._context;Je.Consumer===$?ae("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Je.Provider===$&&ae("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return Me.useContext($)}function qt($){var Me=yt();return Me.useState($)}function ne($,Me,Je){var pt=yt();return pt.useReducer($,Me,Je)}function _e($){var Me=yt();return Me.useRef($)}function Re($,Me){var Je=yt();return Je.useEffect($,Me)}function Xe($,Me){var Je=yt();return Je.useInsertionEffect($,Me)}function qe($,Me){var Je=yt();return Je.useLayoutEffect($,Me)}function Pt($,Me){var Je=yt();return Je.useCallback($,Me)}function Bt($,Me){var Je=yt();return Je.useMemo($,Me)}function rn($,Me,Je){var pt=yt();return pt.useImperativeHandle($,Me,Je)}function Tt($,Me){{var Je=yt();return Je.useDebugValue($,Me)}}function hn(){var $=yt();return $.useTransition()}function mn($){var Me=yt();return Me.useDeferredValue($)}function Wt(){var $=yt();return $.useId()}function ai($,Me,Je){var pt=yt();return pt.useSyncExternalStore($,Me,Je)}var qi=0,Di,vr,pi,Fn,Za,Li,Pi;function yo(){}yo.__reactDisabledLog=!0;function Ja(){{if(qi===0){Di=console.log,vr=console.info,pi=console.warn,Fn=console.error,Za=console.group,Li=console.groupCollapsed,Pi=console.groupEnd;var $={configurable:!0,enumerable:!0,value:yo,writable:!0};Object.defineProperties(console,{info:$,log:$,warn:$,error:$,group:$,groupCollapsed:$,groupEnd:$})}qi++}}function Xs(){{if(qi--,qi===0){var $={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ee({},$,{value:Di}),info:ee({},$,{value:vr}),warn:ee({},$,{value:pi}),error:ee({},$,{value:Fn}),group:ee({},$,{value:Za}),groupCollapsed:ee({},$,{value:Li}),groupEnd:ee({},$,{value:Pi})})}qi<0&&ae("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Mi=se.ReactCurrentDispatcher,ir;function Oa($,Me,Je){{if(ir===void 0)try{throw Error()}catch(jt){var pt=jt.stack.trim().match(/\n( *(at )?)/);ir=pt&&pt[1]||""}return`
`+ir+$}}var Ii=!1,gr;{var Ol=typeof WeakMap=="function"?WeakMap:Map;gr=new Ol}function Ms($,Me){if(!$||Ii)return"";{var Je=gr.get($);if(Je!==void 0)return Je}var pt;Ii=!0;var jt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var yn;yn=Mi.current,Mi.current=null,Ja();try{if(Me){var fn=function(){throw Error()};if(Object.defineProperty(fn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fn,[])}catch(vi){pt=vi}Reflect.construct($,[],fn)}else{try{fn.call()}catch(vi){pt=vi}$.call(fn.prototype)}}else{try{throw Error()}catch(vi){pt=vi}$()}}catch(vi){if(vi&&pt&&typeof vi.stack=="string"){for(var wn=vi.stack.split(`
`),En=pt.stack.split(`
`),Gn=wn.length-1,Wn=En.length-1;Gn>=1&&Wn>=0&&wn[Gn]!==En[Wn];)Wn--;for(;Gn>=1&&Wn>=0;Gn--,Wn--)if(wn[Gn]!==En[Wn]){if(Gn!==1||Wn!==1)do if(Gn--,Wn--,Wn<0||wn[Gn]!==En[Wn]){var si=`
`+wn[Gn].replace(" at new "," at ");return $.displayName&&si.includes("<anonymous>")&&(si=si.replace("<anonymous>",$.displayName)),typeof $=="function"&&gr.set($,si),si}while(Gn>=1&&Wn>=0);break}}}finally{Ii=!1,Mi.current=yn,Xs(),Error.prepareStackTrace=jt}var Ui=$?$.displayName||$.name:"",rr=Ui?Oa(Ui):"";return typeof $=="function"&&gr.set($,rr),rr}function bo($,Me,Je){return Ms($,!1)}function Of($){var Me=$.prototype;return!!(Me&&Me.isReactComponent)}function qs($,Me,Je){if($==null)return"";if(typeof $=="function")return Ms($,Of($));if(typeof $=="string")return Oa($);switch($){case v:return Oa("Suspense");case y:return Oa("SuspenseList")}if(typeof $=="object")switch($.$$typeof){case p:return bo($.render);case x:return qs($.type,Me,Je);case _:{var pt=$,jt=pt._payload,yn=pt._init;try{return qs(yn(jt),Me,Je)}catch{}}}return""}var qo={},xo=se.ReactDebugCurrentFrame;function du($){if($){var Me=$._owner,Je=qs($.type,$._source,Me?Me.type:null);xo.setExtraStackFrame(Je)}else xo.setExtraStackFrame(null)}function xa($,Me,Je,pt,jt){{var yn=Function.call.bind(Ye);for(var fn in $)if(yn($,fn)){var wn=void 0;try{if(typeof $[fn]!="function"){var En=Error((pt||"React class")+": "+Je+" type `"+fn+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof $[fn]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw En.name="Invariant Violation",En}wn=$[fn](Me,fn,pt,Je,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Gn){wn=Gn}wn&&!(wn instanceof Error)&&(du(jt),ae("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",pt||"React class",Je,fn,typeof wn),du(null)),wn instanceof Error&&!(wn.message in qo)&&(qo[wn.message]=!0,du(jt),ae("Failed %s type: %s",Je,wn.message),du(null))}}}function zn($){if($){var Me=$._owner,Je=qs($.type,$._source,Me?Me.type:null);P(Je)}else P(null)}var lr;lr=!1;function gc(){if(k.current){var $=vt(k.current.type);if($)return`

Check the render method of \``+$+"`."}return""}function Rn($){if($!==void 0){var Me=$.fileName.replace(/^.*[\\\/]/,""),Je=$.lineNumber;return`

Check your code at `+Me+":"+Je+"."}return""}function $o($){return $!=null?Rn($.__source):""}var ur={};function $s($){var Me=gc();if(!Me){var Je=typeof $=="string"?$:$.displayName||$.name;Je&&(Me=`

Check the top-level render call using <`+Je+">.")}return Me}function Ko($,Me){if(!(!$._store||$._store.validated||$.key!=null)){$._store.validated=!0;var Je=$s(Me);if(!ur[Je]){ur[Je]=!0;var pt="";$&&$._owner&&$._owner!==k.current&&(pt=" It was passed a child from "+vt($._owner.type)+"."),zn($),ae('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Je,pt),zn(null)}}}function Qa($,Me){if(typeof $=="object"){if($e($))for(var Je=0;Je<$.length;Je++){var pt=$[Je];Be(pt)&&Ko(pt,Me)}else if(Be($))$._store&&($._store.validated=!0);else if($){var jt=A($);if(typeof jt=="function"&&jt!==$.entries)for(var yn=jt.call($),fn;!(fn=yn.next()).done;)Be(fn.value)&&Ko(fn.value,Me)}}}function yr($){{var Me=$.type;if(Me==null||typeof Me=="string")return;var Je;if(typeof Me=="function")Je=Me.propTypes;else if(typeof Me=="object"&&(Me.$$typeof===p||Me.$$typeof===x))Je=Me.propTypes;else return;if(Je){var pt=vt(Me);xa(Je,$.props,"prop",pt,$)}else if(Me.PropTypes!==void 0&&!lr){lr=!0;var jt=vt(Me);ae("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",jt||"Unknown")}typeof Me.getDefaultProps=="function"&&!Me.getDefaultProps.isReactClassApproved&&ae("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Bi($){{for(var Me=Object.keys($.props),Je=0;Je<Me.length;Je++){var pt=Me[Je];if(pt!=="children"&&pt!=="key"){zn($),ae("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",pt),zn(null);break}}$.ref!==null&&(zn($),ae("Invalid attribute `ref` supplied to `React.Fragment`."),zn(null))}}function Ff($,Me,Je){var pt=de($);if(!pt){var jt="";($===void 0||typeof $=="object"&&$!==null&&Object.keys($).length===0)&&(jt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var yn=$o(Me);yn?jt+=yn:jt+=gc();var fn;$===null?fn="null":$e($)?fn="array":$!==void 0&&$.$$typeof===i?(fn="<"+(vt($.type)||"Unknown")+" />",jt=" Did you accidentally export a JSX literal instead of a component?"):fn=typeof $,ae("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",fn,jt)}var wn=Te.apply(this,arguments);if(wn==null)return wn;if(pt)for(var En=2;En<arguments.length;En++)Qa(arguments[En],$);return $===s?Bi(wn):yr(wn),wn}var br=!1;function ua($){var Me=Ff.bind(null,$);return Me.type=$,br||(br=!0,te("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(Me,"type",{enumerable:!1,get:function(){return te("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:$}),$}}),Me}function Ks($,Me,Je){for(var pt=Ae.apply(this,arguments),jt=2;jt<arguments.length;jt++)Qa(arguments[jt],pt.type);return yr(pt),pt}function es($,Me){var Je=L.transition;L.transition={};var pt=L.transition;L.transition._updatedFibers=new Set;try{$()}finally{if(L.transition=Je,Je===null&&pt._updatedFibers){var jt=pt._updatedFibers.size;jt>10&&te("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),pt._updatedFibers.clear()}}}var Fl=!1,Il=null;function If($){if(Il===null)try{var Me=("require"+Math.random()).slice(0,7),Je=n&&n[Me];Il=Je.call(n,"timers").setImmediate}catch{Il=function(jt){Fl===!1&&(Fl=!0,typeof MessageChannel>"u"&&ae("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var yn=new MessageChannel;yn.port1.onmessage=jt,yn.port2.postMessage(void 0)}}return Il($)}var So=0,Vf=!1;function kf($){{var Me=So;So++,U.current===null&&(U.current=[]);var Je=U.isBatchingLegacy,pt;try{if(U.isBatchingLegacy=!0,pt=$(),!Je&&U.didScheduleLegacyUpdate){var jt=U.current;jt!==null&&(U.didScheduleLegacyUpdate=!1,Vl(jt))}}catch(Ui){throw ts(Me),Ui}finally{U.isBatchingLegacy=Je}if(pt!==null&&typeof pt=="object"&&typeof pt.then=="function"){var yn=pt,fn=!1,wn={then:function(Ui,rr){fn=!0,yn.then(function(vi){ts(Me),So===0?_o(vi,Ui,rr):Ui(vi)},function(vi){ts(Me),rr(vi)})}};return!Vf&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){fn||(Vf=!0,ae("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),wn}else{var En=pt;if(ts(Me),So===0){var Gn=U.current;Gn!==null&&(Vl(Gn),U.current=null);var Wn={then:function(Ui,rr){U.current===null?(U.current=[],_o(En,Ui,rr)):Ui(En)}};return Wn}else{var si={then:function(Ui,rr){Ui(En)}};return si}}}}function ts($){$!==So-1&&ae("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),So=$}function _o($,Me,Je){{var pt=U.current;if(pt!==null)try{Vl(pt),If(function(){pt.length===0?(U.current=null,Me($)):_o($,Me,Je)})}catch(jt){Je(jt)}else Me($)}}var Sa=!1;function Vl($){if(!Sa){Sa=!0;var Me=0;try{for(;Me<$.length;Me++){var Je=$[Me];do Je=Je(!0);while(Je!==null)}$.length=0}catch(pt){throw $=$.slice(Me+1),pt}finally{Sa=!1}}}var yc=Ff,bc=Ks,kl=ua,Bf={map:We,forEach:Vt,count:Et,toArray:Rt,only:ln};e.Children=Bf,e.Component=ye,e.Fragment=s,e.Profiler=u,e.PureComponent=st,e.StrictMode=l,e.Suspense=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,e.act=kf,e.cloneElement=bc,e.createContext=Mn,e.createElement=yc,e.createFactory=kl,e.createRef=ze,e.forwardRef=Dt,e.isValidElement=Be,e.lazy=Se,e.memo=nt,e.startTransition=es,e.unstable_act=kf,e.useCallback=Pt,e.useContext=kt,e.useDebugValue=Tt,e.useDeferredValue=mn,e.useEffect=Re,e.useId=Wt,e.useImperativeHandle=rn,e.useInsertionEffect=Xe,e.useLayoutEffect=qe,e.useMemo=Bt,e.useReducer=ne,e.useRef=_e,e.useState=qt,e.useSyncExternalStore=ai,e.useTransition=hn,e.version=t,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(UC,UC.exports);var n9=UC.exports;f4.exports=n9;var G=f4.exports;const lA=u4(G),i9=t9({__proto__:null,default:lA},[G]);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var n=G,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),_=Symbol.iterator,M="@@iterator";function N(Se){if(Se===null||typeof Se!="object")return null;var Dt=_&&Se[_]||Se[M];return typeof Dt=="function"?Dt:null}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function A(Se){{for(var Dt=arguments.length,Ht=new Array(Dt>1?Dt-1:0),de=1;de<Dt;de++)Ht[de-1]=arguments[de];w("error",Se,Ht)}}function w(Se,Dt,Ht){{var de=T.ReactDebugCurrentFrame,nt=de.getStackAddendum();nt!==""&&(Dt+="%s",Ht=Ht.concat([nt]));var yt=Ht.map(function(kt){return String(kt)});yt.unshift("Warning: "+Dt),Function.prototype.apply.call(console[Se],console,yt)}}var L=!1,U=!1,k=!1,V=!1,H=!1,P;P=Symbol.for("react.module.reference");function I(Se){return!!(typeof Se=="string"||typeof Se=="function"||Se===i||Se===s||H||Se===r||Se===f||Se===p||V||Se===x||L||U||k||typeof Se=="object"&&Se!==null&&(Se.$$typeof===y||Se.$$typeof===v||Se.$$typeof===l||Se.$$typeof===u||Se.$$typeof===h||Se.$$typeof===P||Se.getModuleId!==void 0))}function q(Se,Dt,Ht){var de=Se.displayName;if(de)return de;var nt=Dt.displayName||Dt.name||"";return nt!==""?Ht+"("+nt+")":Ht}function j(Se){return Se.displayName||"Context"}function J(Se){if(Se==null)return null;if(typeof Se.tag=="number"&&A("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof Se=="function")return Se.displayName||Se.name||null;if(typeof Se=="string")return Se;switch(Se){case i:return"Fragment";case t:return"Portal";case s:return"Profiler";case r:return"StrictMode";case f:return"Suspense";case p:return"SuspenseList"}if(typeof Se=="object")switch(Se.$$typeof){case u:var Dt=Se;return j(Dt)+".Consumer";case l:var Ht=Se;return j(Ht._context)+".Provider";case h:return q(Se,Se.render,"ForwardRef");case v:var de=Se.displayName||null;return de!==null?de:J(Se.type)||"Memo";case y:{var nt=Se,yt=nt._payload,kt=nt._init;try{return J(kt(yt))}catch{return null}}}return null}var W=Object.assign,se=0,te,ae,ge,ve,ce,Y,ee;function le(){}le.__reactDisabledLog=!0;function ye(){{if(se===0){te=console.log,ae=console.info,ge=console.warn,ve=console.error,ce=console.group,Y=console.groupCollapsed,ee=console.groupEnd;var Se={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:Se,log:Se,warn:Se,error:Se,group:Se,groupCollapsed:Se,groupEnd:Se})}se++}}function be(){{if(se--,se===0){var Se={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:W({},Se,{value:te}),info:W({},Se,{value:ae}),warn:W({},Se,{value:ge}),error:W({},Se,{value:ve}),group:W({},Se,{value:ce}),groupCollapsed:W({},Se,{value:Y}),groupEnd:W({},Se,{value:ee})})}se<0&&A("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var we=T.ReactCurrentDispatcher,Oe;function De(Se,Dt,Ht){{if(Oe===void 0)try{throw Error()}catch(nt){var de=nt.stack.trim().match(/\n( *(at )?)/);Oe=de&&de[1]||""}return`
`+Oe+Se}}var st=!1,dt;{var ze=typeof WeakMap=="function"?WeakMap:Map;dt=new ze}function ie(Se,Dt){if(!Se||st)return"";{var Ht=dt.get(Se);if(Ht!==void 0)return Ht}var de;st=!0;var nt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var yt;yt=we.current,we.current=null,ye();try{if(Dt){var kt=function(){throw Error()};if(Object.defineProperty(kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kt,[])}catch(Bt){de=Bt}Reflect.construct(Se,[],kt)}else{try{kt.call()}catch(Bt){de=Bt}Se.call(kt.prototype)}}else{try{throw Error()}catch(Bt){de=Bt}Se()}}catch(Bt){if(Bt&&de&&typeof Bt.stack=="string"){for(var qt=Bt.stack.split(`
`),ne=de.stack.split(`
`),_e=qt.length-1,Re=ne.length-1;_e>=1&&Re>=0&&qt[_e]!==ne[Re];)Re--;for(;_e>=1&&Re>=0;_e--,Re--)if(qt[_e]!==ne[Re]){if(_e!==1||Re!==1)do if(_e--,Re--,Re<0||qt[_e]!==ne[Re]){var Xe=`
`+qt[_e].replace(" at new "," at ");return Se.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",Se.displayName)),typeof Se=="function"&&dt.set(Se,Xe),Xe}while(_e>=1&&Re>=0);break}}}finally{st=!1,we.current=yt,be(),Error.prepareStackTrace=nt}var qe=Se?Se.displayName||Se.name:"",Pt=qe?De(qe):"";return typeof Se=="function"&&dt.set(Se,Pt),Pt}function $e(Se,Dt,Ht){return ie(Se,!1)}function Le(Se){var Dt=Se.prototype;return!!(Dt&&Dt.isReactComponent)}function je(Se,Dt,Ht){if(Se==null)return"";if(typeof Se=="function")return ie(Se,Le(Se));if(typeof Se=="string")return De(Se);switch(Se){case f:return De("Suspense");case p:return De("SuspenseList")}if(typeof Se=="object")switch(Se.$$typeof){case h:return $e(Se.render);case v:return je(Se.type,Dt,Ht);case y:{var de=Se,nt=de._payload,yt=de._init;try{return je(yt(nt),Dt,Ht)}catch{}}}return""}var Ve=Object.prototype.hasOwnProperty,ft={},Ge=T.ReactDebugCurrentFrame;function it(Se){if(Se){var Dt=Se._owner,Ht=je(Se.type,Se._source,Dt?Dt.type:null);Ge.setExtraStackFrame(Ht)}else Ge.setExtraStackFrame(null)}function vt(Se,Dt,Ht,de,nt){{var yt=Function.call.bind(Ve);for(var kt in Se)if(yt(Se,kt)){var qt=void 0;try{if(typeof Se[kt]!="function"){var ne=Error((de||"React class")+": "+Ht+" type `"+kt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof Se[kt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ne.name="Invariant Violation",ne}qt=Se[kt](Dt,kt,de,Ht,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(_e){qt=_e}qt&&!(qt instanceof Error)&&(it(nt),A("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",de||"React class",Ht,kt,typeof qt),it(null)),qt instanceof Error&&!(qt.message in ft)&&(ft[qt.message]=!0,it(nt),A("Failed %s type: %s",Ht,qt.message),it(null))}}}var Ye=Array.isArray;function Lt(Se){return Ye(Se)}function Q(Se){{var Dt=typeof Symbol=="function"&&Symbol.toStringTag,Ht=Dt&&Se[Symbol.toStringTag]||Se.constructor.name||"Object";return Ht}}function K(Se){try{return Ne(Se),!1}catch{return!0}}function Ne(Se){return""+Se}function ut(Se){if(K(Se))return A("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Q(Se)),Ne(Se)}var Ue=T.ReactCurrentOwner,Qe={key:!0,ref:!0,__self:!0,__source:!0},Nt,ht,ue;ue={};function Te(Se){if(Ve.call(Se,"ref")){var Dt=Object.getOwnPropertyDescriptor(Se,"ref").get;if(Dt&&Dt.isReactWarning)return!1}return Se.ref!==void 0}function ke(Se){if(Ve.call(Se,"key")){var Dt=Object.getOwnPropertyDescriptor(Se,"key").get;if(Dt&&Dt.isReactWarning)return!1}return Se.key!==void 0}function Ae(Se,Dt){if(typeof Se.ref=="string"&&Ue.current&&Dt&&Ue.current.stateNode!==Dt){var Ht=J(Ue.current.type);ue[Ht]||(A('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',J(Ue.current.type),Se.ref),ue[Ht]=!0)}}function Be(Se,Dt){{var Ht=function(){Nt||(Nt=!0,A("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Dt))};Ht.isReactWarning=!0,Object.defineProperty(Se,"key",{get:Ht,configurable:!0})}}function pe(Se,Dt){{var Ht=function(){ht||(ht=!0,A("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Dt))};Ht.isReactWarning=!0,Object.defineProperty(Se,"ref",{get:Ht,configurable:!0})}}var Pe=function(Se,Dt,Ht,de,nt,yt,kt){var qt={$$typeof:e,type:Se,key:Dt,ref:Ht,props:kt,_owner:yt};return qt._store={},Object.defineProperty(qt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(qt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:de}),Object.defineProperty(qt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:nt}),Object.freeze&&(Object.freeze(qt.props),Object.freeze(qt)),qt};function He(Se,Dt,Ht,de,nt){{var yt,kt={},qt=null,ne=null;Ht!==void 0&&(ut(Ht),qt=""+Ht),ke(Dt)&&(ut(Dt.key),qt=""+Dt.key),Te(Dt)&&(ne=Dt.ref,Ae(Dt,nt));for(yt in Dt)Ve.call(Dt,yt)&&!Qe.hasOwnProperty(yt)&&(kt[yt]=Dt[yt]);if(Se&&Se.defaultProps){var _e=Se.defaultProps;for(yt in _e)kt[yt]===void 0&&(kt[yt]=_e[yt])}if(qt||ne){var Re=typeof Se=="function"?Se.displayName||Se.name||"Unknown":Se;qt&&Be(kt,Re),ne&&pe(kt,Re)}return Pe(Se,qt,ne,nt,de,Ue.current,kt)}}var Ee=T.ReactCurrentOwner,gt=T.ReactDebugCurrentFrame;function me(Se){if(Se){var Dt=Se._owner,Ht=je(Se.type,Se._source,Dt?Dt.type:null);gt.setExtraStackFrame(Ht)}else gt.setExtraStackFrame(null)}var at;at=!1;function bt(Se){return typeof Se=="object"&&Se!==null&&Se.$$typeof===e}function We(){{if(Ee.current){var Se=J(Ee.current.type);if(Se)return`

Check the render method of \``+Se+"`."}return""}}function Et(Se){{if(Se!==void 0){var Dt=Se.fileName.replace(/^.*[\\\/]/,""),Ht=Se.lineNumber;return`

Check your code at `+Dt+":"+Ht+"."}return""}}var Vt={};function Rt(Se){{var Dt=We();if(!Dt){var Ht=typeof Se=="string"?Se:Se.displayName||Se.name;Ht&&(Dt=`

Check the top-level render call using <`+Ht+">.")}return Dt}}function ln(Se,Dt){{if(!Se._store||Se._store.validated||Se.key!=null)return;Se._store.validated=!0;var Ht=Rt(Dt);if(Vt[Ht])return;Vt[Ht]=!0;var de="";Se&&Se._owner&&Se._owner!==Ee.current&&(de=" It was passed a child from "+J(Se._owner.type)+"."),me(Se),A('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Ht,de),me(null)}}function Mn(Se,Dt){{if(typeof Se!="object")return;if(Lt(Se))for(var Ht=0;Ht<Se.length;Ht++){var de=Se[Ht];bt(de)&&ln(de,Dt)}else if(bt(Se))Se._store&&(Se._store.validated=!0);else if(Se){var nt=N(Se);if(typeof nt=="function"&&nt!==Se.entries)for(var yt=nt.call(Se),kt;!(kt=yt.next()).done;)bt(kt.value)&&ln(kt.value,Dt)}}}function dn(Se){{var Dt=Se.type;if(Dt==null||typeof Dt=="string")return;var Ht;if(typeof Dt=="function")Ht=Dt.propTypes;else if(typeof Dt=="object"&&(Dt.$$typeof===h||Dt.$$typeof===v))Ht=Dt.propTypes;else return;if(Ht){var de=J(Dt);vt(Ht,Se.props,"prop",de,Se)}else if(Dt.PropTypes!==void 0&&!at){at=!0;var nt=J(Dt);A("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",nt||"Unknown")}typeof Dt.getDefaultProps=="function"&&!Dt.getDefaultProps.isReactClassApproved&&A("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function bn(Se){{for(var Dt=Object.keys(Se.props),Ht=0;Ht<Dt.length;Ht++){var de=Dt[Ht];if(de!=="children"&&de!=="key"){me(Se),A("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",de),me(null);break}}Se.ref!==null&&(me(Se),A("Invalid attribute `ref` supplied to `React.Fragment`."),me(null))}}var Un={};function Ji(Se,Dt,Ht,de,nt,yt){{var kt=I(Se);if(!kt){var qt="";(Se===void 0||typeof Se=="object"&&Se!==null&&Object.keys(Se).length===0)&&(qt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ne=Et(nt);ne?qt+=ne:qt+=We();var _e;Se===null?_e="null":Lt(Se)?_e="array":Se!==void 0&&Se.$$typeof===e?(_e="<"+(J(Se.type)||"Unknown")+" />",qt=" Did you accidentally export a JSX literal instead of a component?"):_e=typeof Se,A("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",_e,qt)}var Re=He(Se,Dt,Ht,nt,yt);if(Re==null)return Re;if(kt){var Xe=Dt.children;if(Xe!==void 0)if(de)if(Lt(Xe)){for(var qe=0;qe<Xe.length;qe++)Mn(Xe[qe],Se);Object.freeze&&Object.freeze(Xe)}else A("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Mn(Xe,Se)}if(Ve.call(Dt,"key")){var Pt=J(Se),Bt=Object.keys(Dt).filter(function(hn){return hn!=="key"}),rn=Bt.length>0?"{key: someKey, "+Bt.join(": ..., ")+": ...}":"{key: someKey}";if(!Un[Pt+rn]){var Tt=Bt.length>0?"{"+Bt.join(": ..., ")+": ...}":"{}";A(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,rn,Pt,Tt,Pt),Un[Pt+rn]=!0}}return Se===i?bn(Re):dn(Re),Re}}var Ni=Ji;RP.Fragment=i,RP.jsxDEV=Ni})();c4.exports=RP;var D=c4.exports,DP={},d4={exports:{}},wl={},h4={exports:{}},p4={};/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,t=!1,i=5;function r(ue,Te){var ke=ue.length;ue.push(Te),u(ue,Te,ke)}function s(ue){return ue.length===0?null:ue[0]}function l(ue){if(ue.length===0)return null;var Te=ue[0],ke=ue.pop();return ke!==Te&&(ue[0]=ke,h(ue,ke,0)),Te}function u(ue,Te,ke){for(var Ae=ke;Ae>0;){var Be=Ae-1>>>1,pe=ue[Be];if(f(pe,Te)>0)ue[Be]=Te,ue[Ae]=pe,Ae=Be;else return}}function h(ue,Te,ke){for(var Ae=ke,Be=ue.length,pe=Be>>>1;Ae<pe;){var Pe=(Ae+1)*2-1,He=ue[Pe],Ee=Pe+1,gt=ue[Ee];if(f(He,Te)<0)Ee<Be&&f(gt,He)<0?(ue[Ae]=gt,ue[Ee]=Te,Ae=Ee):(ue[Ae]=He,ue[Pe]=Te,Ae=Pe);else if(Ee<Be&&f(gt,Te)<0)ue[Ae]=gt,ue[Ee]=Te,Ae=Ee;else return}}function f(ue,Te){var ke=ue.sortIndex-Te.sortIndex;return ke!==0?ke:ue.id-Te.id}var p=1,v=2,y=3,x=4,_=5;function M(ue,Te){}var N=typeof performance=="object"&&typeof performance.now=="function";if(N){var T=performance;n.unstable_now=function(){return T.now()}}else{var A=Date,w=A.now();n.unstable_now=function(){return A.now()-w}}var L=1073741823,U=-1,k=250,V=5e3,H=1e4,P=L,I=[],q=[],j=1,J=null,W=y,se=!1,te=!1,ae=!1,ge=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ue){for(var Te=s(q);Te!==null;){if(Te.callback===null)l(q);else if(Te.startTime<=ue)l(q),Te.sortIndex=Te.expirationTime,r(I,Te);else return;Te=s(q)}}function ee(ue){if(ae=!1,Y(ue),!te)if(s(I)!==null)te=!0,ut(le);else{var Te=s(q);Te!==null&&Ue(ee,Te.startTime-ue)}}function le(ue,Te){te=!1,ae&&(ae=!1,Qe()),se=!0;var ke=W;try{var Ae;if(!t)return ye(ue,Te)}finally{J=null,W=ke,se=!1}}function ye(ue,Te){var ke=Te;for(Y(ke),J=s(I);J!==null&&!e&&!(J.expirationTime>ke&&(!ue||it()));){var Ae=J.callback;if(typeof Ae=="function"){J.callback=null,W=J.priorityLevel;var Be=J.expirationTime<=ke,pe=Ae(Be);ke=n.unstable_now(),typeof pe=="function"?J.callback=pe:J===s(I)&&l(I),Y(ke)}else l(I);J=s(I)}if(J!==null)return!0;var Pe=s(q);return Pe!==null&&Ue(ee,Pe.startTime-ke),!1}function be(ue,Te){switch(ue){case p:case v:case y:case x:case _:break;default:ue=y}var ke=W;W=ue;try{return Te()}finally{W=ke}}function we(ue){var Te;switch(W){case p:case v:case y:Te=y;break;default:Te=W;break}var ke=W;W=Te;try{return ue()}finally{W=ke}}function Oe(ue){var Te=W;return function(){var ke=W;W=Te;try{return ue.apply(this,arguments)}finally{W=ke}}}function De(ue,Te,ke){var Ae=n.unstable_now(),Be;if(typeof ke=="object"&&ke!==null){var pe=ke.delay;typeof pe=="number"&&pe>0?Be=Ae+pe:Be=Ae}else Be=Ae;var Pe;switch(ue){case p:Pe=U;break;case v:Pe=k;break;case _:Pe=P;break;case x:Pe=H;break;case y:default:Pe=V;break}var He=Be+Pe,Ee={id:j++,callback:Te,priorityLevel:ue,startTime:Be,expirationTime:He,sortIndex:-1};return Be>Ae?(Ee.sortIndex=Be,r(q,Ee),s(I)===null&&Ee===s(q)&&(ae?Qe():ae=!0,Ue(ee,Be-Ae))):(Ee.sortIndex=He,r(I,Ee),!te&&!se&&(te=!0,ut(le))),Ee}function st(){}function dt(){!te&&!se&&(te=!0,ut(le))}function ze(){return s(I)}function ie(ue){ue.callback=null}function $e(){return W}var Le=!1,je=null,Ve=-1,ft=i,Ge=-1;function it(){var ue=n.unstable_now()-Ge;return!(ue<ft)}function vt(){}function Ye(ue){if(ue<0||ue>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}ue>0?ft=Math.floor(1e3/ue):ft=i}var Lt=function(){if(je!==null){var ue=n.unstable_now();Ge=ue;var Te=!0,ke=!0;try{ke=je(Te,ue)}finally{ke?Q():(Le=!1,je=null)}}else Le=!1},Q;if(typeof ce=="function")Q=function(){ce(Lt)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Ne=K.port2;K.port1.onmessage=Lt,Q=function(){Ne.postMessage(null)}}else Q=function(){ge(Lt,0)};function ut(ue){je=ue,Le||(Le=!0,Q())}function Ue(ue,Te){Ve=ge(function(){ue(n.unstable_now())},Te)}function Qe(){ve(Ve),Ve=-1}var Nt=vt,ht=null;n.unstable_IdlePriority=_,n.unstable_ImmediatePriority=p,n.unstable_LowPriority=x,n.unstable_NormalPriority=y,n.unstable_Profiling=ht,n.unstable_UserBlockingPriority=v,n.unstable_cancelCallback=ie,n.unstable_continueExecution=dt,n.unstable_forceFrameRate=Ye,n.unstable_getCurrentPriorityLevel=$e,n.unstable_getFirstCallbackNode=ze,n.unstable_next=we,n.unstable_pauseExecution=st,n.unstable_requestPaint=Nt,n.unstable_runWithPriority=be,n.unstable_scheduleCallback=De,n.unstable_shouldYield=it,n.unstable_wrapCallback=Oe,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(p4);h4.exports=p4;var r9=h4.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n=G,e=r9,t=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,i=!1;function r(a){i=a}function s(a){if(!i){for(var o=arguments.length,m=new Array(o>1?o-1:0),g=1;g<o;g++)m[g-1]=arguments[g];u("warn",a,m)}}function l(a){if(!i){for(var o=arguments.length,m=new Array(o>1?o-1:0),g=1;g<o;g++)m[g-1]=arguments[g];u("error",a,m)}}function u(a,o,m){{var g=t.ReactDebugCurrentFrame,S=g.getStackAddendum();S!==""&&(o+="%s",m=m.concat([S]));var R=m.map(function(F){return String(F)});R.unshift("Warning: "+o),Function.prototype.apply.call(console[a],console,R)}}var h=0,f=1,p=2,v=3,y=4,x=5,_=6,M=7,N=8,T=9,A=10,w=11,L=12,U=13,k=14,V=15,H=16,P=17,I=18,q=19,j=21,J=22,W=23,se=24,te=25,ae=!0,ge=!1,ve=!1,ce=!1,Y=!1,ee=!0,le=!1,ye=!0,be=!0,we=!0,Oe=!0,De=new Set,st={},dt={};function ze(a,o){ie(a,o),ie(a+"Capture",o)}function ie(a,o){st[a]&&l("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",a),st[a]=o;{var m=a.toLowerCase();dt[m]=a,a==="onDoubleClick"&&(dt.ondblclick=a)}for(var g=0;g<o.length;g++)De.add(o[g])}var $e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Le=Object.prototype.hasOwnProperty;function je(a){{var o=typeof Symbol=="function"&&Symbol.toStringTag,m=o&&a[Symbol.toStringTag]||a.constructor.name||"Object";return m}}function Ve(a){try{return ft(a),!1}catch{return!0}}function ft(a){return""+a}function Ge(a,o){if(Ve(a))return l("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",o,je(a)),ft(a)}function it(a){if(Ve(a))return l("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",je(a)),ft(a)}function vt(a,o){if(Ve(a))return l("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",o,je(a)),ft(a)}function Ye(a,o){if(Ve(a))return l("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",o,je(a)),ft(a)}function Lt(a){if(Ve(a))return l("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",je(a)),ft(a)}function Q(a){if(Ve(a))return l("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",je(a)),ft(a)}var K=0,Ne=1,ut=2,Ue=3,Qe=4,Nt=5,ht=6,ue=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Te=ue+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",ke=new RegExp("^["+ue+"]["+Te+"]*$"),Ae={},Be={};function pe(a){return Le.call(Be,a)?!0:Le.call(Ae,a)?!1:ke.test(a)?(Be[a]=!0,!0):(Ae[a]=!0,l("Invalid attribute name: `%s`",a),!1)}function Pe(a,o,m){return o!==null?o.type===K:m?!1:a.length>2&&(a[0]==="o"||a[0]==="O")&&(a[1]==="n"||a[1]==="N")}function He(a,o,m,g){if(m!==null&&m.type===K)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":{if(g)return!1;if(m!==null)return!m.acceptsBooleans;var S=a.toLowerCase().slice(0,5);return S!=="data-"&&S!=="aria-"}default:return!1}}function Ee(a,o,m,g){if(o===null||typeof o>"u"||He(a,o,m,g))return!0;if(g)return!1;if(m!==null)switch(m.type){case Ue:return!o;case Qe:return o===!1;case Nt:return isNaN(o);case ht:return isNaN(o)||o<1}return!1}function gt(a){return at.hasOwnProperty(a)?at[a]:null}function me(a,o,m,g,S,R,F){this.acceptsBooleans=o===ut||o===Ue||o===Qe,this.attributeName=g,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=a,this.type=o,this.sanitizeURL=R,this.removeEmptyString=F}var at={},bt=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];bt.forEach(function(a){at[a]=new me(a,K,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0],m=a[1];at[o]=new me(o,Ne,!1,m,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){at[a]=new me(a,ut,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){at[a]=new me(a,ut,!1,a,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(a){at[a]=new me(a,Ue,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){at[a]=new me(a,Ue,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){at[a]=new me(a,Qe,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){at[a]=new me(a,ht,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){at[a]=new me(a,Nt,!1,a.toLowerCase(),null,!1,!1)});var We=/[\-\:]([a-z])/g,Et=function(a){return a[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(a){var o=a.replace(We,Et);at[o]=new me(o,Ne,!1,a,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(a){var o=a.replace(We,Et);at[o]=new me(o,Ne,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(We,Et);at[o]=new me(o,Ne,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){at[a]=new me(a,Ne,!1,a.toLowerCase(),null,!1,!1)});var Vt="xlinkHref";at[Vt]=new me("xlinkHref",Ne,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){at[a]=new me(a,Ne,!1,a.toLowerCase(),null,!0,!0)});var Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,ln=!1;function Mn(a){!ln&&Rt.test(a)&&(ln=!0,l("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(a)))}function dn(a,o,m,g){if(g.mustUseProperty){var S=g.propertyName;return a[S]}else{Ge(m,o),g.sanitizeURL&&Mn(""+m);var R=g.attributeName,F=null;if(g.type===Qe){if(a.hasAttribute(R)){var z=a.getAttribute(R);return z===""?!0:Ee(o,m,g,!1)?z:z===""+m?m:z}}else if(a.hasAttribute(R)){if(Ee(o,m,g,!1))return a.getAttribute(R);if(g.type===Ue)return m;F=a.getAttribute(R)}return Ee(o,m,g,!1)?F===null?m:F:F===""+m?m:F}}function bn(a,o,m,g){{if(!pe(o))return;if(!a.hasAttribute(o))return m===void 0?void 0:null;var S=a.getAttribute(o);return Ge(m,o),S===""+m?m:S}}function Un(a,o,m,g){var S=gt(o);if(!Pe(o,S,g)){if(Ee(o,m,S,g)&&(m=null),g||S===null){if(pe(o)){var R=o;m===null?a.removeAttribute(R):(Ge(m,o),a.setAttribute(R,""+m))}return}var F=S.mustUseProperty;if(F){var z=S.propertyName;if(m===null){var X=S.type;a[z]=X===Ue?!1:""}else a[z]=m;return}var oe=S.attributeName,he=S.attributeNamespace;if(m===null)a.removeAttribute(oe);else{var Ie=S.type,Fe;Ie===Ue||Ie===Qe&&m===!0?Fe="":(Ge(m,oe),Fe=""+m,S.sanitizeURL&&Mn(Fe.toString())),he?a.setAttributeNS(he,oe,Fe):a.setAttribute(oe,Fe)}}}var Ji=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Se=Symbol.for("react.fragment"),Dt=Symbol.for("react.strict_mode"),Ht=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),nt=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),kt=Symbol.for("react.suspense"),qt=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Re=Symbol.for("react.scope"),Xe=Symbol.for("react.debug_trace_mode"),qe=Symbol.for("react.offscreen"),Pt=Symbol.for("react.legacy_hidden"),Bt=Symbol.for("react.cache"),rn=Symbol.for("react.tracing_marker"),Tt=Symbol.iterator,hn="@@iterator";function mn(a){if(a===null||typeof a!="object")return null;var o=Tt&&a[Tt]||a[hn];return typeof o=="function"?o:null}var Wt=Object.assign,ai=0,qi,Di,vr,pi,Fn,Za,Li;function Pi(){}Pi.__reactDisabledLog=!0;function yo(){{if(ai===0){qi=console.log,Di=console.info,vr=console.warn,pi=console.error,Fn=console.group,Za=console.groupCollapsed,Li=console.groupEnd;var a={configurable:!0,enumerable:!0,value:Pi,writable:!0};Object.defineProperties(console,{info:a,log:a,warn:a,error:a,group:a,groupCollapsed:a,groupEnd:a})}ai++}}function Ja(){{if(ai--,ai===0){var a={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Wt({},a,{value:qi}),info:Wt({},a,{value:Di}),warn:Wt({},a,{value:vr}),error:Wt({},a,{value:pi}),group:Wt({},a,{value:Fn}),groupCollapsed:Wt({},a,{value:Za}),groupEnd:Wt({},a,{value:Li})})}ai<0&&l("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Xs=t.ReactCurrentDispatcher,Mi;function ir(a,o,m){{if(Mi===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);Mi=g&&g[1]||""}return`
`+Mi+a}}var Oa=!1,Ii;{var gr=typeof WeakMap=="function"?WeakMap:Map;Ii=new gr}function Ol(a,o){if(!a||Oa)return"";{var m=Ii.get(a);if(m!==void 0)return m}var g;Oa=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var R;R=Xs.current,Xs.current=null,yo();try{if(o){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(lt){g=lt}Reflect.construct(a,[],F)}else{try{F.call()}catch(lt){g=lt}a.call(F.prototype)}}else{try{throw Error()}catch(lt){g=lt}a()}}catch(lt){if(lt&&g&&typeof lt.stack=="string"){for(var z=lt.stack.split(`
`),X=g.stack.split(`
`),oe=z.length-1,he=X.length-1;oe>=1&&he>=0&&z[oe]!==X[he];)he--;for(;oe>=1&&he>=0;oe--,he--)if(z[oe]!==X[he]){if(oe!==1||he!==1)do if(oe--,he--,he<0||z[oe]!==X[he]){var Ie=`
`+z[oe].replace(" at new "," at ");return a.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",a.displayName)),typeof a=="function"&&Ii.set(a,Ie),Ie}while(oe>=1&&he>=0);break}}}finally{Oa=!1,Xs.current=R,Ja(),Error.prepareStackTrace=S}var Fe=a?a.displayName||a.name:"",ot=Fe?ir(Fe):"";return typeof a=="function"&&Ii.set(a,ot),ot}function Ms(a,o,m){return Ol(a,!0)}function bo(a,o,m){return Ol(a,!1)}function Of(a){var o=a.prototype;return!!(o&&o.isReactComponent)}function qs(a,o,m){if(a==null)return"";if(typeof a=="function")return Ol(a,Of(a));if(typeof a=="string")return ir(a);switch(a){case kt:return ir("Suspense");case qt:return ir("SuspenseList")}if(typeof a=="object")switch(a.$$typeof){case yt:return bo(a.render);case ne:return qs(a.type,o,m);case _e:{var g=a,S=g._payload,R=g._init;try{return qs(R(S),o,m)}catch{}}}return""}function qo(a){switch(a._debugOwner&&a._debugOwner.type,a._debugSource,a.tag){case x:return ir(a.type);case H:return ir("Lazy");case U:return ir("Suspense");case q:return ir("SuspenseList");case h:case p:case V:return bo(a.type);case w:return bo(a.type.render);case f:return Ms(a.type);default:return""}}function xo(a){try{var o="",m=a;do o+=qo(m),m=m.return;while(m);return o}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function du(a,o,m){var g=a.displayName;if(g)return g;var S=o.displayName||o.name||"";return S!==""?m+"("+S+")":m}function xa(a){return a.displayName||"Context"}function zn(a){if(a==null)return null;if(typeof a.tag=="number"&&l("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Se:return"Fragment";case Ni:return"Portal";case Ht:return"Profiler";case Dt:return"StrictMode";case kt:return"Suspense";case qt:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case nt:var o=a;return xa(o)+".Consumer";case de:var m=a;return xa(m._context)+".Provider";case yt:return du(a,a.render,"ForwardRef");case ne:var g=a.displayName||null;return g!==null?g:zn(a.type)||"Memo";case _e:{var S=a,R=S._payload,F=S._init;try{return zn(F(R))}catch{return null}}}return null}function lr(a,o,m){var g=o.displayName||o.name||"";return a.displayName||(g!==""?m+"("+g+")":m)}function gc(a){return a.displayName||"Context"}function Rn(a){var o=a.tag,m=a.type;switch(o){case se:return"Cache";case T:var g=m;return gc(g)+".Consumer";case A:var S=m;return gc(S._context)+".Provider";case I:return"DehydratedFragment";case w:return lr(m,m.render,"ForwardRef");case M:return"Fragment";case x:return m;case y:return"Portal";case v:return"Root";case _:return"Text";case H:return zn(m);case N:return m===Dt?"StrictMode":"Mode";case J:return"Offscreen";case L:return"Profiler";case j:return"Scope";case U:return"Suspense";case q:return"SuspenseList";case te:return"TracingMarker";case f:case h:case P:case p:case k:case V:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;break}return null}var $o=t.ReactDebugCurrentFrame,ur=null,$s=!1;function Ko(){{if(ur===null)return null;var a=ur._debugOwner;if(a!==null&&typeof a<"u")return Rn(a)}return null}function Qa(){return ur===null?"":xo(ur)}function yr(){$o.getCurrentStack=null,ur=null,$s=!1}function Bi(a){$o.getCurrentStack=a===null?null:Qa,ur=a,$s=!1}function Ff(){return ur}function br(a){$s=a}function ua(a){return""+a}function Ks(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return Q(a),a;default:return""}}var es={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Fl(a,o){es[o.type]||o.onChange||o.onInput||o.readOnly||o.disabled||o.value==null||l("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),o.onChange||o.readOnly||o.disabled||o.checked==null||l("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Il(a){var o=a.type,m=a.nodeName;return m&&m.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function If(a){return a._valueTracker}function So(a){a._valueTracker=null}function Vf(a){var o="";return a&&(Il(a)?o=a.checked?"true":"false":o=a.value),o}function kf(a){var o=Il(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);Q(a[o]);var g=""+a[o];if(!(a.hasOwnProperty(o)||typeof m>"u"||typeof m.get!="function"||typeof m.set!="function")){var S=m.get,R=m.set;Object.defineProperty(a,o,{configurable:!0,get:function(){return S.call(this)},set:function(z){Q(z),g=""+z,R.call(this,z)}}),Object.defineProperty(a,o,{enumerable:m.enumerable});var F={getValue:function(){return g},setValue:function(z){Q(z),g=""+z},stopTracking:function(){So(a),delete a[o]}};return F}}function ts(a){If(a)||(a._valueTracker=kf(a))}function _o(a){if(!a)return!1;var o=If(a);if(!o)return!0;var m=o.getValue(),g=Vf(a);return g!==m?(o.setValue(g),!0):!1}function Sa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Vl=!1,yc=!1,bc=!1,kl=!1;function Bf(a){var o=a.type==="checkbox"||a.type==="radio";return o?a.checked!=null:a.value!=null}function $(a,o){var m=a,g=o.checked,S=Wt({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??m._wrapperState.initialChecked});return S}function Me(a,o){Fl("input",o),o.checked!==void 0&&o.defaultChecked!==void 0&&!yc&&(l("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Ko()||"A component",o.type),yc=!0),o.value!==void 0&&o.defaultValue!==void 0&&!Vl&&(l("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Ko()||"A component",o.type),Vl=!0);var m=a,g=o.defaultValue==null?"":o.defaultValue;m._wrapperState={initialChecked:o.checked!=null?o.checked:o.defaultChecked,initialValue:Ks(o.value!=null?o.value:g),controlled:Bf(o)}}function Je(a,o){var m=a,g=o.checked;g!=null&&Un(m,"checked",g,!1)}function pt(a,o){var m=a;{var g=Bf(o);!m._wrapperState.controlled&&g&&!kl&&(l("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),kl=!0),m._wrapperState.controlled&&!g&&!bc&&(l("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),bc=!0)}Je(a,o);var S=Ks(o.value),R=o.type;if(S!=null)R==="number"?(S===0&&m.value===""||m.value!=S)&&(m.value=ua(S)):m.value!==ua(S)&&(m.value=ua(S));else if(R==="submit"||R==="reset"){m.removeAttribute("value");return}o.hasOwnProperty("value")?wn(m,o.type,S):o.hasOwnProperty("defaultValue")&&wn(m,o.type,Ks(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(m.defaultChecked=!!o.defaultChecked)}function jt(a,o,m){var g=a;if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var S=o.type,R=S==="submit"||S==="reset";if(R&&(o.value===void 0||o.value===null))return;var F=ua(g._wrapperState.initialValue);m||F!==g.value&&(g.value=F),g.defaultValue=F}var z=g.name;z!==""&&(g.name=""),g.defaultChecked=!g.defaultChecked,g.defaultChecked=!!g._wrapperState.initialChecked,z!==""&&(g.name=z)}function yn(a,o){var m=a;pt(m,o),fn(m,o)}function fn(a,o){var m=o.name;if(o.type==="radio"&&m!=null){for(var g=a;g.parentNode;)g=g.parentNode;Ge(m,"name");for(var S=g.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),R=0;R<S.length;R++){var F=S[R];if(!(F===a||F.form!==a.form)){var z=Do(F);if(!z)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");_o(F),pt(F,z)}}}}function wn(a,o,m){(o!=="number"||Sa(a.ownerDocument)!==a)&&(m==null?a.defaultValue=ua(a._wrapperState.initialValue):a.defaultValue!==ua(m)&&(a.defaultValue=ua(m)))}var En=!1,Gn=!1,Wn=!1;function si(a,o){o.value==null&&(typeof o.children=="object"&&o.children!==null?n.Children.forEach(o.children,function(m){m!=null&&(typeof m=="string"||typeof m=="number"||Gn||(Gn=!0,l("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):o.dangerouslySetInnerHTML!=null&&(Wn||(Wn=!0,l("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),o.selected!=null&&!En&&(l("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),En=!0)}function Ui(a,o){o.value!=null&&a.setAttribute("value",ua(Ks(o.value)))}var rr=Array.isArray;function vi(a){return rr(a)}var Zo;Zo=!1;function dh(){var a=Ko();return a?`

Check the render method of \``+a+"`.":""}var rm=["value","defaultValue"];function vx(a){{Fl("select",a);for(var o=0;o<rm.length;o++){var m=rm[o];if(a[m]!=null){var g=vi(a[m]);a.multiple&&!g?l("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",m,dh()):!a.multiple&&g&&l("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",m,dh())}}}}function hu(a,o,m,g){var S=a.options;if(o){for(var R=m,F={},z=0;z<R.length;z++)F["$"+R[z]]=!0;for(var X=0;X<S.length;X++){var oe=F.hasOwnProperty("$"+S[X].value);S[X].selected!==oe&&(S[X].selected=oe),oe&&g&&(S[X].defaultSelected=!0)}}else{for(var he=ua(Ks(m)),Ie=null,Fe=0;Fe<S.length;Fe++){if(S[Fe].value===he){S[Fe].selected=!0,g&&(S[Fe].defaultSelected=!0);return}Ie===null&&!S[Fe].disabled&&(Ie=S[Fe])}Ie!==null&&(Ie.selected=!0)}}function am(a,o){return Wt({},o,{value:void 0})}function sm(a,o){var m=a;vx(o),m._wrapperState={wasMultiple:!!o.multiple},o.value!==void 0&&o.defaultValue!==void 0&&!Zo&&(l("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Zo=!0)}function gx(a,o){var m=a;m.multiple=!!o.multiple;var g=o.value;g!=null?hu(m,!!o.multiple,g,!1):o.defaultValue!=null&&hu(m,!!o.multiple,o.defaultValue,!0)}function TT(a,o){var m=a,g=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?hu(m,!!o.multiple,S,!1):g!==!!o.multiple&&(o.defaultValue!=null?hu(m,!!o.multiple,o.defaultValue,!0):hu(m,!!o.multiple,o.multiple?[]:"",!1))}function pR(a,o){var m=a,g=o.value;g!=null&&hu(m,!!o.multiple,g,!1)}var NT=!1;function yx(a,o){var m=a;if(o.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var g=Wt({},o,{value:void 0,defaultValue:void 0,children:ua(m._wrapperState.initialValue)});return g}function MT(a,o){var m=a;Fl("textarea",o),o.value!==void 0&&o.defaultValue!==void 0&&!NT&&(l("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",Ko()||"A component"),NT=!0);var g=o.value;if(g==null){var S=o.children,R=o.defaultValue;if(S!=null){l("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(R!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(vi(S)){if(S.length>1)throw new Error("<textarea> can only have at most one child.");S=S[0]}R=S}}R==null&&(R=""),g=R}m._wrapperState={initialValue:Ks(g)}}function wT(a,o){var m=a,g=Ks(o.value),S=Ks(o.defaultValue);if(g!=null){var R=ua(g);R!==m.value&&(m.value=R),o.defaultValue==null&&m.defaultValue!==R&&(m.defaultValue=R)}S!=null&&(m.defaultValue=ua(S))}function CT(a,o){var m=a,g=m.textContent;g===m._wrapperState.initialValue&&g!==""&&g!==null&&(m.value=g)}function mR(a,o){wT(a,o)}var pu="http://www.w3.org/1999/xhtml",vR="http://www.w3.org/1998/Math/MathML",bx="http://www.w3.org/2000/svg";function xx(a){switch(a){case"svg":return bx;case"math":return vR;default:return pu}}function Sx(a,o){return a==null||a===pu?xx(o):a===bx&&o==="foreignObject"?pu:a}var gR=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,m,g,S){MSApp.execUnsafeLocalFunction(function(){return a(o,m,g,S)})}:a},Xg,AT=gR(function(a,o){if(a.namespaceURI===bx&&!("innerHTML"in a)){Xg=Xg||document.createElement("div"),Xg.innerHTML="<svg>"+o.valueOf().toString()+"</svg>";for(var m=Xg.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;m.firstChild;)a.appendChild(m.firstChild);return}a.innerHTML=o}),ws=1,mu=3,Vr=8,vu=9,zf=11,om=function(a,o){if(o){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===mu){m.nodeValue=o;return}}a.textContent=o},RT={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function DT(a,o){return a+o.charAt(0).toUpperCase()+o.substring(1)}var LT=["Webkit","ms","Moz","O"];Object.keys(hh).forEach(function(a){LT.forEach(function(o){hh[DT(o,a)]=hh[a]})});function qg(a,o,m){var g=o==null||typeof o=="boolean"||o==="";return g?"":!m&&typeof o=="number"&&o!==0&&!(hh.hasOwnProperty(a)&&hh[a])?o+"px":(Ye(o,a),(""+o).trim())}var PT=/([A-Z])/g,UT=/^ms-/;function yR(a){return a.replace(PT,"-$1").toLowerCase().replace(UT,"-ms-")}var OT=function(){};{var _x=/^(?:webkit|moz|o)[A-Z]/,Ex=/^-ms-/,xc=/-(.)/g,$g=/;\s*$/,gu={},Tx={},Kg=!1,FT=!1,Nx=function(a){return a.replace(xc,function(o,m){return m.toUpperCase()})},bR=function(a){gu.hasOwnProperty(a)&&gu[a]||(gu[a]=!0,l("Unsupported style property %s. Did you mean %s?",a,Nx(a.replace(Ex,"ms-"))))},Mx=function(a){gu.hasOwnProperty(a)&&gu[a]||(gu[a]=!0,l("Unsupported vendor-prefixed style property %s. Did you mean %s?",a,a.charAt(0).toUpperCase()+a.slice(1)))},IT=function(a,o){Tx.hasOwnProperty(o)&&Tx[o]||(Tx[o]=!0,l(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,a,o.replace($g,"")))},VT=function(a,o){Kg||(Kg=!0,l("`NaN` is an invalid value for the `%s` css style property.",a))},kT=function(a,o){FT||(FT=!0,l("`Infinity` is an invalid value for the `%s` css style property.",a))};OT=function(a,o){a.indexOf("-")>-1?bR(a):_x.test(a)?Mx(a):$g.test(o)&&IT(a,o),typeof o=="number"&&(isNaN(o)?VT(a,o):isFinite(o)||kT(a,o))}}var Zg=OT;function Jo(a){{var o="",m="";for(var g in a)if(a.hasOwnProperty(g)){var S=a[g];if(S!=null){var R=g.indexOf("--")===0;o+=m+(R?g:yR(g))+":",o+=qg(g,S,R),m=";"}}return o||null}}function Jg(a,o){var m=a.style;for(var g in o)if(o.hasOwnProperty(g)){var S=g.indexOf("--")===0;S||Zg(g,o[g]);var R=qg(g,o[g],S);g==="float"&&(g="cssFloat"),S?m.setProperty(g,R):m[g]=R}}function Qg(a){return a==null||typeof a=="boolean"||a===""}function Bl(a){var o={};for(var m in a)for(var g=RT[m]||[m],S=0;S<g.length;S++)o[g[S]]=m;return o}function Sc(a,o){{if(!o)return;var m=Bl(a),g=Bl(o),S={};for(var R in m){var F=m[R],z=g[R];if(z&&F!==z){var X=F+","+z;if(S[X])continue;S[X]=!0,l("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",Qg(a[F])?"Removing":"Updating",F,z)}}}}var Fa={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},_a=Wt({menuitem:!0},Fa),wx="__html";function ns(a,o){if(o){if(_a[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw new Error(a+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof o.dangerouslySetInnerHTML!="object"||!(wx in o.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!o.suppressContentEditableWarning&&o.contentEditable&&o.children!=null&&l("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),o.style!=null&&typeof o.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function is(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zs={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},ey={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Qo={},BT=new RegExp("^(aria)-["+Te+"]*$"),ph=new RegExp("^(aria)[A-Z]["+Te+"]*$");function ty(a,o){{if(Le.call(Qo,o)&&Qo[o])return!0;if(ph.test(o)){var m="aria-"+o.slice(4).toLowerCase(),g=ey.hasOwnProperty(m)?m:null;if(g==null)return l("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",o),Qo[o]=!0,!0;if(o!==g)return l("Invalid ARIA attribute `%s`. Did you mean `%s`?",o,g),Qo[o]=!0,!0}if(BT.test(o)){var S=o.toLowerCase(),R=ey.hasOwnProperty(S)?S:null;if(R==null)return Qo[o]=!0,!1;if(o!==R)return l("Unknown ARIA attribute `%s`. Did you mean `%s`?",o,R),Qo[o]=!0,!0}}return!0}function zl(a,o){{var m=[];for(var g in o){var S=ty(a,g);S||m.push(g)}var R=m.map(function(F){return"`"+F+"`"}).join(", ");m.length===1?l("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",R,a):m.length>1&&l("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",R,a)}}function ny(a,o){is(a,o)||zl(a,o)}var iy=!1;function zT(a,o){{if(a!=="input"&&a!=="textarea"&&a!=="select")return;o!=null&&o.value===null&&!iy&&(iy=!0,a==="select"&&o.multiple?l("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",a):l("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",a))}}var Cx=function(){};{var ca={},Ax=/^on./,xR=/^on[^A-Z]/,mh=new RegExp("^(aria)-["+Te+"]*$"),HT=new RegExp("^(aria)[A-Z]["+Te+"]*$");Cx=function(a,o,m,g){if(Le.call(ca,o)&&ca[o])return!0;var S=o.toLowerCase();if(S==="onfocusin"||S==="onfocusout")return l("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),ca[o]=!0,!0;if(g!=null){var R=g.registrationNameDependencies,F=g.possibleRegistrationNames;if(R.hasOwnProperty(o))return!0;var z=F.hasOwnProperty(S)?F[S]:null;if(z!=null)return l("Invalid event handler property `%s`. Did you mean `%s`?",o,z),ca[o]=!0,!0;if(Ax.test(o))return l("Unknown event handler property `%s`. It will be ignored.",o),ca[o]=!0,!0}else if(Ax.test(o))return xR.test(o)&&l("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",o),ca[o]=!0,!0;if(mh.test(o)||HT.test(o))return!0;if(S==="innerhtml")return l("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),ca[o]=!0,!0;if(S==="aria")return l("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),ca[o]=!0,!0;if(S==="is"&&m!==null&&m!==void 0&&typeof m!="string")return l("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof m),ca[o]=!0,!0;if(typeof m=="number"&&isNaN(m))return l("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",o),ca[o]=!0,!0;var X=gt(o),oe=X!==null&&X.type===K;if(Zs.hasOwnProperty(S)){var he=Zs[S];if(he!==o)return l("Invalid DOM property `%s`. Did you mean `%s`?",o,he),ca[o]=!0,!0}else if(!oe&&o!==S)return l("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",o,S),ca[o]=!0,!0;return typeof m=="boolean"&&He(o,m,X,!1)?(m?l('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',m,o,o,m,o):l('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',m,o,o,m,o,o,o),ca[o]=!0,!0):oe?!0:He(o,m,X,!1)?(ca[o]=!0,!1):((m==="false"||m==="true")&&X!==null&&X.type===Ue&&(l("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",m,o,m==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',o,m),ca[o]=!0),!0)}}var On=function(a,o,m){{var g=[];for(var S in o){var R=Cx(a,S,o[S],m);R||g.push(S)}var F=g.map(function(z){return"`"+z+"`"}).join(", ");g.length===1?l("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",F,a):g.length>1&&l("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",F,a)}};function Vi(a,o,m){is(a,o)||On(a,o,m)}var gi=1,xr=2,Cs=4,jT=gi|xr|Cs,lm=null;function SR(a){lm!==null&&l("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),lm=a}function _R(){lm===null&&l("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),lm=null}function Rx(a){return a===lm}function Ft(a){var o=a.target||a.srcElement||window;return o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===mu?o.parentNode:o}var kr=null,Yn=null,el=null;function yu(a){var o=Xc(a);if(o){if(typeof kr!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var m=o.stateNode;if(m){var g=Do(m);kr(o.stateNode,o.type,g)}}}function Hf(a){kr=a}function Hl(a){Yn?el?el.push(a):el=[a]:Yn=a}function um(){return Yn!==null||el!==null}function jf(){if(Yn){var a=Yn,o=el;if(Yn=null,el=null,yu(a),o)for(var m=0;m<o.length;m++)yu(o[m])}}var vh=function(a,o){return a(o)},ry=function(){},cm=!1;function Dx(){var a=um();a&&(ry(),jf())}function ay(a,o,m){if(cm)return a(o,m);cm=!0;try{return vh(a,o,m)}finally{cm=!1,Dx()}}function Lx(a,o,m){vh=a,ry=m}function Px(a){return a==="button"||a==="input"||a==="select"||a==="textarea"}function Ux(a,o,m){switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(m.disabled&&Px(o));default:return!1}}function Gf(a,o){var m=a.stateNode;if(m===null)return null;var g=Do(m);if(g===null)return null;var S=g[o];if(Ux(o,a.type,g))return null;if(S&&typeof S!="function")throw new Error("Expected `"+o+"` listener to be a function, instead got a value of `"+typeof S+"` type.");return S}var fm=!1;if($e)try{var Wf={};Object.defineProperty(Wf,"passive",{get:function(){fm=!0}}),window.addEventListener("test",Wf,Wf),window.removeEventListener("test",Wf,Wf)}catch{fm=!1}function sy(a,o,m,g,S,R,F,z,X){var oe=Array.prototype.slice.call(arguments,3);try{o.apply(m,oe)}catch(he){this.onError(he)}}var oy=sy;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var dm=document.createElement("react");oy=function(o,m,g,S,R,F,z,X,oe){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var he=document.createEvent("Event"),Ie=!1,Fe=!0,ot=window.event,lt=Object.getOwnPropertyDescriptor(window,"event");function St(){dm.removeEventListener(_t,_n,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=ot)}var tn=Array.prototype.slice.call(arguments,3);function _n(){Ie=!0,St(),m.apply(g,tn),Fe=!1}var gn,fi=!1,ii=!1;function et(tt){if(gn=tt.error,fi=!0,gn===null&&tt.colno===0&&tt.lineno===0&&(ii=!0),tt.defaultPrevented&&gn!=null&&typeof gn=="object")try{gn._suppressLogging=!0}catch{}}var _t="react-"+(o||"invokeguardedcallback");if(window.addEventListener("error",et),dm.addEventListener(_t,_n,!1),he.initEvent(_t,!1,!1),dm.dispatchEvent(he),lt&&Object.defineProperty(window,"event",lt),Ie&&Fe&&(fi?ii&&(gn=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):gn=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(gn)),window.removeEventListener("error",et),!Ie)return St(),sy.apply(this,arguments)}}var Ox=oy,_c=!1,Yf=null,bu=!1,hm=null,Fx={onError:function(a){_c=!0,Yf=a}};function pm(a,o,m,g,S,R,F,z,X){_c=!1,Yf=null,Ox.apply(Fx,arguments)}function Ix(a,o,m,g,S,R,F,z,X){if(pm.apply(this,arguments),_c){var oe=ly();bu||(bu=!0,hm=oe)}}function GT(){if(bu){var a=hm;throw bu=!1,hm=null,a}}function mm(){return _c}function ly(){if(_c){var a=Yf;return _c=!1,Yf=null,a}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function jl(a){return a._reactInternals}function Xf(a){return a._reactInternals!==void 0}function Js(a,o){a._reactInternals=o}var Nn=0,Ei=1,cr=2,Jn=4,tl=16,Ec=32,Vx=64,yi=128,xu=256,Tc=512,Su=1024,nl=2048,il=4096,Nc=8192,uy=16384,cy=nl|Jn|Vx|Tc|Su|uy,ER=32767,gh=32768,rs=65536,kx=131072,Mc=1048576,qf=2097152,Qs=4194304,vm=8388608,Nr=16777216,_u=33554432,Hn=Jn|Su|0,yh=cr|Jn|tl|Ec|Tc|il|Nc,bh=Jn|Vx|Tc|Nc,gm=nl|tl,Eu=Qs|vm|qf,Bx=t.ReactCurrentOwner;function rl(a){var o=a,m=a;if(a.alternate)for(;o.return;)o=o.return;else{var g=o;do o=g,(o.flags&(cr|il))!==Nn&&(m=o.return),g=o.return;while(g)}return o.tag===v?m:null}function WT(a){if(a.tag===U){var o=a.memoizedState;if(o===null){var m=a.alternate;m!==null&&(o=m.memoizedState)}if(o!==null)return o.dehydrated}return null}function zx(a){return a.tag===v?a.stateNode.containerInfo:null}function TR(a){return rl(a)===a}function Hx(a){{var o=Bx.current;if(o!==null&&o.tag===f){var m=o,g=m.stateNode;g._warnedAboutRefsInRender||l("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Rn(m)||"A component"),g._warnedAboutRefsInRender=!0}}var S=jl(a);return S?rl(S)===S:!1}function YT(a){if(rl(a)!==a)throw new Error("Unable to find node on an unmounted component.")}function jx(a){var o=a.alternate;if(!o){var m=rl(a);if(m===null)throw new Error("Unable to find node on an unmounted component.");return m!==a?null:a}for(var g=a,S=o;;){var R=g.return;if(R===null)break;var F=R.alternate;if(F===null){var z=R.return;if(z!==null){g=S=z;continue}break}if(R.child===F.child){for(var X=R.child;X;){if(X===g)return YT(R),a;if(X===S)return YT(R),o;X=X.sibling}throw new Error("Unable to find node on an unmounted component.")}if(g.return!==S.return)g=R,S=F;else{for(var oe=!1,he=R.child;he;){if(he===g){oe=!0,g=R,S=F;break}if(he===S){oe=!0,S=R,g=F;break}he=he.sibling}if(!oe){for(he=F.child;he;){if(he===g){oe=!0,g=F,S=R;break}if(he===S){oe=!0,S=F,g=R;break}he=he.sibling}if(!oe)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(g.alternate!==S)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(g.tag!==v)throw new Error("Unable to find node on an unmounted component.");return g.stateNode.current===g?a:o}function Gx(a){var o=jx(a);return o!==null?al(o):null}function al(a){if(a.tag===x||a.tag===_)return a;for(var o=a.child;o!==null;){var m=al(o);if(m!==null)return m;o=o.sibling}return null}function ym(a){var o=jx(a);return o!==null?xh(o):null}function xh(a){if(a.tag===x||a.tag===_)return a;for(var o=a.child;o!==null;){if(o.tag!==y){var m=xh(o);if(m!==null)return m}o=o.sibling}return null}var fy=e.unstable_scheduleCallback,bm=e.unstable_cancelCallback,sl=e.unstable_shouldYield,fa=e.unstable_requestPaint,da=e.unstable_now,NR=e.unstable_getCurrentPriorityLevel,dy=e.unstable_ImmediatePriority,hy=e.unstable_UserBlockingPriority,wc=e.unstable_NormalPriority,XT=e.unstable_LowPriority,Wx=e.unstable_IdlePriority,MR=e.unstable_yieldValue,wR=e.unstable_setDisableYieldValue,fr=null,Kr=null,Qt=null,as=!1,Eo=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function CR(a){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(o.isDisabled)return!0;if(!o.supportsFiber)return l("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{be&&(a=Wt({},a,{getLaneLabelMap:RR,injectProfilingHooks:ol})),fr=o.inject(a),Kr=o}catch(m){l("React instrumentation encountered an error: %s.",m)}return!!o.checkDCE}function AR(a,o){if(Kr&&typeof Kr.onScheduleFiberRoot=="function")try{Kr.onScheduleFiberRoot(fr,a,o)}catch(m){as||(as=!0,l("React instrumentation encountered an error: %s",m))}}function Sh(a,o){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{var m=(a.current.flags&yi)===yi;if(we){var g;switch(o){case ss:g=dy;break;case cl:g=hy;break;case fl:g=wc;break;case Dh:g=Wx;break;default:g=wc;break}Kr.onCommitFiberRoot(fr,a,g,m)}}catch(S){as||(as=!0,l("React instrumentation encountered an error: %s",S))}}function Ia(a){if(Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(fr,a)}catch(o){as||(as=!0,l("React instrumentation encountered an error: %s",o))}}function nn(a){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(fr,a)}catch(o){as||(as=!0,l("React instrumentation encountered an error: %s",o))}}function zi(a){if(typeof MR=="function"&&(wR(a),r(a)),Kr&&typeof Kr.setStrictMode=="function")try{Kr.setStrictMode(fr,a)}catch(o){as||(as=!0,l("React instrumentation encountered an error: %s",o))}}function ol(a){Qt=a}function RR(){{for(var a=new Map,o=1,m=0;m<ll;m++){var g=GR(o);a.set(o,g),o*=2}return a}}function DR(a){Qt!==null&&typeof Qt.markCommitStarted=="function"&&Qt.markCommitStarted(a)}function qT(){Qt!==null&&typeof Qt.markCommitStopped=="function"&&Qt.markCommitStopped()}function xm(a){Qt!==null&&typeof Qt.markComponentRenderStarted=="function"&&Qt.markComponentRenderStarted(a)}function _h(){Qt!==null&&typeof Qt.markComponentRenderStopped=="function"&&Qt.markComponentRenderStopped()}function ha(a){Qt!==null&&typeof Qt.markComponentPassiveEffectMountStarted=="function"&&Qt.markComponentPassiveEffectMountStarted(a)}function LR(){Qt!==null&&typeof Qt.markComponentPassiveEffectMountStopped=="function"&&Qt.markComponentPassiveEffectMountStopped()}function PR(a){Qt!==null&&typeof Qt.markComponentPassiveEffectUnmountStarted=="function"&&Qt.markComponentPassiveEffectUnmountStarted(a)}function UR(){Qt!==null&&typeof Qt.markComponentPassiveEffectUnmountStopped=="function"&&Qt.markComponentPassiveEffectUnmountStopped()}function $T(a){Qt!==null&&typeof Qt.markComponentLayoutEffectMountStarted=="function"&&Qt.markComponentLayoutEffectMountStarted(a)}function Sm(){Qt!==null&&typeof Qt.markComponentLayoutEffectMountStopped=="function"&&Qt.markComponentLayoutEffectMountStopped()}function $f(a){Qt!==null&&typeof Qt.markComponentLayoutEffectUnmountStarted=="function"&&Qt.markComponentLayoutEffectUnmountStarted(a)}function KT(){Qt!==null&&typeof Qt.markComponentLayoutEffectUnmountStopped=="function"&&Qt.markComponentLayoutEffectUnmountStopped()}function OR(a,o,m){Qt!==null&&typeof Qt.markComponentErrored=="function"&&Qt.markComponentErrored(a,o,m)}function FR(a,o,m){Qt!==null&&typeof Qt.markComponentSuspended=="function"&&Qt.markComponentSuspended(a,o,m)}function IR(a){Qt!==null&&typeof Qt.markLayoutEffectsStarted=="function"&&Qt.markLayoutEffectsStarted(a)}function VR(){Qt!==null&&typeof Qt.markLayoutEffectsStopped=="function"&&Qt.markLayoutEffectsStopped()}function kR(a){Qt!==null&&typeof Qt.markPassiveEffectsStarted=="function"&&Qt.markPassiveEffectsStarted(a)}function ZT(){Qt!==null&&typeof Qt.markPassiveEffectsStopped=="function"&&Qt.markPassiveEffectsStopped()}function Yx(a){Qt!==null&&typeof Qt.markRenderStarted=="function"&&Qt.markRenderStarted(a)}function BR(){Qt!==null&&typeof Qt.markRenderYielded=="function"&&Qt.markRenderYielded()}function JT(){Qt!==null&&typeof Qt.markRenderStopped=="function"&&Qt.markRenderStopped()}function zR(a){Qt!==null&&typeof Qt.markRenderScheduled=="function"&&Qt.markRenderScheduled(a)}function HR(a,o){Qt!==null&&typeof Qt.markForceUpdateScheduled=="function"&&Qt.markForceUpdateScheduled(a,o)}function Xx(a,o){Qt!==null&&typeof Qt.markStateUpdateScheduled=="function"&&Qt.markStateUpdateScheduled(a,o)}var Sn=0,ni=1,wi=2,dr=8,Gl=16,QT=Math.clz32?Math.clz32:To,qx=Math.log,jR=Math.LN2;function To(a){var o=a>>>0;return o===0?32:31-(qx(o)/jR|0)|0}var ll=31,Ut=0,Br=0,Dn=1,Eh=2,Wl=4,Va=8,ul=16,_m=32,Th=4194240,Em=64,Nh=128,$x=256,py=512,my=1024,As=2048,Kf=4096,Kx=8192,Zx=16384,pa=32768,zr=65536,No=131072,eo=262144,Jx=524288,Tu=1048576,Zf=2097152,Cc=130023424,Yl=4194304,Jf=8388608,Qf=16777216,ed=33554432,Nu=67108864,Tm=Yl,Mh=134217728,Qx=268435455,wh=268435456,Mu=536870912,to=1073741824;function GR(a){{if(a&Dn)return"Sync";if(a&Eh)return"InputContinuousHydration";if(a&Wl)return"InputContinuous";if(a&Va)return"DefaultHydration";if(a&ul)return"Default";if(a&_m)return"TransitionHydration";if(a&Th)return"Transition";if(a&Cc)return"Retry";if(a&Mh)return"SelectiveHydration";if(a&wh)return"IdleHydration";if(a&Mu)return"Idle";if(a&to)return"Offscreen"}}var oi=-1,td=Em,Ac=Yl;function Rc(a){switch(Lc(a)){case Dn:return Dn;case Eh:return Eh;case Wl:return Wl;case Va:return Va;case ul:return ul;case _m:return _m;case Em:case Nh:case $x:case py:case my:case As:case Kf:case Kx:case Zx:case pa:case zr:case No:case eo:case Jx:case Tu:case Zf:return a&Th;case Yl:case Jf:case Qf:case ed:case Nu:return a&Cc;case Mh:return Mh;case wh:return wh;case Mu:return Mu;case to:return to;default:return l("Should have found matching lanes. This is a bug in React."),a}}function wu(a,o){var m=a.pendingLanes;if(m===Ut)return Ut;var g=Ut,S=a.suspendedLanes,R=a.pingedLanes,F=m&Qx;if(F!==Ut){var z=F&~S;if(z!==Ut)g=Rc(z);else{var X=F&R;X!==Ut&&(g=Rc(X))}}else{var oe=m&~S;oe!==Ut?g=Rc(oe):R!==Ut&&(g=Rc(R))}if(g===Ut)return Ut;if(o!==Ut&&o!==g&&(o&S)===Ut){var he=Lc(g),Ie=Lc(o);if(he>=Ie||he===ul&&(Ie&Th)!==Ut)return o}(g&Wl)!==Ut&&(g|=m&ul);var Fe=a.entangledLanes;if(Fe!==Ut)for(var ot=a.entanglements,lt=g&Fe;lt>0;){var St=Xl(lt),tn=1<<St;g|=ot[St],lt&=~tn}return g}function eS(a,o){for(var m=a.eventTimes,g=oi;o>0;){var S=Xl(o),R=1<<S,F=m[S];F>g&&(g=F),o&=~R}return g}function vy(a,o){switch(a){case Dn:case Eh:case Wl:return o+250;case Va:case ul:case _m:case Em:case Nh:case $x:case py:case my:case As:case Kf:case Kx:case Zx:case pa:case zr:case No:case eo:case Jx:case Tu:case Zf:return o+5e3;case Yl:case Jf:case Qf:case ed:case Nu:return oi;case Mh:case wh:case Mu:case to:return oi;default:return l("Should have found matching lanes. This is a bug in React."),oi}}function gy(a,o){for(var m=a.pendingLanes,g=a.suspendedLanes,S=a.pingedLanes,R=a.expirationTimes,F=m;F>0;){var z=Xl(F),X=1<<z,oe=R[z];oe===oi?((X&g)===Ut||(X&S)!==Ut)&&(R[z]=vy(X,o)):oe<=o&&(a.expiredLanes|=X),F&=~X}}function eN(a){return Rc(a.pendingLanes)}function yy(a){var o=a.pendingLanes&~to;return o!==Ut?o:o&to?to:Ut}function tN(a){return(a&Dn)!==Ut}function Nm(a){return(a&Qx)!==Ut}function by(a){return(a&Cc)===a}function WR(a){var o=Dn|Wl|ul;return(a&o)===Ut}function YR(a){return(a&Th)===a}function Cu(a,o){var m=Eh|Wl|Va|ul;return(o&m)!==Ut}function Hr(a,o){return(o&a.expiredLanes)!==Ut}function Dc(a){return(a&Th)!==Ut}function tS(){var a=td;return td<<=1,(td&Th)===Ut&&(td=Em),a}function XR(){var a=Ac;return Ac<<=1,(Ac&Cc)===Ut&&(Ac=Yl),a}function Lc(a){return a&-a}function Ch(a){return Lc(a)}function Xl(a){return 31-QT(a)}function Mm(a){return Xl(a)}function ka(a,o){return(a&o)!==Ut}function Pc(a,o){return(a&o)===o}function In(a,o){return a|o}function Ah(a,o){return a&~o}function nS(a,o){return a&o}function Uc(a){return a}function Oc(a,o){return a!==Br&&a<o?a:o}function Rh(a){for(var o=[],m=0;m<ll;m++)o.push(a);return o}function nd(a,o,m){a.pendingLanes|=o,o!==Mu&&(a.suspendedLanes=Ut,a.pingedLanes=Ut);var g=a.eventTimes,S=Mm(o);g[S]=m}function qR(a,o){a.suspendedLanes|=o,a.pingedLanes&=~o;for(var m=a.expirationTimes,g=o;g>0;){var S=Xl(g),R=1<<S;m[S]=oi,g&=~R}}function wm(a,o,m){a.pingedLanes|=a.suspendedLanes&o}function $R(a,o){var m=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=Ut,a.pingedLanes=Ut,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o;for(var g=a.entanglements,S=a.eventTimes,R=a.expirationTimes,F=m;F>0;){var z=Xl(F),X=1<<z;g[z]=Ut,S[z]=oi,R[z]=oi,F&=~X}}function xy(a,o){for(var m=a.entangledLanes|=o,g=a.entanglements,S=m;S;){var R=Xl(S),F=1<<R;F&o|g[R]&o&&(g[R]|=o),S&=~F}}function Sy(a,o){var m=Lc(o),g;switch(m){case Wl:g=Eh;break;case ul:g=Va;break;case Em:case Nh:case $x:case py:case my:case As:case Kf:case Kx:case Zx:case pa:case zr:case No:case eo:case Jx:case Tu:case Zf:case Yl:case Jf:case Qf:case ed:case Nu:g=_m;break;case Mu:g=wh;break;default:g=Br;break}return(g&(a.suspendedLanes|o))!==Br?Br:g}function iS(a,o,m){if(Eo)for(var g=a.pendingUpdatersLaneMap;m>0;){var S=Mm(m),R=1<<S,F=g[S];F.add(o),m&=~R}}function _y(a,o){if(Eo)for(var m=a.pendingUpdatersLaneMap,g=a.memoizedUpdaters;o>0;){var S=Mm(o),R=1<<S,F=m[S];F.size>0&&(F.forEach(function(z){var X=z.alternate;(X===null||!g.has(X))&&g.add(z)}),F.clear()),o&=~R}}function rS(a,o){return null}var ss=Dn,cl=Wl,fl=ul,Dh=Mu,id=Br;function Mo(){return id}function Mr(a){id=a}function aS(a,o){var m=id;try{return id=a,o()}finally{id=m}}function sS(a,o){return a!==0&&a<o?a:o}function oS(a,o){return a===0||a>o?a:o}function Ey(a,o){return a!==0&&a<o}function Ty(a){var o=Lc(a);return Ey(ss,o)?Ey(cl,o)?Nm(o)?fl:Dh:cl:ss}function Lh(a){var o=a.current.memoizedState;return o.isDehydrated}var lS;function KR(a){lS=a}function nN(a){lS(a)}var Ny;function ZR(a){Ny=a}var uS;function cS(a){uS=a}var iN;function JR(a){iN=a}var rd;function Ph(a){rd=a}var Uh=!1,ad=[],Zr=null,Jr=null,Rs=null,no=new Map,io=new Map,Fc=[],QR=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function eD(a){return QR.indexOf(a)>-1}function sd(a,o,m,g,S){return{blockedOn:a,domEventName:o,eventSystemFlags:m,nativeEvent:S,targetContainers:[g]}}function fS(a,o){switch(a){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":{var m=o.pointerId;no.delete(m);break}case"gotpointercapture":case"lostpointercapture":{var g=o.pointerId;io.delete(g);break}}}function od(a,o,m,g,S,R){if(a===null||a.nativeEvent!==R){var F=sd(o,m,g,S,R);if(o!==null){var z=Xc(o);z!==null&&Ny(z)}return F}a.eventSystemFlags|=g;var X=a.targetContainers;return S!==null&&X.indexOf(S)===-1&&X.push(S),a}function My(a,o,m,g,S){switch(o){case"focusin":{var R=S;return Zr=od(Zr,a,o,m,g,R),!0}case"dragenter":{var F=S;return Jr=od(Jr,a,o,m,g,F),!0}case"mouseover":{var z=S;return Rs=od(Rs,a,o,m,g,z),!0}case"pointerover":{var X=S,oe=X.pointerId;return no.set(oe,od(no.get(oe)||null,a,o,m,g,X)),!0}case"gotpointercapture":{var he=S,Ie=he.pointerId;return io.set(Ie,od(io.get(Ie)||null,a,o,m,g,he)),!0}}return!1}function rN(a){var o=Sd(a.target);if(o!==null){var m=rl(o);if(m!==null){var g=m.tag;if(g===U){var S=WT(m);if(S!==null){a.blockedOn=S,rd(a.priority,function(){uS(m)});return}}else if(g===v){var R=m.stateNode;if(Lh(R)){a.blockedOn=zx(m);return}}}}a.blockedOn=null}function dS(a){for(var o=iN(),m={blockedOn:null,target:a,priority:o},g=0;g<Fc.length&&Ey(o,Fc[g].priority);g++);Fc.splice(g,0,m),g===0&&rN(m)}function wy(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;o.length>0;){var m=o[0],g=Ay(a.domEventName,a.eventSystemFlags,m,a.nativeEvent);if(g===null){var S=a.nativeEvent,R=new S.constructor(S.type,S);SR(R),S.target.dispatchEvent(R),_R()}else{var F=Xc(g);return F!==null&&Ny(F),a.blockedOn=g,!1}o.shift()}return!0}function aN(a,o,m){wy(a)&&m.delete(o)}function ld(){Uh=!1,Zr!==null&&wy(Zr)&&(Zr=null),Jr!==null&&wy(Jr)&&(Jr=null),Rs!==null&&wy(Rs)&&(Rs=null),no.forEach(aN),io.forEach(aN)}function wr(a,o){a.blockedOn===o&&(a.blockedOn=null,Uh||(Uh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ld)))}function Ba(a){if(ad.length>0){wr(ad[0],a);for(var o=1;o<ad.length;o++){var m=ad[o];m.blockedOn===a&&(m.blockedOn=null)}}Zr!==null&&wr(Zr,a),Jr!==null&&wr(Jr,a),Rs!==null&&wr(Rs,a);var g=function(z){return wr(z,a)};no.forEach(g),io.forEach(g);for(var S=0;S<Fc.length;S++){var R=Fc[S];R.blockedOn===a&&(R.blockedOn=null)}for(;Fc.length>0;){var F=Fc[0];if(F.blockedOn!==null)break;rN(F),F.blockedOn===null&&Fc.shift()}}var za=t.ReactCurrentBatchConfig,Au=!0;function Ru(a){Au=!!a}function tD(){return Au}function nD(a,o,m){var g=hS(o),S;switch(g){case ss:S=iD;break;case cl:S=rD;break;case fl:default:S=Cy;break}return S.bind(null,o,m,a)}function iD(a,o,m,g){var S=Mo(),R=za.transition;za.transition=null;try{Mr(ss),Cy(a,o,m,g)}finally{Mr(S),za.transition=R}}function rD(a,o,m,g){var S=Mo(),R=za.transition;za.transition=null;try{Mr(cl),Cy(a,o,m,g)}finally{Mr(S),za.transition=R}}function Cy(a,o,m,g){Au&&sN(a,o,m,g)}function sN(a,o,m,g){var S=Ay(a,o,m,g);if(S===null){Cn(a,o,g,Oh,m),fS(a,g);return}if(My(S,a,o,m,g)){g.stopPropagation();return}if(fS(a,g),o&Cs&&eD(a)){for(;S!==null;){var R=Xc(S);R!==null&&nN(R);var F=Ay(a,o,m,g);if(F===null&&Cn(a,o,g,Oh,m),F===S)break;S=F}S!==null&&g.stopPropagation();return}Cn(a,o,g,null,m)}var Oh=null;function Ay(a,o,m,g){Oh=null;var S=Ft(g),R=Sd(S);if(R!==null){var F=rl(R);if(F===null)R=null;else{var z=F.tag;if(z===U){var X=WT(F);if(X!==null)return X;R=null}else if(z===v){var oe=F.stateNode;if(Lh(oe))return zx(F);R=null}else F!==R&&(R=null)}}return Oh=R,null}function hS(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return ss;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return cl;case"message":{var o=NR();switch(o){case dy:return ss;case hy:return cl;case wc:case XT:return fl;case Wx:return Dh;default:return fl}}default:return fl}}function pS(a,o,m){return a.addEventListener(o,m,!1),m}function mS(a,o,m){return a.addEventListener(o,m,!0),m}function vS(a,o,m,g){return a.addEventListener(o,m,{capture:!0,passive:g}),m}function aD(a,o,m,g){return a.addEventListener(o,m,{passive:g}),m}var Cm=null,gS=null,Am=null;function oN(a){return Cm=a,gS=yS(),!0}function Rm(){Cm=null,gS=null,Am=null}function lN(){if(Am)return Am;var a,o=gS,m=o.length,g,S=yS(),R=S.length;for(a=0;a<m&&o[a]===S[a];a++);var F=m-a;for(g=1;g<=F&&o[m-g]===S[R-g];g++);var z=g>1?1-g:void 0;return Am=S.slice(a,z),Am}function yS(){return"value"in Cm?Cm.value:Cm.textContent}function Du(a){var o,m=a.keyCode;return"charCode"in a?(o=a.charCode,o===0&&m===13&&(o=13)):o=m,o===10&&(o=13),o>=32||o===13?o:0}function Dm(){return!0}function Ea(){return!1}function os(a){function o(m,g,S,R,F){this._reactName=m,this._targetInst=S,this.type=g,this.nativeEvent=R,this.target=F,this.currentTarget=null;for(var z in a)if(a.hasOwnProperty(z)){var X=a[z];X?this[z]=X(R):this[z]=R[z]}var oe=R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1;return oe?this.isDefaultPrevented=Dm:this.isDefaultPrevented=Ea,this.isPropagationStopped=Ea,this}return Wt(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Dm)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Dm)},persist:function(){},isPersistent:Dm}),o}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lm=os(Ic),ud=Wt({},Ic,{view:0,detail:0}),bS=os(ud),Pm,Ry,Lu;function Dy(a){a!==Lu&&(Lu&&a.type==="mousemove"?(Pm=a.screenX-Lu.screenX,Ry=a.screenY-Lu.screenY):(Pm=0,Ry=0),Lu=a)}var cd=Wt({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NS,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(Dy(a),Pm)},movementY:function(a){return"movementY"in a?a.movementY:Ry}}),xS=os(cd),uN=Wt({},cd,{dataTransfer:0}),Fh=os(uN),cN=Wt({},ud,{relatedTarget:0}),SS=os(cN),sD=Wt({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),Um=os(sD),Vc=Wt({},Ic,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Om=os(Vc),Ly=Wt({},Ic,{data:0}),Fm=os(Ly),_S=Fm,ES={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function Im(a){if(a.key){var o=ES[a.key]||a.key;if(o!=="Unidentified")return o}if(a.type==="keypress"){var m=Du(a);return m===13?"Enter":String.fromCharCode(m)}return a.type==="keydown"||a.type==="keyup"?Ih[a.keyCode]||"Unidentified":""}var fN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TS(a){var o=this,m=o.nativeEvent;if(m.getModifierState)return m.getModifierState(a);var g=fN[a];return g?!!m[g]:!1}function NS(a){return TS}var dN=Wt({},ud,{key:Im,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NS,charCode:function(a){return a.type==="keypress"?Du(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Du(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),hN=os(dN),Vm=Wt({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=os(Vm),MS=Wt({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NS}),Vh=os(MS),wS=Wt({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),oD=os(wS),kc=Wt({},cd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),kh=os(kc),lD=[9,13,27,32],km=229,Co=$e&&"CompositionEvent"in window,Hi=null;$e&&"documentMode"in document&&(Hi=document.documentMode);var Bc=$e&&"TextEvent"in window&&!Hi,Sr=$e&&(!Co||Hi&&Hi>8&&Hi<=11),ma=32,Py=String.fromCharCode(ma);function CS(){ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),ze("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),ze("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),ze("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var pN=!1;function an(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function Ds(a){switch(a){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function AS(a,o){return a==="keydown"&&o.keyCode===km}function fd(a,o){switch(a){case"keyup":return lD.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==km;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(a){var o=a.detail;return typeof o=="object"&&"data"in o?o.data:null}function Oi(a){return a.locale==="ko"}var Cr=!1;function Qr(a,o,m,g,S){var R,F;if(Co?R=Ds(o):Cr?fd(o,g)&&(R="onCompositionEnd"):AS(o,g)&&(R="onCompositionStart"),!R)return null;Sr&&!Oi(g)&&(!Cr&&R==="onCompositionStart"?Cr=oN(S):R==="onCompositionEnd"&&Cr&&(F=lN()));var z=gd(m,R);if(z.length>0){var X=new Fm(R,o,null,g,S);if(a.push({event:X,listeners:z}),F)X.data=F;else{var oe=dd(g);oe!==null&&(X.data=oe)}}}function Uy(a,o){switch(a){case"compositionend":return dd(o);case"keypress":var m=o.which;return m!==ma?null:(pN=!0,Py);case"textInput":var g=o.data;return g===Py&&pN?null:g;default:return null}}function Bm(a,o){if(Cr){if(a==="compositionend"||!Co&&fd(a,o)){var m=lN();return Rm(),Cr=!1,m}return null}switch(a){case"paste":return null;case"keypress":if(!an(o)){if(o.char&&o.char.length>1)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Sr&&!Oi(o)?null:o.data;default:return null}}function zm(a,o,m,g,S){var R;if(Bc?R=Uy(o,g):R=Bm(o,g),!R)return null;var F=gd(m,"onBeforeInput");if(F.length>0){var z=new _S("onBeforeInput","beforeinput",null,g,S);a.push({event:z,listeners:F}),z.data=R}}function uD(a,o,m,g,S,R,F){Qr(a,o,m,g,S),zm(a,o,m,g,S)}var cD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!cD[a.type]:o==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Ao(a){if(!$e)return!1;var o="on"+a,m=o in document;if(!m){var g=document.createElement("div");g.setAttribute(o,"return;"),m=typeof g[o]=="function"}return m}function zc(){ze("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function Oy(a,o,m,g){Hl(g);var S=gd(o,"onChange");if(S.length>0){var R=new Lm("onChange","change",null,m,g);a.push({event:R,listeners:S})}}var li=null,Yt=null;function Bh(a){var o=a.nodeName&&a.nodeName.toLowerCase();return o==="select"||o==="input"&&a.type==="file"}function fD(a){var o=[];Oy(o,Yt,a,Ft(a)),ay(Ha,o)}function Ha(a){WS(a,0)}function zh(a){var o=ta(a);if(_o(o))return a}function Hh(a,o){if(a==="change")return o}var hd=!1;$e&&(hd=Ao("input")&&(!document.documentMode||document.documentMode>9));function mN(a,o){li=a,Yt=o,li.attachEvent("onpropertychange",ql)}function RS(){li&&(li.detachEvent("onpropertychange",ql),li=null,Yt=null)}function ql(a){a.propertyName==="value"&&zh(Yt)&&fD(a)}function $l(a,o,m){a==="focusin"?(RS(),mN(o,m)):a==="focusout"&&RS()}function vN(a,o){if(a==="selectionchange"||a==="keyup"||a==="keydown")return zh(Yt)}function DS(a){var o=a.nodeName;return o&&o.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")}function LS(a,o){if(a==="click")return zh(o)}function PS(a,o){if(a==="input"||a==="change")return zh(o)}function US(a){var o=a._wrapperState;!o||!o.controlled||a.type!=="number"||wn(a,"number",a.value)}function $3(a,o,m,g,S,R,F){var z=m?ta(m):window,X,oe;if(Bh(z)?X=Hh:Ct(z)?hd?X=PS:(X=vN,oe=$l):DS(z)&&(X=LS),X){var he=X(o,m);if(he){Oy(a,he,g,S);return}}oe&&oe(o,z,m),o==="focusout"&&US(z)}function K3(){ie("onMouseEnter",["mouseout","mouseover"]),ie("onMouseLeave",["mouseout","mouseover"]),ie("onPointerEnter",["pointerout","pointerover"]),ie("onPointerLeave",["pointerout","pointerover"])}function OS(a,o,m,g,S,R,F){var z=o==="mouseover"||o==="pointerover",X=o==="mouseout"||o==="pointerout";if(z&&!Rx(g)){var oe=g.relatedTarget||g.fromElement;if(oe&&(Sd(oe)||ov(oe)))return}if(!(!X&&!z)){var he;if(S.window===S)he=S;else{var Ie=S.ownerDocument;Ie?he=Ie.defaultView||Ie.parentWindow:he=window}var Fe,ot;if(X){var lt=g.relatedTarget||g.toElement;if(Fe=m,ot=lt?Sd(lt):null,ot!==null){var St=rl(ot);(ot!==St||ot.tag!==x&&ot.tag!==_)&&(ot=null)}}else Fe=null,ot=m;if(Fe!==ot){var tn=xS,_n="onMouseLeave",gn="onMouseEnter",fi="mouse";(o==="pointerout"||o==="pointerover")&&(tn=wo,_n="onPointerLeave",gn="onPointerEnter",fi="pointer");var ii=Fe==null?he:ta(Fe),et=ot==null?he:ta(ot),_t=new tn(_n,fi+"leave",Fe,g,S);_t.target=ii,_t.relatedTarget=et;var tt=null,It=Sd(S);if(It===m){var cn=new tn(gn,fi+"enter",ot,g,S);cn.target=et,cn.relatedTarget=ii,tt=cn}eb(a,_t,tt,Fe,ot)}}}function Fy(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Ls=typeof Object.is=="function"?Object.is:Fy;function jh(a,o){if(Ls(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var m=Object.keys(a),g=Object.keys(o);if(m.length!==g.length)return!1;for(var S=0;S<m.length;S++){var R=m[S];if(!Le.call(o,R)||!Ls(a[R],o[R]))return!1}return!0}function FS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function gN(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function IS(a,o){for(var m=FS(a),g=0,S=0;m;){if(m.nodeType===mu){if(S=g+m.textContent.length,g<=o&&S>=o)return{node:m,offset:o-g};g=S}m=FS(gN(m))}}function Hm(a){var o=a.ownerDocument,m=o&&o.defaultView||window,g=m.getSelection&&m.getSelection();if(!g||g.rangeCount===0)return null;var S=g.anchorNode,R=g.anchorOffset,F=g.focusNode,z=g.focusOffset;try{S.nodeType,F.nodeType}catch{return null}return Iy(a,S,R,F,z)}function Iy(a,o,m,g,S){var R=0,F=-1,z=-1,X=0,oe=0,he=a,Ie=null;e:for(;;){for(var Fe=null;he===o&&(m===0||he.nodeType===mu)&&(F=R+m),he===g&&(S===0||he.nodeType===mu)&&(z=R+S),he.nodeType===mu&&(R+=he.nodeValue.length),(Fe=he.firstChild)!==null;)Ie=he,he=Fe;for(;;){if(he===a)break e;if(Ie===o&&++X===m&&(F=R),Ie===g&&++oe===S&&(z=R),(Fe=he.nextSibling)!==null)break;he=Ie,Ie=he.parentNode}he=Fe}return F===-1||z===-1?null:{start:F,end:z}}function Vy(a,o){var m=a.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var S=g.getSelection(),R=a.textContent.length,F=Math.min(o.start,R),z=o.end===void 0?F:Math.min(o.end,R);if(!S.extend&&F>z){var X=z;z=F,F=X}var oe=IS(a,F),he=IS(a,z);if(oe&&he){if(S.rangeCount===1&&S.anchorNode===oe.node&&S.anchorOffset===oe.offset&&S.focusNode===he.node&&S.focusOffset===he.offset)return;var Ie=m.createRange();Ie.setStart(oe.node,oe.offset),S.removeAllRanges(),F>z?(S.addRange(Ie),S.extend(he.node,he.offset)):(Ie.setEnd(he.node,he.offset),S.addRange(Ie))}}}function Gh(a){return a&&a.nodeType===mu}function ky(a,o){return!a||!o?!1:a===o?!0:Gh(a)?!1:Gh(o)?ky(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1}function By(a){return a&&a.ownerDocument&&ky(a.ownerDocument.documentElement,a)}function jm(a){try{return typeof a.contentWindow.location.href=="string"}catch{return!1}}function Gm(){for(var a=window,o=Sa();o instanceof a.HTMLIFrameElement;){if(jm(o))a=o.contentWindow;else return o;o=Sa(a.document)}return o}function pd(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function md(){var a=Gm();return{focusedElem:a,selectionRange:pd(a)?zy(a):null}}function VS(a){var o=Gm(),m=a.focusedElem,g=a.selectionRange;if(o!==m&&By(m)){g!==null&&pd(m)&&kS(m,g);for(var S=[],R=m;R=R.parentNode;)R.nodeType===ws&&S.push({element:R,left:R.scrollLeft,top:R.scrollTop});typeof m.focus=="function"&&m.focus();for(var F=0;F<S.length;F++){var z=S[F];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}}function zy(a){var o;return"selectionStart"in a?o={start:a.selectionStart,end:a.selectionEnd}:o=Hm(a),o||{start:0,end:0}}function kS(a,o){var m=o.start,g=o.end;g===void 0&&(g=m),"selectionStart"in a?(a.selectionStart=m,a.selectionEnd=Math.min(g,a.value.length)):Vy(a,o)}var Hy=$e&&"documentMode"in document&&document.documentMode<=11;function yN(){ze("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Hc=null,Wh=null,Wm=null,Yh=!1;function BS(a){if("selectionStart"in a&&pd(a))return{start:a.selectionStart,end:a.selectionEnd};var o=a.ownerDocument&&a.ownerDocument.defaultView||window,m=o.getSelection();return{anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}}function jy(a){return a.window===a?a.document:a.nodeType===vu?a:a.ownerDocument}function Gy(a,o,m){var g=jy(m);if(!(Yh||Hc==null||Hc!==Sa(g))){var S=BS(Hc);if(!Wm||!jh(Wm,S)){Wm=S;var R=gd(Wh,"onSelect");if(R.length>0){var F=new Lm("onSelect","select",null,o,m);a.push({event:F,listeners:R}),F.target=Hc}}}}function Wy(a,o,m,g,S,R,F){var z=m?ta(m):window;switch(o){case"focusin":(Ct(z)||z.contentEditable==="true")&&(Hc=z,Wh=m,Wm=null);break;case"focusout":Hc=null,Wh=null,Wm=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Gy(a,g,S);break;case"selectionchange":if(Hy)break;case"keydown":case"keyup":Gy(a,g,S)}}function Xh(a,o){var m={};return m[a.toLowerCase()]=o.toLowerCase(),m["Webkit"+a]="webkit"+o,m["Moz"+a]="moz"+o,m}var vd={animationend:Xh("Animation","AnimationEnd"),animationiteration:Xh("Animation","AnimationIteration"),animationstart:Xh("Animation","AnimationStart"),transitionend:Xh("Transition","TransitionEnd")},Yy={},bN={};$e&&(bN=document.createElement("div").style,"AnimationEvent"in window||(delete vd.animationend.animation,delete vd.animationiteration.animation,delete vd.animationstart.animation),"TransitionEvent"in window||delete vd.transitionend.transition);function qh(a){if(Yy[a])return Yy[a];if(!vd[a])return a;var o=vd[a];for(var m in o)if(o.hasOwnProperty(m)&&m in bN)return Yy[a]=o[m];return a}var zS=qh("animationend"),HS=qh("animationiteration"),jS=qh("animationstart"),xN=qh("transitionend"),Xy=new Map,Ym=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function jc(a,o){Xy.set(a,o),ze(o,[a])}function dD(){for(var a=0;a<Ym.length;a++){var o=Ym[a],m=o.toLowerCase(),g=o[0].toUpperCase()+o.slice(1);jc(m,"on"+g)}jc(zS,"onAnimationEnd"),jc(HS,"onAnimationIteration"),jc(jS,"onAnimationStart"),jc("dblclick","onDoubleClick"),jc("focusin","onFocus"),jc("focusout","onBlur"),jc(xN,"onTransitionEnd")}function SN(a,o,m,g,S,R,F){var z=Xy.get(o);if(z!==void 0){var X=Lm,oe=o;switch(o){case"keypress":if(Du(g)===0)return;case"keydown":case"keyup":X=hN;break;case"focusin":oe="focus",X=SS;break;case"focusout":oe="blur",X=SS;break;case"beforeblur":case"afterblur":X=SS;break;case"click":if(g.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=xS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Vh;break;case zS:case HS:case jS:X=Um;break;case xN:X=oD;break;case"scroll":X=bS;break;case"wheel":X=kh;break;case"copy":case"cut":case"paste":X=Om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=wo;break}var he=(R&Cs)!==0;{var Ie=!he&&o==="scroll",Fe=TN(m,z,g.type,he,Ie);if(Fe.length>0){var ot=new X(z,oe,null,g,S);a.push({event:ot,listeners:Fe})}}}}dD(),K3(),zc(),yN(),CS();function _N(a,o,m,g,S,R,F){SN(a,o,m,g,S,R);var z=(R&jT)===0;z&&(OS(a,o,m,g,S),$3(a,o,m,g,S),Wy(a,o,m,g,S),uD(a,o,m,g,S))}var $h=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],qy=new Set(["cancel","close","invalid","load","scroll","toggle"].concat($h));function GS(a,o,m){var g=a.type||"unknown-event";a.currentTarget=m,Ix(g,o,void 0,a),a.currentTarget=null}function $y(a,o,m){var g;if(m)for(var S=o.length-1;S>=0;S--){var R=o[S],F=R.instance,z=R.currentTarget,X=R.listener;if(F!==g&&a.isPropagationStopped())return;GS(a,X,z),g=F}else for(var oe=0;oe<o.length;oe++){var he=o[oe],Ie=he.instance,Fe=he.currentTarget,ot=he.listener;if(Ie!==g&&a.isPropagationStopped())return;GS(a,ot,Fe),g=Ie}}function WS(a,o){for(var m=(o&Cs)!==0,g=0;g<a.length;g++){var S=a[g],R=S.event,F=S.listeners;$y(R,F,m)}GT()}function EN(a,o,m,g,S){var R=Ft(m),F=[];_N(F,a,g,m,R,o),WS(F,o)}function $i(a,o){qy.has(a)||l('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',a);var m=!1,g=BD(o),S=NN(a,m);g.has(S)||(Xm(o,a,xr,m),g.add(S))}function Ky(a,o,m){qy.has(a)&&!o&&l('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',a);var g=0;o&&(g|=Cs),Xm(m,a,g,o)}var ro="_reactListening"+Math.random().toString(36).slice(2);function ls(a){if(!a[ro]){a[ro]=!0,De.forEach(function(m){m!=="selectionchange"&&(qy.has(m)||Ky(m,!1,a),Ky(m,!0,a))});var o=a.nodeType===vu?a:a.ownerDocument;o!==null&&(o[ro]||(o[ro]=!0,Ky("selectionchange",!1,o)))}}function Xm(a,o,m,g,S){var R=nD(a,o,m),F=void 0;fm&&(o==="touchstart"||o==="touchmove"||o==="wheel")&&(F=!0),a=a,g?F!==void 0?vS(a,o,R,F):mS(a,o,R):F!==void 0?aD(a,o,R,F):pS(a,o,R)}function Zy(a,o){return a===o||a.nodeType===Vr&&a.parentNode===o}function Cn(a,o,m,g,S){var R=g;if(!(o&gi)&&!(o&xr)){var F=S;if(g!==null){var z=g;e:for(;;){if(z===null)return;var X=z.tag;if(X===v||X===y){var oe=z.stateNode.containerInfo;if(Zy(oe,F))break;if(X===y)for(var he=z.return;he!==null;){var Ie=he.tag;if(Ie===v||Ie===y){var Fe=he.stateNode.containerInfo;if(Zy(Fe,F))return}he=he.return}for(;oe!==null;){var ot=Sd(oe);if(ot===null)return;var lt=ot.tag;if(lt===x||lt===_){z=R=ot;continue e}oe=oe.parentNode}}z=z.return}}}ay(function(){return EN(a,o,m,R)})}function Ro(a,o,m){return{instance:a,listener:o,currentTarget:m}}function TN(a,o,m,g,S,R){for(var F=o!==null?o+"Capture":null,z=g?F:o,X=[],oe=a,he=null;oe!==null;){var Ie=oe,Fe=Ie.stateNode,ot=Ie.tag;if(ot===x&&Fe!==null&&(he=Fe,z!==null)){var lt=Gf(oe,z);lt!=null&&X.push(Ro(oe,lt,he))}if(S)break;oe=oe.return}return X}function gd(a,o){for(var m=o+"Capture",g=[],S=a;S!==null;){var R=S,F=R.stateNode,z=R.tag;if(z===x&&F!==null){var X=F,oe=Gf(S,m);oe!=null&&g.unshift(Ro(S,oe,X));var he=Gf(S,o);he!=null&&g.push(Ro(S,he,X))}S=S.return}return g}function Kl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==x);return a||null}function Jy(a,o){for(var m=a,g=o,S=0,R=m;R;R=Kl(R))S++;for(var F=0,z=g;z;z=Kl(z))F++;for(;S-F>0;)m=Kl(m),S--;for(;F-S>0;)g=Kl(g),F--;for(var X=S;X--;){if(m===g||g!==null&&m===g.alternate)return m;m=Kl(m),g=Kl(g)}return null}function Qy(a,o,m,g,S){for(var R=o._reactName,F=[],z=m;z!==null&&z!==g;){var X=z,oe=X.alternate,he=X.stateNode,Ie=X.tag;if(oe!==null&&oe===g)break;if(Ie===x&&he!==null){var Fe=he;if(S){var ot=Gf(z,R);ot!=null&&F.unshift(Ro(z,ot,Fe))}else if(!S){var lt=Gf(z,R);lt!=null&&F.push(Ro(z,lt,Fe))}}z=z.return}F.length!==0&&a.push({event:o,listeners:F})}function eb(a,o,m,g,S){var R=g&&S?Jy(g,S):null;g!==null&&Qy(a,o,g,R,!1),S!==null&&m!==null&&Qy(a,m,S,R,!0)}function NN(a,o){return a+"__"+(o?"capture":"bubble")}var Ps=!1,qm="dangerouslySetInnerHTML",tb="suppressContentEditableWarning",Pu="suppressHydrationWarning",YS="autoFocus",Uu="children",Gc="style",yd="__html",Us,Kh,ja,nb,Zh,$m,MN;Us={dialog:!0,webview:!0},Kh=function(a,o){ny(a,o),zT(a,o),Vi(a,o,{registrationNameDependencies:st,possibleRegistrationNames:dt})},$m=$e&&!document.documentMode,ja=function(a,o,m){if(!Ps){var g=Km(m),S=Km(o);S!==g&&(Ps=!0,l("Prop `%s` did not match. Server: %s Client: %s",a,JSON.stringify(S),JSON.stringify(g)))}},nb=function(a){if(!Ps){Ps=!0;var o=[];a.forEach(function(m){o.push(m)}),l("Extra attributes from the server: %s",o)}},Zh=function(a,o){o===!1?l("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",a,a,a):l("Expected `%s` listener to be a function, instead got a value of `%s` type.",a,typeof o)},MN=function(a,o){var m=a.namespaceURI===pu?a.ownerDocument.createElement(a.tagName):a.ownerDocument.createElementNS(a.namespaceURI,a.tagName);return m.innerHTML=o,m.innerHTML};var XS=/\r\n?/g,hD=/\u0000|\uFFFD/g;function Km(a){Lt(a);var o=typeof a=="string"?a:""+a;return o.replace(XS,`
`).replace(hD,"")}function Jh(a,o,m,g){var S=Km(o),R=Km(a);if(R!==S&&(g&&(Ps||(Ps=!0,l('Text content did not match. Server: "%s" Client: "%s"',R,S))),m&&ae))throw new Error("Text content does not match server-rendered HTML.")}function qS(a){return a.nodeType===vu?a:a.ownerDocument}function pD(){}function ib(a){a.onclick=pD}function wN(a,o,m,g,S){for(var R in g)if(g.hasOwnProperty(R)){var F=g[R];if(R===Gc)F&&Object.freeze(F),Jg(o,F);else if(R===qm){var z=F?F[yd]:void 0;z!=null&&AT(o,z)}else if(R===Uu)if(typeof F=="string"){var X=a!=="textarea"||F!=="";X&&om(o,F)}else typeof F=="number"&&om(o,""+F);else R===tb||R===Pu||R===YS||(st.hasOwnProperty(R)?F!=null&&(typeof F!="function"&&Zh(R,F),R==="onScroll"&&$i("scroll",o)):F!=null&&Un(o,R,F,S))}}function CN(a,o,m,g){for(var S=0;S<o.length;S+=2){var R=o[S],F=o[S+1];R===Gc?Jg(a,F):R===qm?AT(a,F):R===Uu?om(a,F):Un(a,R,F,g)}}function mD(a,o,m,g){var S,R=qS(m),F,z=g;if(z===pu&&(z=xx(a)),z===pu){if(S=is(a,o),!S&&a!==a.toLowerCase()&&l("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",a),a==="script"){var X=R.createElement("div");X.innerHTML="<script><\/script>";var oe=X.firstChild;F=X.removeChild(oe)}else if(typeof o.is=="string")F=R.createElement(a,{is:o.is});else if(F=R.createElement(a),a==="select"){var he=F;o.multiple?he.multiple=!0:o.size&&(he.size=o.size)}}else F=R.createElementNS(z,a);return z===pu&&!S&&Object.prototype.toString.call(F)==="[object HTMLUnknownElement]"&&!Le.call(Us,a)&&(Us[a]=!0,l("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",a)),F}function vD(a,o){return qS(o).createTextNode(a)}function Zl(a,o,m,g){var S=is(o,m);Kh(o,m);var R;switch(o){case"dialog":$i("cancel",a),$i("close",a),R=m;break;case"iframe":case"object":case"embed":$i("load",a),R=m;break;case"video":case"audio":for(var F=0;F<$h.length;F++)$i($h[F],a);R=m;break;case"source":$i("error",a),R=m;break;case"img":case"image":case"link":$i("error",a),$i("load",a),R=m;break;case"details":$i("toggle",a),R=m;break;case"input":Me(a,m),R=$(a,m),$i("invalid",a);break;case"option":si(a,m),R=m;break;case"select":sm(a,m),R=am(a,m),$i("invalid",a);break;case"textarea":MT(a,m),R=yx(a,m),$i("invalid",a);break;default:R=m}switch(ns(o,R),wN(o,a,g,R,S),o){case"input":ts(a),jt(a,m,!1);break;case"textarea":ts(a),CT(a);break;case"option":Ui(a,m);break;case"select":gx(a,m);break;default:typeof R.onClick=="function"&&ib(a);break}}function AN(a,o,m,g,S){Kh(o,g);var R=null,F,z;switch(o){case"input":F=$(a,m),z=$(a,g),R=[];break;case"select":F=am(a,m),z=am(a,g),R=[];break;case"textarea":F=yx(a,m),z=yx(a,g),R=[];break;default:F=m,z=g,typeof F.onClick!="function"&&typeof z.onClick=="function"&&ib(a);break}ns(o,z);var X,oe,he=null;for(X in F)if(!(z.hasOwnProperty(X)||!F.hasOwnProperty(X)||F[X]==null))if(X===Gc){var Ie=F[X];for(oe in Ie)Ie.hasOwnProperty(oe)&&(he||(he={}),he[oe]="")}else X===qm||X===Uu||X===tb||X===Pu||X===YS||(st.hasOwnProperty(X)?R||(R=[]):(R=R||[]).push(X,null));for(X in z){var Fe=z[X],ot=F!=null?F[X]:void 0;if(!(!z.hasOwnProperty(X)||Fe===ot||Fe==null&&ot==null))if(X===Gc)if(Fe&&Object.freeze(Fe),ot){for(oe in ot)ot.hasOwnProperty(oe)&&(!Fe||!Fe.hasOwnProperty(oe))&&(he||(he={}),he[oe]="");for(oe in Fe)Fe.hasOwnProperty(oe)&&ot[oe]!==Fe[oe]&&(he||(he={}),he[oe]=Fe[oe])}else he||(R||(R=[]),R.push(X,he)),he=Fe;else if(X===qm){var lt=Fe?Fe[yd]:void 0,St=ot?ot[yd]:void 0;lt!=null&&St!==lt&&(R=R||[]).push(X,lt)}else X===Uu?(typeof Fe=="string"||typeof Fe=="number")&&(R=R||[]).push(X,""+Fe):X===tb||X===Pu||(st.hasOwnProperty(X)?(Fe!=null&&(typeof Fe!="function"&&Zh(X,Fe),X==="onScroll"&&$i("scroll",a)),!R&&ot!==Fe&&(R=[])):(R=R||[]).push(X,Fe))}return he&&(Sc(he,z[Gc]),(R=R||[]).push(Gc,he)),R}function RN(a,o,m,g,S){m==="input"&&S.type==="radio"&&S.name!=null&&Je(a,S);var R=is(m,g),F=is(m,S);switch(CN(a,o,R,F),m){case"input":pt(a,S);break;case"textarea":wT(a,S);break;case"select":TT(a,S);break}}function Zm(a){{var o=a.toLowerCase();return Zs.hasOwnProperty(o)&&Zs[o]||null}}function Jm(a,o,m,g,S,R,F){var z,X;switch(z=is(o,m),Kh(o,m),o){case"dialog":$i("cancel",a),$i("close",a);break;case"iframe":case"object":case"embed":$i("load",a);break;case"video":case"audio":for(var oe=0;oe<$h.length;oe++)$i($h[oe],a);break;case"source":$i("error",a);break;case"img":case"image":case"link":$i("error",a),$i("load",a);break;case"details":$i("toggle",a);break;case"input":Me(a,m),$i("invalid",a);break;case"option":si(a,m);break;case"select":sm(a,m),$i("invalid",a);break;case"textarea":MT(a,m),$i("invalid",a);break}ns(o,m);{X=new Set;for(var he=a.attributes,Ie=0;Ie<he.length;Ie++){var Fe=he[Ie].name.toLowerCase();switch(Fe){case"value":break;case"checked":break;case"selected":break;default:X.add(he[Ie].name)}}}var ot=null;for(var lt in m)if(m.hasOwnProperty(lt)){var St=m[lt];if(lt===Uu)typeof St=="string"?a.textContent!==St&&(m[Pu]!==!0&&Jh(a.textContent,St,R,F),ot=[Uu,St]):typeof St=="number"&&a.textContent!==""+St&&(m[Pu]!==!0&&Jh(a.textContent,St,R,F),ot=[Uu,""+St]);else if(st.hasOwnProperty(lt))St!=null&&(typeof St!="function"&&Zh(lt,St),lt==="onScroll"&&$i("scroll",a));else if(F&&typeof z=="boolean"){var tn=void 0,_n=z&&le?null:gt(lt);if(m[Pu]!==!0){if(!(lt===tb||lt===Pu||lt==="value"||lt==="checked"||lt==="selected")){if(lt===qm){var gn=a.innerHTML,fi=St?St[yd]:void 0;if(fi!=null){var ii=MN(a,fi);ii!==gn&&ja(lt,gn,ii)}}else if(lt===Gc){if(X.delete(lt),$m){var et=Jo(St);tn=a.getAttribute("style"),et!==tn&&ja(lt,tn,et)}}else if(z&&!le)X.delete(lt.toLowerCase()),tn=bn(a,lt,St),St!==tn&&ja(lt,tn,St);else if(!Pe(lt,_n,z)&&!Ee(lt,St,_n,z)){var _t=!1;if(_n!==null)X.delete(_n.attributeName),tn=dn(a,lt,St,_n);else{var tt=g;if(tt===pu&&(tt=xx(o)),tt===pu)X.delete(lt.toLowerCase());else{var It=Zm(lt);It!==null&&It!==lt&&(_t=!0,X.delete(It)),X.delete(lt)}tn=bn(a,lt,St)}var cn=le;!cn&&St!==tn&&!_t&&ja(lt,tn,St)}}}}}switch(F&&X.size>0&&m[Pu]!==!0&&nb(X),o){case"input":ts(a),jt(a,m,!0);break;case"textarea":ts(a),CT(a);break;case"select":case"option":break;default:typeof m.onClick=="function"&&ib(a);break}return ot}function rb(a,o,m){var g=a.nodeValue!==o;return g}function Qh(a,o){{if(Ps)return;Ps=!0,l("Did not expect server HTML to contain a <%s> in <%s>.",o.nodeName.toLowerCase(),a.nodeName.toLowerCase())}}function ab(a,o){{if(Ps)return;Ps=!0,l('Did not expect server HTML to contain the text node "%s" in <%s>.',o.nodeValue,a.nodeName.toLowerCase())}}function bd(a,o,m){{if(Ps)return;Ps=!0,l("Expected server HTML to contain a matching <%s> in <%s>.",o,a.nodeName.toLowerCase())}}function ea(a,o){{if(o===""||Ps)return;Ps=!0,l('Expected server HTML to contain a matching text node for "%s" in <%s>.',o,a.nodeName.toLowerCase())}}function DN(a,o,m){switch(o){case"input":yn(a,m);return;case"textarea":mR(a,m);return;case"select":pR(a,m);return}}var Ou=function(){},us=function(){};{var $S=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],ep=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],KS=ep.concat(["button"]),ZS=["dd","dt","li","option","optgroup","p","rp","rt"],sb={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};us=function(a,o){var m=Wt({},a||sb),g={tag:o};return ep.indexOf(o)!==-1&&(m.aTagInScope=null,m.buttonTagInScope=null,m.nobrTagInScope=null),KS.indexOf(o)!==-1&&(m.pTagInButtonScope=null),$S.indexOf(o)!==-1&&o!=="address"&&o!=="div"&&o!=="p"&&(m.listItemTagAutoclosing=null,m.dlItemTagAutoclosing=null),m.current=g,o==="form"&&(m.formTag=g),o==="a"&&(m.aTagInScope=g),o==="button"&&(m.buttonTagInScope=g),o==="nobr"&&(m.nobrTagInScope=g),o==="p"&&(m.pTagInButtonScope=g),o==="li"&&(m.listItemTagAutoclosing=g),(o==="dd"||o==="dt")&&(m.dlItemTagAutoclosing=g),m};var xd=function(a,o){switch(o){case"select":return a==="option"||a==="optgroup"||a==="#text";case"optgroup":return a==="option"||a==="#text";case"option":return a==="#text";case"tr":return a==="th"||a==="td"||a==="style"||a==="script"||a==="template";case"tbody":case"thead":case"tfoot":return a==="tr"||a==="style"||a==="script"||a==="template";case"colgroup":return a==="col"||a==="template";case"table":return a==="caption"||a==="colgroup"||a==="tbody"||a==="tfoot"||a==="thead"||a==="style"||a==="script"||a==="template";case"head":return a==="base"||a==="basefont"||a==="bgsound"||a==="link"||a==="meta"||a==="title"||a==="noscript"||a==="noframes"||a==="style"||a==="script"||a==="template";case"html":return a==="head"||a==="body"||a==="frameset";case"frameset":return a==="frame";case"#document":return a==="html"}switch(a){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return o!=="h1"&&o!=="h2"&&o!=="h3"&&o!=="h4"&&o!=="h5"&&o!=="h6";case"rp":case"rt":return ZS.indexOf(o)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return o==null}return!0},JS=function(a,o){switch(a){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return o.pTagInButtonScope;case"form":return o.formTag||o.pTagInButtonScope;case"li":return o.listItemTagAutoclosing;case"dd":case"dt":return o.dlItemTagAutoclosing;case"button":return o.buttonTagInScope;case"a":return o.aTagInScope;case"nobr":return o.nobrTagInScope}return null},Qm={};Ou=function(a,o,m){m=m||sb;var g=m.current,S=g&&g.tag;o!=null&&(a!=null&&l("validateDOMNesting: when childText is passed, childTag should be null"),a="#text");var R=xd(a,S)?null:g,F=R?null:JS(a,m),z=R||F;if(z){var X=z.tag,oe=!!R+"|"+a+"|"+X;if(!Qm[oe]){Qm[oe]=!0;var he=a,Ie="";if(a==="#text"?/\S/.test(o)?he="Text nodes":(he="Whitespace text nodes",Ie=" Make sure you don't have any extra whitespace between tags on each line of your source code."):he="<"+a+">",R){var Fe="";X==="table"&&a==="tr"&&(Fe+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),l("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",he,X,Ie,Fe)}else l("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",he,X)}}}}var va="suppressHydrationWarning",ob="$",ev="/$",tp="$?",np="$!",LN="style",QS=null,e_=null;function gD(a){var o,m,g=a.nodeType;switch(g){case vu:case zf:{o=g===vu?"#document":"#fragment";var S=a.documentElement;m=S?S.namespaceURI:Sx(null,"");break}default:{var R=g===Vr?a.parentNode:a,F=R.namespaceURI||null;o=R.tagName,m=Sx(F,o);break}}{var z=o.toLowerCase(),X=us(null,z);return{namespace:m,ancestorInfo:X}}}function PN(a,o,m){{var g=a,S=Sx(g.namespace,o),R=us(g.ancestorInfo,o);return{namespace:S,ancestorInfo:R}}}function UN(a){return a}function ON(a){QS=tD(),e_=md();var o=null;return Ru(!1),o}function t_(a){VS(e_),Ru(QS),QS=null,e_=null}function FN(a,o,m,g,S){var R;{var F=g;if(Ou(a,null,F.ancestorInfo),typeof o.children=="string"||typeof o.children=="number"){var z=""+o.children,X=us(F.ancestorInfo,a);Ou(null,z,X)}R=F.namespace}var oe=mD(a,o,m,R);return Yc(S,oe),p_(oe,o),oe}function yD(a,o){a.appendChild(o)}function IN(a,o,m,g,S){switch(Zl(a,o,m,g),o){case"button":case"input":case"select":case"textarea":return!!m.autoFocus;case"img":return!0;default:return!1}}function bD(a,o,m,g,S,R){{var F=R;if(typeof g.children!=typeof m.children&&(typeof g.children=="string"||typeof g.children=="number")){var z=""+g.children,X=us(F.ancestorInfo,o);Ou(null,z,X)}}return AN(a,o,m,g)}function n_(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}function xD(a,o,m,g){{var S=m;Ou(null,a,S.ancestorInfo)}var R=vD(a,o);return Yc(g,R),R}function SD(){var a=window.event;return a===void 0?fl:hS(a.type)}var i_=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,ip=-1,tv=typeof Promise=="function"?Promise:void 0,VN=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(a){return tv.resolve(null).then(a).catch(_D)}:i_;function _D(a){setTimeout(function(){throw a})}function kN(a,o,m,g){switch(o){case"button":case"input":case"select":case"textarea":m.autoFocus&&a.focus();return;case"img":{m.src&&(a.src=m.src);return}}}function BN(a,o,m,g,S,R){RN(a,o,m,g,S),p_(a,S)}function lb(a){om(a,"")}function ED(a,o,m){a.nodeValue=m}function a_(a,o){a.appendChild(o)}function zN(a,o){var m;a.nodeType===Vr?(m=a.parentNode,m.insertBefore(o,a)):(m=a,m.appendChild(o));var g=a._reactRootContainer;g==null&&m.onclick===null&&ib(m)}function HN(a,o,m){a.insertBefore(o,m)}function jN(a,o,m){a.nodeType===Vr?a.parentNode.insertBefore(o,m):a.insertBefore(o,m)}function ub(a,o){a.removeChild(o)}function TD(a,o){a.nodeType===Vr?a.parentNode.removeChild(o):a.removeChild(o)}function s_(a,o){var m=o,g=0;do{var S=m.nextSibling;if(a.removeChild(m),S&&S.nodeType===Vr){var R=S.data;if(R===ev)if(g===0){a.removeChild(S),Ba(o);return}else g--;else(R===ob||R===tp||R===np)&&g++}m=S}while(m);Ba(o)}function ND(a,o){a.nodeType===Vr?s_(a.parentNode,o):a.nodeType===ws&&s_(a,o),Ba(a)}function GN(a){a=a;var o=a.style;typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"}function MD(a){a.nodeValue=""}function wD(a,o){a=a;var m=o[LN],g=m!=null&&m.hasOwnProperty("display")?m.display:null;a.style.display=qg("display",g)}function CD(a,o){a.nodeValue=o}function AD(a){a.nodeType===ws?a.textContent="":a.nodeType===vu&&a.documentElement&&a.removeChild(a.documentElement)}function WN(a,o,m){return a.nodeType!==ws||o.toLowerCase()!==a.nodeName.toLowerCase()?null:a}function RD(a,o){return o===""||a.nodeType!==mu?null:a}function o_(a){return a.nodeType!==Vr?null:a}function l_(a){return a.data===tp}function u_(a){return a.data===np}function YN(a){var o=a.nextSibling&&a.nextSibling.dataset,m,g,S;return o&&(m=o.dgst,g=o.msg,S=o.stck),{message:g,digest:m,stack:S}}function DD(a,o){a._reactRetry=o}function nv(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===ws||o===mu)break;if(o===Vr){var m=a.data;if(m===ob||m===np||m===tp)break;if(m===ev)return null}}return a}function iv(a){return nv(a.nextSibling)}function cb(a){return nv(a.firstChild)}function Fu(a){return nv(a.firstChild)}function LD(a){return nv(a.nextSibling)}function c_(a,o,m,g,S,R,F){Yc(R,a),p_(a,m);var z;{var X=S;z=X.namespace}var oe=(R.mode&ni)!==Sn;return Jm(a,o,m,z,g,oe,F)}function PD(a,o,m,g){return Yc(m,a),m.mode&ni,rb(a,o)}function XN(a,o){Yc(o,a)}function UD(a){for(var o=a.nextSibling,m=0;o;){if(o.nodeType===Vr){var g=o.data;if(g===ev){if(m===0)return iv(o);m--}else(g===ob||g===np||g===tp)&&m++}o=o.nextSibling}return null}function f_(a){for(var o=a.previousSibling,m=0;o;){if(o.nodeType===Vr){var g=o.data;if(g===ob||g===np||g===tp){if(m===0)return o;m--}else g===ev&&m++}o=o.previousSibling}return null}function qN(a){Ba(a)}function $N(a){Ba(a)}function d_(a){return a!=="head"&&a!=="body"}function OD(a,o,m,g){var S=!0;Jh(o.nodeValue,m,g,S)}function rv(a,o,m,g,S,R){if(o[va]!==!0){var F=!0;Jh(g.nodeValue,S,R,F)}}function fb(a,o){o.nodeType===ws?Qh(a,o):o.nodeType===Vr||ab(a,o)}function FD(a,o){{var m=a.parentNode;m!==null&&(o.nodeType===ws?Qh(m,o):o.nodeType===Vr||ab(m,o))}}function KN(a,o,m,g,S){(S||o[va]!==!0)&&(g.nodeType===ws?Qh(m,g):g.nodeType===Vr||ab(m,g))}function ID(a,o,m){bd(a,o)}function ZN(a,o){ea(a,o)}function JN(a,o,m){{var g=a.parentNode;g!==null&&bd(g,o)}}function db(a,o){{var m=a.parentNode;m!==null&&ea(m,o)}}function Wc(a,o,m,g,S,R){(R||o[va]!==!0)&&bd(m,g)}function VD(a,o,m,g,S){(S||o[va]!==!0)&&ea(m,g)}function en(a){l("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",a.nodeName.toLowerCase())}function rp(a){ls(a)}var dl=Math.random().toString(36).slice(2),_r="__reactFiber$"+dl,h_="__reactProps$"+dl,ap="__reactContainer$"+dl,av="__reactEvents$"+dl,kD="__reactListeners$"+dl,QN="__reactHandles$"+dl;function hb(a){delete a[_r],delete a[h_],delete a[av],delete a[kD],delete a[QN]}function Yc(a,o){o[_r]=a}function sv(a,o){o[ap]=a}function eM(a){a[ap]=null}function ov(a){return!!a[ap]}function Sd(a){var o=a[_r];if(o)return o;for(var m=a.parentNode;m;){if(o=m[ap]||m[_r],o){var g=o.alternate;if(o.child!==null||g!==null&&g.child!==null)for(var S=f_(a);S!==null;){var R=S[_r];if(R)return R;S=f_(S)}return o}a=m,m=a.parentNode}return null}function Xc(a){var o=a[_r]||a[ap];return o&&(o.tag===x||o.tag===_||o.tag===U||o.tag===v)?o:null}function ta(a){if(a.tag===x||a.tag===_)return a.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function Do(a){return a[h_]||null}function p_(a,o){a[h_]=o}function BD(a){var o=a[av];return o===void 0&&(o=a[av]=new Set),o}var tM={},nM=t.ReactDebugCurrentFrame;function lv(a){if(a){var o=a._owner,m=qs(a.type,a._source,o?o.type:null);nM.setExtraStackFrame(m)}else nM.setExtraStackFrame(null)}function hl(a,o,m,g,S){{var R=Function.call.bind(Le);for(var F in a)if(R(a,F)){var z=void 0;try{if(typeof a[F]!="function"){var X=Error((g||"React class")+": "+m+" type `"+F+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[F]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw X.name="Invariant Violation",X}z=a[F](o,F,g,m,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(oe){z=oe}z&&!(z instanceof Error)&&(lv(S),l("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",g||"React class",m,F,typeof z),lv(null)),z instanceof Error&&!(z.message in tM)&&(tM[z.message]=!0,lv(S),l("Failed %s type: %s",m,z.message),lv(null))}}}var pb=[],uv;uv=[];var Iu=-1;function Vu(a){return{current:a}}function Ga(a,o){if(Iu<0){l("Unexpected pop.");return}o!==uv[Iu]&&l("Unexpected Fiber popped."),a.current=pb[Iu],pb[Iu]=null,uv[Iu]=null,Iu--}function Wa(a,o,m){Iu++,pb[Iu]=a.current,uv[Iu]=m,a.current=o}var m_;m_={};var Os={};Object.freeze(Os);var Jl=Vu(Os),pl=Vu(!1),cv=Os;function qc(a,o,m){return m&&ml(o)?cv:Jl.current}function v_(a,o,m){{var g=a.stateNode;g.__reactInternalMemoizedUnmaskedChildContext=o,g.__reactInternalMemoizedMaskedChildContext=m}}function sp(a,o){{var m=a.type,g=m.contextTypes;if(!g)return Os;var S=a.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===o)return S.__reactInternalMemoizedMaskedChildContext;var R={};for(var F in g)R[F]=o[F];{var z=Rn(a)||"Unknown";hl(g,R,"context",z)}return S&&v_(a,o,R),R}}function op(){return pl.current}function ml(a){{var o=a.childContextTypes;return o!=null}}function mb(a){Ga(pl,a),Ga(Jl,a)}function lp(a){Ga(pl,a),Ga(Jl,a)}function iM(a,o,m){{if(Jl.current!==Os)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Wa(Jl,o,a),Wa(pl,m,a)}}function rM(a,o,m){{var g=a.stateNode,S=o.childContextTypes;if(typeof g.getChildContext!="function"){{var R=Rn(a)||"Unknown";m_[R]||(m_[R]=!0,l("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",R,R))}return m}var F=g.getChildContext();for(var z in F)if(!(z in S))throw new Error((Rn(a)||"Unknown")+'.getChildContext(): key "'+z+'" is not defined in childContextTypes.');{var X=Rn(a)||"Unknown";hl(S,F,"child context",X)}return Wt({},m,F)}}function vb(a){{var o=a.stateNode,m=o&&o.__reactInternalMemoizedMergedChildContext||Os;return cv=Jl.current,Wa(Jl,m,a),Wa(pl,pl.current,a),!0}}function aM(a,o,m){{var g=a.stateNode;if(!g)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(m){var S=rM(a,o,cv);g.__reactInternalMemoizedMergedChildContext=S,Ga(pl,a),Ga(Jl,a),Wa(Jl,S,a),Wa(pl,m,a)}else Ga(pl,a),Wa(pl,m,a)}}function zD(a){{if(!TR(a)||a.tag!==f)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var o=a;do{switch(o.tag){case v:return o.stateNode.context;case f:{var m=o.type;if(ml(m))return o.stateNode.__reactInternalMemoizedMergedChildContext;break}}o=o.return}while(o!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var $c=0,fv=1,vl=null,g_=!1,gb=!1;function sM(a){vl===null?vl=[a]:vl.push(a)}function oM(a){g_=!0,sM(a)}function lM(){g_&&Kc()}function Kc(){if(!gb&&vl!==null){gb=!0;var a=0,o=Mo();try{var m=!0,g=vl;for(Mr(ss);a<g.length;a++){var S=g[a];do S=S(m);while(S!==null)}vl=null,g_=!1}catch(R){throw vl!==null&&(vl=vl.slice(a+1)),fy(dy,Kc),R}finally{Mr(o),gb=!1}}return null}var up=[],cp=0,yb=null,bb=0,Lo=[],Po=0,_d=null,ku=1,Bu="";function uM(a){return gl(),(a.flags&Mc)!==Nn}function Uo(a){return gl(),bb}function HD(){var a=Bu,o=ku,m=o&~xb(o);return m.toString(32)+a}function Ed(a,o){gl(),up[cp++]=bb,up[cp++]=yb,yb=a,bb=o}function cM(a,o,m){gl(),Lo[Po++]=ku,Lo[Po++]=Bu,Lo[Po++]=_d,_d=a;var g=ku,S=Bu,R=Td(g)-1,F=g&~(1<<R),z=m+1,X=Td(o)+R;if(X>30){var oe=R-R%5,he=(1<<oe)-1,Ie=(F&he).toString(32),Fe=F>>oe,ot=R-oe,lt=Td(o)+ot,St=z<<ot,tn=St|Fe,_n=Ie+S;ku=1<<lt|tn,Bu=_n}else{var gn=z<<R,fi=gn|F,ii=S;ku=1<<X|fi,Bu=ii}}function y_(a){gl();var o=a.return;if(o!==null){var m=1,g=0;Ed(a,m),cM(a,m,g)}}function Td(a){return 32-QT(a)}function xb(a){return 1<<Td(a)-1}function fp(a){for(;a===yb;)yb=up[--cp],up[cp]=null,bb=up[--cp],up[cp]=null;for(;a===_d;)_d=Lo[--Po],Lo[Po]=null,Bu=Lo[--Po],Lo[Po]=null,ku=Lo[--Po],Lo[Po]=null}function Sb(){return gl(),_d!==null?{id:ku,overflow:Bu}:null}function _b(a,o){gl(),Lo[Po++]=ku,Lo[Po++]=Bu,Lo[Po++]=_d,ku=o.id,Bu=o.overflow,_d=a}function gl(){ji()||l("Expected to be hydrating. This is a bug in React. Please file an issue.")}var Ta=null,Oo=null,yl=!1,Nd=!1,Zc=null;function b_(){yl&&l("We should not be hydrating here. This is a bug in React. Please file a bug.")}function Eb(){Nd=!0}function x_(){return Nd}function fM(a){var o=a.stateNode.containerInfo;return Oo=Fu(o),Ta=a,yl=!0,Zc=null,Nd=!1,!0}function jD(a,o,m){return Oo=LD(o),Ta=a,yl=!0,Zc=null,Nd=!1,m!==null&&_b(a,m),!0}function dv(a,o){switch(a.tag){case v:{fb(a.stateNode.containerInfo,o);break}case x:{var m=(a.mode&ni)!==Sn;KN(a.type,a.memoizedProps,a.stateNode,o,m);break}case U:{var g=a.memoizedState;g.dehydrated!==null&&FD(g.dehydrated,o);break}}}function dM(a,o){dv(a,o);var m=x7();m.stateNode=o,m.return=a;var g=a.deletions;g===null?(a.deletions=[m],a.flags|=tl):g.push(m)}function S_(a,o){{if(Nd)return;switch(a.tag){case v:{var m=a.stateNode.containerInfo;switch(o.tag){case x:var g=o.type;o.pendingProps,ID(m,g);break;case _:var S=o.pendingProps;ZN(m,S);break}break}case x:{var R=a.type,F=a.memoizedProps,z=a.stateNode;switch(o.tag){case x:{var X=o.type,oe=o.pendingProps,he=(a.mode&ni)!==Sn;Wc(R,F,z,X,oe,he);break}case _:{var Ie=o.pendingProps,Fe=(a.mode&ni)!==Sn;VD(R,F,z,Ie,Fe);break}}break}case U:{var ot=a.memoizedState,lt=ot.dehydrated;if(lt!==null)switch(o.tag){case x:var St=o.type;o.pendingProps,JN(lt,St);break;case _:var tn=o.pendingProps;db(lt,tn);break}break}default:return}}}function hM(a,o){o.flags=o.flags&~il|cr,S_(a,o)}function hv(a,o){switch(a.tag){case x:{var m=a.type;a.pendingProps;var g=WN(o,m);return g!==null?(a.stateNode=g,Ta=a,Oo=cb(g),!0):!1}case _:{var S=a.pendingProps,R=RD(o,S);return R!==null?(a.stateNode=R,Ta=a,Oo=null,!0):!1}case U:{var F=o_(o);if(F!==null){var z={dehydrated:F,treeContext:Sb(),retryLane:to};a.memoizedState=z;var X=S7(F);return X.return=a,a.child=X,Ta=a,Oo=null,!0}return!1}default:return!1}}function __(a){return(a.mode&ni)!==Sn&&(a.flags&yi)===Nn}function E_(a){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function T_(a){if(yl){var o=Oo;if(!o){__(a)&&(S_(Ta,a),E_()),hM(Ta,a),yl=!1,Ta=a;return}var m=o;if(!hv(a,o)){__(a)&&(S_(Ta,a),E_()),o=iv(m);var g=Ta;if(!o||!hv(a,o)){hM(Ta,a),yl=!1,Ta=a;return}dM(g,m)}}}function GD(a,o,m){var g=a.stateNode,S=!Nd,R=c_(g,a.type,a.memoizedProps,o,m,a,S);return a.updateQueue=R,R!==null}function pM(a){var o=a.stateNode,m=a.memoizedProps,g=PD(o,m,a);if(g){var S=Ta;if(S!==null)switch(S.tag){case v:{var R=S.stateNode.containerInfo,F=(S.mode&ni)!==Sn;OD(R,o,m,F);break}case x:{var z=S.type,X=S.memoizedProps,oe=S.stateNode,he=(S.mode&ni)!==Sn;rv(z,X,oe,o,m,he);break}}}return g}function WD(a){var o=a.memoizedState,m=o!==null?o.dehydrated:null;if(!m)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");XN(m,a)}function N_(a){var o=a.memoizedState,m=o!==null?o.dehydrated:null;if(!m)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return UD(m)}function Tb(a){for(var o=a.return;o!==null&&o.tag!==x&&o.tag!==v&&o.tag!==U;)o=o.return;Ta=o}function Ki(a){if(a!==Ta)return!1;if(!yl)return Tb(a),yl=!0,!1;if(a.tag!==v&&(a.tag!==x||d_(a.type)&&!n_(a.type,a.memoizedProps))){var o=Oo;if(o)if(__(a))Ar(a),E_();else for(;o;)dM(a,o),o=iv(o)}return Tb(a),a.tag===U?Oo=N_(a):Oo=Ta?iv(a.stateNode):null,!0}function bl(){return yl&&Oo!==null}function Ar(a){for(var o=Oo;o;)dv(a,o),o=iv(o)}function Jc(){Ta=null,Oo=null,yl=!1,Nd=!1}function Na(){Zc!==null&&(XF(Zc),Zc=null)}function ji(){return yl}function xl(a){Zc===null?Zc=[a]:Zc.push(a)}var pv=t.ReactCurrentBatchConfig,Md=null;function Nb(){return pv.transition}var cs={recordUnsafeLifecycleWarnings:function(a,o){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(a,o){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var mM=function(a){for(var o=null,m=a;m!==null;)m.mode&dr&&(o=m),m=m.return;return o},zu=function(a){var o=[];return a.forEach(function(m){o.push(m)}),o.sort().join(", ")},Vn=[],jr=[],Gi=[],hr=[],Fs=[],wd=[],Qi=new Set;cs.recordUnsafeLifecycleWarnings=function(a,o){Qi.has(a.type)||(typeof o.componentWillMount=="function"&&o.componentWillMount.__suppressDeprecationWarning!==!0&&Vn.push(a),a.mode&dr&&typeof o.UNSAFE_componentWillMount=="function"&&jr.push(a),typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Gi.push(a),a.mode&dr&&typeof o.UNSAFE_componentWillReceiveProps=="function"&&hr.push(a),typeof o.componentWillUpdate=="function"&&o.componentWillUpdate.__suppressDeprecationWarning!==!0&&Fs.push(a),a.mode&dr&&typeof o.UNSAFE_componentWillUpdate=="function"&&wd.push(a))},cs.flushPendingUnsafeLifecycleWarnings=function(){var a=new Set;Vn.length>0&&(Vn.forEach(function(Fe){a.add(Rn(Fe)||"Component"),Qi.add(Fe.type)}),Vn=[]);var o=new Set;jr.length>0&&(jr.forEach(function(Fe){o.add(Rn(Fe)||"Component"),Qi.add(Fe.type)}),jr=[]);var m=new Set;Gi.length>0&&(Gi.forEach(function(Fe){m.add(Rn(Fe)||"Component"),Qi.add(Fe.type)}),Gi=[]);var g=new Set;hr.length>0&&(hr.forEach(function(Fe){g.add(Rn(Fe)||"Component"),Qi.add(Fe.type)}),hr=[]);var S=new Set;Fs.length>0&&(Fs.forEach(function(Fe){S.add(Rn(Fe)||"Component"),Qi.add(Fe.type)}),Fs=[]);var R=new Set;if(wd.length>0&&(wd.forEach(function(Fe){R.add(Rn(Fe)||"Component"),Qi.add(Fe.type)}),wd=[]),o.size>0){var F=zu(o);l(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,F)}if(g.size>0){var z=zu(g);l(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,z)}if(R.size>0){var X=zu(R);l(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,X)}if(a.size>0){var oe=zu(a);s(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,oe)}if(m.size>0){var he=zu(m);s(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,he)}if(S.size>0){var Ie=zu(S);s(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Ie)}};var Qc=new Map,mv=new Set;cs.recordLegacyContextWarning=function(a,o){var m=mM(a);if(m===null){l("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!mv.has(a.type)){var g=Qc.get(m);(a.type.contextTypes!=null||a.type.childContextTypes!=null||o!==null&&typeof o.getChildContext=="function")&&(g===void 0&&(g=[],Qc.set(m,g)),g.push(a))}},cs.flushLegacyContextWarning=function(){Qc.forEach(function(a,o){if(a.length!==0){var m=a[0],g=new Set;a.forEach(function(R){g.add(Rn(R)||"Component"),mv.add(R.type)});var S=zu(g);try{Bi(m),l(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,S)}finally{yr()}}})},cs.discardPendingWarnings=function(){Vn=[],jr=[],Gi=[],hr=[],Fs=[],wd=[],Qc=new Map}}var Cd,dp,Ad,Ya,vv,M_=function(a,o){};Cd=!1,dp=!1,Ad={},Ya={},vv={},M_=function(a,o){if(!(a===null||typeof a!="object")&&!(!a._store||a._store.validated||a.key!=null)){if(typeof a._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");a._store.validated=!0;var m=Rn(o)||"Component";Ya[m]||(Ya[m]=!0,l('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function vM(a){return a.prototype&&a.prototype.isReactComponent}function gv(a,o,m){var g=m.ref;if(g!==null&&typeof g!="function"&&typeof g!="object"){if((a.mode&dr||ye)&&!(m._owner&&m._self&&m._owner.stateNode!==m._self)&&!(m._owner&&m._owner.tag!==f)&&!(typeof m.type=="function"&&!vM(m.type))&&m._owner){var S=Rn(a)||"Component";Ad[S]||(l('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',S,g),Ad[S]=!0)}if(m._owner){var R=m._owner,F;if(R){var z=R;if(z.tag!==f)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");F=z.stateNode}if(!F)throw new Error("Missing owner for string ref "+g+". This error is likely caused by a bug in React. Please file an issue.");var X=F;vt(g,"ref");var oe=""+g;if(o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===oe)return o.ref;var he=function(Ie){var Fe=X.refs;Ie===null?delete Fe[oe]:Fe[oe]=Ie};return he._stringRef=oe,he}else{if(typeof g!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!m._owner)throw new Error("Element ref was specified as a string ("+g+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return g}function Hu(a,o){var m=Object.prototype.toString.call(o);throw new Error("Objects are not valid as a React child (found: "+(m==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":m)+"). If you meant to render a collection of children, use an array instead.")}function yv(a){{var o=Rn(a)||"Component";if(vv[o])return;vv[o]=!0,l("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function bv(a){var o=a._payload,m=a._init;return m(o)}function Mb(a){function o(et,_t){if(a){var tt=et.deletions;tt===null?(et.deletions=[_t],et.flags|=tl):tt.push(_t)}}function m(et,_t){if(!a)return null;for(var tt=_t;tt!==null;)o(et,tt),tt=tt.sibling;return null}function g(et,_t){for(var tt=new Map,It=_t;It!==null;)It.key!==null?tt.set(It.key,It):tt.set(It.index,It),It=It.sibling;return tt}function S(et,_t){var tt=Kv(et,_t);return tt.index=0,tt.sibling=null,tt}function R(et,_t,tt){if(et.index=tt,!a)return et.flags|=Mc,_t;var It=et.alternate;if(It!==null){var cn=It.index;return cn<_t?(et.flags|=cr,_t):cn}else return et.flags|=cr,_t}function F(et){return a&&et.alternate===null&&(et.flags|=cr),et}function z(et,_t,tt,It){if(_t===null||_t.tag!==_){var cn=Z2(tt,et.mode,It);return cn.return=et,cn}else{var on=S(_t,tt);return on.return=et,on}}function X(et,_t,tt,It){var cn=tt.type;if(cn===Se)return he(et,_t,tt.props.children,It,tt.key);if(_t!==null&&(_t.elementType===cn||uI(_t,tt)||typeof cn=="object"&&cn!==null&&cn.$$typeof===_e&&bv(cn)===_t.type)){var on=S(_t,tt.props);return on.ref=gv(et,_t,tt),on.return=et,on._debugSource=tt._source,on._debugOwner=tt._owner,on}var Ln=K2(tt,et.mode,It);return Ln.ref=gv(et,_t,tt),Ln.return=et,Ln}function oe(et,_t,tt,It){if(_t===null||_t.tag!==y||_t.stateNode.containerInfo!==tt.containerInfo||_t.stateNode.implementation!==tt.implementation){var cn=J2(tt,et.mode,It);return cn.return=et,cn}else{var on=S(_t,tt.children||[]);return on.return=et,on}}function he(et,_t,tt,It,cn){if(_t===null||_t.tag!==M){var on=Np(tt,et.mode,It,cn);return on.return=et,on}else{var Ln=S(_t,tt);return Ln.return=et,Ln}}function Ie(et,_t,tt){if(typeof _t=="string"&&_t!==""||typeof _t=="number"){var It=Z2(""+_t,et.mode,tt);return It.return=et,It}if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case Ji:{var cn=K2(_t,et.mode,tt);return cn.ref=gv(et,null,_t),cn.return=et,cn}case Ni:{var on=J2(_t,et.mode,tt);return on.return=et,on}case _e:{var Ln=_t._payload,kn=_t._init;return Ie(et,kn(Ln),tt)}}if(vi(_t)||mn(_t)){var ki=Np(_t,et.mode,tt,null);return ki.return=et,ki}Hu(et,_t)}return typeof _t=="function"&&yv(et),null}function Fe(et,_t,tt,It){var cn=_t!==null?_t.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number")return cn!==null?null:z(et,_t,""+tt,It);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case Ji:return tt.key===cn?X(et,_t,tt,It):null;case Ni:return tt.key===cn?oe(et,_t,tt,It):null;case _e:{var on=tt._payload,Ln=tt._init;return Fe(et,_t,Ln(on),It)}}if(vi(tt)||mn(tt))return cn!==null?null:he(et,_t,tt,It,null);Hu(et,tt)}return typeof tt=="function"&&yv(et),null}function ot(et,_t,tt,It,cn){if(typeof It=="string"&&It!==""||typeof It=="number"){var on=et.get(tt)||null;return z(_t,on,""+It,cn)}if(typeof It=="object"&&It!==null){switch(It.$$typeof){case Ji:{var Ln=et.get(It.key===null?tt:It.key)||null;return X(_t,Ln,It,cn)}case Ni:{var kn=et.get(It.key===null?tt:It.key)||null;return oe(_t,kn,It,cn)}case _e:var ki=It._payload,Si=It._init;return ot(et,_t,tt,Si(ki),cn)}if(vi(It)||mn(It)){var aa=et.get(tt)||null;return he(_t,aa,It,cn,null)}Hu(_t,It)}return typeof It=="function"&&yv(_t),null}function lt(et,_t,tt){{if(typeof et!="object"||et===null)return _t;switch(et.$$typeof){case Ji:case Ni:M_(et,tt);var It=et.key;if(typeof It!="string")break;if(_t===null){_t=new Set,_t.add(It);break}if(!_t.has(It)){_t.add(It);break}l("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",It);break;case _e:var cn=et._payload,on=et._init;lt(on(cn),_t,tt);break}}return _t}function St(et,_t,tt,It){for(var cn=null,on=0;on<tt.length;on++){var Ln=tt[on];cn=lt(Ln,cn,et)}for(var kn=null,ki=null,Si=_t,aa=0,_i=0,Wr=null;Si!==null&&_i<tt.length;_i++){Si.index>_i?(Wr=Si,Si=null):Wr=Si.sibling;var ks=Fe(et,Si,tt[_i],It);if(ks===null){Si===null&&(Si=Wr);break}a&&Si&&ks.alternate===null&&o(et,Si),aa=R(ks,aa,_i),ki===null?kn=ks:ki.sibling=ks,ki=ks,Si=Wr}if(_i===tt.length){if(m(et,Si),ji()){var Ss=_i;Ed(et,Ss)}return kn}if(Si===null){for(;_i<tt.length;_i++){var Tl=Ie(et,tt[_i],It);Tl!==null&&(aa=R(Tl,aa,_i),ki===null?kn=Tl:ki.sibling=Tl,ki=Tl)}if(ji()){var uo=_i;Ed(et,uo)}return kn}for(var co=g(et,Si);_i<tt.length;_i++){var Bs=ot(co,et,_i,tt[_i],It);Bs!==null&&(a&&Bs.alternate!==null&&co.delete(Bs.key===null?_i:Bs.key),aa=R(Bs,aa,_i),ki===null?kn=Bs:ki.sibling=Bs,ki=Bs)}if(a&&co.forEach(function(o0){return o(et,o0)}),ji()){var Gd=_i;Ed(et,Gd)}return kn}function tn(et,_t,tt,It){var cn=mn(tt);if(typeof cn!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&tt[Symbol.toStringTag]==="Generator"&&(dp||l("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),dp=!0),tt.entries===cn&&(Cd||l("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Cd=!0);var on=cn.call(tt);if(on)for(var Ln=null,kn=on.next();!kn.done;kn=on.next()){var ki=kn.value;Ln=lt(ki,Ln,et)}}var Si=cn.call(tt);if(Si==null)throw new Error("An iterable object provided no iterator.");for(var aa=null,_i=null,Wr=_t,ks=0,Ss=0,Tl=null,uo=Si.next();Wr!==null&&!uo.done;Ss++,uo=Si.next()){Wr.index>Ss?(Tl=Wr,Wr=null):Tl=Wr.sibling;var co=Fe(et,Wr,uo.value,It);if(co===null){Wr===null&&(Wr=Tl);break}a&&Wr&&co.alternate===null&&o(et,Wr),ks=R(co,ks,Ss),_i===null?aa=co:_i.sibling=co,_i=co,Wr=Tl}if(uo.done){if(m(et,Wr),ji()){var Bs=Ss;Ed(et,Bs)}return aa}if(Wr===null){for(;!uo.done;Ss++,uo=Si.next()){var Gd=Ie(et,uo.value,It);Gd!==null&&(ks=R(Gd,ks,Ss),_i===null?aa=Gd:_i.sibling=Gd,_i=Gd)}if(ji()){var o0=Ss;Ed(et,o0)}return aa}for(var ME=g(et,Wr);!uo.done;Ss++,uo=Si.next()){var gf=ot(ME,et,Ss,uo.value,It);gf!==null&&(a&&gf.alternate!==null&&ME.delete(gf.key===null?Ss:gf.key),ks=R(gf,ks,Ss),_i===null?aa=gf:_i.sibling=gf,_i=gf)}if(a&&ME.forEach(function(J7){return o(et,J7)}),ji()){var Z7=Ss;Ed(et,Z7)}return aa}function _n(et,_t,tt,It){if(_t!==null&&_t.tag===_){m(et,_t.sibling);var cn=S(_t,tt);return cn.return=et,cn}m(et,_t);var on=Z2(tt,et.mode,It);return on.return=et,on}function gn(et,_t,tt,It){for(var cn=tt.key,on=_t;on!==null;){if(on.key===cn){var Ln=tt.type;if(Ln===Se){if(on.tag===M){m(et,on.sibling);var kn=S(on,tt.props.children);return kn.return=et,kn._debugSource=tt._source,kn._debugOwner=tt._owner,kn}}else if(on.elementType===Ln||uI(on,tt)||typeof Ln=="object"&&Ln!==null&&Ln.$$typeof===_e&&bv(Ln)===on.type){m(et,on.sibling);var ki=S(on,tt.props);return ki.ref=gv(et,on,tt),ki.return=et,ki._debugSource=tt._source,ki._debugOwner=tt._owner,ki}m(et,on);break}else o(et,on);on=on.sibling}if(tt.type===Se){var Si=Np(tt.props.children,et.mode,It,tt.key);return Si.return=et,Si}else{var aa=K2(tt,et.mode,It);return aa.ref=gv(et,_t,tt),aa.return=et,aa}}function fi(et,_t,tt,It){for(var cn=tt.key,on=_t;on!==null;){if(on.key===cn)if(on.tag===y&&on.stateNode.containerInfo===tt.containerInfo&&on.stateNode.implementation===tt.implementation){m(et,on.sibling);var Ln=S(on,tt.children||[]);return Ln.return=et,Ln}else{m(et,on);break}else o(et,on);on=on.sibling}var kn=J2(tt,et.mode,It);return kn.return=et,kn}function ii(et,_t,tt,It){var cn=typeof tt=="object"&&tt!==null&&tt.type===Se&&tt.key===null;if(cn&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case Ji:return F(gn(et,_t,tt,It));case Ni:return F(fi(et,_t,tt,It));case _e:var on=tt._payload,Ln=tt._init;return ii(et,_t,Ln(on),It)}if(vi(tt))return St(et,_t,tt,It);if(mn(tt))return tn(et,_t,tt,It);Hu(et,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"?F(_n(et,_t,""+tt,It)):(typeof tt=="function"&&yv(et),m(et,_t))}return ii}var Sl=Mb(!0),ef=Mb(!1);function ju(a,o){if(a!==null&&o.child!==a.child)throw new Error("Resuming work not yet implemented.");if(o.child!==null){var m=o.child,g=Kv(m,m.pendingProps);for(o.child=g,g.return=o;m.sibling!==null;)m=m.sibling,g=g.sibling=Kv(m,m.pendingProps),g.return=o;g.sibling=null}}function xv(a,o){for(var m=a.child;m!==null;)m7(m,o),m=m.sibling}var Sv=Vu(null),w_;w_={};var tf=null,nf=null,C_=null,Rd=!1;function rf(){tf=null,nf=null,C_=null,Rd=!1}function _v(){Rd=!0}function Ev(){Rd=!1}function Xa(a,o,m){Wa(Sv,o._currentValue,a),o._currentValue=m,o._currentRenderer!==void 0&&o._currentRenderer!==null&&o._currentRenderer!==w_&&l("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),o._currentRenderer=w_}function Ql(a,o){var m=Sv.current;Ga(Sv,o),a._currentValue=m}function A_(a,o,m){for(var g=a;g!==null;){var S=g.alternate;if(Pc(g.childLanes,o)?S!==null&&!Pc(S.childLanes,o)&&(S.childLanes=In(S.childLanes,o)):(g.childLanes=In(g.childLanes,o),S!==null&&(S.childLanes=In(S.childLanes,o))),g===m)break;g=g.return}g!==m&&l("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function na(a,o,m){YD(a,o,m)}function YD(a,o,m){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var S=void 0,R=g.dependencies;if(R!==null){S=g.child;for(var F=R.firstContext;F!==null;){if(F.context===o){if(g.tag===f){var z=Ch(m),X=eu(oi,z);X.tag=Ab;var oe=g.updateQueue;if(oe!==null){var he=oe.shared,Ie=he.pending;Ie===null?X.next=X:(X.next=Ie.next,Ie.next=X),he.pending=X}}g.lanes=In(g.lanes,m);var Fe=g.alternate;Fe!==null&&(Fe.lanes=In(Fe.lanes,m)),A_(g.return,m,a),R.lanes=In(R.lanes,m);break}F=F.next}}else if(g.tag===A)S=g.type===a.type?null:g.child;else if(g.tag===I){var ot=g.return;if(ot===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");ot.lanes=In(ot.lanes,m);var lt=ot.alternate;lt!==null&&(lt.lanes=In(lt.lanes,m)),A_(ot,m,a),S=g.sibling}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===a){S=null;break}var St=S.sibling;if(St!==null){St.return=S.return,S=St;break}S=S.return}g=S}}function Gu(a,o){tf=a,nf=null,C_=null;var m=a.dependencies;if(m!==null){var g=m.firstContext;g!==null&&(ka(m.lanes,o)&&uE(),m.firstContext=null)}}function Rr(a){Rd&&l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var o=a._currentValue;if(C_!==a){var m={context:a,memoizedValue:o,next:null};if(nf===null){if(tf===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");nf=m,tf.dependencies={lanes:Ut,firstContext:m}}else nf=nf.next=m}return o}var Gr=null;function wb(a){Gr===null?Gr=[a]:Gr.push(a)}function R_(){if(Gr!==null){for(var a=0;a<Gr.length;a++){var o=Gr[a],m=o.interleaved;if(m!==null){o.interleaved=null;var g=m.next,S=o.pending;if(S!==null){var R=S.next;S.next=g,m.next=R}o.pending=m}}Gr=null}}function D_(a,o,m,g){var S=o.interleaved;return S===null?(m.next=m,wb(o)):(m.next=S.next,S.next=m),o.interleaved=m,Cb(a,g)}function XD(a,o,m,g){var S=o.interleaved;S===null?(m.next=m,wb(o)):(m.next=S.next,S.next=m),o.interleaved=m}function qD(a,o,m,g){var S=o.interleaved;return S===null?(m.next=m,wb(o)):(m.next=S.next,S.next=m),o.interleaved=m,Cb(a,g)}function Dr(a,o){return Cb(a,o)}var gM=Cb;function Cb(a,o){a.lanes=In(a.lanes,o);var m=a.alternate;m!==null&&(m.lanes=In(m.lanes,o)),m===null&&(a.flags&(cr|il))!==Nn&&aI(a);for(var g=a,S=a.return;S!==null;)S.childLanes=In(S.childLanes,o),m=S.alternate,m!==null?m.childLanes=In(m.childLanes,o):(S.flags&(cr|il))!==Nn&&aI(a),g=S,S=S.return;if(g.tag===v){var R=g.stateNode;return R}else return null}var yM=0,bM=1,Ab=2,hp=3,Rb=!1,L_,Dd;L_=!1,Dd=null;function Tv(a){var o={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Ut},effects:null};a.updateQueue=o}function af(a,o){var m=o.updateQueue,g=a.updateQueue;if(m===g){var S={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects};o.updateQueue=S}}function eu(a,o){var m={eventTime:a,lane:o,tag:yM,payload:null,callback:null,next:null};return m}function Wu(a,o,m){var g=a.updateQueue;if(g===null)return null;var S=g.shared;if(Dd===S&&!L_&&(l("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),L_=!0),LW()){var R=S.pending;return R===null?o.next=o:(o.next=R.next,R.next=o),S.pending=o,gM(a,m)}else return qD(a,S,o,m)}function Nv(a,o,m){var g=o.updateQueue;if(g!==null){var S=g.shared;if(Dc(m)){var R=S.lanes;R=nS(R,a.pendingLanes);var F=In(R,m);S.lanes=F,xy(a,F)}}}function P_(a,o){var m=a.updateQueue,g=a.alternate;if(g!==null){var S=g.updateQueue;if(m===S){var R=null,F=null,z=m.firstBaseUpdate;if(z!==null){var X=z;do{var oe={eventTime:X.eventTime,lane:X.lane,tag:X.tag,payload:X.payload,callback:X.callback,next:null};F===null?R=F=oe:(F.next=oe,F=oe),X=X.next}while(X!==null);F===null?R=F=o:(F.next=o,F=o)}else R=F=o;m={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:F,shared:S.shared,effects:S.effects},a.updateQueue=m;return}}var he=m.lastBaseUpdate;he===null?m.firstBaseUpdate=o:he.next=o,m.lastBaseUpdate=o}function Db(a,o,m,g,S,R){switch(m.tag){case bM:{var F=m.payload;if(typeof F=="function"){_v();var z=F.call(R,g,S);{if(a.mode&dr){zi(!0);try{F.call(R,g,S)}finally{zi(!1)}}Ev()}return z}return F}case hp:a.flags=a.flags&~rs|yi;case yM:{var X=m.payload,oe;if(typeof X=="function"){_v(),oe=X.call(R,g,S);{if(a.mode&dr){zi(!0);try{X.call(R,g,S)}finally{zi(!1)}}Ev()}}else oe=X;return oe==null?g:Wt({},g,oe)}case Ab:return Rb=!0,g}return g}function Lb(a,o,m,g){var S=a.updateQueue;Rb=!1,Dd=S.shared;var R=S.firstBaseUpdate,F=S.lastBaseUpdate,z=S.shared.pending;if(z!==null){S.shared.pending=null;var X=z,oe=X.next;X.next=null,F===null?R=oe:F.next=oe,F=X;var he=a.alternate;if(he!==null){var Ie=he.updateQueue,Fe=Ie.lastBaseUpdate;Fe!==F&&(Fe===null?Ie.firstBaseUpdate=oe:Fe.next=oe,Ie.lastBaseUpdate=X)}}if(R!==null){var ot=S.baseState,lt=Ut,St=null,tn=null,_n=null,gn=R;do{var fi=gn.lane,ii=gn.eventTime;if(Pc(g,fi)){if(_n!==null){var _t={eventTime:ii,lane:Br,tag:gn.tag,payload:gn.payload,callback:gn.callback,next:null};_n=_n.next=_t}ot=Db(a,S,gn,ot,o,m);var tt=gn.callback;if(tt!==null&&gn.lane!==Br){a.flags|=Vx;var It=S.effects;It===null?S.effects=[gn]:It.push(gn)}}else{var et={eventTime:ii,lane:fi,tag:gn.tag,payload:gn.payload,callback:gn.callback,next:null};_n===null?(tn=_n=et,St=ot):_n=_n.next=et,lt=In(lt,fi)}if(gn=gn.next,gn===null){if(z=S.shared.pending,z===null)break;var cn=z,on=cn.next;cn.next=null,gn=on,S.lastBaseUpdate=cn,S.shared.pending=null}}while(!0);_n===null&&(St=ot),S.baseState=St,S.firstBaseUpdate=tn,S.lastBaseUpdate=_n;var Ln=S.shared.interleaved;if(Ln!==null){var kn=Ln;do lt=In(lt,kn.lane),kn=kn.next;while(kn!==Ln)}else R===null&&(S.shared.lanes=Ut);SE(lt),a.lanes=lt,a.memoizedState=ot}Dd=null}function U_(a,o){if(typeof a!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+a));a.call(o)}function xM(){Rb=!1}function Pb(){return Rb}function Mv(a,o,m){var g=o.effects;if(o.effects=null,g!==null)for(var S=0;S<g.length;S++){var R=g[S],F=R.callback;F!==null&&(R.callback=null,U_(F,m))}}var wv={},sf=Vu(wv),Cv=Vu(wv),Av=Vu(wv);function Rv(a){if(a===wv)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return a}function of(){var a=Rv(Av.current);return a}function O_(a,o){Wa(Av,o,a),Wa(Cv,a,a),Wa(sf,wv,a);var m=gD(o);Ga(sf,a),Wa(sf,m,a)}function fs(a){Ga(sf,a),Ga(Cv,a),Ga(Av,a)}function F_(){var a=Rv(sf.current);return a}function SM(a){Rv(Av.current);var o=Rv(sf.current),m=PN(o,a.type);o!==m&&(Wa(Cv,a,a),Wa(sf,m,a))}function Ub(a){Cv.current===a&&(Ga(sf,a),Ga(Cv,a))}var $D=0,_M=1,EM=1,pp=2,Wi=Vu($D);function I_(a,o){return(a&o)!==0}function Ld(a){return a&_M}function V_(a,o){return a&_M|o}function KD(a,o){return a|o}function lf(a,o){Wa(Wi,o,a)}function mp(a){Ga(Wi,a)}function ZD(a,o){var m=a.memoizedState;return m!==null?m.dehydrated!==null:(a.memoizedProps,!0)}function Dv(a){for(var o=a;o!==null;){if(o.tag===U){var m=o.memoizedState;if(m!==null){var g=m.dehydrated;if(g===null||l_(g)||u_(g))return o}}else if(o.tag===q&&o.memoizedProps.revealOrder!==void 0){var S=(o.flags&yi)!==Nn;if(S)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)return null;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ma=0,Er=1,_l=2,Lr=4,wa=8,Ob=[];function Lv(){for(var a=0;a<Ob.length;a++){var o=Ob[a];o._workInProgressVersionPrimary=null}Ob.length=0}function JD(a,o){var m=o._getVersion,g=m(o._source);a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[o,g]:a.mutableSourceEagerHydrationData.push(o,g)}var Zt=t.ReactCurrentDispatcher,Pd=t.ReactCurrentBatchConfig,vp,Ud;vp=new Set;var uf=Ut,Ci=null,ia=null,Ai=null,Yu=!1,Pv=!1,tu=0,k_=0,B_=25,At=null,ao=null,cf=-1,z_=!1;function mi(){{var a=At;ao===null?ao=[a]:ao.push(a)}}function $t(){{var a=At;ao!==null&&(cf++,ao[cf]!==a&&QD(a))}}function ff(a){a!=null&&!vi(a)&&l("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",At,typeof a)}function QD(a){{var o=Rn(Ci);if(!vp.has(o)&&(vp.add(o),ao!==null)){for(var m="",g=30,S=0;S<=cf;S++){for(var R=ao[S],F=S===cf?a:R,z=S+1+". "+R;z.length<g;)z+=" ";z+=F+`
`,m+=z}l(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,o,m)}}}function qa(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function Uv(a,o){if(z_)return!1;if(o===null)return l("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",At),!1;a.length!==o.length&&l(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,At,"["+o.join(", ")+"]","["+a.join(", ")+"]");for(var m=0;m<o.length&&m<a.length;m++)if(!Ls(a[m],o[m]))return!1;return!0}function Od(a,o,m,g,S,R){uf=R,Ci=o,ao=a!==null?a._debugHookTypes:null,cf=-1,z_=a!==null&&a.type!==o.type,o.memoizedState=null,o.updateQueue=null,o.lanes=Ut,a!==null&&a.memoizedState!==null?Zt.current=c:ao!==null?Zt.current=PM:Zt.current=LM;var F=m(g,S);if(Pv){var z=0;do{if(Pv=!1,tu=0,z>=B_)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");z+=1,z_=!1,ia=null,Ai=null,o.updateQueue=null,cf=-1,Zt.current=d,F=m(g,S)}while(Pv)}Zt.current=Jb,o._debugHookTypes=ao;var X=ia!==null&&ia.next!==null;if(uf=Ut,Ci=null,ia=null,Ai=null,At=null,ao=null,cf=-1,a!==null&&(a.flags&Eu)!==(o.flags&Eu)&&(a.mode&ni)!==Sn&&l("Internal React error: Expected static flag was missing. Please notify the React team."),Yu=!1,X)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return F}function gp(){var a=tu!==0;return tu=0,a}function Is(a,o,m){o.updateQueue=a.updateQueue,(o.mode&Gl)!==Sn?o.flags&=~(_u|Nr|nl|Jn):o.flags&=~(nl|Jn),a.lanes=Ah(a.lanes,m)}function Fb(){if(Zt.current=Jb,Yu){for(var a=Ci.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Yu=!1}uf=Ut,Ci=null,ia=null,Ai=null,ao=null,cf=-1,At=null,tE=!1,Pv=!1,tu=0}function nu(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?Ci.memoizedState=Ai=a:Ai=Ai.next=a,Ai}function Fo(){var a;if(ia===null){var o=Ci.alternate;o!==null?a=o.memoizedState:a=null}else a=ia.next;var m;if(Ai===null?m=Ci.memoizedState:m=Ai.next,m!==null)Ai=m,m=Ai.next,ia=a;else{if(a===null)throw new Error("Rendered more hooks than during the previous render.");ia=a;var g={memoizedState:ia.memoizedState,baseState:ia.baseState,baseQueue:ia.baseQueue,queue:ia.queue,next:null};Ai===null?Ci.memoizedState=Ai=g:Ai=Ai.next=g}return Ai}function df(){return{lastEffect:null,stores:null}}function H_(a,o){return typeof o=="function"?o(a):o}function j_(a,o,m){var g=nu(),S;m!==void 0?S=m(o):S=o,g.memoizedState=g.baseState=S;var R={pending:null,interleaved:null,lanes:Ut,dispatch:null,lastRenderedReducer:a,lastRenderedState:S};g.queue=R;var F=R.dispatch=AM.bind(null,Ci,R);return[g.memoizedState,F]}function Ov(a,o,m){var g=Fo(),S=g.queue;if(S===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");S.lastRenderedReducer=a;var R=ia,F=R.baseQueue,z=S.pending;if(z!==null){if(F!==null){var X=F.next,oe=z.next;F.next=oe,z.next=X}R.baseQueue!==F&&l("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),R.baseQueue=F=z,S.pending=null}if(F!==null){var he=F.next,Ie=R.baseState,Fe=null,ot=null,lt=null,St=he;do{var tn=St.lane;if(Pc(uf,tn)){if(lt!==null){var gn={lane:Br,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null};lt=lt.next=gn}if(St.hasEagerState)Ie=St.eagerState;else{var fi=St.action;Ie=a(Ie,fi)}}else{var _n={lane:tn,action:St.action,hasEagerState:St.hasEagerState,eagerState:St.eagerState,next:null};lt===null?(ot=lt=_n,Fe=Ie):lt=lt.next=_n,Ci.lanes=In(Ci.lanes,tn),SE(tn)}St=St.next}while(St!==null&&St!==he);lt===null?Fe=Ie:lt.next=ot,Ls(Ie,g.memoizedState)||uE(),g.memoizedState=Ie,g.baseState=Fe,g.baseQueue=lt,S.lastRenderedState=Ie}var ii=S.interleaved;if(ii!==null){var et=ii;do{var _t=et.lane;Ci.lanes=In(Ci.lanes,_t),SE(_t),et=et.next}while(et!==ii)}else F===null&&(S.lanes=Ut);var tt=S.dispatch;return[g.memoizedState,tt]}function Fv(a,o,m){var g=Fo(),S=g.queue;if(S===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");S.lastRenderedReducer=a;var R=S.dispatch,F=S.pending,z=g.memoizedState;if(F!==null){S.pending=null;var X=F.next,oe=X;do{var he=oe.action;z=a(z,he),oe=oe.next}while(oe!==X);Ls(z,g.memoizedState)||uE(),g.memoizedState=z,g.baseQueue===null&&(g.baseState=z),S.lastRenderedState=z}return[z,R]}function Fd(a,o,m){}function Z3(a,o,m){}function G_(a,o,m){var g=Ci,S=nu(),R,F=ji();if(F){if(m===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");R=m(),Ud||R!==m()&&(l("The result of getServerSnapshot should be cached to avoid an infinite loop"),Ud=!0)}else{if(R=o(),!Ud){var z=o();Ls(R,z)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),Ud=!0)}var X=XM();if(X===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Cu(X,uf)||W_(g,o,R)}S.memoizedState=R;var oe={value:R,getSnapshot:o};return S.queue=oe,zb(TM.bind(null,g,oe,a),[a]),g.flags|=nl,Vv(Er|wa,Vb.bind(null,g,oe,R,o),void 0,null),R}function Ib(a,o,m){var g=Ci,S=Fo(),R=o();if(!Ud){var F=o();Ls(R,F)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),Ud=!0)}var z=S.memoizedState,X=!Ls(z,R);X&&(S.memoizedState=R,uE());var oe=S.queue;if(Bv(TM.bind(null,g,oe,a),[a]),oe.getSnapshot!==o||X||Ai!==null&&Ai.memoizedState.tag&Er){g.flags|=nl,Vv(Er|wa,Vb.bind(null,g,oe,R,o),void 0,null);var he=XM();if(he===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Cu(he,uf)||W_(g,o,R)}return R}function W_(a,o,m){a.flags|=uy;var g={getSnapshot:o,value:m},S=Ci.updateQueue;if(S===null)S=df(),Ci.updateQueue=S,S.stores=[g];else{var R=S.stores;R===null?S.stores=[g]:R.push(g)}}function Vb(a,o,m,g){o.value=m,o.getSnapshot=g,NM(o)&&kb(a)}function TM(a,o,m){var g=function(){NM(o)&&kb(a)};return m(g)}function NM(a){var o=a.getSnapshot,m=a.value;try{var g=o();return!Ls(m,g)}catch{return!0}}function kb(a){var o=Dr(a,Dn);o!==null&&Da(o,a,Dn,oi)}function Iv(a){var o=nu();typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a;var m={pending:null,interleaved:null,lanes:Ut,dispatch:null,lastRenderedReducer:H_,lastRenderedState:a};o.queue=m;var g=m.dispatch=RM.bind(null,Ci,m);return[o.memoizedState,g]}function Y_(a){return Ov(H_)}function Bb(a){return Fv(H_)}function Vv(a,o,m,g){var S={tag:a,create:o,destroy:m,deps:g,next:null},R=Ci.updateQueue;if(R===null)R=df(),Ci.updateQueue=R,R.lastEffect=S.next=S;else{var F=R.lastEffect;if(F===null)R.lastEffect=S.next=S;else{var z=F.next;F.next=S,S.next=z,R.lastEffect=S}}return S}function X_(a){var o=nu();{var m={current:a};return o.memoizedState=m,m}}function yp(a){var o=Fo();return o.memoizedState}function Id(a,o,m,g){var S=nu(),R=g===void 0?null:g;Ci.flags|=a,S.memoizedState=Vv(Er|o,m,void 0,R)}function kv(a,o,m,g){var S=Fo(),R=g===void 0?null:g,F=void 0;if(ia!==null){var z=ia.memoizedState;if(F=z.destroy,R!==null){var X=z.deps;if(Uv(R,X)){S.memoizedState=Vv(o,m,F,R);return}}}Ci.flags|=a,S.memoizedState=Vv(Er|o,m,F,R)}function zb(a,o){return(Ci.mode&Gl)!==Sn?Id(_u|nl|vm,wa,a,o):Id(nl|vm,wa,a,o)}function Bv(a,o){return kv(nl,wa,a,o)}function q_(a,o){return Id(Jn,_l,a,o)}function Hb(a,o){return kv(Jn,_l,a,o)}function jb(a,o){var m=Jn;return m|=Qs,(Ci.mode&Gl)!==Sn&&(m|=Nr),Id(m,Lr,a,o)}function Gb(a,o){return kv(Jn,Lr,a,o)}function MM(a,o){if(typeof o=="function"){var m=o,g=a();return m(g),function(){m(null)}}else if(o!=null){var S=o;S.hasOwnProperty("current")||l("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(S).join(", ")+"}");var R=a();return S.current=R,function(){S.current=null}}}function Wb(a,o,m){typeof o!="function"&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",o!==null?typeof o:"null");var g=m!=null?m.concat([a]):null,S=Jn;return S|=Qs,(Ci.mode&Gl)!==Sn&&(S|=Nr),Id(S,Lr,MM.bind(null,o,a),g)}function bp(a,o,m){typeof o!="function"&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",o!==null?typeof o:"null");var g=m!=null?m.concat([a]):null;return kv(Jn,Lr,MM.bind(null,o,a),g)}function e2(a,o){}var Yb=e2;function $_(a,o){var m=nu(),g=o===void 0?null:o;return m.memoizedState=[a,g],a}function zv(a,o){var m=Fo(),g=o===void 0?null:o,S=m.memoizedState;if(S!==null&&g!==null){var R=S[1];if(Uv(g,R))return S[0]}return m.memoizedState=[a,g],a}function Xb(a,o){var m=nu(),g=o===void 0?null:o,S=a();return m.memoizedState=[S,g],S}function Hv(a,o){var m=Fo(),g=o===void 0?null:o,S=m.memoizedState;if(S!==null&&g!==null){var R=S[1];if(Uv(g,R))return S[0]}var F=a();return m.memoizedState=[F,g],F}function qb(a){var o=nu();return o.memoizedState=a,a}function K_(a){var o=Fo(),m=ia,g=m.memoizedState;return J_(o,g,a)}function Z_(a){var o=Fo();if(ia===null)return o.memoizedState=a,a;var m=ia.memoizedState;return J_(o,m,a)}function J_(a,o,m){var g=!WR(uf);if(g){if(!Ls(m,o)){var S=tS();Ci.lanes=In(Ci.lanes,S),SE(S),a.baseState=!0}return o}else return a.baseState&&(a.baseState=!1,uE()),a.memoizedState=m,m}function wM(a,o,m){var g=Mo();Mr(sS(g,cl)),a(!0);var S=Pd.transition;Pd.transition={};var R=Pd.transition;Pd.transition._updatedFibers=new Set;try{a(!1),o()}finally{if(Mr(g),Pd.transition=S,S===null&&R._updatedFibers){var F=R._updatedFibers.size;F>10&&s("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),R._updatedFibers.clear()}}}function $b(){var a=Iv(!1),o=a[0],m=a[1],g=wM.bind(null,m),S=nu();return S.memoizedState=g,[o,g]}function Q_(){var a=Y_(),o=a[0],m=Fo(),g=m.memoizedState;return[o,g]}function eE(){var a=Bb(),o=a[0],m=Fo(),g=m.memoizedState;return[o,g]}var tE=!1;function CM(){return tE}function Kb(){var a=nu(),o=XM(),m=o.identifierPrefix,g;if(ji()){var S=HD();g=":"+m+"R"+S;var R=tu++;R>0&&(g+="H"+R.toString(32)),g+=":"}else{var F=k_++;g=":"+m+"r"+F.toString(32)+":"}return a.memoizedState=g,g}function jv(){var a=Fo(),o=a.memoizedState;return o}function AM(a,o,m){typeof arguments[3]=="function"&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var g=Ep(a),S={lane:g,action:m,hasEagerState:!1,eagerState:null,next:null};if(nE(a))iE(o,S);else{var R=D_(a,o,S,g);if(R!==null){var F=lo();Da(R,a,g,F),Zb(R,o,g)}}DM(a,g)}function RM(a,o,m){typeof arguments[3]=="function"&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var g=Ep(a),S={lane:g,action:m,hasEagerState:!1,eagerState:null,next:null};if(nE(a))iE(o,S);else{var R=a.alternate;if(a.lanes===Ut&&(R===null||R.lanes===Ut)){var F=o.lastRenderedReducer;if(F!==null){var z;z=Zt.current,Zt.current=E;try{var X=o.lastRenderedState,oe=F(X,m);if(S.hasEagerState=!0,S.eagerState=oe,Ls(oe,X)){XD(a,o,S,g);return}}catch{}finally{Zt.current=z}}}var he=D_(a,o,S,g);if(he!==null){var Ie=lo();Da(he,a,g,Ie),Zb(he,o,g)}}DM(a,g)}function nE(a){var o=a.alternate;return a===Ci||o!==null&&o===Ci}function iE(a,o){Pv=Yu=!0;var m=a.pending;m===null?o.next=o:(o.next=m.next,m.next=o),a.pending=o}function Zb(a,o,m){if(Dc(m)){var g=o.lanes;g=nS(g,a.pendingLanes);var S=In(g,m);o.lanes=S,xy(a,S)}}function DM(a,o,m){Xx(a,o)}var Jb={readContext:Rr,useCallback:qa,useContext:qa,useEffect:qa,useImperativeHandle:qa,useInsertionEffect:qa,useLayoutEffect:qa,useMemo:qa,useReducer:qa,useRef:qa,useState:qa,useDebugValue:qa,useDeferredValue:qa,useTransition:qa,useMutableSource:qa,useSyncExternalStore:qa,useId:qa,unstable_isNewReconciler:ge},LM=null,PM=null,c=null,d=null,b=null,E=null,C=null;{var O=function(){l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},B=function(){l("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};LM={readContext:function(a){return Rr(a)},useCallback:function(a,o){return At="useCallback",mi(),ff(o),$_(a,o)},useContext:function(a){return At="useContext",mi(),Rr(a)},useEffect:function(a,o){return At="useEffect",mi(),ff(o),zb(a,o)},useImperativeHandle:function(a,o,m){return At="useImperativeHandle",mi(),ff(m),Wb(a,o,m)},useInsertionEffect:function(a,o){return At="useInsertionEffect",mi(),ff(o),q_(a,o)},useLayoutEffect:function(a,o){return At="useLayoutEffect",mi(),ff(o),jb(a,o)},useMemo:function(a,o){At="useMemo",mi(),ff(o);var m=Zt.current;Zt.current=b;try{return Xb(a,o)}finally{Zt.current=m}},useReducer:function(a,o,m){At="useReducer",mi();var g=Zt.current;Zt.current=b;try{return j_(a,o,m)}finally{Zt.current=g}},useRef:function(a){return At="useRef",mi(),X_(a)},useState:function(a){At="useState",mi();var o=Zt.current;Zt.current=b;try{return Iv(a)}finally{Zt.current=o}},useDebugValue:function(a,o){return At="useDebugValue",mi(),void 0},useDeferredValue:function(a){return At="useDeferredValue",mi(),qb(a)},useTransition:function(){return At="useTransition",mi(),$b()},useMutableSource:function(a,o,m){return At="useMutableSource",mi(),void 0},useSyncExternalStore:function(a,o,m){return At="useSyncExternalStore",mi(),G_(a,o,m)},useId:function(){return At="useId",mi(),Kb()},unstable_isNewReconciler:ge},PM={readContext:function(a){return Rr(a)},useCallback:function(a,o){return At="useCallback",$t(),$_(a,o)},useContext:function(a){return At="useContext",$t(),Rr(a)},useEffect:function(a,o){return At="useEffect",$t(),zb(a,o)},useImperativeHandle:function(a,o,m){return At="useImperativeHandle",$t(),Wb(a,o,m)},useInsertionEffect:function(a,o){return At="useInsertionEffect",$t(),q_(a,o)},useLayoutEffect:function(a,o){return At="useLayoutEffect",$t(),jb(a,o)},useMemo:function(a,o){At="useMemo",$t();var m=Zt.current;Zt.current=b;try{return Xb(a,o)}finally{Zt.current=m}},useReducer:function(a,o,m){At="useReducer",$t();var g=Zt.current;Zt.current=b;try{return j_(a,o,m)}finally{Zt.current=g}},useRef:function(a){return At="useRef",$t(),X_(a)},useState:function(a){At="useState",$t();var o=Zt.current;Zt.current=b;try{return Iv(a)}finally{Zt.current=o}},useDebugValue:function(a,o){return At="useDebugValue",$t(),void 0},useDeferredValue:function(a){return At="useDeferredValue",$t(),qb(a)},useTransition:function(){return At="useTransition",$t(),$b()},useMutableSource:function(a,o,m){return At="useMutableSource",$t(),void 0},useSyncExternalStore:function(a,o,m){return At="useSyncExternalStore",$t(),G_(a,o,m)},useId:function(){return At="useId",$t(),Kb()},unstable_isNewReconciler:ge},c={readContext:function(a){return Rr(a)},useCallback:function(a,o){return At="useCallback",$t(),zv(a,o)},useContext:function(a){return At="useContext",$t(),Rr(a)},useEffect:function(a,o){return At="useEffect",$t(),Bv(a,o)},useImperativeHandle:function(a,o,m){return At="useImperativeHandle",$t(),bp(a,o,m)},useInsertionEffect:function(a,o){return At="useInsertionEffect",$t(),Hb(a,o)},useLayoutEffect:function(a,o){return At="useLayoutEffect",$t(),Gb(a,o)},useMemo:function(a,o){At="useMemo",$t();var m=Zt.current;Zt.current=E;try{return Hv(a,o)}finally{Zt.current=m}},useReducer:function(a,o,m){At="useReducer",$t();var g=Zt.current;Zt.current=E;try{return Ov(a,o,m)}finally{Zt.current=g}},useRef:function(a){return At="useRef",$t(),yp()},useState:function(a){At="useState",$t();var o=Zt.current;Zt.current=E;try{return Y_(a)}finally{Zt.current=o}},useDebugValue:function(a,o){return At="useDebugValue",$t(),Yb()},useDeferredValue:function(a){return At="useDeferredValue",$t(),K_(a)},useTransition:function(){return At="useTransition",$t(),Q_()},useMutableSource:function(a,o,m){return At="useMutableSource",$t(),void 0},useSyncExternalStore:function(a,o,m){return At="useSyncExternalStore",$t(),Ib(a,o)},useId:function(){return At="useId",$t(),jv()},unstable_isNewReconciler:ge},d={readContext:function(a){return Rr(a)},useCallback:function(a,o){return At="useCallback",$t(),zv(a,o)},useContext:function(a){return At="useContext",$t(),Rr(a)},useEffect:function(a,o){return At="useEffect",$t(),Bv(a,o)},useImperativeHandle:function(a,o,m){return At="useImperativeHandle",$t(),bp(a,o,m)},useInsertionEffect:function(a,o){return At="useInsertionEffect",$t(),Hb(a,o)},useLayoutEffect:function(a,o){return At="useLayoutEffect",$t(),Gb(a,o)},useMemo:function(a,o){At="useMemo",$t();var m=Zt.current;Zt.current=C;try{return Hv(a,o)}finally{Zt.current=m}},useReducer:function(a,o,m){At="useReducer",$t();var g=Zt.current;Zt.current=C;try{return Fv(a,o,m)}finally{Zt.current=g}},useRef:function(a){return At="useRef",$t(),yp()},useState:function(a){At="useState",$t();var o=Zt.current;Zt.current=C;try{return Bb(a)}finally{Zt.current=o}},useDebugValue:function(a,o){return At="useDebugValue",$t(),Yb()},useDeferredValue:function(a){return At="useDeferredValue",$t(),Z_(a)},useTransition:function(){return At="useTransition",$t(),eE()},useMutableSource:function(a,o,m){return At="useMutableSource",$t(),void 0},useSyncExternalStore:function(a,o,m){return At="useSyncExternalStore",$t(),Ib(a,o)},useId:function(){return At="useId",$t(),jv()},unstable_isNewReconciler:ge},b={readContext:function(a){return O(),Rr(a)},useCallback:function(a,o){return At="useCallback",B(),mi(),$_(a,o)},useContext:function(a){return At="useContext",B(),mi(),Rr(a)},useEffect:function(a,o){return At="useEffect",B(),mi(),zb(a,o)},useImperativeHandle:function(a,o,m){return At="useImperativeHandle",B(),mi(),Wb(a,o,m)},useInsertionEffect:function(a,o){return At="useInsertionEffect",B(),mi(),q_(a,o)},useLayoutEffect:function(a,o){return At="useLayoutEffect",B(),mi(),jb(a,o)},useMemo:function(a,o){At="useMemo",B(),mi();var m=Zt.current;Zt.current=b;try{return Xb(a,o)}finally{Zt.current=m}},useReducer:function(a,o,m){At="useReducer",B(),mi();var g=Zt.current;Zt.current=b;try{return j_(a,o,m)}finally{Zt.current=g}},useRef:function(a){return At="useRef",B(),mi(),X_(a)},useState:function(a){At="useState",B(),mi();var o=Zt.current;Zt.current=b;try{return Iv(a)}finally{Zt.current=o}},useDebugValue:function(a,o){return At="useDebugValue",B(),mi(),void 0},useDeferredValue:function(a){return At="useDeferredValue",B(),mi(),qb(a)},useTransition:function(){return At="useTransition",B(),mi(),$b()},useMutableSource:function(a,o,m){return At="useMutableSource",B(),mi(),void 0},useSyncExternalStore:function(a,o,m){return At="useSyncExternalStore",B(),mi(),G_(a,o,m)},useId:function(){return At="useId",B(),mi(),Kb()},unstable_isNewReconciler:ge},E={readContext:function(a){return O(),Rr(a)},useCallback:function(a,o){return At="useCallback",B(),$t(),zv(a,o)},useContext:function(a){return At="useContext",B(),$t(),Rr(a)},useEffect:function(a,o){return At="useEffect",B(),$t(),Bv(a,o)},useImperativeHandle:function(a,o,m){return At="useImperativeHandle",B(),$t(),bp(a,o,m)},useInsertionEffect:function(a,o){return At="useInsertionEffect",B(),$t(),Hb(a,o)},useLayoutEffect:function(a,o){return At="useLayoutEffect",B(),$t(),Gb(a,o)},useMemo:function(a,o){At="useMemo",B(),$t();var m=Zt.current;Zt.current=E;try{return Hv(a,o)}finally{Zt.current=m}},useReducer:function(a,o,m){At="useReducer",B(),$t();var g=Zt.current;Zt.current=E;try{return Ov(a,o,m)}finally{Zt.current=g}},useRef:function(a){return At="useRef",B(),$t(),yp()},useState:function(a){At="useState",B(),$t();var o=Zt.current;Zt.current=E;try{return Y_(a)}finally{Zt.current=o}},useDebugValue:function(a,o){return At="useDebugValue",B(),$t(),Yb()},useDeferredValue:function(a){return At="useDeferredValue",B(),$t(),K_(a)},useTransition:function(){return At="useTransition",B(),$t(),Q_()},useMutableSource:function(a,o,m){return At="useMutableSource",B(),$t(),void 0},useSyncExternalStore:function(a,o,m){return At="useSyncExternalStore",B(),$t(),Ib(a,o)},useId:function(){return At="useId",B(),$t(),jv()},unstable_isNewReconciler:ge},C={readContext:function(a){return O(),Rr(a)},useCallback:function(a,o){return At="useCallback",B(),$t(),zv(a,o)},useContext:function(a){return At="useContext",B(),$t(),Rr(a)},useEffect:function(a,o){return At="useEffect",B(),$t(),Bv(a,o)},useImperativeHandle:function(a,o,m){return At="useImperativeHandle",B(),$t(),bp(a,o,m)},useInsertionEffect:function(a,o){return At="useInsertionEffect",B(),$t(),Hb(a,o)},useLayoutEffect:function(a,o){return At="useLayoutEffect",B(),$t(),Gb(a,o)},useMemo:function(a,o){At="useMemo",B(),$t();var m=Zt.current;Zt.current=E;try{return Hv(a,o)}finally{Zt.current=m}},useReducer:function(a,o,m){At="useReducer",B(),$t();var g=Zt.current;Zt.current=E;try{return Fv(a,o,m)}finally{Zt.current=g}},useRef:function(a){return At="useRef",B(),$t(),yp()},useState:function(a){At="useState",B(),$t();var o=Zt.current;Zt.current=E;try{return Bb(a)}finally{Zt.current=o}},useDebugValue:function(a,o){return At="useDebugValue",B(),$t(),Yb()},useDeferredValue:function(a){return At="useDeferredValue",B(),$t(),Z_(a)},useTransition:function(){return At="useTransition",B(),$t(),eE()},useMutableSource:function(a,o,m){return At="useMutableSource",B(),$t(),void 0},useSyncExternalStore:function(a,o,m){return At="useSyncExternalStore",B(),$t(),Ib(a,o)},useId:function(){return At="useId",B(),$t(),jv()},unstable_isNewReconciler:ge}}var Z=e.unstable_now,re=0,xe=-1,Ce=-1,Ze=-1,ct=!1,xt=!1;function Ot(){return ct}function zt(){xt=!0}function xn(){ct=!1,xt=!1}function jn(){ct=xt,xt=!1}function Tn(){return re}function Zi(){re=Z()}function Yi(a){Ce=Z(),a.actualStartTime<0&&(a.actualStartTime=Z())}function rt(a){Ce=-1}function Mt(a,o){if(Ce>=0){var m=Z()-Ce;a.actualDuration+=m,o&&(a.selfBaseDuration=m),Ce=-1}}function Ke(a){if(xe>=0){var o=Z()-xe;xe=-1;for(var m=a.return;m!==null;){switch(m.tag){case v:var g=m.stateNode;g.effectDuration+=o;return;case L:var S=m.stateNode;S.effectDuration+=o;return}m=m.return}}}function Gt(a){if(Ze>=0){var o=Z()-Ze;Ze=-1;for(var m=a.return;m!==null;){switch(m.tag){case v:var g=m.stateNode;g!==null&&(g.passiveEffectDuration+=o);return;case L:var S=m.stateNode;S!==null&&(S.passiveEffectDuration+=o);return}m=m.return}}}function un(){xe=Z()}function sn(){Ze=Z()}function Qn(a){for(var o=a.child;o;)a.actualDuration+=o.actualDuration,o=o.sibling}function Xn(a,o){if(a&&a.defaultProps){var m=Wt({},o),g=a.defaultProps;for(var S in g)m[S]===void 0&&(m[S]=g[S]);return m}return o}var Fi={},bi,er,ui,qn,pr,ar,ds,ra,hs,ps,Vs;{bi=new Set,er=new Set,ui=new Set,qn=new Set,ra=new Set,pr=new Set,hs=new Set,ps=new Set,Vs=new Set;var Vd=new Set;ds=function(a,o){if(!(a===null||typeof a=="function")){var m=o+"_"+a;Vd.has(m)||(Vd.add(m),l("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",o,a))}},ar=function(a,o){if(o===void 0){var m=zn(a)||"Component";pr.has(m)||(pr.add(m),l("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",m))}},Object.defineProperty(Fi,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Fi)}function hf(a,o,m,g){var S=a.memoizedState,R=m(g,S);{if(a.mode&dr){zi(!0);try{R=m(g,S)}finally{zi(!1)}}ar(o,R)}var F=R==null?S:Wt({},S,R);if(a.memoizedState=F,a.lanes===Ut){var z=a.updateQueue;z.baseState=F}}var ms={isMounted:Hx,enqueueSetState:function(a,o,m){var g=jl(a),S=lo(),R=Ep(g),F=eu(S,R);F.payload=o,m!=null&&(ds(m,"setState"),F.callback=m);var z=Wu(g,F,R);z!==null&&(Da(z,g,R,S),Nv(z,g,R)),Xx(g,R)},enqueueReplaceState:function(a,o,m){var g=jl(a),S=lo(),R=Ep(g),F=eu(S,R);F.tag=bM,F.payload=o,m!=null&&(ds(m,"replaceState"),F.callback=m);var z=Wu(g,F,R);z!==null&&(Da(z,g,R,S),Nv(z,g,R)),Xx(g,R)},enqueueForceUpdate:function(a,o){var m=jl(a),g=lo(),S=Ep(m),R=eu(g,S);R.tag=Ab,o!=null&&(ds(o,"forceUpdate"),R.callback=o);var F=Wu(m,R,S);F!==null&&(Da(F,m,S,g),Nv(F,m,S)),HR(m,S)}};function pf(a,o,m,g,S,R,F){var z=a.stateNode;if(typeof z.shouldComponentUpdate=="function"){var X=z.shouldComponentUpdate(g,R,F);{if(a.mode&dr){zi(!0);try{X=z.shouldComponentUpdate(g,R,F)}finally{zi(!1)}}X===void 0&&l("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",zn(o)||"Component")}return X}return o.prototype&&o.prototype.isPureReactComponent?!jh(m,g)||!jh(S,R):!0}function rE(a,o,m){var g=a.stateNode;{var S=zn(o)||"Component",R=g.render;R||(o.prototype&&typeof o.prototype.render=="function"?l("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",S):l("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",S)),g.getInitialState&&!g.getInitialState.isReactClassApproved&&!g.state&&l("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",S),g.getDefaultProps&&!g.getDefaultProps.isReactClassApproved&&l("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",S),g.propTypes&&l("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",S),g.contextType&&l("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",S),o.childContextTypes&&!Vs.has(o)&&(a.mode&dr)===Sn&&(Vs.add(o),l(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,S)),o.contextTypes&&!Vs.has(o)&&(a.mode&dr)===Sn&&(Vs.add(o),l(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,S)),g.contextTypes&&l("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",S),o.contextType&&o.contextTypes&&!hs.has(o)&&(hs.add(o),l("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",S)),typeof g.componentShouldUpdate=="function"&&l("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",S),o.prototype&&o.prototype.isPureReactComponent&&typeof g.shouldComponentUpdate<"u"&&l("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",zn(o)||"A pure component"),typeof g.componentDidUnmount=="function"&&l("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",S),typeof g.componentDidReceiveProps=="function"&&l("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",S),typeof g.componentWillRecieveProps=="function"&&l("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",S),typeof g.UNSAFE_componentWillRecieveProps=="function"&&l("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",S);var F=g.props!==m;g.props!==void 0&&F&&l("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",S,S),g.defaultProps&&l("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",S,S),typeof g.getSnapshotBeforeUpdate=="function"&&typeof g.componentDidUpdate!="function"&&!ui.has(o)&&(ui.add(o),l("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",zn(o))),typeof g.getDerivedStateFromProps=="function"&&l("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",S),typeof g.getDerivedStateFromError=="function"&&l("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",S),typeof o.getSnapshotBeforeUpdate=="function"&&l("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",S);var z=g.state;z&&(typeof z!="object"||vi(z))&&l("%s.state: must be set to an object or null",S),typeof g.getChildContext=="function"&&typeof o.childContextTypes!="object"&&l("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",S)}}function aE(a,o){o.updater=ms,a.stateNode=o,Js(o,a),o._reactInternalInstance=Fi}function UM(a,o,m){var g=!1,S=Os,R=Os,F=o.contextType;if("contextType"in o){var z=F===null||F!==void 0&&F.$$typeof===nt&&F._context===void 0;if(!z&&!ps.has(o)){ps.add(o);var X="";F===void 0?X=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof F!="object"?X=" However, it is set to a "+typeof F+".":F.$$typeof===de?X=" Did you accidentally pass the Context.Provider instead?":F._context!==void 0?X=" Did you accidentally pass the Context.Consumer instead?":X=" However, it is set to an object with keys {"+Object.keys(F).join(", ")+"}.",l("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",zn(o)||"Component",X)}}if(typeof F=="object"&&F!==null)R=Rr(F);else{S=qc(a,o,!0);var oe=o.contextTypes;g=oe!=null,R=g?sp(a,S):Os}var he=new o(m,R);if(a.mode&dr){zi(!0);try{he=new o(m,R)}finally{zi(!1)}}var Ie=a.memoizedState=he.state!==null&&he.state!==void 0?he.state:null;aE(a,he);{if(typeof o.getDerivedStateFromProps=="function"&&Ie===null){var Fe=zn(o)||"Component";er.has(Fe)||(er.add(Fe),l("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",Fe,he.state===null?"null":"undefined",Fe))}if(typeof o.getDerivedStateFromProps=="function"||typeof he.getSnapshotBeforeUpdate=="function"){var ot=null,lt=null,St=null;if(typeof he.componentWillMount=="function"&&he.componentWillMount.__suppressDeprecationWarning!==!0?ot="componentWillMount":typeof he.UNSAFE_componentWillMount=="function"&&(ot="UNSAFE_componentWillMount"),typeof he.componentWillReceiveProps=="function"&&he.componentWillReceiveProps.__suppressDeprecationWarning!==!0?lt="componentWillReceiveProps":typeof he.UNSAFE_componentWillReceiveProps=="function"&&(lt="UNSAFE_componentWillReceiveProps"),typeof he.componentWillUpdate=="function"&&he.componentWillUpdate.__suppressDeprecationWarning!==!0?St="componentWillUpdate":typeof he.UNSAFE_componentWillUpdate=="function"&&(St="UNSAFE_componentWillUpdate"),ot!==null||lt!==null||St!==null){var tn=zn(o)||"Component",_n=typeof o.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";qn.has(tn)||(qn.add(tn),l(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,tn,_n,ot!==null?`
  `+ot:"",lt!==null?`
  `+lt:"",St!==null?`
  `+St:""))}}}return g&&v_(a,S,R),he}function t2(a,o){var m=o.state;typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),m!==o.state&&(l("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Rn(a)||"Component"),ms.enqueueReplaceState(o,o.state,null))}function J3(a,o,m,g){var S=o.state;if(typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(m,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(m,g),o.state!==S){{var R=Rn(a)||"Component";bi.has(R)||(bi.add(R),l("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",R))}ms.enqueueReplaceState(o,o.state,null)}}function n2(a,o,m,g){rE(a,o,m);var S=a.stateNode;S.props=m,S.state=a.memoizedState,S.refs={},Tv(a);var R=o.contextType;if(typeof R=="object"&&R!==null)S.context=Rr(R);else{var F=qc(a,o,!0);S.context=sp(a,F)}{if(S.state===m){var z=zn(o)||"Component";ra.has(z)||(ra.add(z),l("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",z))}a.mode&dr&&cs.recordLegacyContextWarning(a,S),cs.recordUnsafeLifecycleWarnings(a,S)}S.state=a.memoizedState;var X=o.getDerivedStateFromProps;if(typeof X=="function"&&(hf(a,o,X,m),S.state=a.memoizedState),typeof o.getDerivedStateFromProps!="function"&&typeof S.getSnapshotBeforeUpdate!="function"&&(typeof S.UNSAFE_componentWillMount=="function"||typeof S.componentWillMount=="function")&&(t2(a,S),Lb(a,m,S,g),S.state=a.memoizedState),typeof S.componentDidMount=="function"){var oe=Jn;oe|=Qs,(a.mode&Gl)!==Sn&&(oe|=Nr),a.flags|=oe}}function e8(a,o,m,g){var S=a.stateNode,R=a.memoizedProps;S.props=R;var F=S.context,z=o.contextType,X=Os;if(typeof z=="object"&&z!==null)X=Rr(z);else{var oe=qc(a,o,!0);X=sp(a,oe)}var he=o.getDerivedStateFromProps,Ie=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function";!Ie&&(typeof S.UNSAFE_componentWillReceiveProps=="function"||typeof S.componentWillReceiveProps=="function")&&(R!==m||F!==X)&&J3(a,S,m,X),xM();var Fe=a.memoizedState,ot=S.state=Fe;if(Lb(a,m,S,g),ot=a.memoizedState,R===m&&Fe===ot&&!op()&&!Pb()){if(typeof S.componentDidMount=="function"){var lt=Jn;lt|=Qs,(a.mode&Gl)!==Sn&&(lt|=Nr),a.flags|=lt}return!1}typeof he=="function"&&(hf(a,o,he,m),ot=a.memoizedState);var St=Pb()||pf(a,o,R,m,Fe,ot,X);if(St){if(!Ie&&(typeof S.UNSAFE_componentWillMount=="function"||typeof S.componentWillMount=="function")&&(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"){var tn=Jn;tn|=Qs,(a.mode&Gl)!==Sn&&(tn|=Nr),a.flags|=tn}}else{if(typeof S.componentDidMount=="function"){var _n=Jn;_n|=Qs,(a.mode&Gl)!==Sn&&(_n|=Nr),a.flags|=_n}a.memoizedProps=m,a.memoizedState=ot}return S.props=m,S.state=ot,S.context=X,St}function t8(a,o,m,g,S){var R=o.stateNode;af(a,o);var F=o.memoizedProps,z=o.type===o.elementType?F:Xn(o.type,F);R.props=z;var X=o.pendingProps,oe=R.context,he=m.contextType,Ie=Os;if(typeof he=="object"&&he!==null)Ie=Rr(he);else{var Fe=qc(o,m,!0);Ie=sp(o,Fe)}var ot=m.getDerivedStateFromProps,lt=typeof ot=="function"||typeof R.getSnapshotBeforeUpdate=="function";!lt&&(typeof R.UNSAFE_componentWillReceiveProps=="function"||typeof R.componentWillReceiveProps=="function")&&(F!==X||oe!==Ie)&&J3(o,R,g,Ie),xM();var St=o.memoizedState,tn=R.state=St;if(Lb(o,g,R,S),tn=o.memoizedState,F===X&&St===tn&&!op()&&!Pb()&&!ve)return typeof R.componentDidUpdate=="function"&&(F!==a.memoizedProps||St!==a.memoizedState)&&(o.flags|=Jn),typeof R.getSnapshotBeforeUpdate=="function"&&(F!==a.memoizedProps||St!==a.memoizedState)&&(o.flags|=Su),!1;typeof ot=="function"&&(hf(o,m,ot,g),tn=o.memoizedState);var _n=Pb()||pf(o,m,z,g,St,tn,Ie)||ve;return _n?(!lt&&(typeof R.UNSAFE_componentWillUpdate=="function"||typeof R.componentWillUpdate=="function")&&(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(g,tn,Ie),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(g,tn,Ie)),typeof R.componentDidUpdate=="function"&&(o.flags|=Jn),typeof R.getSnapshotBeforeUpdate=="function"&&(o.flags|=Su)):(typeof R.componentDidUpdate=="function"&&(F!==a.memoizedProps||St!==a.memoizedState)&&(o.flags|=Jn),typeof R.getSnapshotBeforeUpdate=="function"&&(F!==a.memoizedProps||St!==a.memoizedState)&&(o.flags|=Su),o.memoizedProps=g,o.memoizedState=tn),R.props=g,R.state=tn,R.context=Ie,_n}function Gv(a,o){return{value:a,source:o,stack:xo(o),digest:null}}function i2(a,o,m){return{value:a,source:null,stack:m??null,digest:o??null}}function n8(a,o){return!0}function r2(a,o){try{var m=n8(a,o);if(m===!1)return;var g=o.value,S=o.source,R=o.stack,F=R!==null?R:"";if(g!=null&&g._suppressLogging){if(a.tag===f)return;console.error(g)}var z=S?Rn(S):null,X=z?"The above error occurred in the <"+z+"> component:":"The above error occurred in one of your React components:",oe;if(a.tag===v)oe=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var he=Rn(a)||"Anonymous";oe="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+he+".")}var Ie=X+`
`+F+`

`+(""+oe);console.error(Ie)}catch(Fe){setTimeout(function(){throw Fe})}}var i8=typeof WeakMap=="function"?WeakMap:Map;function Q3(a,o,m){var g=eu(oi,m);g.tag=hp,g.payload={element:null};var S=o.value;return g.callback=function(){$W(S),r2(a,o)},g}function a2(a,o,m){var g=eu(oi,m);g.tag=hp;var S=a.type.getDerivedStateFromError;if(typeof S=="function"){var R=o.value;g.payload=function(){return S(R)},g.callback=function(){cI(a),r2(a,o)}}var F=a.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(g.callback=function(){cI(a),r2(a,o),typeof S!="function"&&XW(this);var X=o.value,oe=o.stack;this.componentDidCatch(X,{componentStack:oe!==null?oe:""}),typeof S!="function"&&(ka(a.lanes,Dn)||l("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Rn(a)||"Unknown"))}),g}function eF(a,o,m){var g=a.pingCache,S;if(g===null?(g=a.pingCache=new i8,S=new Set,g.set(o,S)):(S=g.get(o),S===void 0&&(S=new Set,g.set(o,S))),!S.has(m)){S.add(m);var R=KW.bind(null,a,o,m);Eo&&_E(a,m),o.then(R,R)}}function r8(a,o,m,g){var S=a.updateQueue;if(S===null){var R=new Set;R.add(m),a.updateQueue=R}else S.add(m)}function a8(a,o){var m=a.tag;if((a.mode&ni)===Sn&&(m===h||m===w||m===V)){var g=a.alternate;g?(a.updateQueue=g.updateQueue,a.memoizedState=g.memoizedState,a.lanes=g.lanes):(a.updateQueue=null,a.memoizedState=null)}}function tF(a){var o=a;do{if(o.tag===U&&ZD(o))return o;o=o.return}while(o!==null);return null}function nF(a,o,m,g,S){if((a.mode&ni)===Sn){if(a===o)a.flags|=rs;else{if(a.flags|=yi,m.flags|=kx,m.flags&=~(cy|gh),m.tag===f){var R=m.alternate;if(R===null)m.tag=P;else{var F=eu(oi,Dn);F.tag=Ab,Wu(m,F,Dn)}}m.lanes=In(m.lanes,Dn)}return a}return a.flags|=rs,a.lanes=S,a}function s8(a,o,m,g,S){if(m.flags|=gh,Eo&&_E(a,S),g!==null&&typeof g=="object"&&typeof g.then=="function"){var R=g;a8(m),ji()&&m.mode&ni&&Eb();var F=tF(o);if(F!==null){F.flags&=~xu,nF(F,o,m,a,S),F.mode&ni&&eF(a,R,S),r8(F,a,R);return}else{if(!tN(S)){eF(a,R,S),V2();return}var z=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");g=z}}else if(ji()&&m.mode&ni){Eb();var X=tF(o);if(X!==null){(X.flags&rs)===Nn&&(X.flags|=xu),nF(X,o,m,a,S),xl(Gv(g,m));return}}g=Gv(g,m),kW(g);var oe=o;do{switch(oe.tag){case v:{var he=g;oe.flags|=rs;var Ie=Ch(S);oe.lanes=In(oe.lanes,Ie);var Fe=Q3(oe,he,Ie);P_(oe,Fe);return}case f:var ot=g,lt=oe.type,St=oe.stateNode;if((oe.flags&yi)===Nn&&(typeof lt.getDerivedStateFromError=="function"||St!==null&&typeof St.componentDidCatch=="function"&&!tI(St))){oe.flags|=rs;var tn=Ch(S);oe.lanes=In(oe.lanes,tn);var _n=a2(oe,ot,tn);P_(oe,_n);return}break}oe=oe.return}while(oe!==null)}function o8(){return null}var sE=t.ReactCurrentOwner,Xu=!1,s2,oE,o2,l2,u2,Wv,c2,OM,lE;s2={},oE={},o2={},l2={},u2={},Wv=!1,c2={},OM={},lE={};function so(a,o,m,g){a===null?o.child=ef(o,null,m,g):o.child=Sl(o,a.child,m,g)}function l8(a,o,m,g){o.child=Sl(o,a.child,null,g),o.child=Sl(o,null,m,g)}function iF(a,o,m,g,S){if(o.type!==o.elementType){var R=m.propTypes;R&&hl(R,g,"prop",zn(m))}var F=m.render,z=o.ref,X,oe;Gu(o,S),xm(o);{if(sE.current=o,br(!0),X=Od(a,o,F,g,z,S),oe=gp(),o.mode&dr){zi(!0);try{X=Od(a,o,F,g,z,S),oe=gp()}finally{zi(!1)}}br(!1)}return _h(),a!==null&&!Xu?(Is(a,o,S),kd(a,o,S)):(ji()&&oe&&y_(o),o.flags|=Ei,so(a,o,X,S),o.child)}function rF(a,o,m,g,S){if(a===null){var R=m.type;if(h7(R)&&m.compare===null&&m.defaultProps===void 0){var F=R;return F=s0(R),o.tag=V,o.type=F,h2(o,R),aF(a,o,F,g,S)}{var z=R.propTypes;if(z&&hl(z,g,"prop",zn(R)),m.defaultProps!==void 0){var X=zn(R)||"Unknown";lE[X]||(l("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",X),lE[X]=!0)}}var oe=$2(m.type,null,g,o,o.mode,S);return oe.ref=o.ref,oe.return=o,o.child=oe,oe}{var he=m.type,Ie=he.propTypes;Ie&&hl(Ie,g,"prop",zn(he))}var Fe=a.child,ot=b2(a,S);if(!ot){var lt=Fe.memoizedProps,St=m.compare;if(St=St!==null?St:jh,St(lt,g)&&a.ref===o.ref)return kd(a,o,S)}o.flags|=Ei;var tn=Kv(Fe,g);return tn.ref=o.ref,tn.return=o,o.child=tn,tn}function aF(a,o,m,g,S){if(o.type!==o.elementType){var R=o.elementType;if(R.$$typeof===_e){var F=R,z=F._payload,X=F._init;try{R=X(z)}catch{R=null}var oe=R&&R.propTypes;oe&&hl(oe,g,"prop",zn(R))}}if(a!==null){var he=a.memoizedProps;if(jh(he,g)&&a.ref===o.ref&&o.type===a.type)if(Xu=!1,o.pendingProps=g=he,b2(a,S))(a.flags&kx)!==Nn&&(Xu=!0);else return o.lanes=a.lanes,kd(a,o,S)}return f2(a,o,m,g,S)}function sF(a,o,m){var g=o.pendingProps,S=g.children,R=a!==null?a.memoizedState:null;if(g.mode==="hidden"||ce)if((o.mode&ni)===Sn){var F={baseLanes:Ut,cachePool:null,transitions:null};o.memoizedState=F,qM(o,m)}else if(ka(m,to)){var Ie={baseLanes:Ut,cachePool:null,transitions:null};o.memoizedState=Ie;var Fe=R!==null?R.baseLanes:m;qM(o,Fe)}else{var z=null,X;if(R!==null){var oe=R.baseLanes;X=In(oe,m)}else X=m;o.lanes=o.childLanes=to;var he={baseLanes:X,cachePool:z,transitions:null};return o.memoizedState=he,o.updateQueue=null,qM(o,X),null}else{var ot;R!==null?(ot=In(R.baseLanes,m),o.memoizedState=null):ot=m,qM(o,ot)}return so(a,o,S,m),o.child}function u8(a,o,m){var g=o.pendingProps;return so(a,o,g,m),o.child}function c8(a,o,m){var g=o.pendingProps.children;return so(a,o,g,m),o.child}function f8(a,o,m){{o.flags|=Jn;{var g=o.stateNode;g.effectDuration=0,g.passiveEffectDuration=0}}var S=o.pendingProps,R=S.children;return so(a,o,R,m),o.child}function oF(a,o){var m=o.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(o.flags|=Tc,o.flags|=qf)}function f2(a,o,m,g,S){if(o.type!==o.elementType){var R=m.propTypes;R&&hl(R,g,"prop",zn(m))}var F;{var z=qc(o,m,!0);F=sp(o,z)}var X,oe;Gu(o,S),xm(o);{if(sE.current=o,br(!0),X=Od(a,o,m,g,F,S),oe=gp(),o.mode&dr){zi(!0);try{X=Od(a,o,m,g,F,S),oe=gp()}finally{zi(!1)}}br(!1)}return _h(),a!==null&&!Xu?(Is(a,o,S),kd(a,o,S)):(ji()&&oe&&y_(o),o.flags|=Ei,so(a,o,X,S),o.child)}function lF(a,o,m,g,S){{switch(C7(o)){case!1:{var R=o.stateNode,F=o.type,z=new F(o.memoizedProps,R.context),X=z.state;R.updater.enqueueSetState(R,X,null);break}case!0:{o.flags|=yi,o.flags|=rs;var oe=new Error("Simulated error coming from DevTools"),he=Ch(S);o.lanes=In(o.lanes,he);var Ie=a2(o,Gv(oe,o),he);P_(o,Ie);break}}if(o.type!==o.elementType){var Fe=m.propTypes;Fe&&hl(Fe,g,"prop",zn(m))}}var ot;ml(m)?(ot=!0,vb(o)):ot=!1,Gu(o,S);var lt=o.stateNode,St;lt===null?(IM(a,o),UM(o,m,g),n2(o,m,g,S),St=!0):a===null?St=e8(o,m,g,S):St=t8(a,o,m,g,S);var tn=d2(a,o,m,St,ot,S);{var _n=o.stateNode;St&&_n.props!==g&&(Wv||l("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Rn(o)||"a component"),Wv=!0)}return tn}function d2(a,o,m,g,S,R){oF(a,o);var F=(o.flags&yi)!==Nn;if(!g&&!F)return S&&aM(o,m,!1),kd(a,o,R);var z=o.stateNode;sE.current=o;var X;if(F&&typeof m.getDerivedStateFromError!="function")X=null,rt();else{xm(o);{if(br(!0),X=z.render(),o.mode&dr){zi(!0);try{z.render()}finally{zi(!1)}}br(!1)}_h()}return o.flags|=Ei,a!==null&&F?l8(a,o,X,R):so(a,o,X,R),o.memoizedState=z.state,S&&aM(o,m,!0),o.child}function uF(a){var o=a.stateNode;o.pendingContext?iM(a,o.pendingContext,o.pendingContext!==o.context):o.context&&iM(a,o.context,!1),O_(a,o.containerInfo)}function d8(a,o,m){if(uF(o),a===null)throw new Error("Should have a current fiber. This is a bug in React.");var g=o.pendingProps,S=o.memoizedState,R=S.element;af(a,o),Lb(o,g,null,m);var F=o.memoizedState;o.stateNode;var z=F.element;if(S.isDehydrated){var X={element:z,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},oe=o.updateQueue;if(oe.baseState=X,o.memoizedState=X,o.flags&xu){var he=Gv(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),o);return cF(a,o,z,m,he)}else if(z!==R){var Ie=Gv(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),o);return cF(a,o,z,m,Ie)}else{fM(o);var Fe=ef(o,null,z,m);o.child=Fe;for(var ot=Fe;ot;)ot.flags=ot.flags&~cr|il,ot=ot.sibling}}else{if(Jc(),z===R)return kd(a,o,m);so(a,o,z,m)}return o.child}function cF(a,o,m,g,S){return Jc(),xl(S),o.flags|=xu,so(a,o,m,g),o.child}function h8(a,o,m){SM(o),a===null&&T_(o);var g=o.type,S=o.pendingProps,R=a!==null?a.memoizedProps:null,F=S.children,z=n_(g,S);return z?F=null:R!==null&&n_(g,R)&&(o.flags|=Ec),oF(a,o),so(a,o,F,m),o.child}function p8(a,o){return a===null&&T_(o),null}function m8(a,o,m,g){IM(a,o);var S=o.pendingProps,R=m,F=R._payload,z=R._init,X=z(F);o.type=X;var oe=o.tag=p7(X),he=Xn(X,S),Ie;switch(oe){case h:return h2(o,X),o.type=X=s0(X),Ie=f2(null,o,X,he,g),Ie;case f:return o.type=X=j2(X),Ie=lF(null,o,X,he,g),Ie;case w:return o.type=X=G2(X),Ie=iF(null,o,X,he,g),Ie;case k:{if(o.type!==o.elementType){var Fe=X.propTypes;Fe&&hl(Fe,he,"prop",zn(X))}return Ie=rF(null,o,X,Xn(X.type,he),g),Ie}}var ot="";throw X!==null&&typeof X=="object"&&X.$$typeof===_e&&(ot=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+X+". "+("Lazy element type must resolve to a class or function."+ot))}function v8(a,o,m,g,S){IM(a,o),o.tag=f;var R;return ml(m)?(R=!0,vb(o)):R=!1,Gu(o,S),UM(o,m,g),n2(o,m,g,S),d2(null,o,m,!0,R,S)}function g8(a,o,m,g){IM(a,o);var S=o.pendingProps,R;{var F=qc(o,m,!1);R=sp(o,F)}Gu(o,g);var z,X;xm(o);{if(m.prototype&&typeof m.prototype.render=="function"){var oe=zn(m)||"Unknown";s2[oe]||(l("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",oe,oe),s2[oe]=!0)}o.mode&dr&&cs.recordLegacyContextWarning(o,null),br(!0),sE.current=o,z=Od(null,o,m,S,R,g),X=gp(),br(!1)}if(_h(),o.flags|=Ei,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0){var he=zn(m)||"Unknown";oE[he]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",he,he,he),oE[he]=!0)}if(typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0){{var Ie=zn(m)||"Unknown";oE[Ie]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",Ie,Ie,Ie),oE[Ie]=!0)}o.tag=f,o.memoizedState=null,o.updateQueue=null;var Fe=!1;return ml(m)?(Fe=!0,vb(o)):Fe=!1,o.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,Tv(o),aE(o,z),n2(o,m,S,g),d2(null,o,m,!0,Fe,g)}else{if(o.tag=h,o.mode&dr){zi(!0);try{z=Od(null,o,m,S,R,g),X=gp()}finally{zi(!1)}}return ji()&&X&&y_(o),so(null,o,z,g),h2(o,m),o.child}}function h2(a,o){{if(o&&o.childContextTypes&&l("%s(...): childContextTypes cannot be defined on a function component.",o.displayName||o.name||"Component"),a.ref!==null){var m="",g=Ko();g&&(m+=`

Check the render method of \``+g+"`.");var S=g||"",R=a._debugSource;R&&(S=R.fileName+":"+R.lineNumber),u2[S]||(u2[S]=!0,l("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",m))}if(o.defaultProps!==void 0){var F=zn(o)||"Unknown";lE[F]||(l("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",F),lE[F]=!0)}if(typeof o.getDerivedStateFromProps=="function"){var z=zn(o)||"Unknown";l2[z]||(l("%s: Function components do not support getDerivedStateFromProps.",z),l2[z]=!0)}if(typeof o.contextType=="object"&&o.contextType!==null){var X=zn(o)||"Unknown";o2[X]||(l("%s: Function components do not support contextType.",X),o2[X]=!0)}}}var p2={dehydrated:null,treeContext:null,retryLane:Br};function m2(a){return{baseLanes:a,cachePool:o8(),transitions:null}}function y8(a,o){var m=null;return{baseLanes:In(a.baseLanes,o),cachePool:m,transitions:a.transitions}}function b8(a,o,m,g){if(o!==null){var S=o.memoizedState;if(S===null)return!1}return I_(a,pp)}function x8(a,o){return Ah(a.childLanes,o)}function fF(a,o,m){var g=o.pendingProps;A7(o)&&(o.flags|=yi);var S=Wi.current,R=!1,F=(o.flags&yi)!==Nn;if(F||b8(S,a)?(R=!0,o.flags&=~yi):(a===null||a.memoizedState!==null)&&(S=KD(S,EM)),S=Ld(S),lf(o,S),a===null){T_(o);var z=o.memoizedState;if(z!==null){var X=z.dehydrated;if(X!==null)return N8(o,X)}var oe=g.children,he=g.fallback;if(R){var Ie=S8(o,oe,he,m),Fe=o.child;return Fe.memoizedState=m2(m),o.memoizedState=p2,Ie}else return v2(o,oe)}else{var ot=a.memoizedState;if(ot!==null){var lt=ot.dehydrated;if(lt!==null)return M8(a,o,F,g,lt,ot,m)}if(R){var St=g.fallback,tn=g.children,_n=E8(a,o,tn,St,m),gn=o.child,fi=a.child.memoizedState;return gn.memoizedState=fi===null?m2(m):y8(fi,m),gn.childLanes=x8(a,m),o.memoizedState=p2,_n}else{var ii=g.children,et=_8(a,o,ii,m);return o.memoizedState=null,et}}}function v2(a,o,m){var g=a.mode,S={mode:"visible",children:o},R=g2(S,g);return R.return=a,a.child=R,R}function S8(a,o,m,g){var S=a.mode,R=a.child,F={mode:"hidden",children:o},z,X;return(S&ni)===Sn&&R!==null?(z=R,z.childLanes=Ut,z.pendingProps=F,a.mode&wi&&(z.actualDuration=0,z.actualStartTime=-1,z.selfBaseDuration=0,z.treeBaseDuration=0),X=Np(m,S,g,null)):(z=g2(F,S),X=Np(m,S,g,null)),z.return=a,X.return=a,z.sibling=X,a.child=z,X}function g2(a,o,m){return dI(a,o,Ut,null)}function dF(a,o){return Kv(a,o)}function _8(a,o,m,g){var S=a.child,R=S.sibling,F=dF(S,{mode:"visible",children:m});if((o.mode&ni)===Sn&&(F.lanes=g),F.return=o,F.sibling=null,R!==null){var z=o.deletions;z===null?(o.deletions=[R],o.flags|=tl):z.push(R)}return o.child=F,F}function E8(a,o,m,g,S){var R=o.mode,F=a.child,z=F.sibling,X={mode:"hidden",children:m},oe;if((R&ni)===Sn&&o.child!==F){var he=o.child;oe=he,oe.childLanes=Ut,oe.pendingProps=X,o.mode&wi&&(oe.actualDuration=0,oe.actualStartTime=-1,oe.selfBaseDuration=F.selfBaseDuration,oe.treeBaseDuration=F.treeBaseDuration),o.deletions=null}else oe=dF(F,X),oe.subtreeFlags=F.subtreeFlags&Eu;var Ie;return z!==null?Ie=Kv(z,g):(Ie=Np(g,R,S,null),Ie.flags|=cr),Ie.return=o,oe.return=o,oe.sibling=Ie,o.child=oe,Ie}function FM(a,o,m,g){g!==null&&xl(g),Sl(o,a.child,null,m);var S=o.pendingProps,R=S.children,F=v2(o,R);return F.flags|=cr,o.memoizedState=null,F}function T8(a,o,m,g,S){var R=o.mode,F={mode:"visible",children:m},z=g2(F,R),X=Np(g,R,S,null);return X.flags|=cr,z.return=o,X.return=o,z.sibling=X,o.child=z,(o.mode&ni)!==Sn&&Sl(o,a.child,null,S),X}function N8(a,o,m){return(a.mode&ni)===Sn?(l("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),a.lanes=Dn):u_(o)?a.lanes=Va:a.lanes=to,null}function M8(a,o,m,g,S,R,F){if(m)if(o.flags&xu){o.flags&=~xu;var et=i2(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return FM(a,o,F,et)}else{if(o.memoizedState!==null)return o.child=a.child,o.flags|=yi,null;var _t=g.children,tt=g.fallback,It=T8(a,o,_t,tt,F),cn=o.child;return cn.memoizedState=m2(F),o.memoizedState=p2,It}else{if(b_(),(o.mode&ni)===Sn)return FM(a,o,F,null);if(u_(S)){var z,X,oe;{var he=YN(S);z=he.digest,X=he.message,oe=he.stack}var Ie;X?Ie=new Error(X):Ie=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var Fe=i2(Ie,z,oe);return FM(a,o,F,Fe)}var ot=ka(F,a.childLanes);if(Xu||ot){var lt=XM();if(lt!==null){var St=Sy(lt,F);if(St!==Br&&St!==R.retryLane){R.retryLane=St;var tn=oi;Dr(a,St),Da(lt,a,St,tn)}}V2();var _n=i2(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return FM(a,o,F,_n)}else if(l_(S)){o.flags|=yi,o.child=a.child;var gn=ZW.bind(null,a);return DD(S,gn),null}else{jD(o,S,R.treeContext);var fi=g.children,ii=v2(o,fi);return ii.flags|=il,ii}}}function hF(a,o,m){a.lanes=In(a.lanes,o);var g=a.alternate;g!==null&&(g.lanes=In(g.lanes,o)),A_(a.return,o,m)}function w8(a,o,m){for(var g=o;g!==null;){if(g.tag===U){var S=g.memoizedState;S!==null&&hF(g,m,a)}else if(g.tag===q)hF(g,m,a);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)return;for(;g.sibling===null;){if(g.return===null||g.return===a)return;g=g.return}g.sibling.return=g.return,g=g.sibling}}function C8(a){for(var o=a,m=null;o!==null;){var g=o.alternate;g!==null&&Dv(g)===null&&(m=o),o=o.sibling}return m}function A8(a){if(a!==void 0&&a!=="forwards"&&a!=="backwards"&&a!=="together"&&!c2[a])if(c2[a]=!0,typeof a=="string")switch(a.toLowerCase()){case"together":case"forwards":case"backwards":{l('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',a,a.toLowerCase());break}case"forward":case"backward":{l('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',a,a.toLowerCase());break}default:l('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',a);break}else l('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',a)}function R8(a,o){a!==void 0&&!OM[a]&&(a!=="collapsed"&&a!=="hidden"?(OM[a]=!0,l('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',a)):o!=="forwards"&&o!=="backwards"&&(OM[a]=!0,l('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',a)))}function pF(a,o){{var m=vi(a),g=!m&&typeof mn(a)=="function";if(m||g){var S=m?"array":"iterable";return l("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",S,o,S),!1}}return!0}function D8(a,o){if((o==="forwards"||o==="backwards")&&a!==void 0&&a!==null&&a!==!1)if(vi(a)){for(var m=0;m<a.length;m++)if(!pF(a[m],m))return}else{var g=mn(a);if(typeof g=="function"){var S=g.call(a);if(S)for(var R=S.next(),F=0;!R.done;R=S.next()){if(!pF(R.value,F))return;F++}}else l('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',o)}}function y2(a,o,m,g,S){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:m,tailMode:S}:(R.isBackwards=o,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=m,R.tailMode=S)}function mF(a,o,m){var g=o.pendingProps,S=g.revealOrder,R=g.tail,F=g.children;A8(S),R8(R,S),D8(F,S),so(a,o,F,m);var z=Wi.current,X=I_(z,pp);if(X)z=V_(z,pp),o.flags|=yi;else{var oe=a!==null&&(a.flags&yi)!==Nn;oe&&w8(o,o.child,m),z=Ld(z)}if(lf(o,z),(o.mode&ni)===Sn)o.memoizedState=null;else switch(S){case"forwards":{var he=C8(o.child),Ie;he===null?(Ie=o.child,o.child=null):(Ie=he.sibling,he.sibling=null),y2(o,!1,Ie,he,R);break}case"backwards":{var Fe=null,ot=o.child;for(o.child=null;ot!==null;){var lt=ot.alternate;if(lt!==null&&Dv(lt)===null){o.child=ot;break}var St=ot.sibling;ot.sibling=Fe,Fe=ot,ot=St}y2(o,!0,Fe,null,R);break}case"together":{y2(o,!1,null,null,void 0);break}default:o.memoizedState=null}return o.child}function L8(a,o,m){O_(o,o.stateNode.containerInfo);var g=o.pendingProps;return a===null?o.child=Sl(o,null,g,m):so(a,o,g,m),o.child}var vF=!1;function P8(a,o,m){var g=o.type,S=g._context,R=o.pendingProps,F=o.memoizedProps,z=R.value;{"value"in R||vF||(vF=!0,l("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var X=o.type.propTypes;X&&hl(X,R,"prop","Context.Provider")}if(Xa(o,S,z),F!==null){var oe=F.value;if(Ls(oe,z)){if(F.children===R.children&&!op())return kd(a,o,m)}else na(o,S,m)}var he=R.children;return so(a,o,he,m),o.child}var gF=!1;function U8(a,o,m){var g=o.type;g._context===void 0?g!==g.Consumer&&(gF||(gF=!0,l("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):g=g._context;var S=o.pendingProps,R=S.children;typeof R!="function"&&l("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Gu(o,m);var F=Rr(g);xm(o);var z;return sE.current=o,br(!0),z=R(F),br(!1),_h(),o.flags|=Ei,so(a,o,z,m),o.child}function uE(){Xu=!0}function IM(a,o){(o.mode&ni)===Sn&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=cr)}function kd(a,o,m){return a!==null&&(o.dependencies=a.dependencies),rt(),SE(o.lanes),ka(m,o.childLanes)?(ju(a,o),o.child):null}function O8(a,o,m){{var g=o.return;if(g===null)throw new Error("Cannot swap the root fiber.");if(a.alternate=null,o.alternate=null,m.index=o.index,m.sibling=o.sibling,m.return=o.return,m.ref=o.ref,o===g.child)g.child=m;else{var S=g.child;if(S===null)throw new Error("Expected parent to have a child.");for(;S.sibling!==o;)if(S=S.sibling,S===null)throw new Error("Expected to find the previous sibling.");S.sibling=m}var R=g.deletions;return R===null?(g.deletions=[a],g.flags|=tl):R.push(a),m.flags|=cr,m}}function b2(a,o){var m=a.lanes;return!!ka(m,o)}function F8(a,o,m){switch(o.tag){case v:uF(o),o.stateNode,Jc();break;case x:SM(o);break;case f:{var g=o.type;ml(g)&&vb(o);break}case y:O_(o,o.stateNode.containerInfo);break;case A:{var S=o.memoizedProps.value,R=o.type._context;Xa(o,R,S);break}case L:{var F=ka(m,o.childLanes);F&&(o.flags|=Jn);{var z=o.stateNode;z.effectDuration=0,z.passiveEffectDuration=0}}break;case U:{var X=o.memoizedState;if(X!==null){if(X.dehydrated!==null)return lf(o,Ld(Wi.current)),o.flags|=yi,null;var oe=o.child,he=oe.childLanes;if(ka(m,he))return fF(a,o,m);lf(o,Ld(Wi.current));var Ie=kd(a,o,m);return Ie!==null?Ie.sibling:null}else lf(o,Ld(Wi.current));break}case q:{var Fe=(a.flags&yi)!==Nn,ot=ka(m,o.childLanes);if(Fe){if(ot)return mF(a,o,m);o.flags|=yi}var lt=o.memoizedState;if(lt!==null&&(lt.rendering=null,lt.tail=null,lt.lastEffect=null),lf(o,Wi.current),ot)break;return null}case J:case W:return o.lanes=Ut,sF(a,o,m)}return kd(a,o,m)}function yF(a,o,m){if(o._debugNeedsRemount&&a!==null)return O8(a,o,$2(o.type,o.key,o.pendingProps,o._debugOwner||null,o.mode,o.lanes));if(a!==null){var g=a.memoizedProps,S=o.pendingProps;if(g!==S||op()||o.type!==a.type)Xu=!0;else{var R=b2(a,m);if(!R&&(o.flags&yi)===Nn)return Xu=!1,F8(a,o,m);(a.flags&kx)!==Nn?Xu=!0:Xu=!1}}else if(Xu=!1,ji()&&uM(o)){var F=o.index,z=Uo();cM(o,z,F)}switch(o.lanes=Ut,o.tag){case p:return g8(a,o,o.type,m);case H:{var X=o.elementType;return m8(a,o,X,m)}case h:{var oe=o.type,he=o.pendingProps,Ie=o.elementType===oe?he:Xn(oe,he);return f2(a,o,oe,Ie,m)}case f:{var Fe=o.type,ot=o.pendingProps,lt=o.elementType===Fe?ot:Xn(Fe,ot);return lF(a,o,Fe,lt,m)}case v:return d8(a,o,m);case x:return h8(a,o,m);case _:return p8(a,o);case U:return fF(a,o,m);case y:return L8(a,o,m);case w:{var St=o.type,tn=o.pendingProps,_n=o.elementType===St?tn:Xn(St,tn);return iF(a,o,St,_n,m)}case M:return u8(a,o,m);case N:return c8(a,o,m);case L:return f8(a,o,m);case A:return P8(a,o,m);case T:return U8(a,o,m);case k:{var gn=o.type,fi=o.pendingProps,ii=Xn(gn,fi);if(o.type!==o.elementType){var et=gn.propTypes;et&&hl(et,ii,"prop",zn(gn))}return ii=Xn(gn.type,ii),rF(a,o,gn,ii,m)}case V:return aF(a,o,o.type,o.pendingProps,m);case P:{var _t=o.type,tt=o.pendingProps,It=o.elementType===_t?tt:Xn(_t,tt);return v8(a,o,_t,It,m)}case q:return mF(a,o,m);case j:break;case J:return sF(a,o,m)}throw new Error("Unknown unit of work tag ("+o.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Qb(a){a.flags|=Jn}function bF(a){a.flags|=Tc,a.flags|=qf}var xF,x2,SF,_F;xF=function(a,o,m,g){for(var S=o.child;S!==null;){if(S.tag===x||S.tag===_)yD(a,S.stateNode);else if(S.tag!==y){if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===o)return;for(;S.sibling===null;){if(S.return===null||S.return===o)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},x2=function(a,o){},SF=function(a,o,m,g,S){var R=a.memoizedProps;if(R!==g){var F=o.stateNode,z=F_(),X=bD(F,m,R,g,S,z);o.updateQueue=X,X&&Qb(o)}},_F=function(a,o,m,g){m!==g&&Qb(o)};function cE(a,o){if(!ji())switch(a.tailMode){case"hidden":{for(var m=a.tail,g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?a.tail=null:g.sibling=null;break}case"collapsed":{for(var S=a.tail,R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?!o&&a.tail!==null?a.tail.sibling=null:a.tail=null:R.sibling=null;break}}}function vs(a){var o=a.alternate!==null&&a.alternate.child===a.child,m=Ut,g=Nn;if(o){if((a.mode&wi)!==Sn){for(var X=a.selfBaseDuration,oe=a.child;oe!==null;)m=In(m,In(oe.lanes,oe.childLanes)),g|=oe.subtreeFlags&Eu,g|=oe.flags&Eu,X+=oe.treeBaseDuration,oe=oe.sibling;a.treeBaseDuration=X}else for(var he=a.child;he!==null;)m=In(m,In(he.lanes,he.childLanes)),g|=he.subtreeFlags&Eu,g|=he.flags&Eu,he.return=a,he=he.sibling;a.subtreeFlags|=g}else{if((a.mode&wi)!==Sn){for(var S=a.actualDuration,R=a.selfBaseDuration,F=a.child;F!==null;)m=In(m,In(F.lanes,F.childLanes)),g|=F.subtreeFlags,g|=F.flags,S+=F.actualDuration,R+=F.treeBaseDuration,F=F.sibling;a.actualDuration=S,a.treeBaseDuration=R}else for(var z=a.child;z!==null;)m=In(m,In(z.lanes,z.childLanes)),g|=z.subtreeFlags,g|=z.flags,z.return=a,z=z.sibling;a.subtreeFlags|=g}return a.childLanes=m,o}function I8(a,o,m){if(bl()&&(o.mode&ni)!==Sn&&(o.flags&yi)===Nn)return Ar(o),Jc(),o.flags|=xu|gh|rs,!1;var g=Ki(o);if(m!==null&&m.dehydrated!==null)if(a===null){if(!g)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(WD(o),vs(o),(o.mode&wi)!==Sn){var S=m!==null;if(S){var R=o.child;R!==null&&(o.treeBaseDuration-=R.treeBaseDuration)}}return!1}else{if(Jc(),(o.flags&yi)===Nn&&(o.memoizedState=null),o.flags|=Jn,vs(o),(o.mode&wi)!==Sn){var F=m!==null;if(F){var z=o.child;z!==null&&(o.treeBaseDuration-=z.treeBaseDuration)}}return!1}else return Na(),!0}function EF(a,o,m){var g=o.pendingProps;switch(fp(o),o.tag){case p:case H:case V:case h:case w:case M:case N:case L:case T:case k:return vs(o),null;case f:{var S=o.type;return ml(S)&&mb(o),vs(o),null}case v:{var R=o.stateNode;if(fs(o),lp(o),Lv(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),a===null||a.child===null){var F=Ki(o);if(F)Qb(o);else if(a!==null){var z=a.memoizedState;(!z.isDehydrated||(o.flags&xu)!==Nn)&&(o.flags|=Su,Na())}}return x2(a,o),vs(o),null}case x:{Ub(o);var X=of(),oe=o.type;if(a!==null&&o.stateNode!=null)SF(a,o,oe,g,X),a.ref!==o.ref&&bF(o);else{if(!g){if(o.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return vs(o),null}var he=F_(),Ie=Ki(o);if(Ie)GD(o,X,he)&&Qb(o);else{var Fe=FN(oe,g,X,he,o);xF(Fe,o,!1,!1),o.stateNode=Fe,IN(Fe,oe,g,X)&&Qb(o)}o.ref!==null&&bF(o)}return vs(o),null}case _:{var ot=g;if(a&&o.stateNode!=null){var lt=a.memoizedProps;_F(a,o,lt,ot)}else{if(typeof ot!="string"&&o.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var St=of(),tn=F_(),_n=Ki(o);_n?pM(o)&&Qb(o):o.stateNode=xD(ot,St,tn,o)}return vs(o),null}case U:{mp(o);var gn=o.memoizedState;if(a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){var fi=I8(a,o,gn);if(!fi)return o.flags&rs?o:null}if((o.flags&yi)!==Nn)return o.lanes=m,(o.mode&wi)!==Sn&&Qn(o),o;var ii=gn!==null,et=a!==null&&a.memoizedState!==null;if(ii!==et&&ii){var _t=o.child;if(_t.flags|=Nc,(o.mode&ni)!==Sn){var tt=a===null&&(o.memoizedProps.unstable_avoidThisFallback!==!0||!Y);tt||I_(Wi.current,EM)?VW():V2()}}var It=o.updateQueue;if(It!==null&&(o.flags|=Jn),vs(o),(o.mode&wi)!==Sn&&ii){var cn=o.child;cn!==null&&(o.treeBaseDuration-=cn.treeBaseDuration)}return null}case y:return fs(o),x2(a,o),a===null&&rp(o.stateNode.containerInfo),vs(o),null;case A:var on=o.type._context;return Ql(on,o),vs(o),null;case P:{var Ln=o.type;return ml(Ln)&&mb(o),vs(o),null}case q:{mp(o);var kn=o.memoizedState;if(kn===null)return vs(o),null;var ki=(o.flags&yi)!==Nn,Si=kn.rendering;if(Si===null)if(ki)cE(kn,!1);else{var aa=BW()&&(a===null||(a.flags&yi)===Nn);if(!aa)for(var _i=o.child;_i!==null;){var Wr=Dv(_i);if(Wr!==null){ki=!0,o.flags|=yi,cE(kn,!1);var ks=Wr.updateQueue;return ks!==null&&(o.updateQueue=ks,o.flags|=Jn),o.subtreeFlags=Nn,xv(o,m),lf(o,V_(Wi.current,pp)),o.child}_i=_i.sibling}kn.tail!==null&&da()>GF()&&(o.flags|=yi,ki=!0,cE(kn,!1),o.lanes=Tm)}else{if(!ki){var Ss=Dv(Si);if(Ss!==null){o.flags|=yi,ki=!0;var Tl=Ss.updateQueue;if(Tl!==null&&(o.updateQueue=Tl,o.flags|=Jn),cE(kn,!0),kn.tail===null&&kn.tailMode==="hidden"&&!Si.alternate&&!ji())return vs(o),null}else da()*2-kn.renderingStartTime>GF()&&m!==to&&(o.flags|=yi,ki=!0,cE(kn,!1),o.lanes=Tm)}if(kn.isBackwards)Si.sibling=o.child,o.child=Si;else{var uo=kn.last;uo!==null?uo.sibling=Si:o.child=Si,kn.last=Si}}if(kn.tail!==null){var co=kn.tail;kn.rendering=co,kn.tail=co.sibling,kn.renderingStartTime=da(),co.sibling=null;var Bs=Wi.current;return ki?Bs=V_(Bs,pp):Bs=Ld(Bs),lf(o,Bs),co}return vs(o),null}case j:break;case J:case W:{I2(o);var Gd=o.memoizedState,o0=Gd!==null;if(a!==null){var ME=a.memoizedState,gf=ME!==null;gf!==o0&&!ce&&(o.flags|=Nc)}return!o0||(o.mode&ni)===Sn?vs(o):ka(vf,to)&&(vs(o),o.subtreeFlags&(cr|Jn)&&(o.flags|=Nc)),null}case se:return null;case te:return null}throw new Error("Unknown unit of work tag ("+o.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function V8(a,o,m){switch(fp(o),o.tag){case f:{var g=o.type;ml(g)&&mb(o);var S=o.flags;return S&rs?(o.flags=S&~rs|yi,(o.mode&wi)!==Sn&&Qn(o),o):null}case v:{o.stateNode,fs(o),lp(o),Lv();var R=o.flags;return(R&rs)!==Nn&&(R&yi)===Nn?(o.flags=R&~rs|yi,o):null}case x:return Ub(o),null;case U:{mp(o);var F=o.memoizedState;if(F!==null&&F.dehydrated!==null){if(o.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Jc()}var z=o.flags;return z&rs?(o.flags=z&~rs|yi,(o.mode&wi)!==Sn&&Qn(o),o):null}case q:return mp(o),null;case y:return fs(o),null;case A:var X=o.type._context;return Ql(X,o),null;case J:case W:return I2(o),null;case se:return null;default:return null}}function TF(a,o,m){switch(fp(o),o.tag){case f:{var g=o.type.childContextTypes;g!=null&&mb(o);break}case v:{o.stateNode,fs(o),lp(o),Lv();break}case x:{Ub(o);break}case y:fs(o);break;case U:mp(o);break;case q:mp(o);break;case A:var S=o.type._context;Ql(S,o);break;case J:case W:I2(o);break}}var NF=null;NF=new Set;var VM=!1,gs=!1,k8=typeof WeakSet=="function"?WeakSet:Set,pn=null,e0=null,t0=null;function B8(a){pm(null,function(){throw a}),ly()}var z8=function(a,o){if(o.props=a.memoizedProps,o.state=a.memoizedState,a.mode&wi)try{un(),o.componentWillUnmount()}finally{Ke(a)}else o.componentWillUnmount()};function MF(a,o){try{xp(Lr,a)}catch(m){tr(a,o,m)}}function S2(a,o,m){try{z8(a,m)}catch(g){tr(a,o,g)}}function H8(a,o,m){try{m.componentDidMount()}catch(g){tr(a,o,g)}}function wF(a,o){try{AF(a)}catch(m){tr(a,o,m)}}function n0(a,o){var m=a.ref;if(m!==null)if(typeof m=="function"){var g;try{if(we&&Oe&&a.mode&wi)try{un(),g=m(null)}finally{Ke(a)}else g=m(null)}catch(S){tr(a,o,S)}typeof g=="function"&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Rn(a))}else m.current=null}function kM(a,o,m){try{m()}catch(g){tr(a,o,g)}}var CF=!1;function j8(a,o){ON(a.containerInfo),pn=o,G8();var m=CF;return CF=!1,m}function G8(){for(;pn!==null;){var a=pn,o=a.child;(a.subtreeFlags&Hn)!==Nn&&o!==null?(o.return=a,pn=o):W8()}}function W8(){for(;pn!==null;){var a=pn;Bi(a);try{Y8(a)}catch(m){tr(a,a.return,m)}yr();var o=a.sibling;if(o!==null){o.return=a.return,pn=o;return}pn=a.return}}function Y8(a){var o=a.alternate,m=a.flags;if((m&Su)!==Nn){switch(Bi(a),a.tag){case h:case w:case V:break;case f:{if(o!==null){var g=o.memoizedProps,S=o.memoizedState,R=a.stateNode;a.type===a.elementType&&!Wv&&(R.props!==a.memoizedProps&&l("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Rn(a)||"instance"),R.state!==a.memoizedState&&l("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Rn(a)||"instance"));var F=R.getSnapshotBeforeUpdate(a.elementType===a.type?g:Xn(a.type,g),S);{var z=NF;F===void 0&&!z.has(a.type)&&(z.add(a.type),l("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Rn(a)))}R.__reactInternalSnapshotBeforeUpdate=F}break}case v:{{var X=a.stateNode;AD(X.containerInfo)}break}case x:case _:case y:case P:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}yr()}}function qu(a,o,m){var g=o.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var R=S.next,F=R;do{if((F.tag&a)===a){var z=F.destroy;F.destroy=void 0,z!==void 0&&((a&wa)!==Ma?PR(o):(a&Lr)!==Ma&&$f(o),(a&_l)!==Ma&&EE(!0),kM(o,m,z),(a&_l)!==Ma&&EE(!1),(a&wa)!==Ma?UR():(a&Lr)!==Ma&&KT())}F=F.next}while(F!==R)}}function xp(a,o){var m=o.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var S=g.next,R=S;do{if((R.tag&a)===a){(a&wa)!==Ma?ha(o):(a&Lr)!==Ma&&$T(o);var F=R.create;(a&_l)!==Ma&&EE(!0),R.destroy=F(),(a&_l)!==Ma&&EE(!1),(a&wa)!==Ma?LR():(a&Lr)!==Ma&&Sm();{var z=R.destroy;if(z!==void 0&&typeof z!="function"){var X=void 0;(R.tag&Lr)!==Nn?X="useLayoutEffect":(R.tag&_l)!==Nn?X="useInsertionEffect":X="useEffect";var oe=void 0;z===null?oe=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof z.then=="function"?oe=`

It looks like you wrote `+X+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+X+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:oe=" You returned: "+z,l("%s must not return anything besides a function, which is used for clean-up.%s",X,oe)}}}R=R.next}while(R!==S)}}function X8(a,o){if((o.flags&Jn)!==Nn)switch(o.tag){case L:{var m=o.stateNode.passiveEffectDuration,g=o.memoizedProps,S=g.id,R=g.onPostCommit,F=Tn(),z=o.alternate===null?"mount":"update";Ot()&&(z="nested-update"),typeof R=="function"&&R(S,z,m,F);var X=o.return;e:for(;X!==null;){switch(X.tag){case v:var oe=X.stateNode;oe.passiveEffectDuration+=m;break e;case L:var he=X.stateNode;he.passiveEffectDuration+=m;break e}X=X.return}break}}}function q8(a,o,m,g){if((m.flags&bh)!==Nn)switch(m.tag){case h:case w:case V:{if(!gs)if(m.mode&wi)try{un(),xp(Lr|Er,m)}finally{Ke(m)}else xp(Lr|Er,m);break}case f:{var S=m.stateNode;if(m.flags&Jn&&!gs)if(o===null)if(m.type===m.elementType&&!Wv&&(S.props!==m.memoizedProps&&l("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Rn(m)||"instance"),S.state!==m.memoizedState&&l("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Rn(m)||"instance")),m.mode&wi)try{un(),S.componentDidMount()}finally{Ke(m)}else S.componentDidMount();else{var R=m.elementType===m.type?o.memoizedProps:Xn(m.type,o.memoizedProps),F=o.memoizedState;if(m.type===m.elementType&&!Wv&&(S.props!==m.memoizedProps&&l("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Rn(m)||"instance"),S.state!==m.memoizedState&&l("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Rn(m)||"instance")),m.mode&wi)try{un(),S.componentDidUpdate(R,F,S.__reactInternalSnapshotBeforeUpdate)}finally{Ke(m)}else S.componentDidUpdate(R,F,S.__reactInternalSnapshotBeforeUpdate)}var z=m.updateQueue;z!==null&&(m.type===m.elementType&&!Wv&&(S.props!==m.memoizedProps&&l("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Rn(m)||"instance"),S.state!==m.memoizedState&&l("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Rn(m)||"instance")),Mv(m,z,S));break}case v:{var X=m.updateQueue;if(X!==null){var oe=null;if(m.child!==null)switch(m.child.tag){case x:oe=m.child.stateNode;break;case f:oe=m.child.stateNode;break}Mv(m,X,oe)}break}case x:{var he=m.stateNode;if(o===null&&m.flags&Jn){var Ie=m.type,Fe=m.memoizedProps;kN(he,Ie,Fe)}break}case _:break;case y:break;case L:{{var ot=m.memoizedProps,lt=ot.onCommit,St=ot.onRender,tn=m.stateNode.effectDuration,_n=Tn(),gn=o===null?"mount":"update";Ot()&&(gn="nested-update"),typeof St=="function"&&St(m.memoizedProps.id,gn,m.actualDuration,m.treeBaseDuration,m.actualStartTime,_n);{typeof lt=="function"&&lt(m.memoizedProps.id,gn,tn,_n),WW(m);var fi=m.return;e:for(;fi!==null;){switch(fi.tag){case v:var ii=fi.stateNode;ii.effectDuration+=tn;break e;case L:var et=fi.stateNode;et.effectDuration+=tn;break e}fi=fi.return}}}break}case U:{nW(a,m);break}case q:case P:case j:case J:case W:case te:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}gs||m.flags&Tc&&AF(m)}function $8(a){switch(a.tag){case h:case w:case V:{if(a.mode&wi)try{un(),MF(a,a.return)}finally{Ke(a)}else MF(a,a.return);break}case f:{var o=a.stateNode;typeof o.componentDidMount=="function"&&H8(a,a.return,o),wF(a,a.return);break}case x:{wF(a,a.return);break}}}function K8(a,o){for(var m=null,g=a;;){if(g.tag===x){if(m===null){m=g;try{var S=g.stateNode;o?GN(S):wD(g.stateNode,g.memoizedProps)}catch(F){tr(a,a.return,F)}}}else if(g.tag===_){if(m===null)try{var R=g.stateNode;o?MD(R):CD(R,g.memoizedProps)}catch(F){tr(a,a.return,F)}}else if(!((g.tag===J||g.tag===W)&&g.memoizedState!==null&&g!==a)){if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===a)return;for(;g.sibling===null;){if(g.return===null||g.return===a)return;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}function AF(a){var o=a.ref;if(o!==null){var m=a.stateNode,g;switch(a.tag){case x:g=m;break;default:g=m}if(typeof o=="function"){var S;if(a.mode&wi)try{un(),S=o(g)}finally{Ke(a)}else S=o(g);typeof S=="function"&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Rn(a))}else o.hasOwnProperty("current")||l("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Rn(a)),o.current=g}}function Z8(a){var o=a.alternate;o!==null&&(o.return=null),a.return=null}function RF(a){var o=a.alternate;o!==null&&(a.alternate=null,RF(o));{if(a.child=null,a.deletions=null,a.sibling=null,a.tag===x){var m=a.stateNode;m!==null&&hb(m)}a.stateNode=null,a._debugOwner=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}}function J8(a){for(var o=a.return;o!==null;){if(DF(o))return o;o=o.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function DF(a){return a.tag===x||a.tag===v||a.tag===y}function LF(a){var o=a;e:for(;;){for(;o.sibling===null;){if(o.return===null||DF(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==x&&o.tag!==_&&o.tag!==I;){if(o.flags&cr||o.child===null||o.tag===y)continue e;o.child.return=o,o=o.child}if(!(o.flags&cr))return o.stateNode}}function Q8(a){var o=J8(a);switch(o.tag){case x:{var m=o.stateNode;o.flags&Ec&&(lb(m),o.flags&=~Ec);var g=LF(a);E2(a,g,m);break}case v:case y:{var S=o.stateNode.containerInfo,R=LF(a);_2(a,R,S);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function _2(a,o,m){var g=a.tag,S=g===x||g===_;if(S){var R=a.stateNode;o?jN(m,R,o):zN(m,R)}else if(g!==y){var F=a.child;if(F!==null){_2(F,o,m);for(var z=F.sibling;z!==null;)_2(z,o,m),z=z.sibling}}}function E2(a,o,m){var g=a.tag,S=g===x||g===_;if(S){var R=a.stateNode;o?HN(m,R,o):a_(m,R)}else if(g!==y){var F=a.child;if(F!==null){E2(F,o,m);for(var z=F.sibling;z!==null;)E2(z,o,m),z=z.sibling}}}var ys=null,$u=!1;function eW(a,o,m){{var g=o;e:for(;g!==null;){switch(g.tag){case x:{ys=g.stateNode,$u=!1;break e}case v:{ys=g.stateNode.containerInfo,$u=!0;break e}case y:{ys=g.stateNode.containerInfo,$u=!0;break e}}g=g.return}if(ys===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");PF(a,o,m),ys=null,$u=!1}Z8(m)}function Sp(a,o,m){for(var g=m.child;g!==null;)PF(a,o,g),g=g.sibling}function PF(a,o,m){switch(nn(m),m.tag){case x:gs||n0(m,o);case _:{{var g=ys,S=$u;ys=null,Sp(a,o,m),ys=g,$u=S,ys!==null&&($u?TD(ys,m.stateNode):ub(ys,m.stateNode))}return}case I:{ys!==null&&($u?ND(ys,m.stateNode):s_(ys,m.stateNode));return}case y:{{var R=ys,F=$u;ys=m.stateNode.containerInfo,$u=!0,Sp(a,o,m),ys=R,$u=F}return}case h:case w:case k:case V:{if(!gs){var z=m.updateQueue;if(z!==null){var X=z.lastEffect;if(X!==null){var oe=X.next,he=oe;do{var Ie=he,Fe=Ie.destroy,ot=Ie.tag;Fe!==void 0&&((ot&_l)!==Ma?kM(m,o,Fe):(ot&Lr)!==Ma&&($f(m),m.mode&wi?(un(),kM(m,o,Fe),Ke(m)):kM(m,o,Fe),KT())),he=he.next}while(he!==oe)}}}Sp(a,o,m);return}case f:{if(!gs){n0(m,o);var lt=m.stateNode;typeof lt.componentWillUnmount=="function"&&S2(m,o,lt)}Sp(a,o,m);return}case j:{Sp(a,o,m);return}case J:{if(m.mode&ni){var St=gs;gs=St||m.memoizedState!==null,Sp(a,o,m),gs=St}else Sp(a,o,m);break}default:{Sp(a,o,m);return}}}function tW(a){a.memoizedState}function nW(a,o){var m=o.memoizedState;if(m===null){var g=o.alternate;if(g!==null){var S=g.memoizedState;if(S!==null){var R=S.dehydrated;R!==null&&$N(R)}}}}function UF(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new k8),o.forEach(function(g){var S=JW.bind(null,a,g);if(!m.has(g)){if(m.add(g),Eo)if(e0!==null&&t0!==null)_E(t0,e0);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");g.then(S,S)}})}}function iW(a,o,m){e0=m,t0=a,Bi(o),OF(o,a),Bi(o),e0=null,t0=null}function Ku(a,o,m){var g=o.deletions;if(g!==null)for(var S=0;S<g.length;S++){var R=g[S];try{eW(a,o,R)}catch(X){tr(R,o,X)}}var F=Ff();if(o.subtreeFlags&yh)for(var z=o.child;z!==null;)Bi(z),OF(z,a),z=z.sibling;Bi(F)}function OF(a,o,m){var g=a.alternate,S=a.flags;switch(a.tag){case h:case w:case k:case V:{if(Ku(o,a),mf(a),S&Jn){try{qu(_l|Er,a,a.return),xp(_l|Er,a)}catch(Ln){tr(a,a.return,Ln)}if(a.mode&wi){try{un(),qu(Lr|Er,a,a.return)}catch(Ln){tr(a,a.return,Ln)}Ke(a)}else try{qu(Lr|Er,a,a.return)}catch(Ln){tr(a,a.return,Ln)}}return}case f:{Ku(o,a),mf(a),S&Tc&&g!==null&&n0(g,g.return);return}case x:{Ku(o,a),mf(a),S&Tc&&g!==null&&n0(g,g.return);{if(a.flags&Ec){var R=a.stateNode;try{lb(R)}catch(Ln){tr(a,a.return,Ln)}}if(S&Jn){var F=a.stateNode;if(F!=null){var z=a.memoizedProps,X=g!==null?g.memoizedProps:z,oe=a.type,he=a.updateQueue;if(a.updateQueue=null,he!==null)try{BN(F,he,oe,X,z,a)}catch(Ln){tr(a,a.return,Ln)}}}}return}case _:{if(Ku(o,a),mf(a),S&Jn){if(a.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var Ie=a.stateNode,Fe=a.memoizedProps,ot=g!==null?g.memoizedProps:Fe;try{ED(Ie,ot,Fe)}catch(Ln){tr(a,a.return,Ln)}}return}case v:{if(Ku(o,a),mf(a),S&Jn&&g!==null){var lt=g.memoizedState;if(lt.isDehydrated)try{qN(o.containerInfo)}catch(Ln){tr(a,a.return,Ln)}}return}case y:{Ku(o,a),mf(a);return}case U:{Ku(o,a),mf(a);var St=a.child;if(St.flags&Nc){var tn=St.stateNode,_n=St.memoizedState,gn=_n!==null;if(tn.isHidden=gn,gn){var fi=St.alternate!==null&&St.alternate.memoizedState!==null;fi||IW()}}if(S&Jn){try{tW(a)}catch(Ln){tr(a,a.return,Ln)}UF(a)}return}case J:{var ii=g!==null&&g.memoizedState!==null;if(a.mode&ni){var et=gs;gs=et||ii,Ku(o,a),gs=et}else Ku(o,a);if(mf(a),S&Nc){var _t=a.stateNode,tt=a.memoizedState,It=tt!==null,cn=a;if(_t.isHidden=It,It&&!ii&&(cn.mode&ni)!==Sn){pn=cn;for(var on=cn.child;on!==null;)pn=on,aW(on),on=on.sibling}K8(cn,It)}return}case q:{Ku(o,a),mf(a),S&Jn&&UF(a);return}case j:return;default:{Ku(o,a),mf(a);return}}}function mf(a){var o=a.flags;if(o&cr){try{Q8(a)}catch(m){tr(a,a.return,m)}a.flags&=~cr}o&il&&(a.flags&=~il)}function rW(a,o,m){e0=m,t0=o,pn=a,FF(a,o,m),e0=null,t0=null}function FF(a,o,m){for(var g=(a.mode&ni)!==Sn;pn!==null;){var S=pn,R=S.child;if(S.tag===J&&g){var F=S.memoizedState!==null,z=F||VM;if(z){T2(a,o,m);continue}else{var X=S.alternate,oe=X!==null&&X.memoizedState!==null,he=oe||gs,Ie=VM,Fe=gs;VM=z,gs=he,gs&&!Fe&&(pn=S,sW(S));for(var ot=R;ot!==null;)pn=ot,FF(ot,o,m),ot=ot.sibling;pn=S,VM=Ie,gs=Fe,T2(a,o,m);continue}}(S.subtreeFlags&bh)!==Nn&&R!==null?(R.return=S,pn=R):T2(a,o,m)}}function T2(a,o,m){for(;pn!==null;){var g=pn;if((g.flags&bh)!==Nn){var S=g.alternate;Bi(g);try{q8(o,S,g,m)}catch(F){tr(g,g.return,F)}yr()}if(g===a){pn=null;return}var R=g.sibling;if(R!==null){R.return=g.return,pn=R;return}pn=g.return}}function aW(a){for(;pn!==null;){var o=pn,m=o.child;switch(o.tag){case h:case w:case k:case V:{if(o.mode&wi)try{un(),qu(Lr,o,o.return)}finally{Ke(o)}else qu(Lr,o,o.return);break}case f:{n0(o,o.return);var g=o.stateNode;typeof g.componentWillUnmount=="function"&&S2(o,o.return,g);break}case x:{n0(o,o.return);break}case J:{var S=o.memoizedState!==null;if(S){IF(a);continue}break}}m!==null?(m.return=o,pn=m):IF(a)}}function IF(a){for(;pn!==null;){var o=pn;if(o===a){pn=null;return}var m=o.sibling;if(m!==null){m.return=o.return,pn=m;return}pn=o.return}}function sW(a){for(;pn!==null;){var o=pn,m=o.child;if(o.tag===J){var g=o.memoizedState!==null;if(g){VF(a);continue}}m!==null?(m.return=o,pn=m):VF(a)}}function VF(a){for(;pn!==null;){var o=pn;Bi(o);try{$8(o)}catch(g){tr(o,o.return,g)}if(yr(),o===a){pn=null;return}var m=o.sibling;if(m!==null){m.return=o.return,pn=m;return}pn=o.return}}function oW(a,o,m,g){pn=o,lW(o,a,m,g)}function lW(a,o,m,g){for(;pn!==null;){var S=pn,R=S.child;(S.subtreeFlags&gm)!==Nn&&R!==null?(R.return=S,pn=R):uW(a,o,m,g)}}function uW(a,o,m,g){for(;pn!==null;){var S=pn;if((S.flags&nl)!==Nn){Bi(S);try{cW(o,S,m,g)}catch(F){tr(S,S.return,F)}yr()}if(S===a){pn=null;return}var R=S.sibling;if(R!==null){R.return=S.return,pn=R;return}pn=S.return}}function cW(a,o,m,g){switch(o.tag){case h:case w:case V:{if(o.mode&wi){sn();try{xp(wa|Er,o)}finally{Gt(o)}}else xp(wa|Er,o);break}}}function fW(a){pn=a,dW()}function dW(){for(;pn!==null;){var a=pn,o=a.child;if((pn.flags&tl)!==Nn){var m=a.deletions;if(m!==null){for(var g=0;g<m.length;g++){var S=m[g];pn=S,mW(S,a)}{var R=a.alternate;if(R!==null){var F=R.child;if(F!==null){R.child=null;do{var z=F.sibling;F.sibling=null,F=z}while(F!==null)}}}pn=a}}(a.subtreeFlags&gm)!==Nn&&o!==null?(o.return=a,pn=o):hW()}}function hW(){for(;pn!==null;){var a=pn;(a.flags&nl)!==Nn&&(Bi(a),pW(a),yr());var o=a.sibling;if(o!==null){o.return=a.return,pn=o;return}pn=a.return}}function pW(a){switch(a.tag){case h:case w:case V:{a.mode&wi?(sn(),qu(wa|Er,a,a.return),Gt(a)):qu(wa|Er,a,a.return);break}}}function mW(a,o){for(;pn!==null;){var m=pn;Bi(m),gW(m,o),yr();var g=m.child;g!==null?(g.return=m,pn=g):vW(a)}}function vW(a){for(;pn!==null;){var o=pn,m=o.sibling,g=o.return;if(RF(o),o===a){pn=null;return}if(m!==null){m.return=g,pn=m;return}pn=g}}function gW(a,o){switch(a.tag){case h:case w:case V:{a.mode&wi?(sn(),qu(wa,a,o),Gt(a)):qu(wa,a,o);break}}}function yW(a){switch(a.tag){case h:case w:case V:{try{xp(Lr|Er,a)}catch(m){tr(a,a.return,m)}break}case f:{var o=a.stateNode;try{o.componentDidMount()}catch(m){tr(a,a.return,m)}break}}}function bW(a){switch(a.tag){case h:case w:case V:{try{xp(wa|Er,a)}catch(o){tr(a,a.return,o)}break}}}function xW(a){switch(a.tag){case h:case w:case V:{try{qu(Lr|Er,a,a.return)}catch(m){tr(a,a.return,m)}break}case f:{var o=a.stateNode;typeof o.componentWillUnmount=="function"&&S2(a,a.return,o);break}}}function SW(a){switch(a.tag){case h:case w:case V:try{qu(wa|Er,a,a.return)}catch(o){tr(a,a.return,o)}}}if(typeof Symbol=="function"&&Symbol.for){var fE=Symbol.for;fE("selector.component"),fE("selector.has_pseudo_class"),fE("selector.role"),fE("selector.test_id"),fE("selector.text")}var _W=[];function EW(){_W.forEach(function(a){return a()})}var TW=t.ReactCurrentActQueue;function NW(a){{var o=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,m=typeof jest<"u";return m&&o!==!1}}function kF(){{var a=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!a&&TW.current!==null&&l("The current testing environment is not configured to support act(...)"),a}}var MW=Math.ceil,N2=t.ReactCurrentDispatcher,M2=t.ReactCurrentOwner,bs=t.ReactCurrentBatchConfig,Zu=t.ReactCurrentActQueue,Ca=0,BF=1,xs=2,iu=4,Bd=0,dE=1,Yv=2,BM=3,hE=4,zF=5,w2=6,ci=Ca,oo=null,Pr=null,Aa=Ut,vf=Ut,C2=Vu(Ut),Ra=Bd,pE=null,zM=Ut,mE=Ut,HM=Ut,vE=null,Io=null,A2=0,HF=500,jF=1/0,wW=500,zd=null;function gE(){jF=da()+wW}function GF(){return jF}var jM=!1,R2=null,i0=null,Xv=!1,_p=null,yE=Ut,D2=[],L2=null,CW=50,bE=0,P2=null,U2=!1,GM=!1,AW=50,r0=0,WM=null,xE=oi,YM=Ut,WF=!1;function XM(){return oo}function lo(){return(ci&(xs|iu))!==Ca?da():(xE!==oi||(xE=da()),xE)}function Ep(a){var o=a.mode;if((o&ni)===Sn)return Dn;if((ci&xs)!==Ca&&Aa!==Ut)return Ch(Aa);var m=Nb()!==Md;if(m){if(bs.transition!==null){var g=bs.transition;g._updatedFibers||(g._updatedFibers=new Set),g._updatedFibers.add(a)}return YM===Br&&(YM=tS()),YM}var S=Mo();if(S!==Br)return S;var R=SD();return R}function RW(a){var o=a.mode;return(o&ni)===Sn?Dn:XR()}function Da(a,o,m,g){e7(),WF&&l("useInsertionEffect must not schedule updates."),U2&&(GM=!0),nd(a,m,g),(ci&xs)!==Ut&&a===oo?i7(o):(Eo&&iS(a,o,m),r7(o),a===oo&&((ci&xs)===Ca&&(mE=In(mE,m)),Ra===hE&&Tp(a,Aa)),Vo(a,g),m===Dn&&ci===Ca&&(o.mode&ni)===Sn&&!Zu.isBatchingLegacy&&(gE(),lM()))}function DW(a,o,m){var g=a.current;g.lanes=o,nd(a,o,m),Vo(a,m)}function LW(a){return(ci&xs)!==Ca}function Vo(a,o){var m=a.callbackNode;gy(a,o);var g=wu(a,a===oo?Aa:Ut);if(g===Ut){m!==null&&oI(m),a.callbackNode=null,a.callbackPriority=Br;return}var S=Lc(g),R=a.callbackPriority;if(R===S&&!(Zu.current!==null&&m!==z2)){m==null&&R!==Dn&&l("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}m!=null&&oI(m);var F;if(S===Dn)a.tag===$c?(Zu.isBatchingLegacy!==null&&(Zu.didScheduleLegacyUpdate=!0),oM(qF.bind(null,a))):sM(qF.bind(null,a)),Zu.current!==null?Zu.current.push(Kc):VN(function(){(ci&(xs|iu))===Ca&&Kc()}),F=null;else{var z;switch(Ty(g)){case ss:z=dy;break;case cl:z=hy;break;case fl:z=wc;break;case Dh:z=Wx;break;default:z=wc;break}F=H2(z,YF.bind(null,a))}a.callbackPriority=S,a.callbackNode=F}function YF(a,o){if(xn(),xE=oi,YM=Ut,(ci&(xs|iu))!==Ca)throw new Error("Should not already be working.");var m=a.callbackNode,g=jd();if(g&&a.callbackNode!==m)return null;var S=wu(a,a===oo?Aa:Ut);if(S===Ut)return null;var R=!Cu(a,S)&&!Hr(a,S)&&!o,F=R?HW(a,S):$M(a,S);if(F!==Bd){if(F===Yv){var z=yy(a);z!==Ut&&(S=z,F=O2(a,z))}if(F===dE){var X=pE;throw qv(a,Ut),Tp(a,S),Vo(a,da()),X}if(F===w2)Tp(a,S);else{var oe=!Cu(a,S),he=a.current.alternate;if(oe&&!UW(he)){if(F=$M(a,S),F===Yv){var Ie=yy(a);Ie!==Ut&&(S=Ie,F=O2(a,Ie))}if(F===dE){var Fe=pE;throw qv(a,Ut),Tp(a,S),Vo(a,da()),Fe}}a.finishedWork=he,a.finishedLanes=S,PW(a,F,S)}}return Vo(a,da()),a.callbackNode===m?YF.bind(null,a):null}function O2(a,o){var m=vE;if(Lh(a)){var g=qv(a,o);g.flags|=xu,en(a.containerInfo)}var S=$M(a,o);if(S!==Yv){var R=Io;Io=m,R!==null&&XF(R)}return S}function XF(a){Io===null?Io=a:Io.push.apply(Io,a)}function PW(a,o,m){switch(o){case Bd:case dE:throw new Error("Root did not complete. This is a bug in React.");case Yv:{$v(a,Io,zd);break}case BM:{if(Tp(a,m),by(m)&&!lI()){var g=A2+HF-da();if(g>10){var S=wu(a,Ut);if(S!==Ut)break;var R=a.suspendedLanes;if(!Pc(R,m)){lo(),wm(a,R);break}a.timeoutHandle=i_($v.bind(null,a,Io,zd),g);break}}$v(a,Io,zd);break}case hE:{if(Tp(a,m),YR(m))break;if(!lI()){var F=eS(a,m),z=F,X=da()-z,oe=QW(X)-X;if(oe>10){a.timeoutHandle=i_($v.bind(null,a,Io,zd),oe);break}}$v(a,Io,zd);break}case zF:{$v(a,Io,zd);break}default:throw new Error("Unknown root exit status.")}}function UW(a){for(var o=a;;){if(o.flags&uy){var m=o.updateQueue;if(m!==null){var g=m.stores;if(g!==null)for(var S=0;S<g.length;S++){var R=g[S],F=R.getSnapshot,z=R.value;try{if(!Ls(F(),z))return!1}catch{return!1}}}}var X=o.child;if(o.subtreeFlags&uy&&X!==null){X.return=o,o=X;continue}if(o===a)return!0;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}return!0}function Tp(a,o){o=Ah(o,HM),o=Ah(o,mE),qR(a,o)}function qF(a){if(jn(),(ci&(xs|iu))!==Ca)throw new Error("Should not already be working.");jd();var o=wu(a,Ut);if(!ka(o,Dn))return Vo(a,da()),null;var m=$M(a,o);if(a.tag!==$c&&m===Yv){var g=yy(a);g!==Ut&&(o=g,m=O2(a,g))}if(m===dE){var S=pE;throw qv(a,Ut),Tp(a,o),Vo(a,da()),S}if(m===w2)throw new Error("Root did not complete. This is a bug in React.");var R=a.current.alternate;return a.finishedWork=R,a.finishedLanes=o,$v(a,Io,zd),Vo(a,da()),null}function OW(a,o){o!==Ut&&(xy(a,In(o,Dn)),Vo(a,da()),(ci&(xs|iu))===Ca&&(gE(),Kc()))}function F2(a,o){var m=ci;ci|=BF;try{return a(o)}finally{ci=m,ci===Ca&&!Zu.isBatchingLegacy&&(gE(),lM())}}function FW(a,o,m,g,S){var R=Mo(),F=bs.transition;try{return bs.transition=null,Mr(ss),a(o,m,g,S)}finally{Mr(R),bs.transition=F,ci===Ca&&gE()}}function Hd(a){_p!==null&&_p.tag===$c&&(ci&(xs|iu))===Ca&&jd();var o=ci;ci|=BF;var m=bs.transition,g=Mo();try{return bs.transition=null,Mr(ss),a?a():void 0}finally{Mr(g),bs.transition=m,ci=o,(ci&(xs|iu))===Ca&&Kc()}}function $F(){return(ci&(xs|iu))!==Ca}function qM(a,o){Wa(C2,vf,a),vf=In(vf,o)}function I2(a){vf=C2.current,Ga(C2,a)}function qv(a,o){a.finishedWork=null,a.finishedLanes=Ut;var m=a.timeoutHandle;if(m!==ip&&(a.timeoutHandle=ip,r_(m)),Pr!==null)for(var g=Pr.return;g!==null;){var S=g.alternate;TF(S,g),g=g.return}oo=a;var R=Kv(a.current,null);return Pr=R,Aa=vf=o,Ra=Bd,pE=null,zM=Ut,mE=Ut,HM=Ut,vE=null,Io=null,R_(),cs.discardPendingWarnings(),R}function KF(a,o){do{var m=Pr;try{if(rf(),Fb(),yr(),M2.current=null,m===null||m.return===null){Ra=dE,pE=o,Pr=null;return}if(we&&m.mode&wi&&Mt(m,!0),be)if(_h(),o!==null&&typeof o=="object"&&typeof o.then=="function"){var g=o;FR(m,g,Aa)}else OR(m,o,Aa);s8(a,m.return,m,o,Aa),eI(m)}catch(S){o=S,Pr===m&&m!==null?(m=m.return,Pr=m):m=Pr;continue}return}while(!0)}function ZF(){var a=N2.current;return N2.current=Jb,a===null?Jb:a}function JF(a){N2.current=a}function IW(){A2=da()}function SE(a){zM=In(a,zM)}function VW(){Ra===Bd&&(Ra=BM)}function V2(){(Ra===Bd||Ra===BM||Ra===Yv)&&(Ra=hE),oo!==null&&(Nm(zM)||Nm(mE))&&Tp(oo,Aa)}function kW(a){Ra!==hE&&(Ra=Yv),vE===null?vE=[a]:vE.push(a)}function BW(){return Ra===Bd}function $M(a,o){var m=ci;ci|=xs;var g=ZF();if(oo!==a||Aa!==o){if(Eo){var S=a.memoizedUpdaters;S.size>0&&(_E(a,Aa),S.clear()),_y(a,o)}zd=rS(),qv(a,o)}Yx(o);do try{zW();break}catch(R){KF(a,R)}while(!0);if(rf(),ci=m,JF(g),Pr!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return JT(),oo=null,Aa=Ut,Ra}function zW(){for(;Pr!==null;)QF(Pr)}function HW(a,o){var m=ci;ci|=xs;var g=ZF();if(oo!==a||Aa!==o){if(Eo){var S=a.memoizedUpdaters;S.size>0&&(_E(a,Aa),S.clear()),_y(a,o)}zd=rS(),gE(),qv(a,o)}Yx(o);do try{jW();break}catch(R){KF(a,R)}while(!0);return rf(),JF(g),ci=m,Pr!==null?(BR(),Bd):(JT(),oo=null,Aa=Ut,Ra)}function jW(){for(;Pr!==null&&!sl();)QF(Pr)}function QF(a){var o=a.alternate;Bi(a);var m;(a.mode&wi)!==Sn?(Yi(a),m=k2(o,a,vf),Mt(a,!0)):m=k2(o,a,vf),yr(),a.memoizedProps=a.pendingProps,m===null?eI(a):Pr=m,M2.current=null}function eI(a){var o=a;do{var m=o.alternate,g=o.return;if((o.flags&gh)===Nn){Bi(o);var S=void 0;if((o.mode&wi)===Sn?S=EF(m,o,vf):(Yi(o),S=EF(m,o,vf),Mt(o,!1)),yr(),S!==null){Pr=S;return}}else{var R=V8(m,o);if(R!==null){R.flags&=ER,Pr=R;return}if((o.mode&wi)!==Sn){Mt(o,!1);for(var F=o.actualDuration,z=o.child;z!==null;)F+=z.actualDuration,z=z.sibling;o.actualDuration=F}if(g!==null)g.flags|=gh,g.subtreeFlags=Nn,g.deletions=null;else{Ra=w2,Pr=null;return}}var X=o.sibling;if(X!==null){Pr=X;return}o=g,Pr=o}while(o!==null);Ra===Bd&&(Ra=zF)}function $v(a,o,m){var g=Mo(),S=bs.transition;try{bs.transition=null,Mr(ss),GW(a,o,m,g)}finally{bs.transition=S,Mr(g)}return null}function GW(a,o,m,g){do jd();while(_p!==null);if(t7(),(ci&(xs|iu))!==Ca)throw new Error("Should not already be working.");var S=a.finishedWork,R=a.finishedLanes;if(DR(R),S===null)return qT(),null;if(R===Ut&&l("root.finishedLanes should not be empty during a commit. This is a bug in React."),a.finishedWork=null,a.finishedLanes=Ut,S===a.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");a.callbackNode=null,a.callbackPriority=Br;var F=In(S.lanes,S.childLanes);$R(a,F),a===oo&&(oo=null,Pr=null,Aa=Ut),((S.subtreeFlags&gm)!==Nn||(S.flags&gm)!==Nn)&&(Xv||(Xv=!0,L2=m,H2(wc,function(){return jd(),null})));var z=(S.subtreeFlags&(Hn|yh|bh|gm))!==Nn,X=(S.flags&(Hn|yh|bh|gm))!==Nn;if(z||X){var oe=bs.transition;bs.transition=null;var he=Mo();Mr(ss);var Ie=ci;ci|=iu,M2.current=null,j8(a,S),Zi(),iW(a,S,R),t_(a.containerInfo),a.current=S,IR(R),rW(S,a,R),VR(),fa(),ci=Ie,Mr(he),bs.transition=oe}else a.current=S,Zi();var Fe=Xv;if(Xv?(Xv=!1,_p=a,yE=R):(r0=0,WM=null),F=a.pendingLanes,F===Ut&&(i0=null),Fe||rI(a.current,!1),Sh(S.stateNode,g),Eo&&a.memoizedUpdaters.clear(),EW(),Vo(a,da()),o!==null)for(var ot=a.onRecoverableError,lt=0;lt<o.length;lt++){var St=o[lt],tn=St.stack,_n=St.digest;ot(St.value,{componentStack:tn,digest:_n})}if(jM){jM=!1;var gn=R2;throw R2=null,gn}return ka(yE,Dn)&&a.tag!==$c&&jd(),F=a.pendingLanes,ka(F,Dn)?(zt(),a===P2?bE++:(bE=0,P2=a)):bE=0,Kc(),qT(),null}function jd(){if(_p!==null){var a=Ty(yE),o=oS(fl,a),m=bs.transition,g=Mo();try{return bs.transition=null,Mr(o),YW()}finally{Mr(g),bs.transition=m}}return!1}function WW(a){D2.push(a),Xv||(Xv=!0,H2(wc,function(){return jd(),null}))}function YW(){if(_p===null)return!1;var a=L2;L2=null;var o=_p,m=yE;if(_p=null,yE=Ut,(ci&(xs|iu))!==Ca)throw new Error("Cannot flush passive effects while already rendering.");U2=!0,GM=!1,kR(m);var g=ci;ci|=iu,fW(o.current),oW(o,o.current,m,a);{var S=D2;D2=[];for(var R=0;R<S.length;R++){var F=S[R];X8(o,F)}}ZT(),rI(o.current,!0),ci=g,Kc(),GM?o===WM?r0++:(r0=0,WM=o):r0=0,U2=!1,GM=!1,Ia(o);{var z=o.current.stateNode;z.effectDuration=0,z.passiveEffectDuration=0}return!0}function tI(a){return i0!==null&&i0.has(a)}function XW(a){i0===null?i0=new Set([a]):i0.add(a)}function qW(a){jM||(jM=!0,R2=a)}var $W=qW;function nI(a,o,m){var g=Gv(m,o),S=Q3(a,g,Dn),R=Wu(a,S,Dn),F=lo();R!==null&&(nd(R,Dn,F),Vo(R,F))}function tr(a,o,m){if(B8(m),EE(!1),a.tag===v){nI(a,a,m);return}var g=null;for(g=o;g!==null;){if(g.tag===v){nI(g,a,m);return}else if(g.tag===f){var S=g.type,R=g.stateNode;if(typeof S.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&!tI(R)){var F=Gv(m,a),z=a2(g,F,Dn),X=Wu(g,z,Dn),oe=lo();X!==null&&(nd(X,Dn,oe),Vo(X,oe));return}}g=g.return}l(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,m)}function KW(a,o,m){var g=a.pingCache;g!==null&&g.delete(o);var S=lo();wm(a,m),a7(a),oo===a&&Pc(Aa,m)&&(Ra===hE||Ra===BM&&by(Aa)&&da()-A2<HF?qv(a,Ut):HM=In(HM,m)),Vo(a,S)}function iI(a,o){o===Br&&(o=RW(a));var m=lo(),g=Dr(a,o);g!==null&&(nd(g,o,m),Vo(g,m))}function ZW(a){var o=a.memoizedState,m=Br;o!==null&&(m=o.retryLane),iI(a,m)}function JW(a,o){var m=Br,g;switch(a.tag){case U:g=a.stateNode;var S=a.memoizedState;S!==null&&(m=S.retryLane);break;case q:g=a.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}g!==null&&g.delete(o),iI(a,m)}function QW(a){return a<120?120:a<480?480:a<1080?1080:a<1920?1920:a<3e3?3e3:a<4320?4320:MW(a/1960)*1960}function e7(){if(bE>CW)throw bE=0,P2=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");r0>AW&&(r0=0,WM=null,l("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function t7(){cs.flushLegacyContextWarning(),cs.flushPendingUnsafeLifecycleWarnings()}function rI(a,o){Bi(a),KM(a,Nr,xW),o&&KM(a,_u,SW),KM(a,Nr,yW),o&&KM(a,_u,bW),yr()}function KM(a,o,m){for(var g=a,S=null;g!==null;){var R=g.subtreeFlags&o;g!==S&&g.child!==null&&R!==Nn?g=g.child:((g.flags&o)!==Nn&&m(g),g.sibling!==null?g=g.sibling:g=S=g.return)}}var ZM=null;function aI(a){{if((ci&xs)!==Ca||!(a.mode&ni))return;var o=a.tag;if(o!==p&&o!==v&&o!==f&&o!==h&&o!==w&&o!==k&&o!==V)return;var m=Rn(a)||"ReactComponent";if(ZM!==null){if(ZM.has(m))return;ZM.add(m)}else ZM=new Set([m]);var g=ur;try{Bi(a),l("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{g?Bi(a):yr()}}}var k2;{var n7=null;k2=function(a,o,m){var g=hI(n7,o);try{return yF(a,o,m)}catch(R){if(x_()||R!==null&&typeof R=="object"&&typeof R.then=="function")throw R;if(rf(),Fb(),TF(a,o),hI(o,g),o.mode&wi&&Yi(o),pm(null,yF,null,a,o,m),mm()){var S=ly();typeof S=="object"&&S!==null&&S._suppressLogging&&typeof R=="object"&&R!==null&&!R._suppressLogging&&(R._suppressLogging=!0)}throw R}}}var sI=!1,B2;B2=new Set;function i7(a){if($s&&!CM())switch(a.tag){case h:case w:case V:{var o=Pr&&Rn(Pr)||"Unknown",m=o;if(!B2.has(m)){B2.add(m);var g=Rn(a)||"Unknown";l("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",g,o,o)}break}case f:{sI||(l("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),sI=!0);break}}}function _E(a,o){if(Eo){var m=a.memoizedUpdaters;m.forEach(function(g){iS(a,g,o)})}}var z2={};function H2(a,o){{var m=Zu.current;return m!==null?(m.push(o),z2):fy(a,o)}}function oI(a){if(a!==z2)return bm(a)}function lI(){return Zu.current!==null}function r7(a){{if(a.mode&ni){if(!kF())return}else if(!NW()||ci!==Ca||a.tag!==h&&a.tag!==w&&a.tag!==V)return;if(Zu.current===null){var o=ur;try{Bi(a),l(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Rn(a))}finally{o?Bi(a):yr()}}}}function a7(a){a.tag!==$c&&kF()&&Zu.current===null&&l(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function EE(a){WF=a}var ru=null,a0=null,s7=function(a){ru=a};function s0(a){{if(ru===null)return a;var o=ru(a);return o===void 0?a:o.current}}function j2(a){return s0(a)}function G2(a){{if(ru===null)return a;var o=ru(a);if(o===void 0){if(a!=null&&typeof a.render=="function"){var m=s0(a.render);if(a.render!==m){var g={$$typeof:yt,render:m};return a.displayName!==void 0&&(g.displayName=a.displayName),g}}return a}return o.current}}function uI(a,o){{if(ru===null)return!1;var m=a.elementType,g=o.type,S=!1,R=typeof g=="object"&&g!==null?g.$$typeof:null;switch(a.tag){case f:{typeof g=="function"&&(S=!0);break}case h:{(typeof g=="function"||R===_e)&&(S=!0);break}case w:{(R===yt||R===_e)&&(S=!0);break}case k:case V:{(R===ne||R===_e)&&(S=!0);break}default:return!1}if(S){var F=ru(m);if(F!==void 0&&F===ru(g))return!0}return!1}}function cI(a){{if(ru===null||typeof WeakSet!="function")return;a0===null&&(a0=new WeakSet),a0.add(a)}}var o7=function(a,o){{if(ru===null)return;var m=o.staleFamilies,g=o.updatedFamilies;jd(),Hd(function(){W2(a.current,g,m)})}},l7=function(a,o){{if(a.context!==Os)return;jd(),Hd(function(){TE(o,a,null,null)})}};function W2(a,o,m){{var g=a.alternate,S=a.child,R=a.sibling,F=a.tag,z=a.type,X=null;switch(F){case h:case V:case f:X=z;break;case w:X=z.render;break}if(ru===null)throw new Error("Expected resolveFamily to be set during hot reload.");var oe=!1,he=!1;if(X!==null){var Ie=ru(X);Ie!==void 0&&(m.has(Ie)?he=!0:o.has(Ie)&&(F===f?he=!0:oe=!0))}if(a0!==null&&(a0.has(a)||g!==null&&a0.has(g))&&(he=!0),he&&(a._debugNeedsRemount=!0),he||oe){var Fe=Dr(a,Dn);Fe!==null&&Da(Fe,a,Dn,oi)}S!==null&&!he&&W2(S,o,m),R!==null&&W2(R,o,m)}}var u7=function(a,o){{var m=new Set,g=new Set(o.map(function(S){return S.current}));return Y2(a.current,g,m),m}};function Y2(a,o,m){{var g=a.child,S=a.sibling,R=a.tag,F=a.type,z=null;switch(R){case h:case V:case f:z=F;break;case w:z=F.render;break}var X=!1;z!==null&&o.has(z)&&(X=!0),X?c7(a,m):g!==null&&Y2(g,o,m),S!==null&&Y2(S,o,m)}}function c7(a,o){{var m=f7(a,o);if(m)return;for(var g=a;;){switch(g.tag){case x:o.add(g.stateNode);return;case y:o.add(g.stateNode.containerInfo);return;case v:o.add(g.stateNode.containerInfo);return}if(g.return===null)throw new Error("Expected to reach root first.");g=g.return}}}function f7(a,o){for(var m=a,g=!1;;){if(m.tag===x)g=!0,o.add(m.stateNode);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)return g;for(;m.sibling===null;){if(m.return===null||m.return===a)return g;m=m.return}m.sibling.return=m.return,m=m.sibling}return!1}var X2;{X2=!1;try{var fI=Object.preventExtensions({})}catch{X2=!0}}function d7(a,o,m,g){this.tag=a,this.key=m,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=o,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=g,this.flags=Nn,this.subtreeFlags=Nn,this.deletions=null,this.lanes=Ut,this.childLanes=Ut,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!X2&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var El=function(a,o,m,g){return new d7(a,o,m,g)};function q2(a){var o=a.prototype;return!!(o&&o.isReactComponent)}function h7(a){return typeof a=="function"&&!q2(a)&&a.defaultProps===void 0}function p7(a){if(typeof a=="function")return q2(a)?f:h;if(a!=null){var o=a.$$typeof;if(o===yt)return w;if(o===ne)return k}return p}function Kv(a,o){var m=a.alternate;m===null?(m=El(a.tag,o,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m._debugSource=a._debugSource,m._debugOwner=a._debugOwner,m._debugHookTypes=a._debugHookTypes,m.alternate=a,a.alternate=m):(m.pendingProps=o,m.type=a.type,m.flags=Nn,m.subtreeFlags=Nn,m.deletions=null,m.actualDuration=0,m.actualStartTime=-1),m.flags=a.flags&Eu,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue;var g=a.dependencies;switch(m.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m.selfBaseDuration=a.selfBaseDuration,m.treeBaseDuration=a.treeBaseDuration,m._debugNeedsRemount=a._debugNeedsRemount,m.tag){case p:case h:case V:m.type=s0(a.type);break;case f:m.type=j2(a.type);break;case w:m.type=G2(a.type);break}return m}function m7(a,o){a.flags&=Eu|cr;var m=a.alternate;if(m===null)a.childLanes=Ut,a.lanes=o,a.child=null,a.subtreeFlags=Nn,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null,a.selfBaseDuration=0,a.treeBaseDuration=0;else{a.childLanes=m.childLanes,a.lanes=m.lanes,a.child=m.child,a.subtreeFlags=Nn,a.deletions=null,a.memoizedProps=m.memoizedProps,a.memoizedState=m.memoizedState,a.updateQueue=m.updateQueue,a.type=m.type;var g=m.dependencies;a.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},a.selfBaseDuration=m.selfBaseDuration,a.treeBaseDuration=m.treeBaseDuration}return a}function v7(a,o,m){var g;return a===fv?(g=ni,o===!0&&(g|=dr,g|=Gl)):g=Sn,Eo&&(g|=wi),El(v,null,null,g)}function $2(a,o,m,g,S,R){var F=p,z=a;if(typeof a=="function")q2(a)?(F=f,z=j2(z)):z=s0(z);else if(typeof a=="string")F=x;else e:switch(a){case Se:return Np(m.children,S,R,o);case Dt:F=N,S|=dr,(S&ni)!==Sn&&(S|=Gl);break;case Ht:return g7(m,S,R,o);case kt:return y7(m,S,R,o);case qt:return b7(m,S,R,o);case qe:return dI(m,S,R,o);case Pt:case Re:case Bt:case rn:case Xe:default:{if(typeof a=="object"&&a!==null)switch(a.$$typeof){case de:F=A;break e;case nt:F=T;break e;case yt:F=w,z=G2(z);break e;case ne:F=k;break e;case _e:F=H,z=null;break e}var X="";{(a===void 0||typeof a=="object"&&a!==null&&Object.keys(a).length===0)&&(X+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var oe=g?Rn(g):null;oe&&(X+=`

Check the render method of \``+oe+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(a==null?a:typeof a)+"."+X))}}var he=El(F,m,o,S);return he.elementType=a,he.type=z,he.lanes=R,he._debugOwner=g,he}function K2(a,o,m){var g=null;g=a._owner;var S=a.type,R=a.key,F=a.props,z=$2(S,R,F,g,o,m);return z._debugSource=a._source,z._debugOwner=a._owner,z}function Np(a,o,m,g){var S=El(M,a,g,o);return S.lanes=m,S}function g7(a,o,m,g){typeof a.id!="string"&&l('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof a.id);var S=El(L,a,g,o|wi);return S.elementType=Ht,S.lanes=m,S.stateNode={effectDuration:0,passiveEffectDuration:0},S}function y7(a,o,m,g){var S=El(U,a,g,o);return S.elementType=kt,S.lanes=m,S}function b7(a,o,m,g){var S=El(q,a,g,o);return S.elementType=qt,S.lanes=m,S}function dI(a,o,m,g){var S=El(J,a,g,o);S.elementType=qe,S.lanes=m;var R={isHidden:!1};return S.stateNode=R,S}function Z2(a,o,m){var g=El(_,a,null,o);return g.lanes=m,g}function x7(){var a=El(x,null,null,Sn);return a.elementType="DELETED",a}function S7(a){var o=El(I,null,null,Sn);return o.stateNode=a,o}function J2(a,o,m){var g=a.children!==null?a.children:[],S=El(y,g,a.key,o);return S.lanes=m,S.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},S}function hI(a,o){return a===null&&(a=El(p,null,null,Sn)),a.tag=o.tag,a.key=o.key,a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.return=o.return,a.child=o.child,a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a.pendingProps=o.pendingProps,a.memoizedProps=o.memoizedProps,a.updateQueue=o.updateQueue,a.memoizedState=o.memoizedState,a.dependencies=o.dependencies,a.mode=o.mode,a.flags=o.flags,a.subtreeFlags=o.subtreeFlags,a.deletions=o.deletions,a.lanes=o.lanes,a.childLanes=o.childLanes,a.alternate=o.alternate,a.actualDuration=o.actualDuration,a.actualStartTime=o.actualStartTime,a.selfBaseDuration=o.selfBaseDuration,a.treeBaseDuration=o.treeBaseDuration,a._debugSource=o._debugSource,a._debugOwner=o._debugOwner,a._debugNeedsRemount=o._debugNeedsRemount,a._debugHookTypes=o._debugHookTypes,a}function _7(a,o,m,g,S){this.tag=o,this.containerInfo=a,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=ip,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Br,this.eventTimes=Rh(Ut),this.expirationTimes=Rh(oi),this.pendingLanes=Ut,this.suspendedLanes=Ut,this.pingedLanes=Ut,this.expiredLanes=Ut,this.mutableReadLanes=Ut,this.finishedLanes=Ut,this.entangledLanes=Ut,this.entanglements=Rh(Ut),this.identifierPrefix=g,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var R=this.pendingUpdatersLaneMap=[],F=0;F<ll;F++)R.push(new Set)}switch(o){case fv:this._debugRootType=m?"hydrateRoot()":"createRoot()";break;case $c:this._debugRootType=m?"hydrate()":"render()";break}}function pI(a,o,m,g,S,R,F,z,X,oe){var he=new _7(a,o,m,z,X),Ie=v7(o,R);he.current=Ie,Ie.stateNode=he;{var Fe={element:g,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null};Ie.memoizedState=Fe}return Tv(Ie),he}var Q2="18.3.1";function E7(a,o,m){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return it(g),{$$typeof:Ni,key:g==null?null:""+g,children:a,containerInfo:o,implementation:m}}var eL,tL;eL=!1,tL={};function mI(a){if(!a)return Os;var o=jl(a),m=zD(o);if(o.tag===f){var g=o.type;if(ml(g))return rM(o,g,m)}return m}function T7(a,o){{var m=jl(a);if(m===void 0){if(typeof a.render=="function")throw new Error("Unable to find node on an unmounted component.");var g=Object.keys(a).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+g)}var S=Gx(m);if(S===null)return null;if(S.mode&dr){var R=Rn(m)||"Component";if(!tL[R]){tL[R]=!0;var F=ur;try{Bi(S),m.mode&dr?l("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",o,o,R):l("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",o,o,R)}finally{F?Bi(F):yr()}}}return S.stateNode}}function vI(a,o,m,g,S,R,F,z){var X=!1,oe=null;return pI(a,o,X,oe,m,g,S,R,F)}function gI(a,o,m,g,S,R,F,z,X,oe){var he=!0,Ie=pI(m,g,he,a,S,R,F,z,X);Ie.context=mI(null);var Fe=Ie.current,ot=lo(),lt=Ep(Fe),St=eu(ot,lt);return St.callback=o??null,Wu(Fe,St,lt),DW(Ie,lt,ot),Ie}function TE(a,o,m,g){AR(o,a);var S=o.current,R=lo(),F=Ep(S);zR(F);var z=mI(m);o.context===null?o.context=z:o.pendingContext=z,$s&&ur!==null&&!eL&&(eL=!0,l(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Rn(ur)||"Unknown"));var X=eu(R,F);X.payload={element:a},g=g===void 0?null:g,g!==null&&(typeof g!="function"&&l("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",g),X.callback=g);var oe=Wu(S,X,F);return oe!==null&&(Da(oe,S,F,R),Nv(oe,S,F)),F}function JM(a){var o=a.current;if(!o.child)return null;switch(o.child.tag){case x:return o.child.stateNode;default:return o.child.stateNode}}function N7(a){switch(a.tag){case v:{var o=a.stateNode;if(Lh(o)){var m=eN(o);OW(o,m)}break}case U:{Hd(function(){var S=Dr(a,Dn);if(S!==null){var R=lo();Da(S,a,Dn,R)}});var g=Dn;nL(a,g);break}}}function yI(a,o){var m=a.memoizedState;m!==null&&m.dehydrated!==null&&(m.retryLane=Oc(m.retryLane,o))}function nL(a,o){yI(a,o);var m=a.alternate;m&&yI(m,o)}function M7(a){if(a.tag===U){var o=Mh,m=Dr(a,o);if(m!==null){var g=lo();Da(m,a,o,g)}nL(a,o)}}function w7(a){if(a.tag===U){var o=Ep(a),m=Dr(a,o);if(m!==null){var g=lo();Da(m,a,o,g)}nL(a,o)}}function bI(a){var o=ym(a);return o===null?null:o.stateNode}var xI=function(a){return null};function C7(a){return xI(a)}var SI=function(a){return!1};function A7(a){return SI(a)}var _I=null,EI=null,TI=null,NI=null,MI=null,wI=null,CI=null,AI=null,RI=null;{var DI=function(a,o,m){var g=o[m],S=vi(a)?a.slice():Wt({},a);return m+1===o.length?(vi(S)?S.splice(g,1):delete S[g],S):(S[g]=DI(a[g],o,m+1),S)},LI=function(a,o){return DI(a,o,0)},PI=function(a,o,m,g){var S=o[g],R=vi(a)?a.slice():Wt({},a);if(g+1===o.length){var F=m[g];R[F]=R[S],vi(R)?R.splice(S,1):delete R[S]}else R[S]=PI(a[S],o,m,g+1);return R},UI=function(a,o,m){if(o.length!==m.length){s("copyWithRename() expects paths of the same length");return}else for(var g=0;g<m.length-1;g++)if(o[g]!==m[g]){s("copyWithRename() expects paths to be the same except for the deepest key");return}return PI(a,o,m,0)},OI=function(a,o,m,g){if(m>=o.length)return g;var S=o[m],R=vi(a)?a.slice():Wt({},a);return R[S]=OI(a[S],o,m+1,g),R},FI=function(a,o,m){return OI(a,o,0,m)},iL=function(a,o){for(var m=a.memoizedState;m!==null&&o>0;)m=m.next,o--;return m};_I=function(a,o,m,g){var S=iL(a,o);if(S!==null){var R=FI(S.memoizedState,m,g);S.memoizedState=R,S.baseState=R,a.memoizedProps=Wt({},a.memoizedProps);var F=Dr(a,Dn);F!==null&&Da(F,a,Dn,oi)}},EI=function(a,o,m){var g=iL(a,o);if(g!==null){var S=LI(g.memoizedState,m);g.memoizedState=S,g.baseState=S,a.memoizedProps=Wt({},a.memoizedProps);var R=Dr(a,Dn);R!==null&&Da(R,a,Dn,oi)}},TI=function(a,o,m,g){var S=iL(a,o);if(S!==null){var R=UI(S.memoizedState,m,g);S.memoizedState=R,S.baseState=R,a.memoizedProps=Wt({},a.memoizedProps);var F=Dr(a,Dn);F!==null&&Da(F,a,Dn,oi)}},NI=function(a,o,m){a.pendingProps=FI(a.memoizedProps,o,m),a.alternate&&(a.alternate.pendingProps=a.pendingProps);var g=Dr(a,Dn);g!==null&&Da(g,a,Dn,oi)},MI=function(a,o){a.pendingProps=LI(a.memoizedProps,o),a.alternate&&(a.alternate.pendingProps=a.pendingProps);var m=Dr(a,Dn);m!==null&&Da(m,a,Dn,oi)},wI=function(a,o,m){a.pendingProps=UI(a.memoizedProps,o,m),a.alternate&&(a.alternate.pendingProps=a.pendingProps);var g=Dr(a,Dn);g!==null&&Da(g,a,Dn,oi)},CI=function(a){var o=Dr(a,Dn);o!==null&&Da(o,a,Dn,oi)},AI=function(a){xI=a},RI=function(a){SI=a}}function R7(a){var o=Gx(a);return o===null?null:o.stateNode}function D7(a){return null}function L7(){return ur}function P7(a){var o=a.findFiberByHostInstance,m=t.ReactCurrentDispatcher;return CR({bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:_I,overrideHookStateDeletePath:EI,overrideHookStateRenamePath:TI,overrideProps:NI,overridePropsDeletePath:MI,overridePropsRenamePath:wI,setErrorHandler:AI,setSuspenseHandler:RI,scheduleUpdate:CI,currentDispatcherRef:m,findHostInstanceByFiber:R7,findFiberByHostInstance:o||D7,findHostInstancesForRefresh:u7,scheduleRefresh:o7,scheduleRoot:l7,setRefreshHandler:s7,getCurrentFiber:L7,reconcilerVersion:Q2})}var II=typeof reportError=="function"?reportError:function(a){console.error(a)};function rL(a){this._internalRoot=a}QM.prototype.render=rL.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?l("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):ew(arguments[1])?l("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&l("You passed a second argument to root.render(...) but it only accepts one argument.");var m=o.containerInfo;if(m.nodeType!==Vr){var g=bI(o.current);g&&g.parentNode!==m&&l("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}TE(a,o,null,null)},QM.prototype.unmount=rL.prototype.unmount=function(){typeof arguments[0]=="function"&&l("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;$F()&&l("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Hd(function(){TE(null,a,null,null)}),eM(o)}};function U7(a,o){if(!ew(a))throw new Error("createRoot(...): Target container is not a DOM element.");VI(a);var m=!1,g=!1,S="",R=II;o!=null&&(o.hydrate?s("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof o=="object"&&o!==null&&o.$$typeof===Ji&&l(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(S=o.identifierPrefix),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.transitionCallbacks!==void 0&&o.transitionCallbacks);var F=vI(a,fv,null,m,g,S,R);sv(F.current,a);var z=a.nodeType===Vr?a.parentNode:a;return ls(z),new rL(F)}function QM(a){this._internalRoot=a}function O7(a){a&&dS(a)}QM.prototype.unstable_scheduleHydration=O7;function F7(a,o,m){if(!ew(a))throw new Error("hydrateRoot(...): Target container is not a DOM element.");VI(a),o===void 0&&l("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var g=m??null,S=m!=null&&m.hydratedSources||null,R=!1,F=!1,z="",X=II;m!=null&&(m.unstable_strictMode===!0&&(R=!0),m.identifierPrefix!==void 0&&(z=m.identifierPrefix),m.onRecoverableError!==void 0&&(X=m.onRecoverableError));var oe=gI(o,null,a,fv,g,R,F,z,X);if(sv(oe.current,a),ls(a),S)for(var he=0;he<S.length;he++){var Ie=S[he];JD(oe,Ie)}return new QM(oe)}function ew(a){return!!(a&&(a.nodeType===ws||a.nodeType===vu||a.nodeType===zf||!ee))}function NE(a){return!!(a&&(a.nodeType===ws||a.nodeType===vu||a.nodeType===zf||a.nodeType===Vr&&a.nodeValue===" react-mount-point-unstable "))}function VI(a){a.nodeType===ws&&a.tagName&&a.tagName.toUpperCase()==="BODY"&&l("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),ov(a)&&(a._reactRootContainer?l("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):l("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var I7=t.ReactCurrentOwner,kI;kI=function(a){if(a._reactRootContainer&&a.nodeType!==Vr){var o=bI(a._reactRootContainer.current);o&&o.parentNode!==a&&l("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var m=!!a._reactRootContainer,g=aL(a),S=!!(g&&Xc(g));S&&!m&&l("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),a.nodeType===ws&&a.tagName&&a.tagName.toUpperCase()==="BODY"&&l("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function aL(a){return a?a.nodeType===vu?a.documentElement:a.firstChild:null}function BI(){}function V7(a,o,m,g,S){if(S){if(typeof g=="function"){var R=g;g=function(){var Fe=JM(F);R.call(Fe)}}var F=gI(o,g,a,$c,null,!1,!1,"",BI);a._reactRootContainer=F,sv(F.current,a);var z=a.nodeType===Vr?a.parentNode:a;return ls(z),Hd(),F}else{for(var X;X=a.lastChild;)a.removeChild(X);if(typeof g=="function"){var oe=g;g=function(){var Fe=JM(he);oe.call(Fe)}}var he=vI(a,$c,null,!1,!1,"",BI);a._reactRootContainer=he,sv(he.current,a);var Ie=a.nodeType===Vr?a.parentNode:a;return ls(Ie),Hd(function(){TE(o,he,m,g)}),he}}function k7(a,o){a!==null&&typeof a!="function"&&l("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",o,a)}function tw(a,o,m,g,S){kI(m),k7(S===void 0?null:S,"render");var R=m._reactRootContainer,F;if(!R)F=V7(m,o,a,S,g);else{if(F=R,typeof S=="function"){var z=S;S=function(){var X=JM(F);z.call(X)}}TE(o,F,a,S)}return JM(F)}var zI=!1;function B7(a){{zI||(zI=!0,l("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var o=I7.current;if(o!==null&&o.stateNode!==null){var m=o.stateNode._warnedAboutRefsInRender;m||l("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",zn(o.type)||"A component"),o.stateNode._warnedAboutRefsInRender=!0}}return a==null?null:a.nodeType===ws?a:T7(a,"findDOMNode")}function z7(a,o,m){if(l("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!NE(o))throw new Error("Target container is not a DOM element.");{var g=ov(o)&&o._reactRootContainer===void 0;g&&l("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return tw(null,a,o,!0,m)}function H7(a,o,m){if(l("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!NE(o))throw new Error("Target container is not a DOM element.");{var g=ov(o)&&o._reactRootContainer===void 0;g&&l("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return tw(null,a,o,!1,m)}function j7(a,o,m,g){if(l("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!NE(m))throw new Error("Target container is not a DOM element.");if(a==null||!Xf(a))throw new Error("parentComponent must be a valid React Component");return tw(a,o,m,!1,g)}var HI=!1;function G7(a){if(HI||(HI=!0,l("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!NE(a))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var o=ov(a)&&a._reactRootContainer===void 0;o&&l("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(a._reactRootContainer){{var m=aL(a),g=m&&!Xc(m);g&&l("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Hd(function(){tw(null,null,a,!1,function(){a._reactRootContainer=null,eM(a)})}),!0}else{{var S=aL(a),R=!!(S&&Xc(S)),F=a.nodeType===ws&&NE(a.parentNode)&&!!a.parentNode._reactRootContainer;R&&l("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",F?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}KR(N7),ZR(M7),cS(w7),JR(Mo),Ph(aS),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&l("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Hf(DN),Lx(F2,FW,Hd);function W7(a,o){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ew(o))throw new Error("Target container is not a DOM element.");return E7(a,o,null,m)}function Y7(a,o,m,g){return j7(a,o,m,g)}var sL={usingClientEntryPoint:!1,Events:[Xc,ta,Do,Hl,jf,F2]};function X7(a,o){return sL.usingClientEntryPoint||l('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),U7(a,o)}function q7(a,o,m){return sL.usingClientEntryPoint||l('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),F7(a,o,m)}function $7(a){return $F()&&l("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Hd(a)}var K7=P7({findFiberByHostInstance:Sd,bundleType:1,version:Q2,rendererPackageName:"react-dom"});if(!K7&&$e&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var jI=window.location.protocol;/^(https?|file):$/.test(jI)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(jI==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}wl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sL,wl.createPortal=W7,wl.createRoot=X7,wl.findDOMNode=B7,wl.flushSync=$7,wl.hydrate=z7,wl.hydrateRoot=q7,wl.render=H7,wl.unmountComponentAtNode=G7,wl.unstable_batchedUpdates=F2,wl.unstable_renderSubtreeIntoContainer=Y7,wl.version=Q2,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();d4.exports=wl;var m4=d4.exports,v4,oL=m4;{var nw=oL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;v4=DP.createRoot=function(n,e){nw.usingClientEntryPoint=!0;try{return oL.createRoot(n,e)}finally{nw.usingClientEntryPoint=!1}},DP.hydrateRoot=function(n,e,t){nw.usingClientEntryPoint=!0;try{return oL.hydrateRoot(n,e,t)}finally{nw.usingClientEntryPoint=!1}}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p1(){return p1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},p1.apply(this,arguments)}var Fp;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Fp||(Fp={}));const GI="popstate";function a9(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:l,hash:u}=i.location;return LP("",{pathname:s,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:m1(r)}return o9(e,t,null,n)}function Tr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function lc(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s9(){return Math.random().toString(36).substr(2,8)}function WI(n,e){return{usr:n.state,key:n.key,idx:e}}function LP(n,e,t,i){return t===void 0&&(t=null),p1({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?rx(e):e,{state:t,key:e&&e.key||i||s9()})}function m1(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function rx(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function o9(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,l=r.history,u=Fp.Pop,h=null,f=p();f==null&&(f=0,l.replaceState(p1({},l.state,{idx:f}),""));function p(){return(l.state||{idx:null}).idx}function v(){u=Fp.Pop;let N=p(),T=N==null?null:N-f;f=N,h&&h({action:u,location:M.location,delta:T})}function y(N,T){u=Fp.Push;let A=LP(M.location,N,T);t&&t(A,N),f=p()+1;let w=WI(A,f),L=M.createHref(A);try{l.pushState(w,"",L)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(L)}s&&h&&h({action:u,location:M.location,delta:1})}function x(N,T){u=Fp.Replace;let A=LP(M.location,N,T);t&&t(A,N),f=p();let w=WI(A,f),L=M.createHref(A);l.replaceState(w,"",L),s&&h&&h({action:u,location:M.location,delta:0})}function _(N){let T=r.location.origin!=="null"?r.location.origin:r.location.href,A=typeof N=="string"?N:m1(N);return A=A.replace(/ $/,"%20"),Tr(T,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,T)}let M={get action(){return u},get location(){return n(r,l)},listen(N){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(GI,v),h=N,()=>{r.removeEventListener(GI,v),h=null}},createHref(N){return e(r,N)},createURL:_,encodeLocation(N){let T=_(N);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:x,go(N){return l.go(N)}};return M}var YI;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(YI||(YI={}));function l9(n,e,t){return t===void 0&&(t="/"),u9(n,e,t,!1)}function u9(n,e,t,i){let r=typeof e=="string"?rx(e):e,s=Wp(r.pathname||"/",t);if(s==null)return null;let l=g4(n);c9(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=S9(s);u=b9(l[h],f,i)}return u}function g4(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,l,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(Tr(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=nh([i,h.relativePath]),p=t.concat(h);s.children&&s.children.length>0&&(Tr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),g4(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:g9(f,s.index),routesMeta:p})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,l);else for(let h of y4(s.path))r(s,l,h)}),e}function y4(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let l=y4(i.join("/")),u=[];return u.push(...l.map(h=>h===""?s:[s,h].join("/"))),r&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function c9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:y9(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const f9=/^:[\w-]+$/,d9=3,h9=2,p9=1,m9=10,v9=-2,XI=n=>n==="*";function g9(n,e){let t=n.split("/"),i=t.length;return t.some(XI)&&(i+=v9),e&&(i+=h9),t.filter(r=>!XI(r)).reduce((r,s)=>r+(f9.test(s)?d9:s===""?p9:m9),i)}function y9(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function b9(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,p=s==="/"?e:e.slice(s.length)||"/",v=OC({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),y=h.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=OC({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!v)return null;Object.assign(r,v.params),l.push({params:r,pathname:nh([s,v.pathname]),pathnameBase:N9(nh([s,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(s=nh([s,v.pathnameBase]))}return l}function OC(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=x9(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],l=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,p,v)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let M=u[v]||"";l=s.slice(0,s.length-M.length).replace(/(.)\/+$/,"$1")}const _=u[v];return x&&!_?f[y]=void 0:f[y]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function x9(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),lc(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function S9(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lc(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Wp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function _9(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?rx(n):n;return{pathname:t?t.startsWith("/")?t:E9(t,e):e,search:M9(i),hash:w9(r)}}function E9(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function lL(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T9(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uO(n,e){let t=T9(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function cO(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=rx(n):(r=p1({},n),Tr(!r.pathname||!r.pathname.includes("?"),lL("?","pathname","search",r)),Tr(!r.pathname||!r.pathname.includes("#"),lL("#","pathname","hash",r)),Tr(!r.search||!r.search.includes("#"),lL("#","search","hash",r)));let s=n===""||r.pathname==="",l=s?"/":r.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),v-=1;r.pathname=y.join("/")}u=v>=0?e[v]:"/"}let h=_9(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}const nh=n=>n.join("/").replace(/\/\/+/g,"/"),N9=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),M9=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,w9=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function C9(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const b4=["post","put","patch","delete"];new Set(b4);const A9=["get",...b4];new Set(A9);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v1(){return v1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},v1.apply(this,arguments)}const eT=G.createContext(null);eT.displayName="DataRouter";const fO=G.createContext(null);fO.displayName="DataRouterState";const R9=G.createContext(null);R9.displayName="Await";const fu=G.createContext(null);fu.displayName="Navigation";const tT=G.createContext(null);tT.displayName="Location";const Pf=G.createContext({outlet:null,matches:[],isDataRoute:!1});Pf.displayName="Route";const dO=G.createContext(null);dO.displayName="RouteError";function D9(n,e){let{relative:t}=e===void 0?{}:e;ax()||Tr(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=G.useContext(fu),{hash:s,pathname:l,search:u}=nT(n,{relative:t}),h=l;return i!=="/"&&(h=l==="/"?i:nh([i,l])),r.createHref({pathname:h,search:u,hash:s})}function ax(){return G.useContext(tT)!=null}function Zp(){return ax()||Tr(!1,"useLocation() may be used only in the context of a <Router> component."),G.useContext(tT).location}const x4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S4(n){G.useContext(fu).static||G.useLayoutEffect(n)}function sx(){let{isDataRoute:n}=G.useContext(Pf);return n?W9():L9()}function L9(){ax()||Tr(!1,"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(eT),{basename:e,future:t,navigator:i}=G.useContext(fu),{matches:r}=G.useContext(Pf),{pathname:s}=Zp(),l=JSON.stringify(uO(r,t.v7_relativeSplatPath)),u=G.useRef(!1);return S4(()=>{u.current=!0}),G.useCallback(function(f,p){if(p===void 0&&(p={}),lc(u.current,x4),!u.current)return;if(typeof f=="number"){i.go(f);return}let v=cO(f,JSON.parse(l),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:nh([e,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[e,i,l,s,n])}function nT(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=G.useContext(fu),{matches:r}=G.useContext(Pf),{pathname:s}=Zp(),l=JSON.stringify(uO(r,i.v7_relativeSplatPath));return G.useMemo(()=>cO(n,JSON.parse(l),s,t==="path"),[n,l,s,t])}function P9(n,e){return U9(n,e)}function U9(n,e,t,i){ax()||Tr(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=G.useContext(fu),{matches:l}=G.useContext(Pf),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let w=v&&v.path||"";E4(f,!v||w.endsWith("*"),"You rendered descendant <Routes> (or called `useRoutes()`) at "+('"'+f+'" (under <Route path="'+w+'">) but the ')+`parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

`+('Please change the parent <Route path="'+w+'"> to <Route ')+('path="'+(w==="/"?"*":w+"/*")+'">.'))}let y=Zp(),x;if(e){var _;let w=typeof e=="string"?rx(e):e;p==="/"||(_=w.pathname)!=null&&_.startsWith(p)||Tr(!1,"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was "+('matched by all parent routes. The current pathname base is "'+p+'" ')+('but pathname "'+w.pathname+'" was given in the `location` prop.')),x=w}else x=y;let M=x.pathname||"/",N=M;if(p!=="/"){let w=p.replace(/^\//,"").split("/");N="/"+M.replace(/^\//,"").split("/").slice(w.length).join("/")}let T=!s&&t&&t.matches&&t.matches.length>0?t.matches:l9(n,{pathname:N});lc(v||T!=null,'No routes matched location "'+x.pathname+x.search+x.hash+'" '),lc(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,'Matched leaf route at location "'+x.pathname+x.search+x.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let A=k9(T&&T.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:nh([p,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:nh([p,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,t,i);return e&&A?G.createElement(tT.Provider,{value:{location:v1({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Fp.Pop}},A):A}function O9(){let n=G9(),e=C9(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:s},"ErrorBoundary")," or"," ",G.createElement("code",{style:s},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:r},t):null,l)}const F9=G.createElement(O9,null);class I9 extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?G.createElement(Pf.Provider,{value:this.props.routeContext},G.createElement(dO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V9(n){let{routeContext:e,match:t,children:i}=n,r=G.useContext(eT);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Pf.Provider,{value:e},i)}function k9(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(r=t)==null?void 0:r.errors;if(u!=null){let p=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);p>=0||Tr(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(u).join(",")),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,f=-1;if(t&&i&&i.v7_partialHydration)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=p),v.route.id){let{loaderData:y,errors:x}=t,_=v.route.loader&&y[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||_){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,v,y)=>{let x,_=!1,M=null,N=null;t&&(x=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||F9,h&&(f<0&&y===0?(E4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,N=null):f===y&&(_=!0,N=v.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,y+1)),A=()=>{let w;return x?w=M:_?w=N:v.route.Component?w=G.createElement(v.route.Component,null):v.route.element?w=v.route.element:w=p,G.createElement(V9,{match:v,routeContext:{outlet:p,matches:T,isDataRoute:t!=null},children:w})};return t&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?G.createElement(I9,{location:t.location,revalidation:t.revalidation,component:M,error:x,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):A()},null)}var _4=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(_4||{}),g1=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(g1||{});function hO(n){return n+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function B9(n){let e=G.useContext(eT);return e||Tr(!1,hO(n)),e}function z9(n){let e=G.useContext(fO);return e||Tr(!1,hO(n)),e}function H9(n){let e=G.useContext(Pf);return e||Tr(!1,hO(n)),e}function pO(n){let e=H9(n),t=e.matches[e.matches.length-1];return t.route.id||Tr(!1,n+' can only be used on routes that contain a unique "id"'),t.route.id}function j9(){return pO(g1.UseRouteId)}function G9(){var n;let e=G.useContext(dO),t=z9(g1.UseRouteError),i=pO(g1.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function W9(){let{router:n}=B9(_4.UseNavigateStable),e=pO(g1.UseNavigateStable),t=G.useRef(!1);return S4(()=>{t.current=!0}),G.useCallback(function(r,s){s===void 0&&(s={}),lc(t.current,x4),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,v1({fromRouteId:e},s)))},[n,e])}const qI={};function E4(n,e,t){!e&&!qI[n]&&(qI[n]=!0,lc(!1,t))}const $I={};function Y9(n,e){$I[e]||($I[e]=!0,console.warn(e))}const l0=(n,e,t)=>Y9(n,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function X9(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&l0("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||!e.v7_relativeSplatPath)&&l0("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist===void 0&&l0("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod===void 0&&l0("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration===void 0&&l0("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation===void 0&&l0("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function T4(n){let{to:e,replace:t,state:i,relative:r}=n;ax()||Tr(!1,"<Navigate> may be used only in the context of a <Router> component.");let{future:s,static:l}=G.useContext(fu);lc(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Pf),{pathname:h}=Zp(),f=sx(),p=cO(e,uO(u,s.v7_relativeSplatPath),h,r==="path"),v=JSON.stringify(p);return G.useEffect(()=>f(JSON.parse(v),{replace:t,state:i,relative:r}),[f,v,r,t,i]),null}function ug(n){Tr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q9(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Fp.Pop,navigator:s,static:l=!1,future:u}=n;ax()&&Tr(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),f=G.useMemo(()=>({basename:h,navigator:s,static:l,future:v1({v7_relativeSplatPath:!1},u)}),[h,u,s,l]);typeof i=="string"&&(i=rx(i));let{pathname:p="/",search:v="",hash:y="",state:x=null,key:_="default"}=i,M=G.useMemo(()=>{let N=Wp(p,h);return N==null?null:{location:{pathname:N,search:v,hash:y,state:x,key:_},navigationType:r}},[h,p,v,y,x,_,r]);return lc(M!=null,'<Router basename="'+h+'"> is not able to match the URL '+('"'+p+v+y+'" because it does not start with the ')+"basename, so the <Router> won't render anything."),M==null?null:G.createElement(fu.Provider,{value:f},G.createElement(tT.Provider,{children:t,value:M}))}function $9(n){let{children:e,location:t}=n;return P9(PP(e),t)}new Promise(()=>{});function PP(n,e){e===void 0&&(e=[]);let t=[];return G.Children.forEach(n,(i,r)=>{if(!G.isValidElement(i))return;let s=[...e,r];if(i.type===G.Fragment){t.push.apply(t,PP(i.props.children,s));return}i.type!==ug&&Tr(!1,"["+(typeof i.type=="string"?i.type:i.type.name)+"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"),!i.props.index||!i.props.children||Tr(!1,"An index route cannot have child routes.");let l={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=PP(i.props.children,s)),t.push(l)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function K0(){return K0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},K0.apply(this,arguments)}function mO(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}const hC="get",pC="application/x-www-form-urlencoded";function uA(n){return n!=null&&typeof n.tagName=="string"}function K9(n){return uA(n)&&n.tagName.toLowerCase()==="button"}function Z9(n){return uA(n)&&n.tagName.toLowerCase()==="form"}function J9(n){return uA(n)&&n.tagName.toLowerCase()==="input"}function Q9(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eY(n,e){return n.button===0&&(!e||e==="_self")&&!Q9(n)}let iw=null;function tY(){if(iw===null)try{new FormData(document.createElement("form"),0),iw=!1}catch{iw=!0}return iw}const nY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uL(n){return n!=null&&!nY.has(n)?(lc(!1,'"'+n+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` '+('and will default to "'+pC+'"')),null):n}function iY(n,e){let t,i,r,s,l;if(Z9(n)){let u=n.getAttribute("action");i=u?Wp(u,e):null,t=n.getAttribute("method")||hC,r=uL(n.getAttribute("enctype"))||pC,s=new FormData(n)}else if(K9(n)||J9(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?Wp(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||hC,r=uL(n.getAttribute("formenctype"))||uL(u.getAttribute("enctype"))||pC,s=new FormData(u,n),!tY()){let{name:f,type:p,value:v}=n;if(p==="image"){let y=f?f+".":"";s.append(y+"x","0"),s.append(y+"y","0")}else f&&s.append(f,v)}}else{if(uA(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hC,i=null,r=pC,l=n}return s&&r==="text/plain"&&(l=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:l}}const rY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aY=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],sY=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],oY="6";try{window.__reactRouterVersion=oY}catch{}const N4=G.createContext({isTransitioning:!1});N4.displayName="ViewTransition";const lY=G.createContext(new Map);lY.displayName="Fetchers";const uY="startTransition",KI=i9[uY];function cY(n){let{basename:e,children:t,future:i,window:r}=n,s=G.useRef();s.current==null&&(s.current=a9({window:r,v5Compat:!0}));let l=s.current,[u,h]=G.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},p=G.useCallback(v=>{f&&KI?KI(()=>h(v)):h(v)},[h,f]);return G.useLayoutEffect(()=>l.listen(p),[l,p]),G.useEffect(()=>X9(i),[i]),G.createElement(q9,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:i})}const fY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M4=G.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:l,state:u,target:h,to:f,preventScrollReset:p,viewTransition:v}=e,y=mO(e,rY),{basename:x}=G.useContext(fu),_,M=!1;if(typeof f=="string"&&dY.test(f)&&(_=f,fY))try{let w=new URL(window.location.href),L=f.startsWith("//")?new URL(w.protocol+f):new URL(f),U=Wp(L.pathname,x);L.origin===w.origin&&U!=null?f=U+L.search+L.hash:M=!0}catch{lc(!1,'<Link to="'+f+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let N=D9(f,{relative:r}),T=vY(f,{replace:l,state:u,target:h,preventScrollReset:p,relative:r,viewTransition:v});function A(w){i&&i(w),w.defaultPrevented||T(w)}return G.createElement("a",K0({},y,{href:_||N,onClick:M||s?i:A,ref:t,target:h}))});M4.displayName="Link";const hY=G.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:l=!1,style:u,to:h,viewTransition:f,children:p}=e,v=mO(e,aY),y=nT(h,{relative:v.relative}),x=Zp(),_=G.useContext(fO),{navigator:M,basename:N}=G.useContext(fu),T=_!=null&&_Y(y)&&f===!0,A=M.encodeLocation?M.encodeLocation(y).pathname:y.pathname,w=x.pathname,L=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(w=w.toLowerCase(),L=L?L.toLowerCase():null,A=A.toLowerCase()),L&&N&&(L=Wp(L,N)||L);const U=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let k=w===A||!l&&w.startsWith(A)&&w.charAt(U)==="/",V=L!=null&&(L===A||!l&&L.startsWith(A)&&L.charAt(A.length)==="/"),H={isActive:k,isPending:V,isTransitioning:T},P=k?i:void 0,I;typeof s=="function"?I=s(H):I=[s,k?"active":null,V?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let q=typeof u=="function"?u(H):u;return G.createElement(M4,K0({},v,{"aria-current":P,className:I,ref:t,style:q,to:h,viewTransition:f}),typeof p=="function"?p(H):p)});hY.displayName="NavLink";const pY=G.forwardRef((n,e)=>{let{fetcherKey:t,navigate:i,reloadDocument:r,replace:s,state:l,method:u=hC,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:y}=n,x=mO(n,sY),_=xY(),M=SY(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",T=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let w=A.nativeEvent.submitter,L=(w==null?void 0:w.getAttribute("formmethod"))||u;_(w||A.currentTarget,{fetcherKey:t,method:L,navigate:i,replace:s,state:l,relative:p,preventScrollReset:v,viewTransition:y})};return G.createElement("form",K0({ref:e,method:N,action:M,onSubmit:r?f:T},x))});pY.displayName="Form";var FC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(FC||(FC={}));var ZI;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ZI||(ZI={}));function mY(n){return n+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function w4(n){let e=G.useContext(eT);return e||Tr(!1,mY(n)),e}function vY(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:l,viewTransition:u}=e===void 0?{}:e,h=sx(),f=Zp(),p=nT(n,{relative:l});return G.useCallback(v=>{if(eY(v,t)){v.preventDefault();let y=i!==void 0?i:m1(f)===m1(p);h(n,{replace:y,state:r,preventScrollReset:s,relative:l,viewTransition:u})}},[f,h,p,i,r,t,n,s,l,u])}function gY(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let yY=0,bY=()=>"__"+String(++yY)+"__";function xY(){let{router:n}=w4(FC.UseSubmit),{basename:e}=G.useContext(fu),t=j9();return G.useCallback(function(i,r){r===void 0&&(r={}),gY();let{action:s,method:l,encType:u,formData:h,body:f}=iY(i,e);if(r.navigate===!1){let p=r.fetcherKey||bY();n.fetch(p,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function SY(n,e){let{relative:t}=e===void 0?{}:e,{basename:i}=G.useContext(fu),r=G.useContext(Pf);r||Tr(!1,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l=K0({},nT(n||".",{relative:t})),u=Zp();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let v=h.toString();l.search=v?"?"+v:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(l.pathname=l.pathname==="/"?i:nh([i,l.pathname])),m1(l)}function _Y(n,e){e===void 0&&(e={});let t=G.useContext(N4);t==null&&Tr(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=w4(FC.useViewTransitionState),r=nT(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Wp(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=Wp(t.nextLocation.pathname,i)||t.nextLocation.pathname;return OC(r.pathname,l)!=null||OC(r.pathname,s)!=null}function C4(n,e){return function(){return n.apply(e,arguments)}}const{toString:EY}=Object.prototype,{getPrototypeOf:vO}=Object,{iterator:cA,toStringTag:A4}=Symbol,fA=(n=>e=>{const t=EY.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),hc=n=>(n=n.toLowerCase(),e=>fA(e)===n),dA=n=>e=>typeof e===n,{isArray:ox}=Array,y1=dA("undefined");function TY(n){return n!==null&&!y1(n)&&n.constructor!==null&&!y1(n.constructor)&&Go(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const R4=hc("ArrayBuffer");function NY(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&R4(n.buffer),e}const MY=dA("string"),Go=dA("function"),D4=dA("number"),hA=n=>n!==null&&typeof n=="object",wY=n=>n===!0||n===!1,mC=n=>{if(fA(n)!=="object")return!1;const e=vO(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(A4 in n)&&!(cA in n)},CY=hc("Date"),AY=hc("File"),RY=hc("Blob"),DY=hc("FileList"),LY=n=>hA(n)&&Go(n.pipe),PY=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Go(n.append)&&((e=fA(n))==="formdata"||e==="object"&&Go(n.toString)&&n.toString()==="[object FormData]"))},UY=hc("URLSearchParams"),[OY,FY,IY,VY]=["ReadableStream","Request","Response","Headers"].map(hc),kY=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iT(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),ox(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let u;for(i=0;i<l;i++)u=s[i],e.call(null,n[u],u,n)}}function L4(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const bg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),P4=n=>!y1(n)&&n!==bg;function UP(){const{caseless:n}=P4(this)&&this||{},e={},t=(i,r)=>{const s=n&&L4(e,r)||r;mC(e[s])&&mC(i)?e[s]=UP(e[s],i):mC(i)?e[s]=UP({},i):ox(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&iT(arguments[i],t);return e}const BY=(n,e,t,{allOwnKeys:i}={})=>(iT(e,(r,s)=>{t&&Go(r)?n[s]=C4(r,t):n[s]=r},{allOwnKeys:i}),n),zY=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),HY=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},jY=(n,e,t,i)=>{let r,s,l;const u={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)l=r[s],(!i||i(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&vO(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},GY=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},WY=n=>{if(!n)return null;if(ox(n))return n;let e=n.length;if(!D4(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},YY=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&vO(Uint8Array)),XY=(n,e)=>{const i=(n&&n[cA]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},qY=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},$Y=hc("HTMLFormElement"),KY=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),JI=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),ZY=hc("RegExp"),U4=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};iT(t,(r,s)=>{let l;(l=e(r,s,n))!==!1&&(i[s]=l||r)}),Object.defineProperties(n,i)},JY=n=>{U4(n,(e,t)=>{if(Go(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Go(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},QY=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return ox(n)?i(n):i(String(n).split(e)),t},eX=()=>{},tX=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function nX(n){return!!(n&&Go(n.append)&&n[A4]==="FormData"&&n[cA])}const iX=n=>{const e=new Array(10),t=(i,r)=>{if(hA(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=ox(i)?[]:{};return iT(i,(l,u)=>{const h=t(l,r+1);!y1(h)&&(s[u]=h)}),e[r]=void 0,s}}return i};return t(n,0)},rX=hc("AsyncFunction"),aX=n=>n&&(hA(n)||Go(n))&&Go(n.then)&&Go(n.catch),O4=((n,e)=>n?setImmediate:e?((t,i)=>(bg.addEventListener("message",({source:r,data:s})=>{r===bg&&s===t&&i.length&&i.shift()()},!1),r=>{i.push(r),bg.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Go(bg.postMessage)),sX=typeof queueMicrotask<"u"?queueMicrotask.bind(bg):typeof process<"u"&&process.nextTick||O4,oX=n=>n!=null&&Go(n[cA]),mt={isArray:ox,isArrayBuffer:R4,isBuffer:TY,isFormData:PY,isArrayBufferView:NY,isString:MY,isNumber:D4,isBoolean:wY,isObject:hA,isPlainObject:mC,isReadableStream:OY,isRequest:FY,isResponse:IY,isHeaders:VY,isUndefined:y1,isDate:CY,isFile:AY,isBlob:RY,isRegExp:ZY,isFunction:Go,isStream:LY,isURLSearchParams:UY,isTypedArray:YY,isFileList:DY,forEach:iT,merge:UP,extend:BY,trim:kY,stripBOM:zY,inherits:HY,toFlatObject:jY,kindOf:fA,kindOfTest:hc,endsWith:GY,toArray:WY,forEachEntry:XY,matchAll:qY,isHTMLForm:$Y,hasOwnProperty:JI,hasOwnProp:JI,reduceDescriptors:U4,freezeMethods:JY,toObjectSet:QY,toCamelCase:KY,noop:eX,toFiniteNumber:tX,findKey:L4,global:bg,isContextDefined:P4,isSpecCompliantForm:nX,toJSONObject:iX,isAsyncFn:rX,isThenable:aX,setImmediate:O4,asap:sX,isIterable:oX};function Zn(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}mt.inherits(Zn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.status}}});const F4=Zn.prototype,I4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{I4[n]={value:n}});Object.defineProperties(Zn,I4);Object.defineProperty(F4,"isAxiosError",{value:!0});Zn.from=(n,e,t,i,r,s)=>{const l=Object.create(F4);return mt.toFlatObject(n,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Zn.call(l,n.message,e,t,i,r),l.cause=n,l.name=n.name,s&&Object.assign(l,s),l};const lX=null;function OP(n){return mt.isPlainObject(n)||mt.isArray(n)}function V4(n){return mt.endsWith(n,"[]")?n.slice(0,-2):n}function QI(n,e,t){return n?n.concat(e).map(function(r,s){return r=V4(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function uX(n){return mt.isArray(n)&&!n.some(OP)}const cX=mt.toFlatObject(mt,{},null,function(e){return/^is[A-Z]/.test(e)});function pA(n,e,t){if(!mt.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=mt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,N){return!mt.isUndefined(N[M])});const i=t.metaTokens,r=t.visitor||p,s=t.dots,l=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&mt.isSpecCompliantForm(e);if(!mt.isFunction(r))throw new TypeError("visitor must be a function");function f(_){if(_===null)return"";if(mt.isDate(_))return _.toISOString();if(!h&&mt.isBlob(_))throw new Zn("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(_)||mt.isTypedArray(_)?h&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function p(_,M,N){let T=_;if(_&&!N&&typeof _=="object"){if(mt.endsWith(M,"{}"))M=i?M:M.slice(0,-2),_=JSON.stringify(_);else if(mt.isArray(_)&&uX(_)||(mt.isFileList(_)||mt.endsWith(M,"[]"))&&(T=mt.toArray(_)))return M=V4(M),T.forEach(function(w,L){!(mt.isUndefined(w)||w===null)&&e.append(l===!0?QI([M],L,s):l===null?M:M+"[]",f(w))}),!1}return OP(_)?!0:(e.append(QI(N,M,s),f(_)),!1)}const v=[],y=Object.assign(cX,{defaultVisitor:p,convertValue:f,isVisitable:OP});function x(_,M){if(!mt.isUndefined(_)){if(v.indexOf(_)!==-1)throw Error("Circular reference detected in "+M.join("."));v.push(_),mt.forEach(_,function(T,A){(!(mt.isUndefined(T)||T===null)&&r.call(e,T,mt.isString(A)?A.trim():A,M,y))===!0&&x(T,M?M.concat(A):[A])}),v.pop()}}if(!mt.isObject(n))throw new TypeError("data must be an object");return x(n),e}function eV(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function gO(n,e){this._pairs=[],n&&pA(n,this,e)}const k4=gO.prototype;k4.append=function(e,t){this._pairs.push([e,t])};k4.toString=function(e){const t=e?function(i){return e.call(this,i,eV)}:eV;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function fX(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function B4(n,e,t){if(!e)return n;const i=t&&t.encode||fX;mt.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(r?s=r(e,t):s=mt.isURLSearchParams(e)?e.toString():new gO(e,t).toString(i),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class dX{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){mt.forEach(this.handlers,function(i){i!==null&&e(i)})}}const tV=dX,z4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hX=typeof URLSearchParams<"u"?URLSearchParams:gO,pX=typeof FormData<"u"?FormData:null,mX=typeof Blob<"u"?Blob:null,vX={isBrowser:!0,classes:{URLSearchParams:hX,FormData:pX,Blob:mX},protocols:["http","https","file","blob","url","data"]},yO=typeof window<"u"&&typeof document<"u",FP=typeof navigator=="object"&&navigator||void 0,gX=yO&&(!FP||["ReactNative","NativeScript","NS"].indexOf(FP.product)<0),yX=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),bX=yO&&window.location.href||"http://localhost",xX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yO,hasStandardBrowserEnv:gX,hasStandardBrowserWebWorkerEnv:yX,navigator:FP,origin:bX},Symbol.toStringTag,{value:"Module"})),js={...xX,...vX};function SX(n,e){return pA(n,new js.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return js.isNode&&mt.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function _X(n){return mt.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function EX(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function H4(n){function e(t,i,r,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=s>=t.length;return l=!l&&mt.isArray(r)?r.length:l,h?(mt.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!u):((!r[l]||!mt.isObject(r[l]))&&(r[l]=[]),e(t,i,r[l],s)&&mt.isArray(r[l])&&(r[l]=EX(r[l])),!u)}if(mt.isFormData(n)&&mt.isFunction(n.entries)){const t={};return mt.forEachEntry(n,(i,r)=>{e(_X(i),r,t,0)}),t}return null}function TX(n,e,t){if(mt.isString(n))try{return(e||JSON.parse)(n),mt.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const bO={transitional:z4,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=mt.isObject(e);if(s&&mt.isHTMLForm(e)&&(e=new FormData(e)),mt.isFormData(e))return r?JSON.stringify(H4(e)):e;if(mt.isArrayBuffer(e)||mt.isBuffer(e)||mt.isStream(e)||mt.isFile(e)||mt.isBlob(e)||mt.isReadableStream(e))return e;if(mt.isArrayBufferView(e))return e.buffer;if(mt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return SX(e,this.formSerializer).toString();if((u=mt.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return pA(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),TX(e)):e}],transformResponse:[function(e){const t=this.transitional||bO.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(mt.isResponse(e)||mt.isReadableStream(e))return e;if(e&&mt.isString(e)&&(i&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Zn.from(u,Zn.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:js.classes.FormData,Blob:js.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],n=>{bO.headers[n]={}});const xO=bO,NX=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MX=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!t||e[t]&&NX[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},nV=Symbol("internals");function wE(n){return n&&String(n).trim().toLowerCase()}function vC(n){return n===!1||n==null?n:mt.isArray(n)?n.map(vC):String(n)}function wX(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const CX=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function cL(n,e,t,i,r){if(mt.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!mt.isString(e)){if(mt.isString(i))return e.indexOf(i)!==-1;if(mt.isRegExp(i))return i.test(e)}}function AX(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function RX(n,e){const t=mt.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,l){return this[i].call(this,e,r,s,l)},configurable:!0})})}class mA{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(u,h,f){const p=wE(h);if(!p)throw new Error("header name must be a non-empty string");const v=mt.findKey(r,p);(!v||r[v]===void 0||f===!0||f===void 0&&r[v]!==!1)&&(r[v||h]=vC(u))}const l=(u,h)=>mt.forEach(u,(f,p)=>s(f,p,h));if(mt.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(mt.isString(e)&&(e=e.trim())&&!CX(e))l(MX(e),t);else if(mt.isObject(e)&&mt.isIterable(e)){let u={},h,f;for(const p of e){if(!mt.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(h=u[f])?mt.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}l(u,t)}else e!=null&&s(t,e,i);return this}get(e,t){if(e=wE(e),e){const i=mt.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return wX(r);if(mt.isFunction(t))return t.call(this,r,i);if(mt.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wE(e),e){const i=mt.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||cL(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(l){if(l=wE(l),l){const u=mt.findKey(i,l);u&&(!t||cL(i,i[u],u,t))&&(delete i[u],r=!0)}}return mt.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||cL(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return mt.forEach(this,(r,s)=>{const l=mt.findKey(i,s);if(l){t[l]=vC(r),delete t[s];return}const u=e?AX(s):String(s).trim();u!==s&&delete t[s],t[u]=vC(r),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return mt.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&mt.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[nV]=this[nV]={accessors:{}}).accessors,r=this.prototype;function s(l){const u=wE(l);i[u]||(RX(r,l),i[u]=!0)}return mt.isArray(e)?e.forEach(s):s(e),this}}mA.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);mt.reduceDescriptors(mA.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});mt.freezeMethods(mA);const oc=mA;function fL(n,e){const t=this||xO,i=e||t,r=oc.from(i.headers);let s=i.data;return mt.forEach(n,function(u){s=u.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function j4(n){return!!(n&&n.__CANCEL__)}function lx(n,e,t){Zn.call(this,n??"canceled",Zn.ERR_CANCELED,e,t),this.name="CanceledError"}mt.inherits(lx,Zn,{__CANCEL__:!0});function G4(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Zn("Request failed with status code "+t.status,[Zn.ERR_BAD_REQUEST,Zn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function DX(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function LX(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),p=i[s];l||(l=f),t[r]=h,i[r]=f;let v=s,y=0;for(;v!==r;)y+=t[v++],v=v%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),f-l<e)return;const x=p&&f-p;return x?Math.round(y*1e3/x):void 0}}function PX(n,e){let t=0,i=1e3/e,r,s;const l=(f,p=Date.now())=>{t=p,r=null,s&&(clearTimeout(s),s=null),n.apply(null,f)};return[(...f)=>{const p=Date.now(),v=p-t;v>=i?l(f,p):(r=f,s||(s=setTimeout(()=>{s=null,l(r)},i-v)))},()=>r&&l(r)]}const IC=(n,e,t=3)=>{let i=0;const r=LX(50,250);return PX(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,h=l-i,f=r(h),p=l<=u;i=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(v)},t)},iV=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},rV=n=>(...e)=>mt.asap(()=>n(...e)),UX=js.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,js.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(js.origin),js.navigator&&/(msie|trident)/i.test(js.navigator.userAgent)):()=>!0,OX=js.hasStandardBrowserEnv?{write(n,e,t,i,r,s){const l=[n+"="+encodeURIComponent(e)];mt.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),mt.isString(i)&&l.push("path="+i),mt.isString(r)&&l.push("domain="+r),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function FX(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function IX(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function W4(n,e,t){let i=!FX(e);return n&&(i||t==!1)?IX(n,e):e}const aV=n=>n instanceof oc?{...n}:n;function Pg(n,e){e=e||{};const t={};function i(f,p,v,y){return mt.isPlainObject(f)&&mt.isPlainObject(p)?mt.merge.call({caseless:y},f,p):mt.isPlainObject(p)?mt.merge({},p):mt.isArray(p)?p.slice():p}function r(f,p,v,y){if(mt.isUndefined(p)){if(!mt.isUndefined(f))return i(void 0,f,v,y)}else return i(f,p,v,y)}function s(f,p){if(!mt.isUndefined(p))return i(void 0,p)}function l(f,p){if(mt.isUndefined(p)){if(!mt.isUndefined(f))return i(void 0,f)}else return i(void 0,p)}function u(f,p,v){if(v in e)return i(f,p);if(v in n)return i(void 0,f)}const h={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,v)=>r(aV(f),aV(p),v,!0)};return mt.forEach(Object.keys(Object.assign({},n,e)),function(p){const v=h[p]||r,y=v(n[p],e[p],p);mt.isUndefined(y)&&v!==u||(t[p]=y)}),t}const Y4=n=>{const e=Pg({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:l,auth:u}=e;e.headers=l=oc.from(l),e.url=B4(W4(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(mt.isFormData(t)){if(js.hasStandardBrowserEnv||js.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[f,...p]=h?h.split(";").map(v=>v.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...p].join("; "))}}if(js.hasStandardBrowserEnv&&(i&&mt.isFunction(i)&&(i=i(e)),i||i!==!1&&UX(e.url))){const f=r&&s&&OX.read(s);f&&l.set(r,f)}return e},VX=typeof XMLHttpRequest<"u",kX=VX&&function(n){return new Promise(function(t,i){const r=Y4(n);let s=r.data;const l=oc.from(r.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=r,p,v,y,x,_;function M(){x&&x(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let N=new XMLHttpRequest;N.open(r.method.toUpperCase(),r.url,!0),N.timeout=r.timeout;function T(){if(!N)return;const w=oc.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),U={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:w,config:n,request:N};G4(function(V){t(V),M()},function(V){i(V),M()},U),N=null}"onloadend"in N?N.onloadend=T:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(T)},N.onabort=function(){N&&(i(new Zn("Request aborted",Zn.ECONNABORTED,n,N)),N=null)},N.onerror=function(){i(new Zn("Network Error",Zn.ERR_NETWORK,n,N)),N=null},N.ontimeout=function(){let L=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const U=r.transitional||z4;r.timeoutErrorMessage&&(L=r.timeoutErrorMessage),i(new Zn(L,U.clarifyTimeoutError?Zn.ETIMEDOUT:Zn.ECONNABORTED,n,N)),N=null},s===void 0&&l.setContentType(null),"setRequestHeader"in N&&mt.forEach(l.toJSON(),function(L,U){N.setRequestHeader(U,L)}),mt.isUndefined(r.withCredentials)||(N.withCredentials=!!r.withCredentials),u&&u!=="json"&&(N.responseType=r.responseType),f&&([y,_]=IC(f,!0),N.addEventListener("progress",y)),h&&N.upload&&([v,x]=IC(h),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",x)),(r.cancelToken||r.signal)&&(p=w=>{N&&(i(!w||w.type?new lx(null,n,N):w),N.abort(),N=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const A=DX(r.url);if(A&&js.protocols.indexOf(A)===-1){i(new Zn("Unsupported protocol "+A+":",Zn.ERR_BAD_REQUEST,n));return}N.send(s||null)})},BX=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const s=function(f){if(!r){r=!0,u();const p=f instanceof Error?f:this.reason;i.abort(p instanceof Zn?p:new lx(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,s(new Zn(`timeout ${e} of ms exceeded`,Zn.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),n=null)};n.forEach(f=>f.addEventListener("abort",s));const{signal:h}=i;return h.unsubscribe=()=>mt.asap(u),h}},zX=BX,HX=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},jX=async function*(n,e){for await(const t of GX(n))yield*HX(t,e)},GX=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},sV=(n,e,t,i)=>{const r=jX(n,e);let s=0,l,u=h=>{l||(l=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:f,value:p}=await r.next();if(f){u(),h.close();return}let v=p.byteLength;if(t){let y=s+=v;t(y)}h.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(h){return u(h),r.return()}},{highWaterMark:2})},vA=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",X4=vA&&typeof ReadableStream=="function",WX=vA&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),q4=(n,...e)=>{try{return!!n(...e)}catch{return!1}},YX=X4&&q4(()=>{let n=!1;const e=new Request(js.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),oV=64*1024,IP=X4&&q4(()=>mt.isReadableStream(new Response("").body)),VC={stream:IP&&(n=>n.body)};vA&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!VC[e]&&(VC[e]=mt.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Zn(`Response type '${e}' is not supported`,Zn.ERR_NOT_SUPPORT,i)})})})(new Response);const XX=async n=>{if(n==null)return 0;if(mt.isBlob(n))return n.size;if(mt.isSpecCompliantForm(n))return(await new Request(js.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(mt.isArrayBufferView(n)||mt.isArrayBuffer(n))return n.byteLength;if(mt.isURLSearchParams(n)&&(n=n+""),mt.isString(n))return(await WX(n)).byteLength},qX=async(n,e)=>{const t=mt.toFiniteNumber(n.getContentLength());return t??XX(e)},$X=vA&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:s,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:f,headers:p,withCredentials:v="same-origin",fetchOptions:y}=Y4(n);f=f?(f+"").toLowerCase():"text";let x=zX([r,s&&s.toAbortSignal()],l),_;const M=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let N;try{if(h&&YX&&t!=="get"&&t!=="head"&&(N=await qX(p,i))!==0){let U=new Request(e,{method:"POST",body:i,duplex:"half"}),k;if(mt.isFormData(i)&&(k=U.headers.get("content-type"))&&p.setContentType(k),U.body){const[V,H]=iV(N,IC(rV(h)));i=sV(U.body,oV,V,H)}}mt.isString(v)||(v=v?"include":"omit");const T="credentials"in Request.prototype;_=new Request(e,{...y,signal:x,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:i,duplex:"half",credentials:T?v:void 0});let A=await fetch(_);const w=IP&&(f==="stream"||f==="response");if(IP&&(u||w&&M)){const U={};["status","statusText","headers"].forEach(P=>{U[P]=A[P]});const k=mt.toFiniteNumber(A.headers.get("content-length")),[V,H]=u&&iV(k,IC(rV(u),!0))||[];A=new Response(sV(A.body,oV,V,()=>{H&&H(),M&&M()}),U)}f=f||"text";let L=await VC[mt.findKey(VC,f)||"text"](A,n);return!w&&M&&M(),await new Promise((U,k)=>{G4(U,k,{data:L,headers:oc.from(A.headers),status:A.status,statusText:A.statusText,config:n,request:_})})}catch(T){throw M&&M(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Zn("Network Error",Zn.ERR_NETWORK,n,_),{cause:T.cause||T}):Zn.from(T,T&&T.code,n,_)}}),VP={http:lX,xhr:kX,fetch:$X};mt.forEach(VP,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const lV=n=>`- ${n}`,KX=n=>mt.isFunction(n)||n===null||n===!1,$4={getAdapter:n=>{n=mt.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let s=0;s<e;s++){t=n[s];let l;if(i=t,!KX(t)&&(i=VP[(l=String(t)).toLowerCase()],i===void 0))throw new Zn(`Unknown adapter '${l}'`);if(i)break;r[l||"#"+s]=i}if(!i){const s=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(lV).join(`
`):" "+lV(s[0]):"as no adapter specified";throw new Zn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:VP};function dL(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new lx(null,n)}function uV(n){return dL(n),n.headers=oc.from(n.headers),n.data=fL.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),$4.getAdapter(n.adapter||xO.adapter)(n).then(function(i){return dL(n),i.data=fL.call(n,n.transformResponse,i),i.headers=oc.from(i.headers),i},function(i){return j4(i)||(dL(n),i&&i.response&&(i.response.data=fL.call(n,n.transformResponse,i.response),i.response.headers=oc.from(i.response.headers))),Promise.reject(i)})}const K4="1.9.0",gA={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{gA[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const cV={};gA.transitional=function(e,t,i){function r(s,l){return"[Axios v"+K4+"] Transitional option '"+s+"'"+l+(i?". "+i:"")}return(s,l,u)=>{if(e===!1)throw new Zn(r(l," has been removed"+(t?" in "+t:"")),Zn.ERR_DEPRECATED);return t&&!cV[l]&&(cV[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};gA.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function ZX(n,e,t){if(typeof n!="object")throw new Zn("options must be an object",Zn.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],l=e[s];if(l){const u=n[s],h=u===void 0||l(u,s,n);if(h!==!0)throw new Zn("option "+s+" must be "+h,Zn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Zn("Unknown option "+s,Zn.ERR_BAD_OPTION)}}const gC={assertOptions:ZX,validators:gA},yf=gC.validators;class kC{constructor(e){this.defaults=e||{},this.interceptors={request:new tV,response:new tV}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Pg(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&gC.assertOptions(i,{silentJSONParsing:yf.transitional(yf.boolean),forcedJSONParsing:yf.transitional(yf.boolean),clarifyTimeoutError:yf.transitional(yf.boolean)},!1),r!=null&&(mt.isFunction(r)?t.paramsSerializer={serialize:r}:gC.assertOptions(r,{encode:yf.function,serialize:yf.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gC.assertOptions(t,{baseUrl:yf.spelling("baseURL"),withXsrfToken:yf.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&mt.merge(s.common,s[t.method]);s&&mt.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),t.headers=oc.concat(l,s);const u=[];let h=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(t)===!1||(h=h&&M.synchronous,u.unshift(M.fulfilled,M.rejected))});const f=[];this.interceptors.response.forEach(function(M){f.push(M.fulfilled,M.rejected)});let p,v=0,y;if(!h){const _=[uV.bind(this),void 0];for(_.unshift.apply(_,u),_.push.apply(_,f),y=_.length,p=Promise.resolve(t);v<y;)p=p.then(_[v++],_[v++]);return p}y=u.length;let x=t;for(v=0;v<y;){const _=u[v++],M=u[v++];try{x=_(x)}catch(N){M.call(this,N);break}}try{p=uV.call(this,x)}catch(_){return Promise.reject(_)}for(v=0,y=f.length;v<y;)p=p.then(f[v++],f[v++]);return p}getUri(e){e=Pg(this.defaults,e);const t=W4(e.baseURL,e.url,e.allowAbsoluteUrls);return B4(t,e.params,e.paramsSerializer)}}mt.forEach(["delete","get","head","options"],function(e){kC.prototype[e]=function(t,i){return this.request(Pg(i||{},{method:e,url:t,data:(i||{}).data}))}});mt.forEach(["post","put","patch"],function(e){function t(i){return function(s,l,u){return this.request(Pg(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}kC.prototype[e]=t(),kC.prototype[e+"Form"]=t(!0)});const yC=kC;class SO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const l=new Promise(u=>{i.subscribe(u),s=u}).then(r);return l.cancel=function(){i.unsubscribe(s)},l},e(function(s,l,u){i.reason||(i.reason=new lx(s,l,u),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new SO(function(r){e=r}),cancel:e}}}const JX=SO;function QX(n){return function(t){return n.apply(null,t)}}function eq(n){return mt.isObject(n)&&n.isAxiosError===!0}const kP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(kP).forEach(([n,e])=>{kP[e]=n});const tq=kP;function Z4(n){const e=new yC(n),t=C4(yC.prototype.request,e);return mt.extend(t,yC.prototype,e,{allOwnKeys:!0}),mt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return Z4(Pg(n,r))},t}const ba=Z4(xO);ba.Axios=yC;ba.CanceledError=lx;ba.CancelToken=JX;ba.isCancel=j4;ba.VERSION=K4;ba.toFormData=pA;ba.AxiosError=Zn;ba.Cancel=ba.CanceledError;ba.all=function(e){return Promise.all(e)};ba.spread=QX;ba.isAxiosError=eq;ba.mergeConfig=Pg;ba.AxiosHeaders=oc;ba.formToJSON=n=>H4(mt.isHTMLForm(n)?new FormData(n):n);ba.getAdapter=$4.getAdapter;ba.HttpStatusCode=tq;ba.default=ba;const di=ba;const J4=G.createContext(null),nq=({children:n})=>{const[e,t]=G.useState(null),[i,r]=G.useState(!0),l=(()=>{if({}.VITE_API_URL)return console.log("Using VITE_API_URL:",{}.VITE_API_URL),{}.VITE_API_URL;const _=window.location.origin;return console.log("Current window URL:",_),_.includes(".app.github.dev")?(console.log("GitHub Codespaces detected - using proxy for API calls"),""):_.includes("localhost")?(console.log("Using direct localhost API URL"),"http://localhost:8080"):(console.log("Using proxy API URL for",_),"")})();G.useEffect(()=>{const _=di.interceptors.response.use(N=>N,async N=>{var A;const T=N.config;if(((A=N.response)==null?void 0:A.status)===401&&!T._retry){T._retry=!0;try{await v();const w=localStorage.getItem("accessToken");return T.headers.Authorization=`Bearer ${w}`,di(T)}catch(w){return y(),Promise.reject(w)}}return Promise.reject(N)});return(async()=>{r(!0);const N=localStorage.getItem("accessToken");if(N)try{di.defaults.headers.common.Authorization!==`Bearer ${N}`&&(console.log("Setting axios authorization header"),di.defaults.headers.common.Authorization=`Bearer ${N}`),console.log("Using standard /me endpoint with",l);const T=await di.get(`${l}/api/v1/auth/me`);console.log("Auth check successful - user data retrieved"),t(T.data)}catch(T){console.error("Failed to validate token:",T);try{await v();const A=await di.get(`${l}/api/v1/auth/me`);t(A.data),console.log("Auth successful after token refresh")}catch(A){console.error("Token refresh failed, clearing auth data:",A),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),di.defaults.headers.common.Authorization=""}}else console.log("No access token found in localStorage");r(!1)})(),()=>{di.interceptors.response.eject(_)}},[l]);const u=async(_,M)=>{r(!0);try{console.log("Attempting login with API URL:",l);try{console.log("Trying JSON login endpoint...");const N=await di.post(`${l}/api/v1/auth/login/json`,{username:_,password:M},{headers:{"Content-Type":"application/json",Accept:"application/json"}}),{access_token:T,refresh_token:A}=N.data;localStorage.setItem("userId",N.data.user_id),localStorage.setItem("accessToken",T),localStorage.setItem("refreshToken",A),di.defaults.headers.common.Authorization=`Bearer ${T}`;const w=await di.get(`${l}/api/v1/auth/me`);t(w.data),console.log("Login successful with JSON endpoint");return}catch(N){console.warn("JSON login attempt failed:",N),console.log("Trying form-based login as fallback...");const T=new FormData;T.append("username",_),T.append("password",M);try{const A=await di.post(`${l}/api/v1/auth/login`,T,{headers:{"Content-Type":"multipart/form-data"}}),{access_token:w,refresh_token:L}=A.data;localStorage.setItem("userId",A.data.user_id),localStorage.setItem("accessToken",w),localStorage.setItem("refreshToken",L),di.defaults.headers.common.Authorization=`Bearer ${w}`;const U=await di.get(`${l}/api/v1/auth/me`);t(U.data),console.log("Login successful with form-based endpoint")}catch(A){throw console.warn("Form-based login attempt failed:",A),A}}}catch(N){throw console.error("All login attempts failed:",N),N}finally{r(!1)}},h=async(_,M,N)=>{r(!0);try{console.log("Attempting registration with API URL:",l),await di.post(`${l}/api/v1/auth/register`,{username:_,email:M,password:N}),console.log("Registration successful, attempting login"),await u(_,N)}catch(T){throw console.error("Registration failed:",T),T}finally{r(!1)}},f=_=>{sessionStorage.removeItem("oauth_register");let M;if(window.location.hostname.includes(".app.github.dev")||window.location.hostname.includes("github.dev")){const N=window.location.hostname;console.log("GitHub Codespaces environment detected for OAuth"),console.log(`Hostname: ${N}`);const A=N.split(".")[0],w=A.lastIndexOf("-"),L=w!==-1?A.substring(0,w):A;console.log(`Codespace name extracted: ${L}`),M=`https://${L}-8080.app.github.dev/api/v1/auth/${_}`,console.log(`Using direct URL for OAuth login in Codespaces: ${M}`)}else M=`${l}/api/v1/auth/${_}`;console.log(`Redirecting to OAuth URL: ${M}`),window.location.href=M},p=_=>{sessionStorage.setItem("oauth_register","true");let M;if(window.location.hostname.includes(".app.github.dev")||window.location.hostname.includes("github.dev")){const N=window.location.hostname;console.log("GitHub Codespaces environment detected for OAuth registration"),console.log(`Hostname: ${N}`);const A=N.split(".")[0],w=A.lastIndexOf("-"),L=w!==-1?A.substring(0,w):A;console.log(`Codespace name extracted: ${L}`),M=`https://${L}-8080.app.github.dev/api/v1/auth/${_}?register=true`,console.log(`Using direct URL for OAuth registration in Codespaces: ${M}`)}else M=`${l}/api/v1/auth/${_}?register=true`;console.log(`Redirecting to OAuth URL for registration: ${M}`),window.location.href=M},v=async()=>{const _=localStorage.getItem("refreshToken");if(!_)throw new Error("No refresh token available");try{const M=await di.post(`${l}/api/v1/auth/refresh`,{refresh_token:_},{headers:{Authorization:""}}),{access_token:N,refresh_token:T}=M.data;localStorage.setItem("accessToken",N),localStorage.setItem("refreshToken",T),di.defaults.headers.common.Authorization=`Bearer ${N}`}catch(M){throw console.error("Token refresh failed:",M),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),di.defaults.headers.common.Authorization="",t(null),M}},y=()=>{const _=localStorage.getItem("refreshToken");_&&di.post(`${l}/api/v1/auth/logout`,{refresh_token:_}).catch(M=>console.error("Logout error:",M)),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),di.defaults.headers.common.Authorization="",t(null)},x={user:e,isAuthenticated:!!e,isLoading:i,login:u,register:h,loginWithOAuth:f,registerWithOAuth:p,logout:y,refreshToken:v};return D.jsxDEV(J4.Provider,{value:x,children:n},void 0,!1,{fileName:"/app/src/contexts/AuthContext.tsx",lineNumber:392,columnNumber:10},globalThis)},pc=()=>{const n=G.useContext(J4);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Q4=G.createContext(void 0),iq=({children:n})=>{const{user:e,isAuthenticated:t}=pc(),[i,r]=G.useState(!1),[s,l]=G.useState(null),[u,h]=G.useState(null),[f,p]=G.useState([]),[v,y]=G.useState(null),[x,_]=G.useState(null),[M,N]=G.useState({warps:[],tunnels:[]}),[T,A]=G.useState([]),[w,L]=G.useState([]),[U,k]=G.useState(null),V=()=>{if({}.VITE_API_URL)return{}.VITE_API_URL;const le=window.location.origin;return le.includes(".app.github.dev")?"":le.includes("localhost")?"http://localhost:8080":""},H=di.create({baseURL:V()});H.interceptors.request.use(le=>{const ye=localStorage.getItem("accessToken");return ye&&(le.headers.Authorization=`Bearer ${ye}`),le}),G.useEffect(()=>{console.log("GameContext: User changed:",e),e?(console.log("GameContext: Initializing for user:",e.username),P(),I()):(console.log("GameContext: No user, clearing state"),h(null),y(null),p([]))},[e]),G.useEffect(()=>{u!=null&&u.current_sector_id&&(W(),J())},[u==null?void 0:u.current_sector_id]);const P=async()=>{if(!e){console.log("GameContext: No user for refreshPlayerState");return}console.log("GameContext: Refreshing player state for user:",e.username),console.log("GameContext: API base URL:",V()),r(!0),l(null);try{console.log("GameContext: Calling /api/v1/player/state");const le=await H.get("/api/v1/player/state");if(console.log("GameContext: Player state response:",le.data),h(le.data),le.data.current_ship_id){console.log("GameContext: Loading current ship details");const ye=await H.get("/api/v1/player/current-ship");console.log("GameContext: Current ship response:",ye.data),y(ye.data)}}catch(le){console.error("GameContext: Error fetching player state:",le),l("Failed to load player state")}finally{r(!1)}},I=async()=>{if(e){r(!0),l(null);try{const le=await H.get("/api/v1/player/ships");if(p(le.data||[]),u!=null&&u.current_ship_id){const ye=le.data.find(be=>be.id===u.current_ship_id);ye&&y(ye)}}catch(le){console.error("Error loading ships:",le),l("Failed to load ships")}finally{r(!1)}}},q=async le=>{if(e){r(!0),l(null);try{await H.post(`/api/v1/ships/${le}/set-active`),await P(),await I()}catch(ye){console.error("Error setting active ship:",ye),l("Failed to set active ship")}finally{r(!1)}}},j=async le=>{var ye,be;if(!(!e||!u)){r(!0),l(null);try{const we=await H.post(`/api/v1/player/move/${le}`);return await P(),we.data}catch(we){throw console.error("Error moving to sector:",we),l(((be=(ye=we.response)==null?void 0:ye.data)==null?void 0:be.message)||"Failed to move to sector"),we}finally{r(!1)}}},J=async()=>{if(!(!e||!u)){r(!0),l(null);try{const le=await H.get("/api/v1/player/available-moves");N(le.data)}catch(le){console.error("Error getting available moves:",le),l("Failed to get available moves")}finally{r(!1)}}},W=async()=>{if(!(!e||!u)){r(!0),l(null);try{const le=await H.get("/api/v1/player/current-sector");_(le.data);const ye=await H.get(`/api/v1/sectors/${u.current_sector_id}/planets`);A(ye.data.planets||[]);const be=await H.get(`/api/v1/sectors/${u.current_sector_id}/ports`);L(be.data.ports||[])}catch(le){console.error("Error exploring location:",le),l("Failed to explore current location")}finally{r(!1)}}},se=async le=>{var ye,be;if(!(!e||!u)){r(!0),l(null);try{const we=await H.post("/api/v1/trading/dock",{port_id:le});return await P(),we.data}catch(we){throw console.error("Error docking at port:",we),l(((be=(ye=we.response)==null?void 0:ye.data)==null?void 0:be.message)||"Failed to dock at port"),we}finally{r(!1)}}},te=async le=>{if(e){r(!0),l(null);try{const ye=await H.get(`/api/v1/trading/market/${le}`);k(ye.data)}catch(ye){console.error("Error getting market info:",ye),l("Failed to get market info")}finally{r(!1)}}},ee={playerState:u,refreshPlayerState:P,ships:f,currentShip:v,loadShips:I,setCurrentShip:q,currentSector:x,availableMoves:M,planetsInSector:T,portsInSector:w,moveToSector:j,getAvailableMoves:J,dockAtPort:se,marketInfo:U,getMarketInfo:te,buyResource:async(le,ye,be)=>{var we,Oe;if(!(!e||!u)){r(!0),l(null);try{const De=await H.post("/api/v1/trading/buy",{port_id:le,resource_type:ye,quantity:be});return await P(),await te(le),De.data}catch(De){throw console.error("Error buying resource:",De),l(((Oe=(we=De.response)==null?void 0:we.data)==null?void 0:Oe.message)||"Failed to buy resource"),De}finally{r(!1)}}},sellResource:async(le,ye,be)=>{var we,Oe;if(!(!e||!u)){r(!0),l(null);try{const De=await H.post("/api/v1/trading/sell",{port_id:le,resource_type:ye,quantity:be});return await P(),await te(le),De.data}catch(De){throw console.error("Error selling resource:",De),l(((Oe=(we=De.response)==null?void 0:we.data)==null?void 0:Oe.message)||"Failed to sell resource"),De}finally{r(!1)}}},landOnPlanet:async le=>{var ye,be;if(!(!e||!u)){r(!0),l(null);try{const we=await H.post("/api/v1/planets/land",{planet_id:le});return await P(),we.data}catch(we){throw console.error("Error landing on planet:",we),l(((be=(ye=we.response)==null?void 0:ye.data)==null?void 0:be.message)||"Failed to land on planet"),we}finally{r(!1)}}},attackPlayer:async le=>{var ye,be;if(!(!e||!u)){r(!0),l(null);try{const we=await H.post("/api/v1/combat/attack-player",{defender_id:le});return await P(),we.data}catch(we){throw console.error("Error attacking player:",we),l(((be=(ye=we.response)==null?void 0:ye.data)==null?void 0:be.message)||"Failed to attack player"),we}finally{r(!1)}}},attackDrones:async()=>{var le,ye;if(!(!e||!u)){r(!0),l(null);try{const be=await H.post("/api/v1/combat/attack-drones",{sector_id:u.current_sector_id});return await P(),be.data}catch(be){throw console.error("Error attacking drones:",be),l(((ye=(le=be.response)==null?void 0:le.data)==null?void 0:ye.message)||"Failed to attack drones"),be}finally{r(!1)}}},isLoading:i,error:s,exploreCurrentLocation:W};return D.jsxDEV(Q4.Provider,{value:ee,children:n},void 0,!1,{fileName:"/app/src/contexts/GameContext.tsx",lineNumber:589,columnNumber:10},globalThis)},kg=()=>{const n=G.useContext(Q4);if(n===void 0)throw new Error("useGame must be used within a GameProvider");return n},e5=G.createContext(void 0),rq=({children:n})=>{const{user:e,isAuthenticated:t}=pc(),[i,r]=G.useState(!1),[s,l]=G.useState(null),[u,h]=G.useState(!1),[f,p]=G.useState(null),[v,y]=G.useState([]),[x,_]=G.useState(""),[M,N]=G.useState(null),[T,A]=G.useState(null),w=di.create({baseURL:{}.VITE_API_URL||""});w.interceptors.request.use(q=>{const j=localStorage.getItem("accessToken");return j&&(q.headers.Authorization=`Bearer ${j}`),q}),G.useEffect(()=>{t&&e&&L()},[t,e]);const L=async()=>{r(!0),l(null);try{const q=await w.get("/api/v1/first-login/status");h(q.data.requires_first_login),q.data.requires_first_login&&q.data.session_id&&await U()}catch(q){console.error("Error checking first login status:",q),l("Failed to check first login status.")}finally{r(!1)}},U=async()=>{r(!0),l(null);try{const q=await w.post("/api/v1/first-login/session");p(q.data),_(q.data.npc_prompt),N(q.data.exchange_id||null),y([{npc:q.data.npc_prompt,player:""}])}catch(q){console.error("Error starting first login session:",q),l("Failed to start first login session.")}finally{r(!1)}},k=async(q,j)=>{r(!0),l(null);try{const J=await w.post("/api/v1/first-login/claim-ship",{ship_type:q,dialogue_response:j});p(J.data),y(W=>[...W,{npc:"",player:j},{npc:J.data.npc_prompt,player:""}]),_(J.data.npc_prompt),N(J.data.exchange_id||null)}catch(J){console.error("Error claiming ship:",J),l("Failed to claim ship.")}finally{r(!1)}},V=async q=>{r(!0),l(null);try{if(!M)throw new Error("No active dialogue exchange.");const j=await w.post(`/api/v1/first-login/dialogue/${M}`,{response:q});return y(J=>[...J.slice(0,J.length-1),{...J[J.length-1],player:q}]),j.data.next_question&&(y(J=>[...J,{npc:j.data.next_question,player:""}]),_(j.data.next_question),N(j.data.next_exchange_id||null)),j.data.is_final&&j.data.outcome&&(A(j.data.outcome),y(J=>[...J,{npc:j.data.outcome.guard_response,player:""}]),_(j.data.outcome.guard_response)),j.data}catch(j){throw console.error("Error submitting dialogue response:",j),l("Failed to submit dialogue response."),j}finally{r(!1)}},H=async()=>{r(!0),l(null);try{const q=await w.post("/api/v1/first-login/complete");return h(!1),q.data}catch(q){throw console.error("Error completing first login:",q),l("Failed to complete first login process."),q}finally{r(!1)}},P=()=>l(null),I={requiresFirstLogin:u,isLoading:i,error:s,session:f,startSession:U,currentPrompt:x,exchangeId:M,dialogueHistory:v,availableShips:(f==null?void 0:f.available_ships)||[],claimShip:k,submitResponse:V,dialogueOutcome:T,completeFirstLogin:H,resetError:P};return D.jsxDEV(e5.Provider,{value:I,children:n},void 0,!1,{fileName:"/app/src/contexts/FirstLoginContext.tsx",lineNumber:298,columnNumber:10},globalThis)},rT=()=>{const n=G.useContext(e5);if(n===void 0)throw new Error("useFirstLogin must be used within a FirstLoginProvider");return n};class aq{constructor(){au(this,"ws",null);au(this,"token",null);au(this,"reconnectAttempts",0);au(this,"maxReconnectAttempts",5);au(this,"reconnectDelay",1e3);au(this,"heartbeatInterval",null);au(this,"messageHandlers",new Set);au(this,"isConnected",!1);au(this,"shouldReconnect",!0);this.setupEventListeners()}setupEventListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&!this.isConnected&&this.token&&this.connect()}),window.addEventListener("online",()=>{!this.isConnected&&this.token&&this.connect()}),window.addEventListener("offline",()=>{this.disconnect()})}getWebSocketUrl(){const e=window.location.protocol==="https:"?"wss:":"ws:",t=window.location.host;return t.includes(".app.github.dev")?(console.log("WebSocket: GitHub Codespaces detected - using proxy for WebSocket"),`${e}//${t}/api/v1/ws/connect`):window.location.hostname==="localhost"||window.location.hostname.includes("127.0.0.1")?`${e}//${t}/api/v1/ws/connect`:`${e}//${t}/api/v1/ws/connect`}connect(e){if(e&&(this.token=e),!this.token){console.error("WebSocket: No authentication token provided");return}if(this.ws&&(this.ws.readyState===WebSocket.CONNECTING||this.ws.readyState===WebSocket.OPEN)){console.log("WebSocket: Already connected or connecting");return}try{const t=`${this.getWebSocketUrl()}?token=${encodeURIComponent(this.token)}`;console.log("WebSocket: Connecting to",t.replace(this.token,"[TOKEN]")),this.ws=new WebSocket(t),this.setupWebSocketHandlers()}catch(t){console.error("WebSocket: Failed to create connection",t),this.scheduleReconnect()}}setupWebSocketHandlers(){this.ws&&(this.ws.onopen=()=>{console.log("WebSocket: Connected successfully"),this.isConnected=!0,this.reconnectAttempts=0,this.reconnectDelay=1e3,this.startHeartbeat(),this.notifyHandlers({type:"connection_status",connected:!0,timestamp:new Date().toISOString()})},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);console.log("WebSocket: Received message",t.type),this.notifyHandlers(t)}catch(t){console.error("WebSocket: Failed to parse message",t)}},this.ws.onclose=e=>{console.log("WebSocket: Connection closed",e.code,e.reason),this.isConnected=!1,this.stopHeartbeat(),this.notifyHandlers({type:"connection_status",connected:!1,code:e.code,reason:e.reason,timestamp:new Date().toISOString()}),this.shouldReconnect&&e.code!==4001&&e.code!==4002&&this.scheduleReconnect()},this.ws.onerror=e=>{console.error("WebSocket: Connection error",e),this.notifyHandlers({type:"connection_error",error:"WebSocket connection error",timestamp:new Date().toISOString()})})}scheduleReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("WebSocket: Max reconnection attempts reached"),this.notifyHandlers({type:"connection_failed",message:"Failed to reconnect after maximum attempts",timestamp:new Date().toISOString()});return}console.log(`WebSocket: Scheduling reconnect attempt ${this.reconnectAttempts+1} in ${this.reconnectDelay}ms`),setTimeout(()=>{this.reconnectAttempts++,this.reconnectDelay=Math.min(this.reconnectDelay*2,3e4),this.connect()},this.reconnectDelay)}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.isConnected&&this.send({type:"heartbeat",timestamp:new Date().toISOString()})},3e4)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}send(e){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return console.warn("WebSocket: Cannot send message - not connected"),!1;try{return this.ws.send(JSON.stringify(e)),!0}catch(t){return console.error("WebSocket: Failed to send message",t),!1}}sendChatMessage(e,t="sector"){return this.send({type:"chat_message",content:e.trim(),target_type:t,timestamp:new Date().toISOString()})}requestSectorPlayers(){return this.send({type:"request_sector_players",timestamp:new Date().toISOString()})}requestTeamPlayers(){return this.send({type:"request_team_players",timestamp:new Date().toISOString()})}addMessageHandler(e){this.messageHandlers.add(e)}removeMessageHandler(e){this.messageHandlers.delete(e)}notifyHandlers(e){this.messageHandlers.forEach(t=>{try{t(e)}catch(i){console.error("WebSocket: Error in message handler",i)}})}disconnect(){this.shouldReconnect=!1,this.stopHeartbeat(),this.ws&&(this.ws.close(1e3,"Client disconnect"),this.ws=null),this.isConnected=!1}getConnectionStatus(){return{connected:this.isConnected,reconnectAttempts:this.reconnectAttempts,hasToken:!!this.token}}onChatMessage(e){const t=i=>{i.type==="chat_message"&&e(i)};return this.addMessageHandler(t),()=>this.removeMessageHandler(t)}onPlayerMovement(e){const t=i=>{(i.type==="player_entered_sector"||i.type==="player_left_sector")&&e(i)};return this.addMessageHandler(t),()=>this.removeMessageHandler(t)}onSectorPlayers(e){const t=i=>{i.type==="sector_players"&&e(i)};return this.addMessageHandler(t),()=>this.removeMessageHandler(t)}onNotification(e){const t=i=>{i.type==="notification"&&e(i)};return this.addMessageHandler(t),()=>this.removeMessageHandler(t)}onConnectionStatus(e){const t=i=>{i.type==="connection_status"&&e(i.connected,i)};return this.addMessageHandler(t),()=>this.removeMessageHandler(t)}}const Ju=new aq,t5=G.createContext(void 0),_O=()=>{const n=G.useContext(t5);if(n===void 0)throw new Error("useWebSocket must be used within a WebSocketProvider");return n},sq=({children:n})=>{const{user:e}=pc(),t=localStorage.getItem("accessToken"),[i,r]=G.useState(!1),[s,l]=G.useState("Disconnected"),[u,h]=G.useState([]),[f,p]=G.useState([]),[v,y]=G.useState([]),[x,_]=G.useState([]),M=G.useRef([]),N=G.useCallback(()=>{t?(console.log("WebSocket: Initiating connection with token"),Ju.connect(t)):console.warn("WebSocket: No token available for connection")},[t]),T=G.useCallback(()=>{console.log("WebSocket: Disconnecting"),Ju.disconnect()},[]),A=G.useCallback(()=>{console.log("WebSocket: Reconnecting"),T(),setTimeout(N,1e3)},[N,T]),w=G.useCallback((I,q="sector")=>Ju.sendChatMessage(I,q),[]),L=G.useCallback(()=>{h([])},[]),U=G.useCallback(()=>{Ju.requestSectorPlayers()},[]),k=G.useCallback(I=>{const q={...I,type:"notification",timestamp:new Date().toISOString()};y(j=>[q,...j].slice(0,10)),I.level!=="error"&&setTimeout(()=>{y(j=>j.filter(J=>J.timestamp!==q.timestamp))},5e3)},[]),V=G.useCallback(I=>{y(q=>q.filter((j,J)=>J!==I))},[]),H=G.useCallback(()=>{y([])},[]);G.useEffect(()=>{const I=[],q=Ju.onConnectionStatus((ae,ge)=>{r(ae),ae?(l("Connected"),console.log("WebSocket: Connection established")):(l((ge==null?void 0:ge.reason)||"Disconnected"),console.log("WebSocket: Connection lost"),p([]))});I.push(q);const j=Ju.onChatMessage(ae=>{h(ge=>[...ge,ae].slice(-50))});I.push(j);const J=Ju.onPlayerMovement(ae=>{_(ge=>[ae,...ge].slice(0,20)),ae.type==="player_entered_sector"?p(ge=>ge.some(ce=>ce.user_id===ae.user_id)?ge:[...ge,{user_id:ae.user_id,username:ae.username,connected_at:ae.timestamp,last_heartbeat:ae.timestamp}]):ae.type==="player_left_sector"&&p(ge=>ge.filter(ve=>ve.user_id!==ae.user_id))});I.push(J);const W=Ju.onSectorPlayers(ae=>{p(ae.players)});I.push(W);const se=Ju.onNotification(ae=>{y(ge=>[ae,...ge].slice(0,10)),ae.level!=="error"&&setTimeout(()=>{y(ge=>ge.filter(ve=>ve.timestamp!==ae.timestamp))},5e3)});I.push(se);const te=ae=>{switch(ae.type){case"connection_status":break;case"heartbeat_ack":break;case"trade_completed":k({title:"Trade Completed",content:"A trade was completed in your area",level:"info"});break;case"combat_event":k({title:"Combat Activity",content:"Combat activity detected in your sector",level:"warning"});break;case"admin_broadcast":k({title:ae.title||"System Message",content:ae.content||"Administrative broadcast",level:"info"});break;case"connection_error":k({title:"Connection Error",content:ae.error||"WebSocket connection error",level:"error"});break;case"connection_failed":k({title:"Connection Failed",content:ae.message||"Failed to maintain connection",level:"error"});break;default:["sector_players","connection_status","chat_message","player_entered_sector","player_left_sector","notification"].includes(ae.type)||console.log("WebSocket: Unhandled message type:",ae.type)}};return Ju.addMessageHandler(te),I.push(()=>Ju.removeMessageHandler(te)),M.current=I,()=>{I.forEach(ae=>ae())}},[k]),G.useEffect(()=>(e&&t?(console.log("WebSocket: User authenticated, connecting..."),N()):(console.log("WebSocket: User not authenticated, disconnecting..."),T()),()=>{T()}),[e,t,N,T]),G.useEffect(()=>{i&&setTimeout(()=>{U()},1e3)},[i,U]);const P={isConnected:i,connectionStatus:s,chatMessages:u,sendChatMessage:w,clearChatMessages:L,sectorPlayers:f,requestSectorPlayers:U,notifications:v,addNotification:k,removeNotification:V,clearNotifications:H,recentMovements:x,connect:N,disconnect:T,reconnect:A};return D.jsxDEV(t5.Provider,{value:P,children:n},void 0,!1,{fileName:"/app/src/contexts/WebSocketContext.tsx",lineNumber:335,columnNumber:5},globalThis)},rw={name:"cockpit",displayName:"Spaceship Cockpit",description:"Immersive spaceship command interface with HUD elements",colors:{primary:"#00D9FF",primaryHover:"#00B8E6",primaryLight:"#33E1FF",primaryDark:"#0099CC",secondary:"#FF8C00",secondaryHover:"#FF7700",background:"#0A0A0F",backgroundSecondary:"#111116",surface:"#1A1A22",surfaceHover:"#252530",text:"#E0F6FF",textSecondary:"#B8DCF0",textMuted:"#7A8B99",success:"#00FF7F",warning:"#FF8C00",error:"#FF4444",info:"#00D9FF",border:"#334455",borderHover:"#00D9FF",shadow:"rgba(0, 217, 255, 0.3)",overlay:"rgba(10, 10, 15, 0.9)",credits:"#FFD700",turns:"#00FF7F",hazard:"#FF4444",radiation:"#FF6B35",energy:"#00D9FF"},fonts:{primary:'"Orbitron", "Exo 2", monospace',secondary:'"Roboto Condensed", sans-serif',monospace:'"JetBrains Mono", "Fira Code", monospace',heading:'"Orbitron", "Exo 2", monospace'},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem","3xl":"4rem"},breakpoints:{mobile:"390px",tablet:"768px",desktop:"1024px",widescreen:"1440px"},animations:{fast:"0.15s ease-out",normal:"0.3s ease-out",slow:"0.6s ease-out",pulse:"2s ease-in-out infinite",glow:"1.5s ease-in-out infinite alternate",scan:"3s linear infinite"},cssVariables:{"--color-primary":"#00D9FF","--color-primary-hover":"#00B8E6","--color-primary-light":"#33E1FF","--color-primary-dark":"#0099CC","--color-secondary":"#FF8C00","--color-secondary-hover":"#FF7700","--color-background":"#0A0A0F","--color-background-secondary":"#111116","--color-surface":"#1A1A22","--color-surface-hover":"#252530","--color-text":"#E0F6FF","--color-text-secondary":"#B8DCF0","--color-text-muted":"#7A8B99","--color-success":"#00FF7F","--color-warning":"#FF8C00","--color-error":"#FF4444","--color-info":"#00D9FF","--color-border":"#334455","--color-border-hover":"#00D9FF","--color-shadow":"rgba(0, 217, 255, 0.3)","--color-overlay":"rgba(10, 10, 15, 0.9)","--color-credits":"#FFD700","--color-turns":"#00FF7F","--color-hazard":"#FF4444","--color-radiation":"#FF6B35","--color-energy":"#00D9FF","--font-primary":'"Orbitron", "Exo 2", monospace',"--font-secondary":'"Roboto Condensed", sans-serif',"--font-monospace":'"JetBrains Mono", "Fira Code", monospace',"--font-heading":'"Orbitron", "Exo 2", monospace',"--space-xs":"0.25rem","--space-sm":"0.5rem","--space-md":"1rem","--space-lg":"1.5rem","--space-xl":"2rem","--space-2xl":"3rem","--space-3xl":"4rem","--transition-fast":"0.15s ease-out","--transition-normal":"0.3s ease-out","--transition-slow":"0.6s ease-out","--glow-primary":"0 0 20px rgba(0, 217, 255, 0.5)","--glow-secondary":"0 0 20px rgba(255, 140, 0, 0.5)","--glow-success":"0 0 20px rgba(0, 255, 127, 0.5)","--glow-error":"0 0 20px rgba(255, 68, 68, 0.5)","--border-radius":"6px","--border-radius-lg":"12px","--border-width":"1px","--border-width-thick":"2px","--shadow-sm":"0 2px 4px rgba(0, 0, 0, 0.3)","--shadow-md":"0 4px 12px rgba(0, 0, 0, 0.4)","--shadow-lg":"0 8px 24px rgba(0, 0, 0, 0.5)","--shadow-glow":"0 0 20px var(--color-shadow)"}},oq=G.createContext(void 0),aw={cockpit:rw,default:rw,military:rw,civilian:rw},lq=({children:n,defaultTheme:e="cockpit"})=>{const[t,i]=G.useState(()=>{const u=localStorage.getItem("gameTheme");return u&&aw[u]?u:e}),r=aw[t];G.useEffect(()=>{const u=document.documentElement;Object.entries(r.cssVariables).forEach(([h,f])=>{u.style.setProperty(h,f)}),document.body.className=document.body.className.replace(/theme-\w+/g,"").trim(),document.body.classList.add(`theme-${t}`),localStorage.setItem("gameTheme",t)},[t,r]);const l={currentTheme:r,themeName:t,setTheme:u=>{aw[u]&&i(u)},availableThemes:Object.values(aw)};return D.jsxDEV(oq.Provider,{value:l,children:n},void 0,!1,{fileName:"/app/src/themes/ThemeProvider.tsx",lineNumber:72,columnNumber:5},globalThis)};const uq=({onLoginSuccess:n,switchToRegister:e,onClose:t})=>{const[i,r]=G.useState(""),[s,l]=G.useState(""),[u,h]=G.useState(null),[f,p]=G.useState(!1),{login:v,loginWithOAuth:y}=pc(),x=async M=>{if(M.preventDefault(),!i||!s){h("Please enter both username and password");return}h(null),p(!0);try{await v(i,s),n&&n()}catch(N){console.error("Login failed:",N),h("Invalid username or password")}finally{p(!1)}},_=M=>{y(M)};return D.jsxDEV("div",{className:"login-form-container",children:D.jsxDEV("form",{className:"login-form",onSubmit:x,children:[t&&D.jsxDEV("button",{type:"button",className:"close-button",onClick:t,children:"✕"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:51,columnNumber:11},globalThis),D.jsxDEV("h2",{children:"Access Your Universe"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:55,columnNumber:9},globalThis),u&&D.jsxDEV("div",{className:"error-message",children:u},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:57,columnNumber:19},globalThis),D.jsxDEV("div",{className:"form-group",children:[D.jsxDEV("label",{htmlFor:"username",children:"Commander ID"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:60,columnNumber:11},globalThis),D.jsxDEV("input",{type:"text",id:"username",value:i,onChange:M=>r(M.target.value),disabled:f,autoComplete:"username",placeholder:"Enter your commander name"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:61,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:59,columnNumber:9},globalThis),D.jsxDEV("div",{className:"form-group",children:[D.jsxDEV("label",{htmlFor:"password",children:"Security Code"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:73,columnNumber:11},globalThis),D.jsxDEV("input",{type:"password",id:"password",value:s,onChange:M=>l(M.target.value),disabled:f,autoComplete:"current-password",placeholder:"Enter your password"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:74,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:72,columnNumber:9},globalThis),D.jsxDEV("button",{type:"submit",className:"login-button",disabled:f,children:f?"Launching...":"Play Now"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:85,columnNumber:9},globalThis),D.jsxDEV("div",{className:"register-link",children:["New to Sector Wars? ",D.jsxDEV("button",{type:"button",onClick:e,className:"text-button",children:"Create Account"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:94,columnNumber:31},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:93,columnNumber:9},globalThis),D.jsxDEV("div",{className:"oauth-divider",children:D.jsxDEV("span",{children:"Or Sign In With"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:98,columnNumber:11},globalThis)},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:97,columnNumber:9},globalThis),D.jsxDEV("div",{className:"oauth-buttons",children:[D.jsxDEV("button",{type:"button",onClick:()=>_("steam"),className:"oauth-button steam-button",children:"Steam"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:102,columnNumber:11},globalThis),D.jsxDEV("button",{type:"button",onClick:()=>_("github"),className:"oauth-button github-button",children:"GitHub"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:109,columnNumber:11},globalThis),D.jsxDEV("button",{type:"button",onClick:()=>_("google"),className:"oauth-button google-button",children:"Google"},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:116,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:101,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:49,columnNumber:7},globalThis)},void 0,!1,{fileName:"/app/src/components/auth/LoginForm.tsx",lineNumber:48,columnNumber:5},globalThis)},cq=({onRegisterSuccess:n,switchToLogin:e,onClose:t})=>{const[i,r]=G.useState(""),[s,l]=G.useState(""),[u,h]=G.useState(""),[f,p]=G.useState(""),[v,y]=G.useState(null),[x,_]=G.useState(!1),{register:M,registerWithOAuth:N}=pc(),T=async w=>{var L,U;if(w.preventDefault(),!i||!s||!u||!f){y("Please fill in all fields");return}if(u!==f){y("Passwords do not match");return}if(u.length<8){y("Password must be at least 8 characters long");return}y(null),_(!0);try{await M(i,s,u),n&&n()}catch(k){console.error("Registration failed:",k),(U=(L=k.response)==null?void 0:L.data)!=null&&U.detail?y(k.response.data.detail):y("Registration failed. Please try again.")}finally{_(!1)}},A=w=>{N(w)};return D.jsxDEV("div",{className:"register-form-container",children:D.jsxDEV("form",{className:"register-form",onSubmit:T,children:[t&&D.jsxDEV("button",{type:"button",className:"close-button",onClick:t,children:"✕"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:68,columnNumber:11},globalThis),D.jsxDEV("h2",{children:"Create Your Account"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:72,columnNumber:9},globalThis),v&&D.jsxDEV("div",{className:"error-message",children:v},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:74,columnNumber:19},globalThis),D.jsxDEV("div",{className:"form-group",children:[D.jsxDEV("label",{htmlFor:"username",children:"Commander Name"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:77,columnNumber:11},globalThis),D.jsxDEV("input",{type:"text",id:"username",value:i,onChange:w=>r(w.target.value),disabled:x,autoComplete:"username",placeholder:"Choose a unique commander name"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:78,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:76,columnNumber:9},globalThis),D.jsxDEV("div",{className:"form-group",children:[D.jsxDEV("label",{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:90,columnNumber:11},globalThis),D.jsxDEV("input",{type:"email",id:"email",value:s,onChange:w=>l(w.target.value),disabled:x,autoComplete:"email",placeholder:"Your email address"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:91,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:89,columnNumber:9},globalThis),D.jsxDEV("div",{className:"form-group",children:[D.jsxDEV("label",{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:103,columnNumber:11},globalThis),D.jsxDEV("input",{type:"password",id:"password",value:u,onChange:w=>h(w.target.value),disabled:x,autoComplete:"new-password",placeholder:"At least 8 characters"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:104,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:102,columnNumber:9},globalThis),D.jsxDEV("div",{className:"form-group",children:[D.jsxDEV("label",{htmlFor:"confirm-password",children:"Confirm Password"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:116,columnNumber:11},globalThis),D.jsxDEV("input",{type:"password",id:"confirm-password",value:f,onChange:w=>p(w.target.value),disabled:x,autoComplete:"new-password",placeholder:"Repeat your password"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:117,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:115,columnNumber:9},globalThis),D.jsxDEV("button",{type:"submit",className:"register-button",disabled:x,children:x?"Creating Account...":"Register to Play"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:128,columnNumber:9},globalThis),D.jsxDEV("div",{className:"login-link",children:["Already have an account? ",D.jsxDEV("button",{type:"button",onClick:e,className:"text-button",children:"Sign In"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:137,columnNumber:36},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:136,columnNumber:9},globalThis),D.jsxDEV("div",{className:"oauth-divider",children:D.jsxDEV("span",{children:"Or Register With"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:141,columnNumber:11},globalThis)},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:140,columnNumber:9},globalThis),D.jsxDEV("div",{className:"oauth-buttons",children:[D.jsxDEV("button",{type:"button",onClick:()=>A("steam"),className:"oauth-button steam-button",children:"Steam"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:145,columnNumber:11},globalThis),D.jsxDEV("button",{type:"button",onClick:()=>A("github"),className:"oauth-button github-button",children:"GitHub"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:152,columnNumber:11},globalThis),D.jsxDEV("button",{type:"button",onClick:()=>A("google"),className:"oauth-button google-button",children:"Google"},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:159,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:144,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:66,columnNumber:7},globalThis)},void 0,!1,{fileName:"/app/src/components/auth/RegisterForm.tsx",lineNumber:65,columnNumber:5},globalThis)},fq=()=>{const n=Zp(),e=sx(),[t,i]=G.useState("Processing authentication..."),[r,s]=G.useState(null);G.useState(null),G.useState(null);const{refreshToken:l}=pc();return G.useEffect(()=>{(async()=>{var h,f;try{const p=new URLSearchParams(n.search);console.log("OAuth callback URL search params:",n.search),console.log("Raw params:",Object.fromEntries(p.entries()));const v=p.get("access_token"),y=p.get("refresh_token"),x=p.get("user_id"),_=p.get("is_new_user")==="true"||sessionStorage.getItem("oauth_register")==="true";if(console.log("OAuth callback parameters:",{accessToken:v?"present":"missing",refreshToken:y?"present":"missing",userId:x?"present":"missing",isNewUser:_}),!v||!y||!x)throw new Error(`Invalid OAuth callback parameters: accessToken=${!!v}, refreshToken=${!!y}, userId=${!!x}`);console.log("OAuth callback received tokens:",{accessToken:v.substring(0,5)+"...",refreshToken:y.substring(0,5)+"...",userId:x}),localStorage.setItem("accessToken",v),localStorage.setItem("refreshToken",y),localStorage.setItem("userId",x),di.defaults.headers.common.Authorization=`Bearer ${v}`,sessionStorage.removeItem("oauth_register"),i(_?"Registration successful! Setting up your account...":"Login successful! Launching game..."),i("Login successful! Launching game...");try{console.log("Attempting to refresh token through AuthContext..."),await l(),console.log("AuthContext refresh token succeeded")}catch(N){console.error("Failed to refresh token through AuthContext:",N)}console.log("Stored tokens for debug:"),console.log("Access token (substring):",((h=localStorage.getItem("accessToken"))==null?void 0:h.substring(0,20))+"..."),console.log("Refresh token (substring):",((f=localStorage.getItem("refreshToken"))==null?void 0:f.substring(0,10))+"..."),console.log("User ID:",localStorage.getItem("userId")),sessionStorage.setItem("oauth_redirect_completed","true"),setTimeout(()=>{try{console.log("Verifying token data is correctly stored in localStorage..."),localStorage.getItem("accessToken")!==v&&(console.log("Token mismatch! Resetting localStorage values..."),localStorage.setItem("accessToken",v),localStorage.setItem("refreshToken",y),localStorage.setItem("userId",x),di.defaults.headers.common.Authorization=`Bearer ${v}`),console.log("Directly navigating to game dashboard..."),window.location.href="/game"}catch(N){console.error("Error during navigation:",N),window.location.href="/"}},1500)}catch(p){console.error("OAuth callback error:",p),s("Authentication failed. Please try again.")}})()},[n,e,l]),D.jsxDEV("div",{className:"oauth-callback-container",children:r?D.jsxDEV("div",{className:"error-message",children:[D.jsxDEV("h3",{children:"Authentication Error"},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:126,columnNumber:11},globalThis),D.jsxDEV("p",{children:r},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:127,columnNumber:11},globalThis),D.jsxDEV("button",{onClick:()=>e("/"),className:"login-button",children:"Back to Login"},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:128,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:125,columnNumber:9},globalThis):D.jsxDEV(D.Fragment,{children:[D.jsxDEV("div",{className:"loading-spinner"},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:137,columnNumber:11},globalThis),D.jsxDEV("p",{children:t},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:138,columnNumber:11},globalThis),D.jsxDEV("div",{style:{marginTop:"20px",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"},children:[D.jsxDEV("h4",{children:"Authentication Status:"},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:140,columnNumber:13},globalThis),D.jsxDEV("p",{children:"✅ GitHub OAuth successful"},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:141,columnNumber:13},globalThis),D.jsxDEV("p",{children:"✅ Access token stored"},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:142,columnNumber:13},globalThis),D.jsxDEV("p",{children:"⏳ Redirecting to game dashboard..."},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:143,columnNumber:13},globalThis),D.jsxDEV("p",{children:D.jsxDEV("small",{children:"Player data will be loaded in the main application"},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:144,columnNumber:16},globalThis)},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:144,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:139,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:136,columnNumber:9},globalThis)},void 0,!1,{fileName:"/app/src/components/auth/OAuthCallback.tsx",lineNumber:123,columnNumber:5},globalThis)},dq=({className:n})=>{const{logout:e}=pc(),t=sx(),i=()=>{e(),t("/login")};return D.jsxDEV("button",{onClick:i,className:`logout-button ${n||""}`,children:"Logout"},void 0,!1,{fileName:"/app/src/components/auth/LogoutButton.tsx",lineNumber:20,columnNumber:5},globalThis)},hq=()=>{const{user:n}=pc();return n?D.jsxDEV("div",{className:"user-profile",children:[D.jsxDEV("div",{className:"user-info",children:[D.jsxDEV("span",{className:"username",children:n.username},void 0,!1,{fileName:"/app/src/components/auth/UserProfile.tsx",lineNumber:16,columnNumber:9},globalThis),D.jsxDEV("span",{className:"user-role",children:"Player"},void 0,!1,{fileName:"/app/src/components/auth/UserProfile.tsx",lineNumber:17,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/UserProfile.tsx",lineNumber:15,columnNumber:7},globalThis),D.jsxDEV(dq,{className:"user-logout"},void 0,!1,{fileName:"/app/src/components/auth/UserProfile.tsx",lineNumber:19,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/app/src/components/auth/UserProfile.tsx",lineNumber:14,columnNumber:5},globalThis):null};const n5=({children:n})=>{const{user:e}=pc(),{playerState:t,currentShip:i,currentSector:r,isLoading:s}=kg(),[l,u]=G.useState(!0),h=()=>{u(!l)};return D.jsxDEV("div",{className:"cockpit-frame",children:D.jsxDEV("div",{className:"game-layout",children:[D.jsxDEV("header",{className:"game-header hud-panel",children:[D.jsxDEV("div",{className:"game-header-left",children:[D.jsxDEV("button",{className:"cockpit-btn sidebar-toggle",onClick:h,children:D.jsxDEV("span",{className:"toggle-icon",children:l?"◀":"▶"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:30,columnNumber:15},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:29,columnNumber:13},globalThis),D.jsxDEV("h1",{className:"game-title",children:[D.jsxDEV("span",{className:"title-main",children:"SECTOR WARS"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:33,columnNumber:15},globalThis),D.jsxDEV("span",{className:"title-year",children:"2102"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:34,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:32,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:28,columnNumber:11},globalThis),D.jsxDEV("div",{className:"game-header-center",children:D.jsxDEV("div",{className:"status-display",children:[D.jsxDEV("div",{className:"status-indicator online"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:39,columnNumber:15},globalThis),D.jsxDEV("span",{children:"SYSTEMS ONLINE"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:40,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:38,columnNumber:13},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:37,columnNumber:11},globalThis),D.jsxDEV("div",{className:"game-header-right",children:D.jsxDEV(hq,{},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:44,columnNumber:13},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:43,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:27,columnNumber:9},globalThis),D.jsxDEV("div",{className:"game-container",children:[D.jsxDEV("aside",{className:`game-sidebar hud-panel ${l?"open":"closed"}`,children:[D.jsxDEV("div",{className:"cockpit-card player-info",children:[D.jsxDEV("div",{className:"cockpit-card-header",children:D.jsxDEV("h3",{className:"cockpit-card-title",children:"COMMANDER"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:52,columnNumber:17},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:51,columnNumber:15},globalThis),D.jsxDEV("div",{className:"commander-name",children:e==null?void 0:e.username},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:54,columnNumber:15},globalThis),D.jsxDEV("div",{className:"player-stats",children:[D.jsxDEV("div",{className:"stat-item",children:[D.jsxDEV("span",{className:"stat-label",children:"CREDITS"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:57,columnNumber:19},globalThis),D.jsxDEV("span",{className:"data-readout credits",children:t==null?void 0:t.credits.toLocaleString()},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:58,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:56,columnNumber:17},globalThis),D.jsxDEV("div",{className:"stat-item",children:[D.jsxDEV("span",{className:"stat-label",children:"TURNS"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:61,columnNumber:19},globalThis),D.jsxDEV("span",{className:"data-readout turns",children:t==null?void 0:t.turns.toLocaleString()},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:62,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:60,columnNumber:17},globalThis),D.jsxDEV("div",{className:"stat-item",children:[D.jsxDEV("span",{className:"stat-label",children:"DRONES"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:65,columnNumber:19},globalThis),D.jsxDEV("span",{className:"data-readout",children:t==null?void 0:t.defense_drones},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:66,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:64,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:55,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:50,columnNumber:13},globalThis),D.jsxDEV("div",{className:"cockpit-card ship-info",children:[D.jsxDEV("div",{className:"cockpit-card-header",children:D.jsxDEV("h3",{className:"cockpit-card-title",children:"VESSEL STATUS"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:73,columnNumber:17},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:72,columnNumber:15},globalThis),i?D.jsxDEV("div",{className:"current-ship",children:[D.jsxDEV("div",{className:"ship-name",children:i.name},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:77,columnNumber:19},globalThis),D.jsxDEV("div",{className:"ship-type",children:i.type},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:78,columnNumber:19},globalThis),D.jsxDEV("div",{className:"ship-cargo",children:[D.jsxDEV("h4",{className:"cargo-header",children:"CARGO BAY"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:80,columnNumber:21},globalThis),Object.keys(i.cargo||{}).length>0?D.jsxDEV("ul",{className:"cargo-list",children:Object.entries(i.cargo).map(([f,p])=>D.jsxDEV("li",{className:"cargo-item",children:[D.jsxDEV("span",{className:"resource-name",children:f},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:85,columnNumber:29},globalThis),D.jsxDEV("span",{className:"data-readout",children:p},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:86,columnNumber:29},globalThis)]},f,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:84,columnNumber:27},globalThis))},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:82,columnNumber:23},globalThis):D.jsxDEV("p",{className:"empty-cargo",children:"CARGO BAY EMPTY"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:91,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:79,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:76,columnNumber:17},globalThis):D.jsxDEV("div",{className:"no-ship",children:"NO ACTIVE VESSEL"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:96,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:71,columnNumber:13},globalThis),D.jsxDEV("div",{className:"cockpit-card location-info",children:[D.jsxDEV("div",{className:"cockpit-card-header",children:D.jsxDEV("h3",{className:"cockpit-card-title",children:"NAV COORDS"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:102,columnNumber:17},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:101,columnNumber:15},globalThis),r?D.jsxDEV("div",{className:"current-sector",children:[D.jsxDEV("div",{className:"sector-name",children:["SECTOR ",r.id]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:106,columnNumber:19},globalThis),D.jsxDEV("div",{className:"sector-designation",children:r.name},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:107,columnNumber:19},globalThis),D.jsxDEV("div",{className:"sector-type",children:r.type.toUpperCase()},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:108,columnNumber:19},globalThis),r.hazard_level>0&&D.jsxDEV("div",{className:"sector-hazard",children:[D.jsxDEV("span",{className:"hazard-label",children:"THREAT LEVEL:"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:111,columnNumber:23},globalThis),D.jsxDEV("span",{className:"data-readout hazard",children:r.hazard_level},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:112,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:110,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:105,columnNumber:17},globalThis):D.jsxDEV("div",{className:"unknown-sector",children:"COORDINATES UNKNOWN"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:117,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:100,columnNumber:13},globalThis),D.jsxDEV("nav",{className:"game-nav",children:[D.jsxDEV("div",{className:"nav-header",children:"SHIP SYSTEMS"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:122,columnNumber:15},globalThis),D.jsxDEV("ul",{className:"nav-list",children:[D.jsxDEV("li",{children:D.jsxDEV("a",{href:"/game",className:"nav-link cockpit-btn",children:"🚀 COMMAND"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:124,columnNumber:21},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:124,columnNumber:17},globalThis),D.jsxDEV("li",{children:D.jsxDEV("a",{href:"/game/map",className:"nav-link cockpit-btn",children:"🗺️ NAV CHART"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:125,columnNumber:21},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:125,columnNumber:17},globalThis),D.jsxDEV("li",{children:D.jsxDEV("a",{href:"/game/ships",className:"nav-link cockpit-btn",children:"🛸 HANGAR"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:126,columnNumber:21},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:126,columnNumber:17},globalThis),D.jsxDEV("li",{children:D.jsxDEV("a",{href:"/game/trading",className:"nav-link cockpit-btn",children:"💹 TRADE"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:127,columnNumber:21},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:127,columnNumber:17},globalThis),D.jsxDEV("li",{children:D.jsxDEV("a",{href:"/game/planets",className:"nav-link cockpit-btn",children:"🪐 COLONIES"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:128,columnNumber:21},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:128,columnNumber:17},globalThis),D.jsxDEV("li",{children:D.jsxDEV("a",{href:"/game/combat",className:"nav-link cockpit-btn",children:"⚔️ WEAPONS"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:129,columnNumber:21},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:129,columnNumber:17},globalThis),D.jsxDEV("li",{children:D.jsxDEV("a",{href:"/game/team",className:"nav-link cockpit-btn",children:"👥 CREW"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:130,columnNumber:21},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:130,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:123,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:121,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:49,columnNumber:11},globalThis),D.jsxDEV("main",{className:"game-content",children:s?D.jsxDEV("div",{className:"loading-overlay",children:[D.jsxDEV("div",{className:"loading-spinner"},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:138,columnNumber:17},globalThis),D.jsxDEV("p",{className:"loading-text animate-typing",children:"INITIALIZING SYSTEMS..."},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:139,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:137,columnNumber:15},globalThis):D.jsxDEV("div",{className:"main-viewport",children:n},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:142,columnNumber:15},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:135,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:48,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:26,columnNumber:7},globalThis)},void 0,!1,{fileName:"/app/src/components/layouts/GameLayout.tsx",lineNumber:25,columnNumber:5},globalThis)};const pq=()=>{const{playerState:n,currentShip:e,marketInfo:t,getMarketInfo:i,buyResource:r,sellResource:s,portsInSector:l,isLoading:u,error:h}=kg(),{addNotification:f,isConnected:p}=_O(),[v,y]=G.useState(""),[x,_]=G.useState(""),[M,N]=G.useState(1),[T,A]=G.useState("buy"),[w,L]=G.useState(null),[U,k]=G.useState(!1);G.useEffect(()=>{l.length===1&&!v&&y(l[0].id)},[l,v]),G.useEffect(()=>{v&&i(v)},[v,i]),G.useEffect(()=>{if(x&&t&&M>0){const te=t.resources[x];if(te){const ae=T==="buy"?te.buy_price:te.sell_price,ge=ae*M,ve=T==="buy"?((n==null?void 0:n.credits)||0)>=ge:!0,ce=e!=null&&e.cargo?Object.values(e.cargo).reduce((le,ye)=>le+ye,0):0,Y=(e==null?void 0:e.cargo_capacity)||0,ee=T==="buy"?ce+M<=Y:!0;L({resourceType:x,quantity:M,unitPrice:ae,totalCost:ge,isAffordable:ve,fitsInCargo:ee})}}else L(null)},[x,t,M,T,n,e]);const V=te=>{y(te),_(""),N(1)},H=te=>{_(te),N(1)},P=te=>{A(te),N(1)},I=()=>{var ae;if(!x||!t||!n||!e)return 0;const te=t.resources[x];if(!te)return 0;if(T==="buy"){const ge=Math.floor(n.credits/te.buy_price),ve=e.cargo?Object.values(e.cargo).reduce((ee,le)=>ee+le,0):0,ce=e.cargo_capacity-ve,Y=te.quantity;return Math.min(ge,ce,Y)}else return((ae=e.cargo)==null?void 0:ae[x])||0},q=()=>{const te=I();N(te)},j=()=>{var te,ae;if(!w||!(n!=null&&n.is_ported))return!1;if(T==="buy")return w.isAffordable&&w.fitsInCargo&&M<=(((te=t==null?void 0:t.resources[x])==null?void 0:te.quantity)||0);{const ge=((ae=e==null?void 0:e.cargo)==null?void 0:ae[x])||0;return M<=ge}},J=async()=>{var te,ae;if(!(!j()||!v||!x))try{let ge;T==="buy"?ge=await r(v,x,M):ge=await s(v,x,M),f({title:"Trade Successful",content:ge.message,level:"success"}),N(1),k(!1)}catch(ge){f({title:"Trade Failed",content:((ae=(te=ge.response)==null?void 0:te.data)==null?void 0:ae.message)||"Failed to execute trade",level:"error"})}},W=te=>new Intl.NumberFormat().format(te),se=te=>({Food:"🌾",Fuel:"⚡",Ore:"🪨",Tech:"🔧",Organics:"🧬",Equipment:"⚙️",Luxuries:"💎",Colonists:"👥"})[te]||"📦";return n!=null&&n.is_ported?D.jsxDEV("div",{className:"trading-interface",children:[D.jsxDEV("div",{className:"trading-header",children:[D.jsxDEV("h2",{children:"Trading Interface"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:225,columnNumber:9},globalThis),D.jsxDEV("div",{className:"connection-status",children:D.jsxDEV("div",{className:`status-indicator ${p?"connected":"disconnected"}`,children:p?"Real-time":"Offline"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:227,columnNumber:11},globalThis)},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:226,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:224,columnNumber:7},globalThis),h&&D.jsxDEV("div",{className:"error-message",children:[D.jsxDEV("span",{className:"error-icon",children:"⚠️"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:235,columnNumber:11},globalThis),h]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:234,columnNumber:9},globalThis),D.jsxDEV("div",{className:"trading-content",children:[D.jsxDEV("div",{className:"port-selection",children:[D.jsxDEV("label",{htmlFor:"port-select",children:"Select Port:"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:243,columnNumber:11},globalThis),D.jsxDEV("select",{id:"port-select",value:v,onChange:te=>V(te.target.value),disabled:l.length<=1,children:[D.jsxDEV("option",{value:"",children:"Choose a port..."},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:250,columnNumber:13},globalThis),l.map(te=>D.jsxDEV("option",{value:te.id,children:[te.name," (",te.type,")"]},te.id,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:252,columnNumber:15},globalThis))]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:244,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:242,columnNumber:9},globalThis),D.jsxDEV("div",{className:"trade-mode-selection",children:[D.jsxDEV("button",{className:`mode-button ${T==="buy"?"active":""}`,onClick:()=>P("buy"),children:"Buy Resources"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:261,columnNumber:11},globalThis),D.jsxDEV("button",{className:`mode-button ${T==="sell"?"active":""}`,onClick:()=>P("sell"),children:"Sell Resources"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:267,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:260,columnNumber:9},globalThis),t&&D.jsxDEV("div",{className:"market-info",children:[D.jsxDEV("h3",{children:["Market at ",t.port.name]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:278,columnNumber:13},globalThis),D.jsxDEV("div",{className:"port-details",children:[D.jsxDEV("span",{children:["Type: ",t.port.type]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:280,columnNumber:15},globalThis),t.port.faction&&D.jsxDEV("span",{children:["Faction: ",t.port.faction]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:281,columnNumber:43},globalThis),D.jsxDEV("span",{children:["Tax Rate: ",((t.port.tax_rate||.1)*100).toFixed(1),"%"]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:282,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:279,columnNumber:13},globalThis),D.jsxDEV("div",{className:"resources-grid",children:Object.entries(t.resources).map(([te,ae])=>{var ve,ce;const ge=T==="buy"?ae.quantity>0:(((ve=e==null?void 0:e.cargo)==null?void 0:ve[te])||0)>0;return D.jsxDEV("div",{className:`resource-card ${ge?"":"disabled"} ${x===te?"selected":""}`,onClick:()=>ge&&H(te),children:[D.jsxDEV("div",{className:"resource-icon",children:se(te)},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:297,columnNumber:21},globalThis),D.jsxDEV("div",{className:"resource-name",children:te},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:298,columnNumber:21},globalThis),D.jsxDEV("div",{className:"resource-prices",children:[D.jsxDEV("div",{className:"buy-price",children:["Buy: ",W(ae.buy_price)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:300,columnNumber:23},globalThis),D.jsxDEV("div",{className:"sell-price",children:["Sell: ",W(ae.sell_price)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:301,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:299,columnNumber:21},globalThis),D.jsxDEV("div",{className:"resource-quantity",children:T==="buy"?`Available: ${ae.quantity}`:`You have: ${((ce=e==null?void 0:e.cargo)==null?void 0:ce[te])||0}`},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:303,columnNumber:21},globalThis)]},te,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:292,columnNumber:19},globalThis)})},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:285,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:277,columnNumber:11},globalThis),x&&D.jsxDEV("div",{className:"trade-configuration",children:[D.jsxDEV("h3",{children:[T==="buy"?"Buy":"Sell"," ",x]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:319,columnNumber:13},globalThis),D.jsxDEV("div",{className:"quantity-selector",children:[D.jsxDEV("label",{htmlFor:"quantity",children:"Quantity:"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:322,columnNumber:15},globalThis),D.jsxDEV("div",{className:"quantity-controls",children:[D.jsxDEV("button",{onClick:()=>N(Math.max(1,M-1)),disabled:M<=1,children:"-"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:324,columnNumber:17},globalThis),D.jsxDEV("input",{id:"quantity",type:"number",min:"1",max:I(),value:M,onChange:te=>N(Math.max(1,parseInt(te.target.value)||1))},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:330,columnNumber:17},globalThis),D.jsxDEV("button",{onClick:()=>N(M+1),disabled:M>=I(),children:"+"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:338,columnNumber:17},globalThis),D.jsxDEV("button",{className:"max-button",onClick:q,disabled:I()===0,children:"Max"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:344,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:323,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:321,columnNumber:13},globalThis),w&&D.jsxDEV("div",{className:"trade-calculation",children:[D.jsxDEV("div",{className:"calculation-row",children:[D.jsxDEV("span",{children:"Unit Price:"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:358,columnNumber:19},globalThis),D.jsxDEV("span",{children:[W(w.unitPrice)," credits"]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:359,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:357,columnNumber:17},globalThis),D.jsxDEV("div",{className:"calculation-row total",children:[D.jsxDEV("span",{children:["Total ",T==="buy"?"Cost":"Earnings",":"]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:362,columnNumber:19},globalThis),D.jsxDEV("span",{children:[W(w.totalCost)," credits"]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:363,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:361,columnNumber:17},globalThis),T==="buy"&&D.jsxDEV(D.Fragment,{children:[D.jsxDEV("div",{className:`calculation-row ${w.isAffordable?"":"error"}`,children:[D.jsxDEV("span",{children:"Credits Available:"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:369,columnNumber:23},globalThis),D.jsxDEV("span",{children:W((n==null?void 0:n.credits)||0)},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:370,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:368,columnNumber:21},globalThis),D.jsxDEV("div",{className:`calculation-row ${w.fitsInCargo?"":"error"}`,children:[D.jsxDEV("span",{children:"Cargo Space:"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:373,columnNumber:23},globalThis),D.jsxDEV("span",{children:e?`${Object.values(e.cargo||{}).reduce((te,ae)=>te+ae,0)+M}/${e.cargo_capacity}`:"No Ship"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:374,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:372,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:367,columnNumber:19},globalThis),D.jsxDEV("button",{className:"execute-trade-button",onClick:()=>k(!0),disabled:!j()||u,children:u?"Processing...":`${T==="buy"?"Buy":"Sell"} ${x}`},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:384,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:356,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:318,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:240,columnNumber:7},globalThis),U&&w&&D.jsxDEV("div",{className:"modal-overlay",children:D.jsxDEV("div",{className:"confirmation-dialog",children:[D.jsxDEV("h3",{children:"Confirm Trade"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:401,columnNumber:13},globalThis),D.jsxDEV("div",{className:"trade-summary",children:[D.jsxDEV("p",{children:[T==="buy"?"Buy":"Sell"," ",w.quantity," units of ",w.resourceType]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:403,columnNumber:15},globalThis),D.jsxDEV("p",{children:[T==="buy"?"Total Cost":"Total Earnings",": ",W(w.totalCost)," credits"]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:406,columnNumber:15},globalThis),T==="buy"&&D.jsxDEV("p",{children:["Credits after trade: ",W(((n==null?void 0:n.credits)||0)-w.totalCost)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:410,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:402,columnNumber:13},globalThis),D.jsxDEV("div",{className:"dialog-buttons",children:[D.jsxDEV("button",{onClick:()=>k(!1),children:"Cancel"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:414,columnNumber:15},globalThis),D.jsxDEV("button",{onClick:J,disabled:!j()||u,className:"confirm-button",children:u?"Processing...":"Confirm Trade"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:415,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:413,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:400,columnNumber:11},globalThis)},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:399,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:223,columnNumber:5},globalThis):D.jsxDEV("div",{className:"trading-interface",children:[D.jsxDEV("div",{className:"trading-header",children:[D.jsxDEV("h2",{children:"Trading Interface"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:197,columnNumber:11},globalThis),D.jsxDEV("div",{className:"status-indicator disconnected",children:"Not Docked"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:198,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:196,columnNumber:9},globalThis),D.jsxDEV("div",{className:"not-docked-message",children:[D.jsxDEV("div",{className:"message-icon",children:"🚀"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:201,columnNumber:11},globalThis),D.jsxDEV("h3",{children:"Dock at a Port to Trade"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:202,columnNumber:11},globalThis),D.jsxDEV("p",{children:"You must be docked at a port to access trading facilities."},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:203,columnNumber:11},globalThis),l.length>0&&D.jsxDEV("div",{className:"available-ports",children:[D.jsxDEV("h4",{children:"Available Ports in Sector:"},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:206,columnNumber:15},globalThis),D.jsxDEV("ul",{children:l.map(te=>D.jsxDEV("li",{className:"port-item",children:[D.jsxDEV("span",{className:"port-name",children:te.name},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:210,columnNumber:21},globalThis),D.jsxDEV("span",{className:"port-type",children:te.type},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:211,columnNumber:21},globalThis)]},te.id,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:209,columnNumber:19},globalThis))},void 0,!1,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:207,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:205,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:200,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/trading/TradingInterface.tsx",lineNumber:195,columnNumber:7},globalThis)},i5=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),yA=G.createContext({}),bA=G.createContext(null),xA=typeof document<"u",EO=xA?G.useLayoutEffect:G.useEffect,r5=G.createContext({strict:!1});function mq(n,e,t,i){const{visualElement:r}=G.useContext(yA),s=G.useContext(r5),l=G.useContext(bA),u=G.useContext(i5).reducedMotion,h=G.useRef();i=i||s.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:r,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=h.current;G.useInsertionEffect(()=>{f&&f.update(t,l)});const p=G.useRef(!!window.HandoffAppearAnimations);return EO(()=>{f&&(f.render(),p.current&&f.animationState&&f.animationState.animateChanges())}),G.useEffect(()=>{f&&(f.updateFeatures(),!p.current&&f.animationState&&f.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,p.current=!1)}),f}function I0(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function vq(n,e,t){return G.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):I0(t)&&(t.current=i))},[e])}function b1(n){return typeof n=="string"||Array.isArray(n)}function SA(n){return typeof n=="object"&&typeof n.start=="function"}const TO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],NO=["initial",...TO];function _A(n){return SA(n.animate)||NO.some(e=>b1(n[e]))}function a5(n){return!!(_A(n)||n.variants)}function gq(n,e){if(_A(n)){const{initial:t,animate:i}=n;return{initial:t===!1||b1(t)?t:void 0,animate:b1(i)?i:void 0}}return n.inherit!==!1?e:{}}function yq(n){const{initial:e,animate:t}=gq(n,G.useContext(yA));return G.useMemo(()=>({initial:e,animate:t}),[fV(e),fV(t)])}function fV(n){return Array.isArray(n)?n.join(" "):n}const dV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},x1={};for(const n in dV)x1[n]={isEnabled:e=>dV[n].some(t=>!!e[t])};function bq(n){for(const e in n)x1[e]={...x1[e],...n[e]}}const MO=G.createContext({}),s5=G.createContext({}),xq=Symbol.for("motionComponentSymbol");function Sq({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&bq(n);function s(u,h){let f;const p={...G.useContext(i5),...u,layoutId:_q(u)},{isStatic:v}=p,y=yq(u),x=i(u,v);if(!v&&xA){y.visualElement=mq(r,x,p,e);const _=G.useContext(s5),M=G.useContext(r5).strict;y.visualElement&&(f=y.visualElement.loadFeatures(p,M,n,_))}return G.createElement(yA.Provider,{value:y},f&&y.visualElement?G.createElement(f,{visualElement:y.visualElement,...p}):null,t(r,u,vq(x,y.visualElement,h),x,v,y.visualElement))}const l=G.forwardRef(s);return l[xq]=r,l}function _q({layoutId:n}){const e=G.useContext(MO).id;return e&&n!==void 0?e+"-"+n:n}function Eq(n){function e(i,r={}){return Sq(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const Tq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wO(n){return typeof n!="string"||n.includes("-")?!1:!!(Tq.indexOf(n)>-1||/[A-Z]/.test(n))}const BC={};function Nq(n){Object.assign(BC,n)}const aT=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bg=new Set(aT);function o5(n,{layout:e,layoutId:t}){return Bg.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!BC[n]||n==="opacity")}const Wo=n=>!!(n&&n.getVelocity),Mq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wq=aT.length;function Cq(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let l=0;l<wq;l++){const u=aT[l];if(n[u]!==void 0){const h=Mq[u]||u;s+=`${h}(${n[u]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const l5=n=>e=>typeof e=="string"&&e.startsWith(n),u5=l5("--"),BP=l5("var(--"),Aq=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Rq=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Yp=(n,e,t)=>Math.min(Math.max(t,n),e),zg={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},JE={...zg,transform:n=>Yp(0,1,n)},sw={...zg,default:1},QE=n=>Math.round(n*1e5)/1e5,EA=/(-)?([\d]*\.?[\d])+/g,c5=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Dq=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function sT(n){return typeof n=="string"}const oT=n=>({test:e=>sT(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Pp=oT("deg"),Mf=oT("%"),Pn=oT("px"),Lq=oT("vh"),Pq=oT("vw"),hV={...Mf,parse:n=>Mf.parse(n)/100,transform:n=>Mf.transform(n*100)},pV={...zg,transform:Math.round},f5={borderWidth:Pn,borderTopWidth:Pn,borderRightWidth:Pn,borderBottomWidth:Pn,borderLeftWidth:Pn,borderRadius:Pn,radius:Pn,borderTopLeftRadius:Pn,borderTopRightRadius:Pn,borderBottomRightRadius:Pn,borderBottomLeftRadius:Pn,width:Pn,maxWidth:Pn,height:Pn,maxHeight:Pn,size:Pn,top:Pn,right:Pn,bottom:Pn,left:Pn,padding:Pn,paddingTop:Pn,paddingRight:Pn,paddingBottom:Pn,paddingLeft:Pn,margin:Pn,marginTop:Pn,marginRight:Pn,marginBottom:Pn,marginLeft:Pn,rotate:Pp,rotateX:Pp,rotateY:Pp,rotateZ:Pp,scale:sw,scaleX:sw,scaleY:sw,scaleZ:sw,skew:Pp,skewX:Pp,skewY:Pp,distance:Pn,translateX:Pn,translateY:Pn,translateZ:Pn,x:Pn,y:Pn,z:Pn,perspective:Pn,transformPerspective:Pn,opacity:JE,originX:hV,originY:hV,originZ:Pn,zIndex:pV,fillOpacity:JE,strokeOpacity:JE,numOctaves:pV};function CO(n,e,t,i){const{style:r,vars:s,transform:l,transformOrigin:u}=n;let h=!1,f=!1,p=!0;for(const v in e){const y=e[v];if(u5(v)){s[v]=y;continue}const x=f5[v],_=Rq(y,x);if(Bg.has(v)){if(h=!0,l[v]=_,!p)continue;y!==(x.default||0)&&(p=!1)}else v.startsWith("origin")?(f=!0,u[v]=_):r[v]=_}if(e.transform||(h||i?r.transform=Cq(n.transform,t,p,i):r.transform&&(r.transform="none")),f){const{originX:v="50%",originY:y="50%",originZ:x=0}=u;r.transformOrigin=`${v} ${y} ${x}`}}const AO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d5(n,e,t){for(const i in e)!Wo(e[i])&&!o5(i,t)&&(n[i]=e[i])}function Uq({transformTemplate:n},e,t){return G.useMemo(()=>{const i=AO();return CO(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function Oq(n,e,t){const i=n.style||{},r={};return d5(r,i,n),Object.assign(r,Uq(n,e,t)),n.transformValues?n.transformValues(r):r}function Fq(n,e,t){const i={},r=Oq(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const Iq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function zC(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||Iq.has(n)}let h5=n=>!zC(n);function Vq(n){n&&(h5=e=>e.startsWith("on")?!zC(e):n(e))}try{Vq(require("@emotion/is-prop-valid").default)}catch{}function kq(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(h5(r)||t===!0&&zC(r)||!e&&!zC(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function mV(n,e,t){return typeof n=="string"?n:Pn.transform(e+t*n)}function Bq(n,e,t){const i=mV(e,n.x,n.width),r=mV(t,n.y,n.height);return`${i} ${r}`}const zq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hq={offset:"strokeDashoffset",array:"strokeDasharray"};function jq(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?zq:Hq;n[s.offset]=Pn.transform(-i);const l=Pn.transform(e),u=Pn.transform(t);n[s.array]=`${l} ${u}`}function RO(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...f},p,v,y){if(CO(n,f,p,y),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:_,dimensions:M}=n;x.transform&&(M&&(_.transform=x.transform),delete x.transform),M&&(r!==void 0||s!==void 0||_.transform)&&(_.transformOrigin=Bq(M,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),i!==void 0&&(x.scale=i),l!==void 0&&jq(x,l,u,h,!1)}const p5=()=>({...AO(),attrs:{}}),DO=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Gq(n,e,t,i){const r=G.useMemo(()=>{const s=p5();return RO(s,e,{enableHardwareAcceleration:!1},DO(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};d5(s,n.style,n),r.style={...s,...r.style}}return r}function Wq(n=!1){return(t,i,r,{latestValues:s},l)=>{const h=(wO(t)?Gq:Fq)(i,s,l,t),p={...kq(i,typeof t=="string",n),...h,ref:r},{children:v}=i,y=G.useMemo(()=>Wo(v)?v.get():v,[v]);return G.createElement(t,{...p,children:y})}}const LO=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function m5(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const v5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g5(n,e,t,i){m5(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(v5.has(r)?r:LO(r),e.attrs[r])}function PO(n,e){const{style:t}=n,i={};for(const r in t)(Wo(t[r])||e.style&&Wo(e.style[r])||o5(r,n))&&(i[r]=t[r]);return i}function y5(n,e){const t=PO(n,e);for(const i in n)if(Wo(n[i])||Wo(e[i])){const r=aT.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function UO(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function b5(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const HC=n=>Array.isArray(n),Yq=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Xq=n=>HC(n)?n[n.length-1]||0:n;function bC(n){const e=Wo(n)?n.get():n;return Yq(e)?e.toValue():e}function qq({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const l={latestValues:$q(i,r,s,n),renderState:e()};return t&&(l.mount=u=>t(i,u,l)),l}const x5=n=>(e,t)=>{const i=G.useContext(yA),r=G.useContext(bA),s=()=>qq(n,e,i,r);return t?s():b5(s)};function $q(n,e,t,i){const r={},s=i(n,{});for(const y in s)r[y]=bC(s[y]);let{initial:l,animate:u}=n;const h=_A(n),f=a5(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=t?t.initial===!1:!1;p=p||l===!1;const v=p?u:l;return v&&typeof v!="boolean"&&!SA(v)&&(Array.isArray(v)?v:[v]).forEach(x=>{const _=UO(n,x);if(!_)return;const{transitionEnd:M,transition:N,...T}=_;for(const A in T){let w=T[A];if(Array.isArray(w)){const L=p?w.length-1:0;w=w[L]}w!==null&&(r[A]=w)}for(const A in M)r[A]=M[A]}),r}const qr=n=>n;class vV{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Kq(n){let e=new vV,t=new vV,i=0,r=!1,s=!1;const l=new WeakSet,u={schedule:(h,f=!1,p=!1)=>{const v=p&&r,y=v?e:t;return f&&l.add(h),y.add(h)&&v&&r&&(i=e.order.length),h},cancel:h=>{t.remove(h),l.delete(h)},process:h=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let f=0;f<i;f++){const p=e.order[f];p(h),l.has(p)&&(u.schedule(p),n())}r=!1,s&&(s=!1,u.process(h))}};return u}const ow=["prepare","read","update","preRender","render","postRender"],Zq=40;function Jq(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=ow.reduce((v,y)=>(v[y]=Kq(()=>t=!0),v),{}),l=v=>s[v].process(r),u=()=>{const v=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(v-r.timestamp,Zq),1),r.timestamp=v,r.isProcessing=!0,ow.forEach(l),r.isProcessing=!1,t&&e&&(i=!1,n(u))},h=()=>{t=!0,i=!0,r.isProcessing||n(u)};return{schedule:ow.reduce((v,y)=>{const x=s[y];return v[y]=(_,M=!1,N=!1)=>(t||h(),x.schedule(_,M,N)),v},{}),cancel:v=>ow.forEach(y=>s[y].cancel(v)),state:r,steps:s}}const{schedule:or,cancel:sh,state:Ka,steps:hL}=Jq(typeof requestAnimationFrame<"u"?requestAnimationFrame:qr,!0),Qq={useVisualState:x5({scrapeMotionValuesFromProps:y5,createRenderState:p5,onMount:(n,e,{renderState:t,latestValues:i})=>{or.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),or.render(()=>{RO(t,i,{enableHardwareAcceleration:!1},DO(e.tagName),n.transformTemplate),g5(e,t)})}})},e$={useVisualState:x5({scrapeMotionValuesFromProps:PO,createRenderState:AO})};function t$(n,{forwardMotionProps:e=!1},t,i){return{...wO(n)?Qq:e$,preloadedFeatures:t,useRender:Wq(e),createVisualElement:i,Component:n}}function eh(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const S5=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function TA(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const n$=n=>e=>S5(e)&&n(e,TA(e));function ih(n,e,t,i){return eh(n,e,n$(t),i)}const i$=(n,e)=>t=>e(n(t)),kp=(...n)=>n.reduce(i$);function _5(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const gV=_5("dragHorizontal"),yV=_5("dragVertical");function E5(n){let e=!1;if(n==="y")e=yV();else if(n==="x")e=gV();else{const t=gV(),i=yV();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function T5(){const n=E5(!0);return n?(n(),!1):!0}class Jp{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bV(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,l)=>{if(s.type==="touch"||T5())return;const u=n.getProps();n.animationState&&u.whileHover&&n.animationState.setActive("whileHover",e),u[i]&&or.update(()=>u[i](s,l))};return ih(n.current,t,r,{passive:!n.getProps()[i]})}class r$ extends Jp{mount(){this.unmount=kp(bV(this.node,!0),bV(this.node,!1))}unmount(){}}class a$ extends Jp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kp(eh(this.node.current,"focus",()=>this.onFocus()),eh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const N5=(n,e)=>e?n===e?!0:N5(n,e.parentElement):!1;function pL(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,TA(t))}class s$ extends Jp{constructor(){super(...arguments),this.removeStartListeners=qr,this.removeEndListeners=qr,this.removeAccessibleListeners=qr,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=ih(window,"pointerup",(u,h)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:p}=this.node.getProps();or.update(()=>{N5(this.node.current,u.target)?f&&f(u,h):p&&p(u,h)})},{passive:!(i.onTap||i.onPointerUp)}),l=ih(window,"pointercancel",(u,h)=>this.cancelPress(u,h),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=kp(s,l),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const l=u=>{u.key!=="Enter"||!this.checkPressEnd()||pL("up",(h,f)=>{const{onTap:p}=this.node.getProps();p&&or.update(()=>p(h,f))})};this.removeEndListeners(),this.removeEndListeners=eh(this.node.current,"keyup",l),pL("down",(u,h)=>{this.startPress(u,h)})},t=eh(this.node.current,"keydown",e),i=()=>{this.isPressing&&pL("cancel",(s,l)=>this.cancelPress(s,l))},r=eh(this.node.current,"blur",i);this.removeAccessibleListeners=kp(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&or.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!T5()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&or.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=ih(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=eh(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=kp(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const zP=new WeakMap,mL=new WeakMap,o$=n=>{const e=zP.get(n.target);e&&e(n)},l$=n=>{n.forEach(o$)};function u$({root:n,...e}){const t=n||document;mL.has(t)||mL.set(t,{});const i=mL.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(l$,{root:n,...e})),i[r]}function c$(n,e,t){const i=u$(e);return zP.set(n,t),i.observe(n),()=>{zP.delete(n),i.unobserve(n)}}const f$={some:0,all:1};class d$ extends Jp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:f$[r]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),y=f?p:v;y&&y(h)};return c$(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(h$(e,t))&&this.startObserver()}unmount(){}}function h$({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const p$={inView:{Feature:d$},tap:{Feature:s$},focus:{Feature:a$},hover:{Feature:r$}};function M5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function m$(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function v$(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function NA(n,e,t){const i=n.getProps();return UO(i,e,t!==void 0?t:i.custom,m$(n),v$(n))}const g$="framerAppearId",y$="data-"+LO(g$);let lT=qr,uc=qr;lT=(n,e)=>{!n&&typeof console<"u"&&console.warn(e)},uc=(n,e)=>{if(!n)throw new Error(e)};const Bp=n=>n*1e3,rh=n=>n/1e3,b$={current:!1},w5=n=>Array.isArray(n)&&typeof n[0]=="number";function C5(n){return!!(!n||typeof n=="string"&&A5[n]||w5(n)||Array.isArray(n)&&n.every(C5))}const qE=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,A5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qE([0,.65,.55,1]),circOut:qE([.55,0,1,.45]),backIn:qE([.31,.01,.66,-.59]),backOut:qE([.33,1.53,.69,.99])};function R5(n){if(n)return w5(n)?qE(n):Array.isArray(n)?n.map(R5):A5[n]}function x$(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:l="loop",ease:u,times:h}={}){const f={[e]:t};h&&(f.offset=h);const p=R5(u);return Array.isArray(p)&&(f.easing=p),n.animate(f,{delay:i,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"})}function S$(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const D5=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,_$=1e-7,E$=12;function T$(n,e,t,i,r){let s,l,u=0;do l=e+(t-e)/2,s=D5(l,i,r)-n,s>0?t=l:e=l;while(Math.abs(s)>_$&&++u<E$);return l}function uT(n,e,t,i){if(n===e&&t===i)return qr;const r=s=>T$(s,0,1,n,t);return s=>s===0||s===1?s:D5(r(s),e,i)}const N$=uT(.42,0,1,1),M$=uT(0,0,.58,1),L5=uT(.42,0,.58,1),w$=n=>Array.isArray(n)&&typeof n[0]!="number",P5=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,U5=n=>e=>1-n(1-e),O5=n=>1-Math.sin(Math.acos(n)),OO=U5(O5),C$=P5(OO),F5=uT(.33,1.53,.69,.99),FO=U5(F5),A$=P5(FO),R$=n=>(n*=2)<1?.5*FO(n):.5*(2-Math.pow(2,-10*(n-1))),xV={linear:qr,easeIn:N$,easeInOut:L5,easeOut:M$,circIn:O5,circInOut:C$,circOut:OO,backIn:FO,backInOut:A$,backOut:F5,anticipate:R$},SV=n=>{if(Array.isArray(n)){uc(n.length===4,"Cubic bezier arrays must contain four numerical values.");const[e,t,i,r]=n;return uT(e,t,i,r)}else if(typeof n=="string")return uc(xV[n]!==void 0,`Invalid easing type '${n}'`),xV[n];return n},IO=(n,e)=>t=>!!(sT(t)&&Dq.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),I5=(n,e,t)=>i=>{if(!sT(i))return i;const[r,s,l,u]=i.match(EA);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},D$=n=>Yp(0,255,n),vL={...zg,transform:n=>Math.round(D$(n))},xg={test:IO("rgb","red"),parse:I5("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+vL.transform(n)+", "+vL.transform(e)+", "+vL.transform(t)+", "+QE(JE.transform(i))+")"};function L$(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const HP={test:IO("#"),parse:L$,transform:xg.transform},V0={test:IO("hsl","hue"),parse:I5("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Mf.transform(QE(e))+", "+Mf.transform(QE(t))+", "+QE(JE.transform(i))+")"},po={test:n=>xg.test(n)||HP.test(n)||V0.test(n),parse:n=>xg.test(n)?xg.parse(n):V0.test(n)?V0.parse(n):HP.parse(n),transform:n=>sT(n)?n:n.hasOwnProperty("red")?xg.transform(n):V0.transform(n)},Fr=(n,e,t)=>-t*n+t*e+n;function gL(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function P$({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,l=0;if(!e)r=s=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;r=gL(h,u,n+1/3),s=gL(h,u,n),l=gL(h,u,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:i}}const yL=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},U$=[HP,xg,V0],O$=n=>U$.find(e=>e.test(n));function _V(n){const e=O$(n);uc(!!e,`'${n}' is not an animatable color. Use the equivalent color code instead.`);let t=e.parse(n);return e===V0&&(t=P$(t)),t}const V5=(n,e)=>{const t=_V(n),i=_V(e),r={...t};return s=>(r.red=yL(t.red,i.red,s),r.green=yL(t.green,i.green,s),r.blue=yL(t.blue,i.blue,s),r.alpha=Fr(t.alpha,i.alpha,s),xg.transform(r))};function F$(n){var e,t;return isNaN(n)&&sT(n)&&(((e=n.match(EA))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(c5))===null||t===void 0?void 0:t.length)||0)>0}const k5={regex:Aq,countKey:"Vars",token:"${v}",parse:qr},B5={regex:c5,countKey:"Colors",token:"${c}",parse:po.parse},z5={regex:EA,countKey:"Numbers",token:"${n}",parse:zg.parse};function bL(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function jC(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&bL(t,k5),bL(t,B5),bL(t,z5),t}function H5(n){return jC(n).values}function j5(n){const{values:e,numColors:t,numVars:i,tokenised:r}=jC(n),s=e.length;return l=>{let u=r;for(let h=0;h<s;h++)h<i?u=u.replace(k5.token,l[h]):h<i+t?u=u.replace(B5.token,po.transform(l[h])):u=u.replace(z5.token,QE(l[h]));return u}}const I$=n=>typeof n=="number"?0:n;function V$(n){const e=H5(n);return j5(n)(e.map(I$))}const Xp={test:F$,parse:H5,createTransformer:j5,getAnimatableNone:V$},G5=(n,e)=>t=>`${t>0?e:n}`;function W5(n,e){return typeof n=="number"?t=>Fr(n,e,t):po.test(n)?V5(n,e):n.startsWith("var(")?G5(n,e):X5(n,e)}const Y5=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,l)=>W5(s,e[l]));return s=>{for(let l=0;l<i;l++)t[l]=r[l](s);return t}},k$=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=W5(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},X5=(n,e)=>{const t=Xp.createTransformer(e),i=jC(n),r=jC(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?kp(Y5(i.values,r.values),t):(lT(!0,`Complex values '${n}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),G5(n,e))},S1=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},EV=(n,e)=>t=>Fr(n,e,t);function B$(n){return typeof n=="number"?EV:typeof n=="string"?po.test(n)?V5:X5:Array.isArray(n)?Y5:typeof n=="object"?k$:EV}function z$(n,e,t){const i=[],r=t||B$(n[0]),s=n.length-1;for(let l=0;l<s;l++){let u=r(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||qr:e;u=kp(h,u)}i.push(u)}return i}function q5(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(uc(s===e.length,"Both input and output ranges must be the same length"),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=z$(e,i,r),u=l.length,h=f=>{let p=0;if(u>1)for(;p<n.length-2&&!(f<n[p+1]);p++);const v=S1(n[p],n[p+1],f);return l[p](v)};return t?f=>h(Yp(n[0],n[s-1],f)):h}function H$(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=S1(0,e,i);n.push(Fr(t,1,r))}}function j$(n){const e=[0];return H$(e,n.length-1),e}function G$(n,e){return n.map(t=>t*e)}function W$(n,e){return n.map(()=>e||L5).splice(0,n.length-1)}function GC({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=w$(i)?i.map(SV):SV(i),s={done:!1,value:e[0]},l=G$(t&&t.length===e.length?t:j$(e),n),u=q5(l,e,{ease:Array.isArray(r)?r:W$(e,r)});return{calculatedDuration:n,next:h=>(s.value=u(h),s.done=h>=n,s)}}function $5(n,e){return e?n*(1e3/e):0}const Y$=5;function K5(n,e,t){const i=Math.max(e-Y$,0);return $5(t-n(i),e-i)}const xL=.001,X$=.01,TV=10,q$=.05,$$=1;function K$({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;lT(n<=Bp(TV),"Spring duration must be 10 seconds or less");let l=1-e;l=Yp(q$,$$,l),n=Yp(X$,TV,rh(n)),l<1?(r=f=>{const p=f*l,v=p*n,y=p-t,x=jP(f,l),_=Math.exp(-v);return xL-y/x*_},s=f=>{const v=f*l*n,y=v*t+t,x=Math.pow(l,2)*Math.pow(f,2)*n,_=Math.exp(-v),M=jP(Math.pow(f,2),l);return(-r(f)+xL>0?-1:1)*((y-x)*_)/M}):(r=f=>{const p=Math.exp(-f*n),v=(f-t)*n+1;return-xL+p*v},s=f=>{const p=Math.exp(-f*n),v=(t-f)*(n*n);return p*v});const u=5/n,h=J$(r,s,u);if(n=Bp(n),isNaN(h))return{stiffness:100,damping:10,duration:n};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:n}}}const Z$=12;function J$(n,e,t){let i=t;for(let r=1;r<Z$;r++)i=i-n(i)/e(i);return i}function jP(n,e){return n*Math.sqrt(1-e*e)}const Q$=["duration","bounce"],eK=["stiffness","damping","mass"];function NV(n,e){return e.some(t=>n[t]!==void 0)}function tK(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!NV(n,eK)&&NV(n,Q$)){const t=K$(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function Z5({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],l={done:!1,value:r},{stiffness:u,damping:h,mass:f,velocity:p,duration:v,isResolvedFromDuration:y}=tK(i),x=p?-rh(p):0,_=h/(2*Math.sqrt(u*f)),M=s-r,N=rh(Math.sqrt(u/f)),T=Math.abs(M)<5;t||(t=T?.01:2),e||(e=T?.005:.5);let A;if(_<1){const w=jP(N,_);A=L=>{const U=Math.exp(-_*N*L);return s-U*((x+_*N*M)/w*Math.sin(w*L)+M*Math.cos(w*L))}}else if(_===1)A=w=>s-Math.exp(-N*w)*(M+(x+N*M)*w);else{const w=N*Math.sqrt(_*_-1);A=L=>{const U=Math.exp(-_*N*L),k=Math.min(w*L,300);return s-U*((x+_*N*M)*Math.sinh(k)+w*M*Math.cosh(k))/w}}return{calculatedDuration:y&&v||null,next:w=>{const L=A(w);if(y)l.done=w>=v;else{let U=x;w!==0&&(_<1?U=K5(A,w,L):U=0);const k=Math.abs(U)<=t,V=Math.abs(s-L)<=e;l.done=k&&V}return l.value=l.done?s:L,l}}}function MV({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:p}){const v=n[0],y={done:!1,value:v},x=H=>u!==void 0&&H<u||h!==void 0&&H>h,_=H=>u===void 0?h:h===void 0||Math.abs(u-H)<Math.abs(h-H)?u:h;let M=t*e;const N=v+M,T=l===void 0?N:l(N);T!==N&&(M=T-v);const A=H=>-M*Math.exp(-H/i),w=H=>T+A(H),L=H=>{const P=A(H),I=w(H);y.done=Math.abs(P)<=f,y.value=y.done?T:I};let U,k;const V=H=>{x(y.value)&&(U=H,k=Z5({keyframes:[y.value,_(y.value)],velocity:K5(w,H,y.value),damping:r,stiffness:s,restDelta:f,restSpeed:p}))};return V(0),{calculatedDuration:null,next:H=>{let P=!1;return!k&&U===void 0&&(P=!0,L(H),V(H)),U!==void 0&&H>U?k.next(H-U):(!P&&L(H),y)}}}const nK=n=>{const e=({timestamp:t})=>n(t);return{start:()=>or.update(e,!0),stop:()=>sh(e),now:()=>Ka.isProcessing?Ka.timestamp:performance.now()}},wV=2e4;function CV(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<wV;)e+=t,i=n.next(e);return e>=wV?1/0:e}const iK={decay:MV,inertia:MV,tween:GC,keyframes:GC,spring:Z5};function WC({autoplay:n=!0,delay:e=0,driver:t=nK,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:u="loop",onPlay:h,onStop:f,onComplete:p,onUpdate:v,...y}){let x=1,_=!1,M,N;const T=()=>{N=new Promise(Y=>{M=Y})};T();let A;const w=iK[r]||GC;let L;w!==GC&&typeof i[0]!="number"&&(L=q5([0,100],i,{clamp:!1}),i=[0,100]);const U=w({...y,keyframes:i});let k;u==="mirror"&&(k=w({...y,keyframes:[...i].reverse(),velocity:-(y.velocity||0)}));let V="idle",H=null,P=null,I=null;U.calculatedDuration===null&&s&&(U.calculatedDuration=CV(U));const{calculatedDuration:q}=U;let j=1/0,J=1/0;q!==null&&(j=q+l,J=j*(s+1)-l);let W=0;const se=Y=>{if(P===null)return;x>0&&(P=Math.min(P,Y)),x<0&&(P=Math.min(Y-J/x,P)),H!==null?W=H:W=Math.round(Y-P)*x;const ee=W-e*(x>=0?1:-1),le=x>=0?ee<0:ee>J;W=Math.max(ee,0),V==="finished"&&H===null&&(W=J);let ye=W,be=U;if(s){const st=W/j;let dt=Math.floor(st),ze=st%1;!ze&&st>=1&&(ze=1),ze===1&&dt--,dt=Math.min(dt,s+1);const ie=!!(dt%2);ie&&(u==="reverse"?(ze=1-ze,l&&(ze-=l/j)):u==="mirror"&&(be=k));let $e=Yp(0,1,ze);W>J&&($e=u==="reverse"&&ie?1:0),ye=$e*j}const we=le?{done:!1,value:i[0]}:be.next(ye);L&&(we.value=L(we.value));let{done:Oe}=we;!le&&q!==null&&(Oe=x>=0?W>=J:W<=0);const De=H===null&&(V==="finished"||V==="running"&&Oe);return v&&v(we.value),De&&ge(),we},te=()=>{A&&A.stop(),A=void 0},ae=()=>{V="idle",te(),M(),T(),P=I=null},ge=()=>{V="finished",p&&p(),te(),M()},ve=()=>{if(_)return;A||(A=t(se));const Y=A.now();h&&h(),H!==null?P=Y-H:(!P||V==="finished")&&(P=Y),V==="finished"&&T(),I=P,H=null,V="running",A.start()};n&&ve();const ce={then(Y,ee){return N.then(Y,ee)},get time(){return rh(W)},set time(Y){Y=Bp(Y),W=Y,H!==null||!A||x===0?H=Y:P=A.now()-Y/x},get duration(){const Y=U.calculatedDuration===null?CV(U):U.calculatedDuration;return rh(Y)},get speed(){return x},set speed(Y){Y===x||!A||(x=Y,ce.time=rh(W))},get state(){return V},play:ve,pause:()=>{V="paused",H=W},stop:()=>{_=!0,V!=="idle"&&(V="idle",f&&f(),ae())},cancel:()=>{I!==null&&se(I),ae()},complete:()=>{V="finished"},sample:Y=>(P=0,se(Y))};return ce}function rK(n){let e;return()=>(e===void 0&&(e=n()),e)}const aK=rK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sK=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),lw=10,oK=2e4,lK=(n,e)=>e.type==="spring"||n==="backgroundColor"||!C5(e.ease);function uK(n,e,{onUpdate:t,onComplete:i,...r}){if(!(aK()&&sK.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let l=!1,u,h;const f=()=>{h=new Promise(A=>{u=A})};f();let{keyframes:p,duration:v=300,ease:y,times:x}=r;if(lK(e,r)){const A=WC({...r,repeat:0,delay:0});let w={done:!1,value:p[0]};const L=[];let U=0;for(;!w.done&&U<oK;)w=A.sample(U),L.push(w.value),U+=lw;x=void 0,p=L,v=U-lw,y="linear"}const _=x$(n.owner.current,e,p,{...r,duration:v,ease:y,times:x});r.syncStart&&(_.startTime=Ka.isProcessing?Ka.timestamp:document.timeline?document.timeline.currentTime:performance.now());const M=()=>_.cancel(),N=()=>{or.update(M),u(),f()};return _.onfinish=()=>{n.set(S$(p,r)),i&&i(),N()},{then(A,w){return h.then(A,w)},attachTimeline(A){return _.timeline=A,_.onfinish=null,qr},get time(){return rh(_.currentTime||0)},set time(A){_.currentTime=Bp(A)},get speed(){return _.playbackRate},set speed(A){_.playbackRate=A},get duration(){return rh(v)},play:()=>{l||(_.play(),sh(M))},pause:()=>_.pause(),stop:()=>{if(l=!0,_.playState==="idle")return;const{currentTime:A}=_;if(A){const w=WC({...r,autoplay:!1});n.setWithVelocity(w.sample(A-lw).value,w.sample(A).value,lw)}N()},complete:()=>_.finish(),cancel:N}}function cK({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:qr,pause:qr,stop:qr,then:s=>(s(),Promise.resolve()),cancel:qr,complete:qr});return e?WC({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const fK={type:"spring",stiffness:500,damping:25,restSpeed:10},dK=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),hK={type:"keyframes",duration:.8},pK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mK=(n,{keyframes:e})=>e.length>2?hK:Bg.has(n)?n.startsWith("scale")?dK(e[1]):fK:pK,GP=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xp.test(e)||e==="0")&&!e.startsWith("url(")),vK=new Set(["brightness","contrast","saturate","opacity"]);function gK(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(EA)||[];if(!i)return n;const r=t.replace(i,"");let s=vK.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const yK=/([a-z-]*)\(.*?\)/g,WP={...Xp,getAnimatableNone:n=>{const e=n.match(yK);return e?e.map(gK).join(" "):n}},bK={...f5,color:po,backgroundColor:po,outlineColor:po,fill:po,stroke:po,borderColor:po,borderTopColor:po,borderRightColor:po,borderBottomColor:po,borderLeftColor:po,filter:WP,WebkitFilter:WP},VO=n=>bK[n];function J5(n,e){let t=VO(n);return t!==WP&&(t=Xp),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Q5=n=>/^0[^.\s]+$/.test(n);function xK(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||Q5(n)}function SK(n,e,t,i){const r=GP(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const l=i.from!==void 0?i.from:n.get();let u;const h=[];for(let f=0;f<s.length;f++)s[f]===null&&(s[f]=f===0?l:s[f-1]),xK(s[f])&&h.push(f),typeof s[f]=="string"&&s[f]!=="none"&&s[f]!=="0"&&(u=s[f]);if(r&&h.length&&u)for(let f=0;f<h.length;f++){const p=h[f];s[p]=J5(e,u)}return s}function _K({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:l,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}function eH(n,e){return n[e]||n.default||n}const kO=(n,e,t,i={})=>r=>{const s=eH(i,n)||{},l=s.delay||i.delay||0;let{elapsed:u=0}=i;u=u-Bp(l);const h=SK(e,n,t,s),f=h[0],p=h[h.length-1],v=GP(n,f),y=GP(n,p);lT(v===y,`You are trying to animate ${n} from "${f}" to "${p}". ${f} is not an animatable value - to enable this animation set ${f} to a value animatable to ${p} via the \`style\` property.`);let x={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-u,onUpdate:_=>{e.set(_),s.onUpdate&&s.onUpdate(_)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(_K(s)||(x={...x,...mK(n,x)}),x.duration&&(x.duration=Bp(x.duration)),x.repeatDelay&&(x.repeatDelay=Bp(x.repeatDelay)),!v||!y||b$.current||s.type===!1)return cK(x);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=uK(e,n,x);if(_)return _}return WC(x)};function YC(n){return!!(Wo(n)&&n.add)}const tH=n=>/^\-?\d*\.?\d+$/.test(n);function BO(n,e){n.indexOf(e)===-1&&n.push(e)}function zO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class HO{constructor(){this.subscriptions=[]}add(e){return BO(this.subscriptions,e),()=>zO(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const l=this.subscriptions[s];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const AV=new Set;function jO(n,e,t){n||AV.has(e)||(console.warn(e),t&&console.warn(t),AV.add(e))}const EK=n=>!isNaN(parseFloat(n));class TK{constructor(e,t={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:l}=Ka;this.lastUpdated!==l&&(this.timeDelta=s,this.lastUpdated=l,or.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>or.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=EK(this.current),this.owner=t.owner}onChange(e){return jO(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new HO);const i=this.events[e].add(t);return e==="change"?()=>{i(),or.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$5(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Z0(n,e){return new TK(n,e)}const nH=n=>e=>e.test(n),NK={test:n=>n==="auto",parse:n=>n},iH=[zg,Pn,Mf,Pp,Pq,Lq,NK],CE=n=>iH.find(nH(n)),MK=[...iH,po,Xp],wK=n=>MK.find(nH(n));function CK(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Z0(t))}function AK(n,e){const t=NA(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const l in s){const u=Xq(s[l]);CK(n,l,u)}}function RK(n,e,t){var i,r;const s=Object.keys(e).filter(u=>!n.hasValue(u)),l=s.length;if(l)for(let u=0;u<l;u++){const h=s[u],f=e[h];let p=null;Array.isArray(f)&&(p=f[0]),p===null&&(p=(r=(i=t[h])!==null&&i!==void 0?i:n.readValue(h))!==null&&r!==void 0?r:e[h]),p!=null&&(typeof p=="string"&&(tH(p)||Q5(p))?p=parseFloat(p):!wK(p)&&Xp.test(f)&&(p=J5(h,f)),n.addValue(h,Z0(p,{owner:n})),t[h]===void 0&&(t[h]=p),p!==null&&n.setBaseTarget(h,p))}}function DK(n,e){return e?(e[n]||e.default||e).from:void 0}function LK(n,e,t){const i={};for(const r in n){const s=DK(r,e);if(s!==void 0)i[r]=s;else{const l=t.getValue(r);l&&(i[r]=l.get())}}return i}function PK({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function rH(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:l,...u}=n.makeTargetAnimatable(e);const h=n.getValue("willChange");i&&(s=i);const f=[],p=r&&n.animationState&&n.animationState.getState()[r];for(const v in u){const y=n.getValue(v),x=u[v];if(!y||x===void 0||p&&PK(p,v))continue;const _={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!y.hasAnimated){const N=n.getProps()[y$];N&&(_.elapsed=window.HandoffAppearAnimations(N,v,y,or),_.syncStart=!0)}y.start(kO(v,y,x,n.shouldReduceMotion&&Bg.has(v)?{type:!1}:_));const M=y.animation;YC(h)&&(h.add(v),M.then(()=>h.remove(v))),f.push(M)}return l&&Promise.all(f).then(()=>{l&&AK(n,l)}),f}function YP(n,e,t={}){const i=NA(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(rH(n,i,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:v}=r;return UK(n,e,f+h,p,v,t)}:()=>Promise.resolve(),{when:u}=r;if(u){const[h,f]=u==="beforeChildren"?[s,l]:[l,s];return h().then(()=>f())}else return Promise.all([s(),l(t.delay)])}function UK(n,e,t=0,i=0,r=1,s){const l=[],u=(n.variantChildren.size-1)*i,h=r===1?(f=0)=>f*i:(f=0)=>u-f*i;return Array.from(n.variantChildren).sort(OK).forEach((f,p)=>{f.notify("AnimationStart",e),l.push(YP(f,e,{...s,delay:t+h(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function OK(n,e){return n.sortNodePosition(e)}function FK(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>YP(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=YP(n,e,t);else{const r=typeof e=="function"?NA(n,e,t.custom):e;i=Promise.all(rH(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const IK=[...TO].reverse(),VK=TO.length;function kK(n){return e=>Promise.all(e.map(({animation:t,options:i})=>FK(n,t,i)))}function BK(n){let e=kK(n);const t=HK();let i=!0;const r=(h,f)=>{const p=NA(n,f);if(p){const{transition:v,transitionEnd:y,...x}=p;h={...h,...x,...y}}return h};function s(h){e=h(n)}function l(h,f){const p=n.getProps(),v=n.getVariantContext(!0)||{},y=[],x=new Set;let _={},M=1/0;for(let T=0;T<VK;T++){const A=IK[T],w=t[A],L=p[A]!==void 0?p[A]:v[A],U=b1(L),k=A===f?w.isActive:null;k===!1&&(M=T);let V=L===v[A]&&L!==p[A]&&U;if(V&&i&&n.manuallyAnimateOnMount&&(V=!1),w.protectedKeys={..._},!w.isActive&&k===null||!L&&!w.prevProp||SA(L)||typeof L=="boolean")continue;const H=zK(w.prevProp,L);let P=H||A===f&&w.isActive&&!V&&U||T>M&&U;const I=Array.isArray(L)?L:[L];let q=I.reduce(r,{});k===!1&&(q={});const{prevResolvedValues:j={}}=w,J={...j,...q},W=se=>{P=!0,x.delete(se),w.needsAnimating[se]=!0};for(const se in J){const te=q[se],ae=j[se];_.hasOwnProperty(se)||(te!==ae?HC(te)&&HC(ae)?!M5(te,ae)||H?W(se):w.protectedKeys[se]=!0:te!==void 0?W(se):x.add(se):te!==void 0&&x.has(se)?W(se):w.protectedKeys[se]=!0)}w.prevProp=L,w.prevResolvedValues=q,w.isActive&&(_={..._,...q}),i&&n.blockInitialAnimation&&(P=!1),P&&!V&&y.push(...I.map(se=>({animation:se,options:{type:A,...h}})))}if(x.size){const T={};x.forEach(A=>{const w=n.getBaseTarget(A);w!==void 0&&(T[A]=w)}),y.push({animation:T})}let N=!!y.length;return i&&p.initial===!1&&!n.manuallyAnimateOnMount&&(N=!1),i=!1,N?e(y):Promise.resolve()}function u(h,f,p){var v;if(t[h].isActive===f)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(x=>{var _;return(_=x.animationState)===null||_===void 0?void 0:_.setActive(h,f)}),t[h].isActive=f;const y=l(p,h);for(const x in t)t[x].protectedKeys={};return y}return{animateChanges:l,setActive:u,setAnimateFunction:s,getState:()=>t}}function zK(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!M5(e,n):!1}function Zv(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HK(){return{animate:Zv(!0),whileInView:Zv(),whileHover:Zv(),whileTap:Zv(),whileDrag:Zv(),whileFocus:Zv(),exit:Zv()}}class jK extends Jp{constructor(e){super(e),e.animationState||(e.animationState=BK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),SA(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let GK=0;class WK extends Jp{constructor(){super(...arguments),this.id=GK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const YK={animation:{Feature:jK},exit:{Feature:WK}},RV=(n,e)=>Math.abs(n-e);function XK(n,e){const t=RV(n.x,e.x),i=RV(n.y,e.y);return Math.sqrt(t**2+i**2)}class aH{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=_L(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=XK(f.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:y}=f,{timestamp:x}=Ka;this.history.push({...y,timestamp:x});const{onStart:_,onMove:M}=this.handlers;p||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=SL(p,this.transformPagePoint),or.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:v,onSessionEnd:y}=this.handlers,x=_L(f.type==="pointercancel"?this.lastMoveEventInfo:SL(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,x),y&&y(f,x)},!S5(e))return;this.handlers=t,this.transformPagePoint=i;const r=TA(e),s=SL(r,this.transformPagePoint),{point:l}=s,{timestamp:u}=Ka;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=t;h&&h(e,_L(s,this.history)),this.removeListeners=kp(ih(window,"pointermove",this.handlePointerMove),ih(window,"pointerup",this.handlePointerUp),ih(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sh(this.updatePoint)}}function SL(n,e){return e?{point:e(n.point)}:n}function DV(n,e){return{x:n.x-e.x,y:n.y-e.y}}function _L({point:n},e){return{point:n,delta:DV(n,sH(e)),offset:DV(n,qK(e)),velocity:$K(e,.1)}}function qK(n){return n[0]}function sH(n){return n[n.length-1]}function $K(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=sH(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Bp(e)));)t--;if(!i)return{x:0,y:0};const s=rh(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const l={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Pl(n){return n.max-n.min}function XP(n,e=0,t=.01){return Math.abs(n-e)<=t}function LV(n,e,t,i=.5){n.origin=i,n.originPoint=Fr(e.min,e.max,n.origin),n.scale=Pl(t)/Pl(e),(XP(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=Fr(t.min,t.max,n.origin)-n.originPoint,(XP(n.translate)||isNaN(n.translate))&&(n.translate=0)}function e1(n,e,t,i){LV(n.x,e.x,t.x,i?i.originX:void 0),LV(n.y,e.y,t.y,i?i.originY:void 0)}function PV(n,e,t){n.min=t.min+e.min,n.max=n.min+Pl(e)}function KK(n,e,t){PV(n.x,e.x,t.x),PV(n.y,e.y,t.y)}function UV(n,e,t){n.min=e.min-t.min,n.max=n.min+Pl(e)}function t1(n,e,t){UV(n.x,e.x,t.x),UV(n.y,e.y,t.y)}function ZK(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Fr(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Fr(t,n,i.max):Math.min(n,t)),n}function OV(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function JK(n,{top:e,left:t,bottom:i,right:r}){return{x:OV(n.x,t,r),y:OV(n.y,e,i)}}function FV(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function QK(n,e){return{x:FV(n.x,e.x),y:FV(n.y,e.y)}}function eZ(n,e){let t=.5;const i=Pl(n),r=Pl(e);return r>i?t=S1(e.min,e.max-i,n.min):i>r&&(t=S1(n.min,n.max-r,e.min)),Yp(0,1,t)}function tZ(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const qP=.35;function nZ(n=qP){return n===!1?n=0:n===!0&&(n=qP),{x:IV(n,"left","right"),y:IV(n,"top","bottom")}}function IV(n,e,t){return{min:VV(n,e),max:VV(n,t)}}function VV(n,e){return typeof n=="number"?n:n[e]||0}const kV=()=>({translate:0,scale:1,origin:0,originPoint:0}),k0=()=>({x:kV(),y:kV()}),BV=()=>({min:0,max:0}),ya=()=>({x:BV(),y:BV()});function Sf(n){return[n("x"),n("y")]}function oH({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function iZ({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function rZ(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function EL(n){return n===void 0||n===1}function $P({scale:n,scaleX:e,scaleY:t}){return!EL(n)||!EL(e)||!EL(t)}function cg(n){return $P(n)||lH(n)||n.z||n.rotate||n.rotateX||n.rotateY}function lH(n){return zV(n.x)||zV(n.y)}function zV(n){return n&&n!=="0%"}function XC(n,e,t){const i=n-t,r=e*i;return t+r}function HV(n,e,t,i,r){return r!==void 0&&(n=XC(n,r,i)),XC(n,t,i)+e}function KP(n,e=0,t=1,i,r){n.min=HV(n.min,e,t,i,r),n.max=HV(n.max,e,t,i,r)}function uH(n,{x:e,y:t}){KP(n.x,e.translate,e.scale,e.originPoint),KP(n.y,t.translate,t.scale,t.originPoint)}function aZ(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,l;for(let u=0;u<r;u++){s=t[u],l=s.projectionDelta;const h=s.instance;h&&h.style&&h.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&B0(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,uH(n,l)),i&&cg(s.latestValues)&&B0(n,s.latestValues))}e.x=jV(e.x),e.y=jV(e.y)}function jV(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Up(n,e){n.min=n.min+e,n.max=n.max+e}function GV(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,l=Fr(n.min,n.max,s);KP(n,e[t],e[i],l,e.scale)}const sZ=["x","scaleX","originX"],oZ=["y","scaleY","originY"];function B0(n,e){GV(n.x,e,sZ),GV(n.y,e,oZ)}function cH(n,e){return oH(rZ(n.getBoundingClientRect(),e))}function lZ(n,e,t){const i=cH(n,t),{scroll:r}=e;return r&&(Up(i.x,r.offset.x),Up(i.y,r.offset.y)),i}const uZ=new WeakMap;class cZ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ya(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{this.stopAnimation(),t&&this.snapToCursor(TA(h,"page").point)},s=(h,f)=>{const{drag:p,dragPropagation:v,onDragStart:y}=this.getProps();if(p&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=E5(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sf(_=>{let M=this.getAxisMotionValue(_).get()||0;if(Mf.test(M)){const{projection:N}=this.visualElement;if(N&&N.layout){const T=N.layout.layoutBox[_];T&&(M=Pl(T)*(parseFloat(M)/100))}}this.originPoint[_]=M}),y&&or.update(()=>y(h,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(h,f)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:y,onDrag:x}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:_}=f;if(v&&this.currentDirection===null){this.currentDirection=fZ(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),x&&x(h,f)},u=(h,f)=>this.stop(h,f);this.panSession=new aH(e,{onSessionStart:r,onStart:s,onMove:l,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&or.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!uw(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=ZK(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&I0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=JK(i.layoutBox,e):this.constraints=!1,this.elastic=nZ(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Sf(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=tZ(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!I0(e))return!1;const i=e.current;uc(i!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=lZ(i,r.root,this.visualElement.getTransformPagePoint());let l=QK(r.layout.layoutBox,s);if(t){const u=t(iZ(l));this.hasMutatedConstraints=!!u,u&&(l=oH(u))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=Sf(p=>{if(!uw(p,t,this.currentDirection))return;let v=h&&h[p]||{};l&&(v={min:0,max:0});const y=r?200:1e6,x=r?40:1e7,_={type:"inertia",velocity:i?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(p,_)});return Promise.all(f).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(kO(e,i,0,t))}stopAnimation(){Sf(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Sf(t=>{const{drag:i}=this.getProps();if(!uw(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[t];s.set(e[t]-Fr(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!I0(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Sf(l=>{const u=this.getAxisMotionValue(l);if(u){const h=u.get();r[l]=eZ({min:h,max:h},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Sf(l=>{if(!uw(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(Fr(h,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;uZ.set(this.visualElement,this);const e=this.visualElement.current,t=ih(e,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();I0(h)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const l=eh(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Sf(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=h[p].translate,v.set(v.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),t(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:l=qP,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:l,dragMomentum:u}}}function uw(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function fZ(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class dZ extends Jp{constructor(e){super(e),this.removeGroupControls=qr,this.removeListeners=qr,this.controls=new cZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const WV=n=>(e,t)=>{n&&or.update(()=>n(e,t))};class hZ extends Jp{constructor(){super(...arguments),this.removePointerDownListener=qr}onPointerDown(e){this.session=new aH(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:WV(e),onStart:WV(t),onMove:i,onEnd:(s,l)=>{delete this.session,r&&or.update(()=>r(s,l))}}}mount(){this.removePointerDownListener=ih(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function pZ(){const n=G.useContext(bA);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=G.useId();return G.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const xC={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YV(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const AE={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Pn.test(n))n=parseFloat(n);else return n;const t=YV(n,e.target.x),i=YV(n,e.target.y);return`${t}% ${i}%`}},mZ={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=Xp.parse(n);if(r.length>5)return i;const s=Xp.createTransformer(n),l=typeof r[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;r[0+l]/=u,r[1+l]/=h;const f=Fr(u,h,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),s(r)}};class vZ extends lA.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;Nq(gZ),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),xC.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,l=i.projection;return l&&(l.isPresent=s,r||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||or.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fH(n){const[e,t]=pZ(),i=G.useContext(MO);return lA.createElement(vZ,{...n,layoutGroup:i,switchLayoutGroup:G.useContext(s5),isPresent:e,safeToRemove:t})}const gZ={borderRadius:{...AE,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:AE,borderTopRightRadius:AE,borderBottomLeftRadius:AE,borderBottomRightRadius:AE,boxShadow:mZ},dH=["TopLeft","TopRight","BottomLeft","BottomRight"],yZ=dH.length,XV=n=>typeof n=="string"?parseFloat(n):n,qV=n=>typeof n=="number"||Pn.test(n);function bZ(n,e,t,i,r,s){r?(n.opacity=Fr(0,t.opacity!==void 0?t.opacity:1,xZ(i)),n.opacityExit=Fr(e.opacity!==void 0?e.opacity:1,0,SZ(i))):s&&(n.opacity=Fr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let l=0;l<yZ;l++){const u=`border${dH[l]}Radius`;let h=$V(e,u),f=$V(t,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||qV(h)===qV(f)?(n[u]=Math.max(Fr(XV(h),XV(f),i),0),(Mf.test(f)||Mf.test(h))&&(n[u]+="%")):n[u]=f}(e.rotate||t.rotate)&&(n.rotate=Fr(e.rotate||0,t.rotate||0,i))}function $V(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const xZ=hH(0,.5,OO),SZ=hH(.5,.95,qr);function hH(n,e,t){return i=>i<n?0:i>e?1:t(S1(n,e,i))}function KV(n,e){n.min=e.min,n.max=e.max}function su(n,e){KV(n.x,e.x),KV(n.y,e.y)}function ZV(n,e,t,i,r){return n-=e,n=XC(n,1/t,i),r!==void 0&&(n=XC(n,1/r,i)),n}function _Z(n,e=0,t=1,i=.5,r,s=n,l=n){if(Mf.test(e)&&(e=parseFloat(e),e=Fr(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Fr(s.min,s.max,i);n===s&&(u-=e),n.min=ZV(n.min,e,t,u,r),n.max=ZV(n.max,e,t,u,r)}function JV(n,e,[t,i,r],s,l){_Z(n,e[t],e[i],e[r],e.scale,s,l)}const EZ=["x","scaleX","originX"],TZ=["y","scaleY","originY"];function QV(n,e,t,i){JV(n.x,e,EZ,t?t.x:void 0,i?i.x:void 0),JV(n.y,e,TZ,t?t.y:void 0,i?i.y:void 0)}function ek(n){return n.translate===0&&n.scale===1}function pH(n){return ek(n.x)&&ek(n.y)}function NZ(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function mH(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function tk(n){return Pl(n.x)/Pl(n.y)}class MZ{constructor(){this.members=[]}add(e){BO(this.members,e),e.scheduleRender()}remove(e){if(zO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nk(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:h,rotateX:f,rotateY:p}=t;h&&(i+=`rotate(${h}deg) `),f&&(i+=`rotateX(${f}deg) `),p&&(i+=`rotateY(${p}deg) `)}const l=n.x.scale*e.x,u=n.y.scale*e.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const wZ=(n,e)=>n.depth-e.depth;class CZ{constructor(){this.children=[],this.isDirty=!1}add(e){BO(this.children,e),this.isDirty=!0}remove(e){zO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wZ),this.isDirty=!1,this.children.forEach(e)}}function AZ(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(sh(i),n(s-e))};return or.read(i,!0),()=>sh(i)}function RZ(n){window.MotionDebug&&window.MotionDebug.record(n)}function DZ(n){return n instanceof SVGElement&&n.tagName!=="svg"}function LZ(n,e,t){const i=Wo(n)?n:Z0(n);return i.start(kO("",i,e,t)),i.animation}const ik=["","X","Y","Z"],rk=1e3;let PZ=0;const fg={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function vH({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=e==null?void 0:e()){this.id=PZ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{fg.totalNodes=fg.resolvedTargetDeltas=fg.recalculatedProjection=0,this.nodes.forEach(FZ),this.nodes.forEach(zZ),this.nodes.forEach(HZ),this.nodes.forEach(IZ),RZ(fg)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new CZ)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new HO),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DZ(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),n){let v;const y=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=AZ(y,250),xC.hasAnimatedSinceResize&&(xC.hasAnimatedSinceResize=!1,this.nodes.forEach(sk))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:y,hasRelativeTargetChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||XZ,{onLayoutAnimationStart:N,onLayoutAnimationComplete:T}=p.getProps(),A=!this.targetLayout||!mH(this.targetLayout,_)||x,w=!y&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||y&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,w);const L={...eH(M,"layout"),onPlay:N,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L)}else y||sk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jZ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ak);return}this.isUpdating||this.nodes.forEach(kZ),this.isUpdating=!1,this.nodes.forEach(BZ),this.nodes.forEach(UZ),this.nodes.forEach(OZ),this.clearAllSnapshots();const u=performance.now();Ka.delta=Yp(0,1e3/60,u-Ka.timestamp),Ka.timestamp=u,Ka.isProcessing=!0,hL.update.process(Ka),hL.preRender.process(Ka),hL.render.process(Ka),Ka.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(VZ),this.sharedNodes.forEach(GZ)}scheduleUpdateProjection(){or.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ya(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!pH(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&(u||cg(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),qZ(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ya();const u=l.measureViewportBox(),{scroll:h}=this.root;return h&&(Up(u.x,h.offset.x),Up(u.y,h.offset.y)),u}removeElementScroll(l){const u=ya();su(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:v}=f;if(f!==this.root&&p&&v.layoutScroll){if(p.isRoot){su(u,l);const{scroll:y}=this.root;y&&(Up(u.x,-y.offset.x),Up(u.y,-y.offset.y))}Up(u.x,p.offset.x),Up(u.y,p.offset.y)}}return u}applyTransform(l,u=!1){const h=ya();su(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&B0(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),cg(p.latestValues)&&B0(h,p.latestValues)}return cg(this.latestValues)&&B0(h,this.latestValues),h}removeTransform(l){const u=ya();su(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!cg(f.latestValues))continue;$P(f.latestValues)&&f.updateSnapshot();const p=ya(),v=f.measurePageBox();su(p,v),QV(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return cg(this.latestValues)&&QV(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ka.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:v,layoutId:y}=this.options;if(!(!this.layout||!(v||y))){if(this.resolvedRelativeTargetAt=Ka.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ya(),this.relativeTargetOrigin=ya(),t1(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),su(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ya(),this.targetWithTransforms=ya()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):su(this.target,this.layout.layoutBox),uH(this.target,this.targetDelta)):su(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ya(),this.relativeTargetOrigin=ya(),t1(this.relativeTargetOrigin,this.target,x.target),su(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fg.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$P(this.parent.latestValues)||lH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ka.timestamp&&(f=!1),f)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;su(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;aZ(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:_}=u;if(!_){this.projectionTransform&&(this.projectionDelta=k0(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=k0(),this.projectionDeltaWithTransform=k0());const M=this.projectionTransform;e1(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=nk(this.projectionDelta,this.treeScale),(this.projectionTransform!==M||this.treeScale.x!==y||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),fg.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},v=k0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=ya(),x=h?h.source:void 0,_=this.layout?this.layout.source:void 0,M=x!==_,N=this.getStack(),T=!N||N.members.length<=1,A=!!(M&&!T&&this.options.crossfade===!0&&!this.path.some(YZ));this.animationProgress=0;let w;this.mixTargetDelta=L=>{const U=L/1e3;ok(v.x,l.x,U),ok(v.y,l.y,U),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(t1(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WZ(this.relativeTarget,this.relativeTargetOrigin,y,U),w&&NZ(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ya()),su(w,this.relativeTarget)),M&&(this.animationValues=p,bZ(p,f,this.latestValues,U,A,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=or.update(()=>{xC.hasAnimatedSinceResize=!0,this.currentAnimation=LZ(0,rk,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&gH(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||ya();const v=Pl(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const y=Pl(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+y}su(u,h),B0(u,p),e1(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new MZ),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(u=!0),!u)return;const f={};for(let p=0;p<ik.length;p++){const v="rotate"+ik[p];h[v]&&(f[v]=h[v],l.setStaticValue(v,0))}l.render();for(const p in f)l.setStaticValue(p,f[p]);l.scheduleRender()}getProjectionStyles(l={}){var u,h;const f={};if(!this.instance||this.isSVG)return f;if(this.isVisible)f.visibility="";else return{visibility:"hidden"};const p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=bC(l.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none",f;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=bC(l.pointerEvents)||""),this.hasProjected&&!cg(this.latestValues)&&(M.transform=p?p({},""):"none",this.hasProjected=!1),M}const y=v.animationValues||v.latestValues;this.applyTransformsToTarget(),f.transform=nk(this.projectionDeltaWithTransform,this.treeScale,y),p&&(f.transform=p(y,f.transform));const{x,y:_}=this.projectionDelta;f.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,v.animationValues?f.opacity=v===this?(h=(u=y.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=v===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in BC){if(y[M]===void 0)continue;const{correct:N,applyTo:T}=BC[M],A=f.transform==="none"?y[M]:N(y[M],v);if(T){const w=T.length;for(let L=0;L<w;L++)f[T[L]]=A}else f[M]=A}return this.options.layoutId&&(f.pointerEvents=v===this?bC(l.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(ak),this.root.sharedNodes.clear()}}}function UZ(n){n.updateLayout()}function OZ(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,l=t.source!==n.layout.source;s==="size"?Sf(v=>{const y=l?t.measuredBox[v]:t.layoutBox[v],x=Pl(y);y.min=i[v].min,y.max=y.min+x}):gH(s,t.layoutBox,i)&&Sf(v=>{const y=l?t.measuredBox[v]:t.layoutBox[v],x=Pl(i[v]);y.max=y.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+x)});const u=k0();e1(u,i,t.layoutBox);const h=k0();l?e1(h,n.applyTransform(r,!0),t.measuredBox):e1(h,i,t.layoutBox);const f=!pH(u);let p=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:y,layout:x}=v;if(y&&x){const _=ya();t1(_,t.layoutBox,y.layoutBox);const M=ya();t1(M,i,x.layoutBox),mH(_,M)||(p=!0),v.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=_,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:p})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function FZ(n){fg.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function IZ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function VZ(n){n.clearSnapshot()}function ak(n){n.clearMeasurements()}function kZ(n){n.isLayoutDirty=!1}function BZ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function sk(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function zZ(n){n.resolveTargetDelta()}function HZ(n){n.calcProjection()}function jZ(n){n.resetRotation()}function GZ(n){n.removeLeadSnapshot()}function ok(n,e,t){n.translate=Fr(e.translate,0,t),n.scale=Fr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function lk(n,e,t,i){n.min=Fr(e.min,t.min,i),n.max=Fr(e.max,t.max,i)}function WZ(n,e,t,i){lk(n.x,e.x,t.x,i),lk(n.y,e.y,t.y,i)}function YZ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const XZ={duration:.45,ease:[.4,0,.1,1]},uk=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),ck=uk("applewebkit/")&&!uk("chrome/")?Math.round:qr;function fk(n){n.min=ck(n.min),n.max=ck(n.max)}function qZ(n){fk(n.x),fk(n.y)}function gH(n,e,t){return n==="position"||n==="preserve-aspect"&&!XP(tk(e),tk(t),.2)}const $Z=vH({attachResizeListener:(n,e)=>eh(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),TL={current:void 0},yH=vH({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!TL.current){const n=new $Z({});n.mount(window),n.setOptions({layoutScroll:!0}),TL.current=n}return TL.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),KZ={pan:{Feature:hZ},drag:{Feature:dZ,ProjectionNode:yH,MeasureLayout:fH}},ZZ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function JZ(n){const e=ZZ.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}const QZ=4;function ZP(n,e,t=1){uc(t<=QZ,`Max CSS variable fallback depth detected in property "${n}". This may indicate a circular fallback dependency.`);const[i,r]=JZ(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const l=s.trim();return tH(l)?parseFloat(l):l}else return BP(r)?ZP(r,e,t+1):r}function eJ(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!BP(s))return;const l=ZP(s,i);l&&r.set(l)});for(const r in e){const s=e[r];if(!BP(s))continue;const l=ZP(s,i);l&&(e[r]=l,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const tJ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),bH=n=>tJ.has(n),nJ=n=>Object.keys(n).some(bH),cw=n=>n===zg||n===Pn,dk=(n,e)=>parseFloat(n.split(", ")[e]),hk=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return dk(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?dk(s[1],n):0}},iJ=new Set(["x","y","z"]),rJ=aT.filter(n=>!iJ.has(n));function aJ(n){const e=[];return rJ.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const J0={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:hk(4,13),y:hk(5,14)};J0.translateX=J0.x;J0.translateY=J0.y;const sJ=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:l}=s,u={};l==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(f=>{u[f]=J0[f](i,s)}),e.render();const h=e.measureViewportBox();return t.forEach(f=>{const p=e.getValue(f);p&&p.jump(u[f]),n[f]=J0[f](h,s)}),n},oJ=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(bH);let s=[],l=!1;const u=[];if(r.forEach(h=>{const f=n.getValue(h);if(!n.hasValue(h))return;let p=t[h],v=CE(p);const y=e[h];let x;if(HC(y)){const _=y.length,M=y[0]===null?1:0;p=y[M],v=CE(p);for(let N=M;N<_&&y[N]!==null;N++)x?uc(CE(y[N])===x,"All keyframes must be of the same type"):(x=CE(y[N]),uc(x===v||cw(v)&&cw(x),"Keyframes must be of the same dimension as the current value"))}else x=CE(y);if(v!==x)if(cw(v)&&cw(x)){const _=f.get();typeof _=="string"&&f.set(parseFloat(_)),typeof y=="string"?e[h]=parseFloat(y):Array.isArray(y)&&x===Pn&&(e[h]=y.map(parseFloat))}else v!=null&&v.transform&&(x!=null&&x.transform)&&(p===0||y===0)?p===0?f.set(x.transform(p)):e[h]=v.transform(y):(l||(s=aJ(n),l=!0),u.push(h),i[h]=i[h]!==void 0?i[h]:e[h],f.jump(y))}),u.length){const h=u.indexOf("height")>=0?window.pageYOffset:null,f=sJ(e,n,u);return s.length&&s.forEach(([p,v])=>{n.getValue(p).set(v)}),n.render(),xA&&h!==null&&window.scrollTo({top:h}),{target:f,transitionEnd:i}}else return{target:e,transitionEnd:i}};function lJ(n,e,t,i){return nJ(e)?oJ(n,e,t,i):{target:e,transitionEnd:i}}const uJ=(n,e,t,i)=>{const r=eJ(n,e,i);return e=r.target,i=r.transitionEnd,lJ(n,e,t,i)},JP={current:null},xH={current:!1};function cJ(){if(xH.current=!0,!!xA)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>JP.current=n.matches;n.addListener(e),e()}else JP.current=!1}function fJ(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],l=t[r];if(Wo(s))n.addValue(r,s),YC(i)&&i.add(r),jO(s.version==="10.16.4",`Attempting to mix Framer Motion versions ${s.version} with 10.16.4 may not work as expected.`);else if(Wo(l))n.addValue(r,Z0(s,{owner:n})),YC(i)&&i.remove(r);else if(l!==s)if(n.hasValue(r)){const u=n.getValue(r);!u.hasAnimated&&u.set(s)}else{const u=n.getStaticValue(r);n.addValue(r,Z0(u!==void 0?u:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const pk=new WeakMap,SH=Object.keys(x1),dJ=SH.length,mk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],hJ=NO.length;class pJ{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>or.render(this.render,!1,!0);const{latestValues:u,renderState:h}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.isControllingVariants=_A(t),this.isVariantNode=a5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(t,{});for(const v in p){const y=p[v];u[v]!==void 0&&Wo(y)&&(y.set(u[v],!1),YC(f)&&f.add(v))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,pk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),xH.current||cJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:JP.current,jO(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pk.delete(this.current),this.projection&&this.projection.unmount(),sh(this.notifyUpdate),sh(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Bg.has(e),r=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&or.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let l,u;if(r&&i){const h="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";t.ignoreStrict?lT(!1,h):uc(!1,h)}for(let h=0;h<dJ;h++){const f=SH[h],{isEnabled:p,Feature:v,ProjectionNode:y,MeasureLayout:x}=x1[f];y&&(l=y),p(t)&&(!this.features[f]&&v&&(this.features[f]=new v(this)),x&&(u=x))}if(!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:f,drag:p,dragConstraints:v,layoutScroll:y,layoutRoot:x}=t;this.projection.setOptions({layoutId:h,layout:f,alwaysMeasureLayout:!!p||v&&I0(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:s,layoutScroll:y,layoutRoot:x})}return u}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ya()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<mk.length;i++){const r=mk[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=fJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<hJ;i++){const r=NO[i],s=this.props[r];(b1(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Z0(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=UO(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Wo(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new HO),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class _H extends pJ{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let l=LK(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),l&&(l=r(l))),s){RK(this,i,l);const u=uJ(this,i,l,t);t=u.transitionEnd,i=u.target}return{transition:e,transitionEnd:t,...i}}}function mJ(n){return window.getComputedStyle(n)}class vJ extends _H{readValueFromInstance(e,t){if(Bg.has(t)){const i=VO(t);return i&&i.default||0}else{const i=mJ(e),r=(u5(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return cH(e,t)}build(e,t,i,r){CO(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return PO(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wo(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){m5(e,t,i,r)}}class gJ extends _H{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Bg.has(t)){const i=VO(t);return i&&i.default||0}return t=v5.has(t)?t:LO(t),e.getAttribute(t)}measureInstanceViewportBox(){return ya()}scrapeMotionValuesFromProps(e,t){return y5(e,t)}build(e,t,i,r){RO(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){g5(e,t,i,r)}mount(e){this.isSVGTag=DO(e.tagName),super.mount(e)}}const yJ=(n,e)=>wO(n)?new gJ(e,{enableHardwareAcceleration:!1}):new vJ(e,{enableHardwareAcceleration:!0}),bJ={layout:{ProjectionNode:yH,MeasureLayout:fH}},xJ={...YK,...p$,...KZ,...bJ},Sg=Eq((n,e)=>t$(n,e,xJ,yJ));function EH(){const n=G.useRef(!1);return EO(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function SJ(){const n=EH(),[e,t]=G.useState(0),i=G.useCallback(()=>{n.current&&t(e+1)},[e]);return[G.useCallback(()=>or.postRender(i),[i]),e]}class _J extends G.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function EJ({children:n,isPresent:e}){const t=G.useId(),i=G.useRef(null),r=G.useRef({width:0,height:0,top:0,left:0});return G.useInsertionEffect(()=>{const{width:s,height:l,top:u,left:h}=r.current;if(e||!i.current||!s||!l)return;i.current.dataset.motionPopId=t;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),G.createElement(_J,{isPresent:e,childRef:i,sizeRef:r},G.cloneElement(n,{ref:i}))}const NL=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:l})=>{const u=b5(TJ),h=G.useId(),f=G.useMemo(()=>({id:h,initial:e,isPresent:t,custom:r,onExitComplete:p=>{u.set(p,!0);for(const v of u.values())if(!v)return;i&&i()},register:p=>(u.set(p,!1),()=>u.delete(p))}),s?void 0:[t]);return G.useMemo(()=>{u.forEach((p,v)=>u.set(v,!1))},[t]),G.useEffect(()=>{!t&&!u.size&&i&&i()},[t]),l==="popLayout"&&(n=G.createElement(EJ,{isPresent:t},n)),G.createElement(bA.Provider,{value:f},n)};function TJ(){return new Map}function NJ(n){return G.useEffect(()=>()=>n(),[])}const P0=n=>n.key||"";function MJ(n,e){n.forEach(t=>{const i=P0(t);e.set(i,t)})}function wJ(n){const e=[];return G.Children.forEach(n,t=>{G.isValidElement(t)&&e.push(t)}),e}const CJ=({children:n,custom:e,initial:t=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:l="sync"})=>{uc(!r,"Replace exitBeforeEnter with mode='wait'");const u=G.useContext(MO).forceRender||SJ()[0],h=EH(),f=wJ(n);let p=f;const v=G.useRef(new Map).current,y=G.useRef(p),x=G.useRef(new Map).current,_=G.useRef(!0);if(EO(()=>{_.current=!1,MJ(f,x),y.current=p}),NJ(()=>{_.current=!0,x.clear(),v.clear()}),_.current)return G.createElement(G.Fragment,null,p.map(A=>G.createElement(NL,{key:P0(A),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:l},A)));p=[...p];const M=y.current.map(P0),N=f.map(P0),T=M.length;for(let A=0;A<T;A++){const w=M[A];N.indexOf(w)===-1&&!v.has(w)&&v.set(w,void 0)}return l==="wait"&&v.size&&(p=[]),v.forEach((A,w)=>{if(N.indexOf(w)!==-1)return;const L=x.get(w);if(!L)return;const U=M.indexOf(w);let k=A;if(!k){const V=()=>{x.delete(w),v.delete(w);const H=y.current.findIndex(P=>P.key===w);if(y.current.splice(H,1),!v.size){if(y.current=f,h.current===!1)return;u(),i&&i()}};k=G.createElement(NL,{key:P0(L),isPresent:!1,onExitComplete:V,custom:e,presenceAffectsLayout:s,mode:l},L),v.set(w,k)}p.splice(U,0,k)}),p=p.map(A=>{const w=A.key;return v.has(w)?A:G.createElement(NL,{key:P0(A),isPresent:!0,presenceAffectsLayout:s,mode:l},A)}),l==="wait"&&p.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),G.createElement(G.Fragment,null,v.size?p:p.map(A=>G.cloneElement(A)))};var AJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RJ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hg=(n,e)=>{const t=G.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:u,...h},f)=>G.createElement("svg",{ref:f,...AJ,width:r,height:r,stroke:i,strokeWidth:l?Number(s)*24/Number(r):s,className:`lucide lucide-${RJ(n)}`,...h},[...e.map(([p,v])=>G.createElement(p,v)),...(Array.isArray(u)?u:[u])||[]]));return t.displayName=`${n}`,t},DJ=Hg("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),QP=Hg("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),LJ=Hg("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),PJ=Hg("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),UJ=Hg("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),eU=Hg("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),OJ=Hg("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class FJ{constructor(){au(this,"baseUrl","/api/v1/ai")}getAuthHeaders(){return{Authorization:`Bearer ${localStorage.getItem("accessToken")}`,"Content-Type":"application/json"}}async getRecommendations(e=5,t=!1){const i=await fetch(`${this.baseUrl}/recommendations?limit=${e}&include_expired=${t}`,{headers:this.getAuthHeaders()});if(!i.ok)throw new Error(`Failed to fetch recommendations: ${i.statusText}`);return i.json()}async getRecommendationHistory(e=7,t){let i=`${this.baseUrl}/recommendations/history?days_back=${e}`;t&&(i+=`&recommendation_type=${t}`);const r=await fetch(i,{headers:this.getAuthHeaders()});if(!r.ok)throw new Error(`Failed to fetch recommendation history: ${r.statusText}`);return r.json()}async submitRecommendationFeedback(e,t){const i=await fetch(`${this.baseUrl}/recommendations/${e}/feedback`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!i.ok)throw new Error(`Failed to submit feedback: ${i.statusText}`)}async getMarketAnalysis(e,t){let i=`${this.baseUrl}/market-analysis/${e}`;t&&(i+=`?sector_id=${t}`);const r=await fetch(i,{headers:this.getAuthHeaders()});if(!r.ok)throw new Error(`Failed to fetch market analysis: ${r.statusText}`);return r.json()}async optimizeRoute(e,t,i=5){const r=await fetch(`${this.baseUrl}/optimize-route`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({start_sector:e,cargo_capacity:t,max_stops:i})});if(!r.ok)throw new Error(`Failed to optimize route: ${r.statusText}`);return r.json()}async getTradingProfile(){const e=await fetch(`${this.baseUrl}/profile`,{headers:this.getAuthHeaders()});if(!e.ok)throw new Error(`Failed to fetch trading profile: ${e.statusText}`);return e.json()}async updateAIPreferences(e){const t=await fetch(`${this.baseUrl}/profile`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update AI preferences: ${t.statusText}`)}async updateTradingData(e){const t=await fetch(`${this.baseUrl}/profile/trade-update`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update trading data: ${t.statusText}`)}async getPerformanceStats(e=7){const t=await fetch(`${this.baseUrl}/performance?days_back=${e}`,{headers:this.getAuthHeaders()});if(!t.ok)throw new Error(`Failed to fetch performance stats: ${t.statusText}`);return t.json()}async checkAIAvailability(){try{return(await fetch(`${this.baseUrl}/performance`,{headers:this.getAuthHeaders()})).ok}catch{return!1}}}const tU=new FJ;const IJ=({isOpen:n,onClose:e,playerId:t})=>{const[i,r]=G.useState([]),[s,l]=G.useState(""),[u,h]=G.useState(!1),[f,p]=G.useState([]),[v,y]=G.useState(!1),x=G.useRef(null);G.useEffect(()=>{n&&i.length===0&&M()},[n]),G.useEffect(()=>{_()},[i]);const _=()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})},M=async()=>{y(!0);try{const k={id:Date.now().toString(),type:"assistant",content:"Hello! I'm ARIA, your AI trading companion. I'm here to help you make smarter trading decisions with personalized recommendations and market analysis.",timestamp:new Date};r([k]),await N()}catch(k){console.error("Error initializing AI assistant:",k)}finally{y(!1)}},N=async()=>{try{const k=await tU.getRecommendations(5,!1);if(p(k),k.length>0){const V={id:Date.now().toString()+"_rec",type:"recommendation",content:`I've found ${k.length} trading opportunities for you. Here are my top recommendations:`,timestamp:new Date,data:k};r(H=>[...H,V])}}catch(k){console.error("Error loading recommendations:",k);const V={id:Date.now().toString()+"_error",type:"system",content:"Unable to load trading recommendations. AI services may be temporarily unavailable.",timestamp:new Date};r(H=>[...H,V])}},T=async()=>{if(!s.trim())return;const k={id:Date.now().toString(),type:"user",content:s,timestamp:new Date};r(V=>[...V,k]),l(""),h(!0),setTimeout(()=>{const V=A(s),H={id:Date.now().toString()+"_ai",type:"assistant",content:V,timestamp:new Date};r(P=>[...P,H]),h(!1)},1500)},A=k=>{const V=k.toLowerCase();return V.includes("market")||V.includes("price")?"Based on current market analysis, I'm seeing increased volatility in tech commodities. The sectors near Alpha Centauri are showing promising buy opportunities with 15-20% profit potential.":V.includes("route")||V.includes("travel")?"I've calculated an optimal 3-sector route that could yield approximately 2,500 credits profit. Would you like me to show you the detailed path and commodity recommendations?":V.includes("risk")||V.includes("safe")?"Your current risk tolerance is set to moderate. Based on recent piracy reports, I recommend avoiding the outer rim sectors for the next 6 hours. The core sectors remain relatively safe.":V.includes("help")||V.includes("what")?`I can help you with:
• Market analysis and price predictions
• Optimal trading route planning
• Risk assessment and warnings
• Commodity recommendations
• Performance tracking

Just ask me about any trading topic!`:"I understand you're asking about trading strategies. Let me analyze the current market conditions and get back to you with personalized recommendations based on your trading history."},w=async(k,V)=>{try{await tU.submitRecommendationFeedback(k.id,{accepted:V==="accept",feedback_score:V==="accept"?5:3});const H={id:Date.now().toString(),type:"system",content:`${V==="accept"?"Accepted":"Declined"} recommendation: ${k.reasoning}`,timestamp:new Date};r(P=>[...P,H]),p(P=>P.filter(I=>I.id!==k.id))}catch(H){console.error("Error handling recommendation feedback:",H);const P={id:Date.now().toString(),type:"system",content:"Failed to submit feedback. Please try again.",timestamp:new Date};r(I=>[...I,P])}},L=k=>{switch(k){case"low":return"#10B981";case"medium":return"#F59E0B";case"high":return"#EF4444";default:return"#6B7280"}},U=k=>{switch(k){case"buy":return D.jsxDEV(eU,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:180,columnNumber:26},globalThis);case"sell":return D.jsxDEV(eU,{className:"w-4 h-4 rotate-180"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:181,columnNumber:27},globalThis);case"route":return D.jsxDEV(LJ,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:182,columnNumber:28},globalThis);case"avoid":return D.jsxDEV(DJ,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:183,columnNumber:28},globalThis);default:return D.jsxDEV(UJ,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:184,columnNumber:23},globalThis)}};return D.jsxDEV(CJ,{children:n&&D.jsxDEV(Sg.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},transition:{duration:.3},className:"ai-assistant-panel",children:[D.jsxDEV("div",{className:"ai-assistant-header",children:[D.jsxDEV("div",{className:"ai-assistant-title",children:[D.jsxDEV(QP,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:200,columnNumber:15},globalThis),D.jsxDEV("span",{children:"ARIA - AI Trading Assistant"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:201,columnNumber:15},globalThis),D.jsxDEV("div",{className:"ai-status-indicator"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:202,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:199,columnNumber:13},globalThis),D.jsxDEV("button",{onClick:e,className:"ai-assistant-close","aria-label":"Close AI Assistant",children:D.jsxDEV(OJ,{className:"w-5 h-5"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:209,columnNumber:15},globalThis)},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:204,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:198,columnNumber:11},globalThis),D.jsxDEV("div",{className:"ai-assistant-content",children:[D.jsxDEV("div",{className:"ai-messages-container",children:[i.map(k=>D.jsxDEV(Sg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`ai-message ai-message-${k.type}`,children:[k.type==="recommendation"&&k.data?D.jsxDEV("div",{className:"ai-recommendations-group",children:[D.jsxDEV("div",{className:"ai-message-content",children:k.content},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:224,columnNumber:23},globalThis),D.jsxDEV("div",{className:"ai-recommendations-list",children:k.data.slice(0,3).map(V=>D.jsxDEV("div",{className:"ai-recommendation-card",children:[D.jsxDEV("div",{className:"ai-recommendation-header",children:[D.jsxDEV("div",{className:"ai-recommendation-type",children:[U(V.type),D.jsxDEV("span",{children:V.type.toUpperCase()},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:231,columnNumber:33},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:229,columnNumber:31},globalThis),D.jsxDEV("div",{className:"ai-recommendation-risk",style:{color:L(V.risk_level)},children:V.risk_level.toUpperCase()},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:233,columnNumber:31},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:228,columnNumber:29},globalThis),D.jsxDEV("div",{className:"ai-recommendation-content",children:[D.jsxDEV("p",{children:V.reasoning},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:242,columnNumber:31},globalThis),V.expected_profit&&D.jsxDEV("div",{className:"ai-recommendation-profit",children:["Expected Profit: ",D.jsxDEV("span",{className:"profit-amount",children:["+",V.expected_profit.toLocaleString()," credits"]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:245,columnNumber:52},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:244,columnNumber:33},globalThis),D.jsxDEV("div",{className:"ai-recommendation-confidence",children:["Confidence: ",D.jsxDEV("span",{className:"confidence-score",children:[Math.round(V.confidence*100),"%"]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:249,columnNumber:45},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:248,columnNumber:31},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:241,columnNumber:29},globalThis),D.jsxDEV("div",{className:"ai-recommendation-actions",children:[D.jsxDEV("button",{onClick:()=>w(V,"accept"),className:"ai-action-button ai-accept-button",children:"Accept"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:254,columnNumber:31},globalThis),D.jsxDEV("button",{onClick:()=>w(V,"decline"),className:"ai-action-button ai-decline-button",children:"Decline"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:260,columnNumber:31},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:253,columnNumber:29},globalThis)]},V.id,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:227,columnNumber:27},globalThis))},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:225,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:223,columnNumber:21},globalThis):D.jsxDEV("div",{className:"ai-message-content",children:k.content},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:272,columnNumber:21},globalThis),D.jsxDEV("div",{className:"ai-message-timestamp",children:k.timestamp.toLocaleTimeString()},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:276,columnNumber:19},globalThis)]},k.id,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:216,columnNumber:17},globalThis)),u&&D.jsxDEV(Sg.div,{initial:{opacity:0},animate:{opacity:1},className:"ai-message ai-message-assistant",children:D.jsxDEV("div",{className:"ai-typing-indicator",children:[D.jsxDEV("span",{},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:289,columnNumber:21},globalThis),D.jsxDEV("span",{},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:290,columnNumber:21},globalThis),D.jsxDEV("span",{},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:291,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:288,columnNumber:19},globalThis)},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:283,columnNumber:17},globalThis),D.jsxDEV("div",{ref:x},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:296,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:214,columnNumber:13},globalThis),D.jsxDEV("div",{className:"ai-input-container",children:[D.jsxDEV("input",{type:"text",value:s,onChange:k=>l(k.target.value),onKeyPress:k=>k.key==="Enter"&&T(),placeholder:"Ask me about trading opportunities, market analysis, or routes...",className:"ai-input-field",disabled:u},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:300,columnNumber:15},globalThis),D.jsxDEV("button",{onClick:T,disabled:!s.trim()||u,className:"ai-send-button","aria-label":"Send message",children:D.jsxDEV(QP,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:315,columnNumber:17},globalThis)},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:309,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:299,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:213,columnNumber:11},globalThis),D.jsxDEV("div",{className:"ai-assistant-footer",children:D.jsxDEV("button",{className:"ai-settings-button",children:[D.jsxDEV(PJ,{className:"w-4 h-4"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:322,columnNumber:15},globalThis),D.jsxDEV("span",{children:"AI Settings"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:323,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:321,columnNumber:13},globalThis)},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:320,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:191,columnNumber:9},globalThis)},void 0,!1,{fileName:"/app/src/components/ai/AIAssistant.tsx",lineNumber:189,columnNumber:5},globalThis)};const VJ=({onClick:n,hasNewRecommendations:e=!1,recommendationCount:t=0})=>{const[i,r]=G.useState(!1);return G.useEffect(()=>{if(e){r(!0);const s=setTimeout(()=>r(!1),3e3);return()=>clearTimeout(s)}},[e]),D.jsxDEV(Sg.button,{className:`ai-assistant-button ${i?"ai-assistant-button--pulsing":""}`,onClick:n,whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.3},children:[D.jsxDEV("div",{className:"ai-assistant-button-icon",children:[D.jsxDEV(QP,{className:"w-6 h-6"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:38,columnNumber:9},globalThis),e&&t>0&&D.jsxDEV(Sg.div,{className:"ai-notification-badge",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:t>9?"9+":t},void 0,!1,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:42,columnNumber:11},globalThis),e&&D.jsxDEV(Sg.div,{className:"ai-activity-indicator",animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:D.jsxDEV(eU,{className:"w-3 h-3"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:66,columnNumber:13},globalThis)},void 0,!1,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:54,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:37,columnNumber:7},globalThis),D.jsxDEV("div",{className:"ai-assistant-button-content",children:[D.jsxDEV("span",{className:"ai-assistant-button-title",children:"AI Assistant"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:72,columnNumber:9},globalThis),D.jsxDEV("span",{className:"ai-assistant-button-subtitle",children:e?`${t} new recommendation${t!==1?"s":""}`:"Get trading insights"},void 0,!1,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:73,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:71,columnNumber:7},globalThis),i&&D.jsxDEV(Sg.div,{className:"ai-pulse-ring",animate:{scale:[1,2,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeOut"}},void 0,!1,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:83,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/ai/AIAssistantButton.tsx",lineNumber:28,columnNumber:5},globalThis)};const kJ=()=>{const{playerState:n,currentSector:e,planetsInSector:t,portsInSector:i,availableMoves:r,moveToSector:s,dockAtPort:l,error:u}=kg(),{requiresFirstLogin:h}=rT(),{sectorPlayers:f,isConnected:p}=_O(),[v,y]=G.useState(null),[x,_]=G.useState(null),[M,N]=G.useState("overview"),[T,A]=G.useState(!1),[w,L]=G.useState(!1),[U,k]=G.useState(0);G.useEffect(()=>{y(null),_(null)},[e==null?void 0:e.id]),G.useEffect(()=>{const P=async()=>{if(n!=null&&n.id)try{const j=(await tU.getRecommendations(10,!1)).filter(J=>new Date(J.expires_at)>new Date);k(j.length),L(j.length>0)}catch(q){console.error("Error checking AI recommendations:",q)}};P();const I=setInterval(P,3e4);return()=>clearInterval(I)},[n==null?void 0:n.id]);const V=async P=>{try{const I=await s(P);y(I)}catch(I){console.error("Error moving to sector:",I)}},H=async P=>{try{const I=await l(P);_(I)}catch(I){console.error("Error docking at port:",I)}};return h?null:D.jsxDEV(n5,{children:D.jsxDEV("div",{className:"game-dashboard",children:[D.jsxDEV("section",{className:"dashboard-header hud-panel",children:D.jsxDEV("div",{className:"cockpit-card-header",children:[D.jsxDEV("h2",{className:"cockpit-card-title",children:"COMMAND CENTER"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:93,columnNumber:13},globalThis),n&&D.jsxDEV("div",{className:"commander-status",children:[D.jsxDEV("span",{className:"status-indicator online"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:96,columnNumber:17},globalThis),D.jsxDEV("span",{className:"status-text",children:["CAPTAIN ",n.username.toUpperCase()]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:97,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:95,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:92,columnNumber:11},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:91,columnNumber:9},globalThis),u&&D.jsxDEV("div",{className:"hud-panel error animate-critical",children:[D.jsxDEV("div",{className:"alert-header",children:"⚠️ SYSTEM ALERT"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:105,columnNumber:13},globalThis),D.jsxDEV("div",{className:"alert-message",children:u},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:106,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:104,columnNumber:11},globalThis),v&&D.jsxDEV("div",{className:"hud-panel success animate-power-up",children:[D.jsxDEV("div",{className:"alert-header",children:"✅ NAVIGATION COMPLETE"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:112,columnNumber:13},globalThis),D.jsxDEV("div",{className:"alert-message",children:v.message},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:113,columnNumber:13},globalThis),v.encounters&&v.encounters.length>0&&D.jsxDEV("div",{className:"encounter-log",children:[D.jsxDEV("div",{className:"log-header",children:"ENCOUNTER LOG:"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:116,columnNumber:17},globalThis),D.jsxDEV("ul",{className:"encounter-list",children:v.encounters.map((P,I)=>D.jsxDEV("li",{className:"encounter-item",children:[P.type==="players"&&D.jsxDEV("span",{children:["👥 PLAYERS DETECTED: ",P.players.length]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:121,columnNumber:25},globalThis),P.type==="sector_hazard"&&D.jsxDEV("span",{children:["⚠️ HAZARD: ",P.hazard.toUpperCase()," (THREAT: ",P.threat_level,")"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:126,columnNumber:25},globalThis),P.type==="drones"&&D.jsxDEV("span",{children:["🤖 DEFENSE DRONES: ",P.count," (THREAT: ",P.threat_level,")"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:131,columnNumber:25},globalThis)]},I,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:119,columnNumber:21},globalThis))},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:117,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:115,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:111,columnNumber:11},globalThis),x&&D.jsxDEV("div",{className:"hud-panel success animate-power-up",children:[D.jsxDEV("div",{className:"alert-header",children:"🚀 DOCKING SUCCESSFUL"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:145,columnNumber:13},globalThis),D.jsxDEV("div",{className:"alert-message",children:x.message},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:146,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:144,columnNumber:11},globalThis),D.jsxDEV("div",{className:"cockpit-tabs",children:[D.jsxDEV("button",{className:`cockpit-tab ${M==="overview"?"active":""}`,onClick:()=>N("overview"),children:[D.jsxDEV("span",{className:"cockpit-tab-icon",children:"📊"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:156,columnNumber:13},globalThis),"TACTICAL OVERVIEW"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:152,columnNumber:11},globalThis),(n==null?void 0:n.is_ported)&&D.jsxDEV("button",{className:`cockpit-tab ${M==="trading"?"active":""}`,onClick:()=>N("trading"),children:[D.jsxDEV("span",{className:"cockpit-tab-icon",children:"💹"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:164,columnNumber:15},globalThis),"TRADE CONSOLE"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:160,columnNumber:13},globalThis),D.jsxDEV("button",{className:`cockpit-tab ${M==="navigation"?"active":""}`,onClick:()=>N("navigation"),children:[D.jsxDEV("span",{className:"cockpit-tab-icon",children:"🚀"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:172,columnNumber:13},globalThis),"NAV SYSTEM"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:168,columnNumber:11},globalThis),D.jsxDEV("button",{className:`cockpit-tab ${M==="players"?"active":""}`,onClick:()=>N("players"),children:[D.jsxDEV("span",{className:"cockpit-tab-icon",children:"👥"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:179,columnNumber:13},globalThis),"CONTACTS (",f.length,")",p&&D.jsxDEV("span",{className:"connection-dot animate-glow"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:181,columnNumber:29},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:175,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:151,columnNumber:9},globalThis),D.jsxDEV("div",{className:"hud-panel tab-content",children:[M==="overview"&&D.jsxDEV("div",{className:"overview-tab",children:D.jsxDEV("div",{className:"dashboard-grid",children:[D.jsxDEV("section",{className:"cockpit-card current-location",children:[D.jsxDEV("div",{className:"cockpit-card-header",children:D.jsxDEV("h3",{className:"cockpit-card-title",children:"CURRENT SECTOR"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:192,columnNumber:21},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:191,columnNumber:19},globalThis),e?D.jsxDEV("div",{className:"sector-details",children:[D.jsxDEV("h4",{children:["Sector ",e.id,": ",e.name]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:196,columnNumber:17},globalThis),D.jsxDEV("div",{className:"sector-type-badge",children:e.type},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:197,columnNumber:17},globalThis),e.hazard_level>0&&D.jsxDEV("div",{className:"sector-hazard-info",children:[D.jsxDEV("div",{className:"hazard-label",children:"Hazard Level:"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:201,columnNumber:21},globalThis),D.jsxDEV("div",{className:`hazard-level level-${Math.min(Math.ceil(e.hazard_level/2),5)}`,children:[e.hazard_level,"/10"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:202,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:200,columnNumber:19},globalThis),e.radiation_level>0&&D.jsxDEV("div",{className:"sector-radiation-info",children:[D.jsxDEV("div",{className:"radiation-label",children:"Radiation Level:"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:210,columnNumber:21},globalThis),D.jsxDEV("div",{className:`radiation-level level-${Math.min(Math.ceil(e.radiation_level*5),5)}`,children:[(e.radiation_level*100).toFixed(1),"%"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:211,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:209,columnNumber:19},globalThis),e.special_features&&e.special_features.length>0&&D.jsxDEV("div",{className:"special-features",children:[D.jsxDEV("div",{className:"features-label",children:"Special Features:"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:219,columnNumber:21},globalThis),D.jsxDEV("div",{className:"features-list",children:e.special_features.map(P=>D.jsxDEV("span",{className:"feature-badge",children:P.replace(/_/g," ")},P,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:222,columnNumber:25},globalThis))},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:220,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:218,columnNumber:19},globalThis),e.description&&D.jsxDEV("div",{className:"sector-description",children:e.description},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:231,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:195,columnNumber:15},globalThis):D.jsxDEV("div",{className:"unknown-location",children:"Location data unavailable"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:237,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:190,columnNumber:17},globalThis),D.jsxDEV("section",{className:"sector-objects",children:[D.jsxDEV("h3",{children:"Objects in Sector"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:244,columnNumber:13},globalThis),!t.length&&!i.length?D.jsxDEV("div",{className:"empty-sector",children:"No significant objects detected in this sector"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:247,columnNumber:15},globalThis):D.jsxDEV("div",{className:"objects-grid",children:[i.length>0&&D.jsxDEV("div",{className:"ports-list",children:[D.jsxDEV("h4",{children:"Space Ports"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:254,columnNumber:21},globalThis),D.jsxDEV("ul",{children:i.map(P=>D.jsxDEV("li",{className:"port-item",children:[D.jsxDEV("div",{className:"port-details",children:[D.jsxDEV("div",{className:"port-name",children:P.name},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:259,columnNumber:29},globalThis),D.jsxDEV("div",{className:"port-type",children:[P.type," Port"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:260,columnNumber:29},globalThis),P.faction_affiliation&&D.jsxDEV("div",{className:"port-faction",children:P.faction_affiliation},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:262,columnNumber:31},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:258,columnNumber:27},globalThis),D.jsxDEV("button",{className:"cockpit-btn primary dock-button",onClick:()=>H(P.id),disabled:n==null?void 0:n.is_ported,children:"DOCK"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:265,columnNumber:27},globalThis)]},P.id,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:257,columnNumber:25},globalThis))},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:255,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:253,columnNumber:19},globalThis),t.length>0&&D.jsxDEV("div",{className:"planets-list",children:[D.jsxDEV("h4",{children:"Planets"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:280,columnNumber:21},globalThis),D.jsxDEV("ul",{children:t.map(P=>D.jsxDEV("li",{className:"planet-item",children:[D.jsxDEV("div",{className:"planet-name",children:P.name},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:284,columnNumber:27},globalThis),D.jsxDEV("div",{className:"planet-type",children:[P.type," Planet"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:285,columnNumber:27},globalThis),D.jsxDEV("div",{className:"planet-status",children:P.status},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:286,columnNumber:27},globalThis),P.habitability_score>0&&D.jsxDEV("div",{className:"planet-habitability",children:["Habitability: ",P.habitability_score,"/100"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:288,columnNumber:29},globalThis)]},P.id,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:283,columnNumber:25},globalThis))},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:281,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:279,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:251,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:243,columnNumber:11},globalThis),D.jsxDEV("section",{className:"navigation",children:[D.jsxDEV("h3",{children:"Navigation"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:302,columnNumber:13},globalThis),!r.warps.length&&!r.tunnels.length?D.jsxDEV("div",{className:"no-exits",children:"No exits from this sector"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:305,columnNumber:15},globalThis):D.jsxDEV("div",{className:"navigation-options",children:[r.warps.length>0&&D.jsxDEV("div",{className:"warp-options",children:[D.jsxDEV("h4",{children:"Standard Warps"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:312,columnNumber:21},globalThis),D.jsxDEV("div",{className:"warp-grid",children:r.warps.map(P=>D.jsxDEV("button",{className:`cockpit-btn secondary warp-movement ${P.can_afford?"":"disabled"}`,onClick:()=>V(P.sector_id),disabled:!P.can_afford,children:[D.jsxDEV("div",{className:"warp-sector-id",children:["Sector ",P.sector_id]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:321,columnNumber:27},globalThis),D.jsxDEV("div",{className:"warp-name",children:P.name},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:322,columnNumber:27},globalThis),D.jsxDEV("div",{className:"warp-type",children:P.type},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:323,columnNumber:27},globalThis),D.jsxDEV("div",{className:"warp-cost",children:[P.turn_cost," ",P.turn_cost===1?"turn":"turns"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:324,columnNumber:27},globalThis)]},P.sector_id,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:315,columnNumber:25},globalThis))},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:313,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:311,columnNumber:19},globalThis),r.tunnels.length>0&&D.jsxDEV("div",{className:"tunnel-options",children:[D.jsxDEV("h4",{children:"Warp Tunnels"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:335,columnNumber:21},globalThis),D.jsxDEV("div",{className:"tunnel-grid",children:r.tunnels.map(P=>D.jsxDEV("button",{className:`cockpit-btn special tunnel-movement ${P.can_afford?"":"disabled"} tunnel-${(P.stability??.5)<.5?"unstable":(P.stability??.5)<.8?"moderate":"stable"}`,onClick:()=>V(P.sector_id),disabled:!P.can_afford,children:[D.jsxDEV("div",{className:"tunnel-sector-id",children:["Sector ",P.sector_id]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:344,columnNumber:27},globalThis),D.jsxDEV("div",{className:"tunnel-name",children:P.name},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:345,columnNumber:27},globalThis),D.jsxDEV("div",{className:"tunnel-type",children:P.tunnel_type},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:346,columnNumber:27},globalThis),D.jsxDEV("div",{className:"tunnel-stability",children:[D.jsxDEV("div",{className:"stability-label",children:"Stability:"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:348,columnNumber:29},globalThis),D.jsxDEV("div",{className:"stability-meter",style:{width:`${(P.stability??.5)*100}%`}},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:349,columnNumber:29},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:347,columnNumber:27},globalThis),D.jsxDEV("div",{className:"tunnel-cost",children:[P.turn_cost," ",P.turn_cost===1?"turn":"turns"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:351,columnNumber:27},globalThis)]},P.sector_id,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:338,columnNumber:25},globalThis))},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:336,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:334,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:309,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:301,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:189,columnNumber:15},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:188,columnNumber:13},globalThis),M==="trading"&&(n==null?void 0:n.is_ported)&&D.jsxDEV("div",{className:"trading-tab",children:D.jsxDEV(pq,{},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:368,columnNumber:15},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:367,columnNumber:13},globalThis),M==="navigation"&&D.jsxDEV("div",{className:"navigation-tab",children:D.jsxDEV("section",{className:"navigation",children:[D.jsxDEV("h3",{children:"Navigation"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:375,columnNumber:17},globalThis),!r.warps.length&&!r.tunnels.length?D.jsxDEV("div",{className:"no-exits",children:"No exits from this sector"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:378,columnNumber:19},globalThis):D.jsxDEV("div",{className:"navigation-options",children:[r.warps.length>0&&D.jsxDEV("div",{className:"warp-options",children:[D.jsxDEV("h4",{children:"Standard Warps"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:385,columnNumber:25},globalThis),D.jsxDEV("div",{className:"warp-grid",children:r.warps.map(P=>D.jsxDEV("button",{className:`cockpit-btn secondary warp-movement ${P.can_afford?"":"disabled"}`,onClick:()=>V(P.sector_id),disabled:!P.can_afford,children:[D.jsxDEV("div",{className:"warp-sector-id",children:["Sector ",P.sector_id]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:394,columnNumber:31},globalThis),D.jsxDEV("div",{className:"warp-name",children:P.name},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:395,columnNumber:31},globalThis),D.jsxDEV("div",{className:"warp-type",children:P.type},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:396,columnNumber:31},globalThis),D.jsxDEV("div",{className:"warp-cost",children:[P.turn_cost," ",P.turn_cost===1?"turn":"turns"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:397,columnNumber:31},globalThis)]},P.sector_id,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:388,columnNumber:29},globalThis))},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:386,columnNumber:25},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:384,columnNumber:23},globalThis),r.tunnels.length>0&&D.jsxDEV("div",{className:"tunnel-options",children:[D.jsxDEV("h4",{children:"Warp Tunnels"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:408,columnNumber:25},globalThis),D.jsxDEV("div",{className:"tunnel-grid",children:r.tunnels.map(P=>D.jsxDEV("button",{className:`cockpit-btn special tunnel-movement ${P.can_afford?"":"disabled"} tunnel-${(P.stability??.5)<.5?"unstable":(P.stability??.5)<.8?"moderate":"stable"}`,onClick:()=>V(P.sector_id),disabled:!P.can_afford,children:[D.jsxDEV("div",{className:"tunnel-sector-id",children:["Sector ",P.sector_id]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:417,columnNumber:31},globalThis),D.jsxDEV("div",{className:"tunnel-name",children:P.name},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:418,columnNumber:31},globalThis),D.jsxDEV("div",{className:"tunnel-type",children:P.tunnel_type},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:419,columnNumber:31},globalThis),D.jsxDEV("div",{className:"tunnel-stability",children:[D.jsxDEV("div",{className:"stability-label",children:"Stability:"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:421,columnNumber:33},globalThis),D.jsxDEV("div",{className:"stability-meter",style:{width:`${(P.stability??.5)*100}%`}},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:422,columnNumber:33},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:420,columnNumber:31},globalThis),D.jsxDEV("div",{className:"tunnel-cost",children:[P.turn_cost," ",P.turn_cost===1?"turn":"turns"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:424,columnNumber:31},globalThis)]},P.sector_id,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:411,columnNumber:29},globalThis))},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:409,columnNumber:25},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:407,columnNumber:23},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:382,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:374,columnNumber:15},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:373,columnNumber:13},globalThis),M==="players"&&D.jsxDEV("div",{className:"players-tab",children:D.jsxDEV("section",{className:"sector-players",children:[D.jsxDEV("h3",{children:"Players in Sector"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:441,columnNumber:17},globalThis),D.jsxDEV("div",{className:"connection-status",children:[D.jsxDEV("div",{className:`status-dot ${p?"connected":"disconnected"}`},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:443,columnNumber:19},globalThis),D.jsxDEV("span",{children:p?"Real-time updates":"Offline mode"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:444,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:442,columnNumber:17},globalThis),f.length===0?D.jsxDEV("div",{className:"no-players",children:[D.jsxDEV("div",{className:"empty-icon",children:"🚀"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:449,columnNumber:21},globalThis),D.jsxDEV("p",{children:"No other players detected in this sector"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:450,columnNumber:21},globalThis),!p&&D.jsxDEV("p",{className:"offline-note",children:"Connect to see real-time player activity"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:451,columnNumber:38},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:448,columnNumber:19},globalThis):D.jsxDEV("div",{className:"players-list",children:f.map(P=>D.jsxDEV("div",{className:"player-card",children:[D.jsxDEV("div",{className:"player-avatar",children:"👤"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:457,columnNumber:25},globalThis),D.jsxDEV("div",{className:"player-info",children:[D.jsxDEV("div",{className:"player-name",children:P.username},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:459,columnNumber:27},globalThis),D.jsxDEV("div",{className:"player-status",children:["Online for ",Math.floor((Date.now()-new Date(P.connected_at).getTime())/6e4)," minutes"]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:460,columnNumber:27},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:458,columnNumber:25},globalThis),D.jsxDEV("div",{className:"player-actions",children:[D.jsxDEV("button",{className:"action-btn message",title:"Send Message",children:"💬"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:465,columnNumber:27},globalThis),D.jsxDEV("button",{className:"action-btn trade",title:"Request Trade",children:"🤝"},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:466,columnNumber:27},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:464,columnNumber:25},globalThis)]},P.user_id,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:456,columnNumber:23},globalThis))},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:454,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:440,columnNumber:15},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:439,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:186,columnNumber:9},globalThis),(n==null?void 0:n.id)&&D.jsxDEV(D.Fragment,{children:[D.jsxDEV(VJ,{onClick:()=>A(!0),hasNewRecommendations:w,recommendationCount:U},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:480,columnNumber:13},globalThis),D.jsxDEV(IJ,{isOpen:T,onClose:()=>A(!1),playerId:n.id},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:486,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:479,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:90,columnNumber:7},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GameDashboard.tsx",lineNumber:89,columnNumber:5},globalThis)};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ux="158",dg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},hg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TH=0,nU=1,NH=2,BJ=3,MH=0,MA=1,n1=2,nc=3,oh=0,mo=1,Cl=2,zJ=2,ah=0,Mg=1,qC=2,iU=3,rU=4,wH=5,Op=100,CH=101,AH=102,aU=103,sU=104,RH=200,DH=201,LH=202,PH=203,$C=204,KC=205,UH=206,OH=207,FH=208,IH=209,VH=210,kH=211,BH=212,zH=213,HH=214,jH=0,GH=1,WH=2,_1=3,YH=4,XH=5,qH=6,$H=7,cT=0,KH=1,ZH=2,wf=0,JH=1,QH=2,ej=3,GO=4,tj=5,oU="attached",nj="detached",wA=300,lh=301,qp=302,E1=303,T1=304,cx=306,N1=1e3,Gs=1001,M1=1002,oa=1003,ZC=1004,HJ=1004,i1=1005,jJ=1005,Ur=1006,WO=1007,GJ=1007,$p=1008,WJ=1008,Cf=1009,ij=1010,rj=1011,CA=1012,YO=1013,th=1014,Tf=1015,Q0=1016,XO=1017,qO=1018,zp=1020,aj=1021,Ho=1023,sj=1024,oj=1025,Hp=1026,Ug=1027,lj=1028,$O=1029,uj=1030,KO=1031,ZO=1033,SC=33776,_C=33777,EC=33778,TC=33779,lU=35840,uU=35841,cU=35842,fU=35843,cj=36196,dU=37492,hU=37496,pU=37808,mU=37809,vU=37810,gU=37811,yU=37812,bU=37813,xU=37814,SU=37815,_U=37816,EU=37817,TU=37818,NU=37819,MU=37820,wU=37821,NC=36492,CU=36494,AU=36495,fj=36283,RU=36284,DU=36285,LU=36286,dj=2200,hj=2201,pj=2202,w1=2300,C1=2301,MC=2302,_g=2400,Eg=2401,A1=2402,AA=2500,JO=2501,YJ=0,XJ=1,qJ=2,QO=3e3,jp=3001,mj=3200,e3=3201,Qp=0,vj=1,Al="",La="srgb",Df="srgb-linear",RA="display-p3",fT="display-p3-linear",R1="linear",sr="srgb",D1="rec709",L1="p3",$J=0,pg=7680,KJ=7681,ZJ=7682,JJ=7683,QJ=34055,eQ=34056,tQ=5386,nQ=512,iQ=513,rQ=514,aQ=515,sQ=516,oQ=517,lQ=518,PU=519,gj=512,yj=513,bj=514,xj=515,Sj=516,_j=517,Ej=518,Tj=519,P1=35044,wg=35048,uQ=35040,cQ=35045,fQ=35049,dQ=35041,hQ=35046,pQ=35050,mQ=35042,vQ="100",UU="300 es",JC=1035,Nf=2e3,U1=2001;let ch=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,l=r.length;s<l;s++)r[s].call(this,e);e.target=null}}};const zs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let vk=1234567;const Cg=Math.PI/180,ex=180/Math.PI;function Ll(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(zs[n&255]+zs[n>>8&255]+zs[n>>16&255]+zs[n>>24&255]+"-"+zs[e&255]+zs[e>>8&255]+"-"+zs[e>>16&15|64]+zs[e>>24&255]+"-"+zs[t&63|128]+zs[t>>8&255]+"-"+zs[t>>16&255]+zs[t>>24&255]+zs[i&255]+zs[i>>8&255]+zs[i>>16&255]+zs[i>>24&255]).toLowerCase()}function Xr(n,e,t){return Math.max(e,Math.min(t,n))}function t3(n,e){return(n%e+e)%e}function gQ(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function yQ(n,e,t){return n!==e?(t-n)/(e-n):0}function r1(n,e,t){return(1-t)*n+t*e}function bQ(n,e,t,i){return r1(n,e,1-Math.exp(-t*i))}function xQ(n,e=1){return e-Math.abs(t3(n,e*2)-e)}function SQ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function _Q(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function EQ(n,e){return n+Math.floor(Math.random()*(e-n+1))}function TQ(n,e){return n+Math.random()*(e-n)}function NQ(n){return n*(.5-Math.random())}function MQ(n){n!==void 0&&(vk=n);let e=vk+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function wQ(n){return n*Cg}function CQ(n){return n*ex}function OU(n){return(n&n-1)===0&&n!==0}function Nj(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function QC(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function AQ(n,e,t,i,r){const s=Math.cos,l=Math.sin,u=s(t/2),h=l(t/2),f=s((e+i)/2),p=l((e+i)/2),v=s((e-i)/2),y=l((e-i)/2),x=s((i-e)/2),_=l((i-e)/2);switch(r){case"XYX":n.set(u*p,h*v,h*y,u*f);break;case"YZY":n.set(h*y,u*p,h*v,u*f);break;case"ZXZ":n.set(h*v,h*y,u*p,u*f);break;case"XZX":n.set(u*p,h*_,h*x,u*f);break;case"YXY":n.set(h*x,u*p,h*_,u*f);break;case"ZYZ":n.set(h*_,h*x,u*p,u*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function jo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ti(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Mj={DEG2RAD:Cg,RAD2DEG:ex,generateUUID:Ll,clamp:Xr,euclideanModulo:t3,mapLinear:gQ,inverseLerp:yQ,lerp:r1,damp:bQ,pingpong:xQ,smoothstep:SQ,smootherstep:_Q,randInt:EQ,randFloat:TQ,randFloatSpread:NQ,seededRandom:MQ,degToRad:wQ,radToDeg:CQ,isPowerOfTwo:OU,ceilPowerOfTwo:Nj,floorPowerOfTwo:QC,setQuaternionFromProperEuler:AQ,normalize:ti,denormalize:jo};class wt{constructor(e=0,t=0){wt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Xr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,l=this.y-e.y;return this.x=s*i-l*r+e.x,this.y=s*r+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ei{constructor(e,t,i,r,s,l,u,h,f){ei.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,l,u,h,f)}set(e,t,i,r,s,l,u,h,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=u,p[3]=t,p[4]=s,p[5]=h,p[6]=i,p[7]=l,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,l=i[0],u=i[3],h=i[6],f=i[1],p=i[4],v=i[7],y=i[2],x=i[5],_=i[8],M=r[0],N=r[3],T=r[6],A=r[1],w=r[4],L=r[7],U=r[2],k=r[5],V=r[8];return s[0]=l*M+u*A+h*U,s[3]=l*N+u*w+h*k,s[6]=l*T+u*L+h*V,s[1]=f*M+p*A+v*U,s[4]=f*N+p*w+v*k,s[7]=f*T+p*L+v*V,s[2]=y*M+x*A+_*U,s[5]=y*N+x*w+_*k,s[8]=y*T+x*L+_*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],l=e[4],u=e[5],h=e[6],f=e[7],p=e[8];return t*l*p-t*u*f-i*s*p+i*u*h+r*s*f-r*l*h}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],l=e[4],u=e[5],h=e[6],f=e[7],p=e[8],v=p*l-u*f,y=u*h-p*s,x=f*s-l*h,_=t*v+i*y+r*x;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/_;return e[0]=v*M,e[1]=(r*f-p*i)*M,e[2]=(u*i-r*l)*M,e[3]=y*M,e[4]=(p*t-r*h)*M,e[5]=(r*s-u*t)*M,e[6]=x*M,e[7]=(i*h-f*t)*M,e[8]=(l*t-i*s)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,l,u){const h=Math.cos(s),f=Math.sin(s);return this.set(i*h,i*f,-i*(h*l+f*u)+l+e,-r*f,r*h,-r*(-f*l+h*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(ML.makeScale(e,t)),this}rotate(e){return this.premultiply(ML.makeRotation(-e)),this}translate(e,t){return this.premultiply(ML.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ML=new ei;function wj(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const RQ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function z0(n,e){return new RQ[n](e)}function O1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Cj(){const n=O1("canvas");return n.style.display="block",n}const gk={};function a1(n){n in gk||(gk[n]=!0,console.warn(n))}const yk=new ei().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),bk=new ei().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),fw={[Df]:{transfer:R1,primaries:D1,toReference:n=>n,fromReference:n=>n},[La]:{transfer:sr,primaries:D1,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[fT]:{transfer:R1,primaries:L1,toReference:n=>n.applyMatrix3(bk),fromReference:n=>n.applyMatrix3(yk)},[RA]:{transfer:sr,primaries:L1,toReference:n=>n.convertSRGBToLinear().applyMatrix3(bk),fromReference:n=>n.applyMatrix3(yk).convertLinearToSRGB()}},DQ=new Set([Df,fT]),Xi={enabled:!0,_workingColorSpace:Df,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!DQ.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=fw[e].toReference,r=fw[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return fw[n].primaries},getTransfer:function(n){return n===Al?R1:fw[n].transfer}};function Y0(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function wL(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let u0;class n3{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{u0===void 0&&(u0=O1("canvas")),u0.width=e.width,u0.height=e.height;const i=u0.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=u0}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=O1("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let l=0;l<s.length;l++)s[l]=Y0(s[l]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Y0(t[i]/255)*255):t[i]=Y0(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let LQ=0;class Tg{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:LQ++}),this.uuid=Ll(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let l=0,u=r.length;l<u;l++)r[l].isDataTexture?s.push(CL(r[l].image)):s.push(CL(r[l]))}else s=CL(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function CL(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?n3.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let PQ=0;class $r extends ch{constructor(e=$r.DEFAULT_IMAGE,t=$r.DEFAULT_MAPPING,i=Gs,r=Gs,s=Ur,l=$p,u=Ho,h=Cf,f=$r.DEFAULT_ANISOTROPY,p=Al){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:PQ++}),this.uuid=Ll(),this.name="",this.source=new Tg(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=l,this.anisotropy=f,this.format=u,this.internalFormat=null,this.type=h,this.offset=new wt(0,0),this.repeat=new wt(1,1),this.center=new wt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ei,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof p=="string"?this.colorSpace=p:(a1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=p===jp?La:Al),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==wA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case N1:e.x=e.x-Math.floor(e.x);break;case Gs:e.x=e.x<0?0:1;break;case M1:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case N1:e.y=e.y-Math.floor(e.y);break;case Gs:e.y=e.y<0?0:1;break;case M1:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return a1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===La?jp:QO}set encoding(e){a1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===jp?La:Al}}$r.DEFAULT_IMAGE=null;$r.DEFAULT_MAPPING=wA;$r.DEFAULT_ANISOTROPY=1;class hi{constructor(e=0,t=0,i=0,r=1){hi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,l=e.elements;return this.x=l[0]*t+l[4]*i+l[8]*r+l[12]*s,this.y=l[1]*t+l[5]*i+l[9]*r+l[13]*s,this.z=l[2]*t+l[6]*i+l[10]*r+l[14]*s,this.w=l[3]*t+l[7]*i+l[11]*r+l[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const h=e.elements,f=h[0],p=h[4],v=h[8],y=h[1],x=h[5],_=h[9],M=h[2],N=h[6],T=h[10];if(Math.abs(p-y)<.01&&Math.abs(v-M)<.01&&Math.abs(_-N)<.01){if(Math.abs(p+y)<.1&&Math.abs(v+M)<.1&&Math.abs(_+N)<.1&&Math.abs(f+x+T-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(f+1)/2,L=(x+1)/2,U=(T+1)/2,k=(p+y)/4,V=(v+M)/4,H=(_+N)/4;return w>L&&w>U?w<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(w),r=k/i,s=V/i):L>U?L<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(L),i=k/r,s=H/r):U<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(U),i=V/s,r=H/s),this.set(i,r,s,t),this}let A=Math.sqrt((N-_)*(N-_)+(v-M)*(v-M)+(y-p)*(y-p));return Math.abs(A)<.001&&(A=1),this.x=(N-_)/A,this.y=(v-M)/A,this.z=(y-p)/A,this.w=Math.acos((f+x+T-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Aj extends ch{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new hi(0,0,e,t),this.scissorTest=!1,this.viewport=new hi(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(a1("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===jp?La:Al),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ur,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new $r(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Tg(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class cc extends Aj{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class DA extends $r{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=oa,this.minFilter=oa,this.wrapR=Gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class UQ extends cc{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new DA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class i3 extends $r{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=oa,this.minFilter=oa,this.wrapR=Gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class OQ extends cc{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new i3(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class FQ extends cc{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let l=0;l<i;l++)this.texture[l]=s.clone(),this.texture[l].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Ws{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,l,u){let h=i[r+0],f=i[r+1],p=i[r+2],v=i[r+3];const y=s[l+0],x=s[l+1],_=s[l+2],M=s[l+3];if(u===0){e[t+0]=h,e[t+1]=f,e[t+2]=p,e[t+3]=v;return}if(u===1){e[t+0]=y,e[t+1]=x,e[t+2]=_,e[t+3]=M;return}if(v!==M||h!==y||f!==x||p!==_){let N=1-u;const T=h*y+f*x+p*_+v*M,A=T>=0?1:-1,w=1-T*T;if(w>Number.EPSILON){const U=Math.sqrt(w),k=Math.atan2(U,T*A);N=Math.sin(N*k)/U,u=Math.sin(u*k)/U}const L=u*A;if(h=h*N+y*L,f=f*N+x*L,p=p*N+_*L,v=v*N+M*L,N===1-u){const U=1/Math.sqrt(h*h+f*f+p*p+v*v);h*=U,f*=U,p*=U,v*=U}}e[t]=h,e[t+1]=f,e[t+2]=p,e[t+3]=v}static multiplyQuaternionsFlat(e,t,i,r,s,l){const u=i[r],h=i[r+1],f=i[r+2],p=i[r+3],v=s[l],y=s[l+1],x=s[l+2],_=s[l+3];return e[t]=u*_+p*v+h*x-f*y,e[t+1]=h*_+p*y+f*v-u*x,e[t+2]=f*_+p*x+u*y-h*v,e[t+3]=p*_-u*v-h*y-f*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,l=e._order,u=Math.cos,h=Math.sin,f=u(i/2),p=u(r/2),v=u(s/2),y=h(i/2),x=h(r/2),_=h(s/2);switch(l){case"XYZ":this._x=y*p*v+f*x*_,this._y=f*x*v-y*p*_,this._z=f*p*_+y*x*v,this._w=f*p*v-y*x*_;break;case"YXZ":this._x=y*p*v+f*x*_,this._y=f*x*v-y*p*_,this._z=f*p*_-y*x*v,this._w=f*p*v+y*x*_;break;case"ZXY":this._x=y*p*v-f*x*_,this._y=f*x*v+y*p*_,this._z=f*p*_+y*x*v,this._w=f*p*v-y*x*_;break;case"ZYX":this._x=y*p*v-f*x*_,this._y=f*x*v+y*p*_,this._z=f*p*_-y*x*v,this._w=f*p*v+y*x*_;break;case"YZX":this._x=y*p*v+f*x*_,this._y=f*x*v+y*p*_,this._z=f*p*_-y*x*v,this._w=f*p*v-y*x*_;break;case"XZY":this._x=y*p*v-f*x*_,this._y=f*x*v-y*p*_,this._z=f*p*_+y*x*v,this._w=f*p*v+y*x*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],l=t[1],u=t[5],h=t[9],f=t[2],p=t[6],v=t[10],y=i+u+v;if(y>0){const x=.5/Math.sqrt(y+1);this._w=.25/x,this._x=(p-h)*x,this._y=(s-f)*x,this._z=(l-r)*x}else if(i>u&&i>v){const x=2*Math.sqrt(1+i-u-v);this._w=(p-h)/x,this._x=.25*x,this._y=(r+l)/x,this._z=(s+f)/x}else if(u>v){const x=2*Math.sqrt(1+u-i-v);this._w=(s-f)/x,this._x=(r+l)/x,this._y=.25*x,this._z=(h+p)/x}else{const x=2*Math.sqrt(1+v-i-u);this._w=(l-r)/x,this._x=(s+f)/x,this._y=(h+p)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xr(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,l=e._w,u=t._x,h=t._y,f=t._z,p=t._w;return this._x=i*p+l*u+r*f-s*h,this._y=r*p+l*h+s*u-i*f,this._z=s*p+l*f+i*h-r*u,this._w=l*p-i*u-r*h-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,l=this._w;let u=l*e._w+i*e._x+r*e._y+s*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=l,this._x=i,this._y=r,this._z=s,this;const h=1-u*u;if(h<=Number.EPSILON){const x=1-t;return this._w=x*l+t*this._w,this._x=x*i+t*this._x,this._y=x*r+t*this._y,this._z=x*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const f=Math.sqrt(h),p=Math.atan2(f,u),v=Math.sin((1-t)*p)/f,y=Math.sin(t*p)/f;return this._w=l*v+this._w*y,this._x=i*v+this._x*y,this._y=r*v+this._y*y,this._z=s*v+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class fe{constructor(e=0,t=0,i=0){fe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(xk.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(xk.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,l=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*l,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*l,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*l,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,l=e.y,u=e.z,h=e.w,f=2*(l*r-u*i),p=2*(u*t-s*r),v=2*(s*i-l*t);return this.x=t+h*f+l*v-u*p,this.y=i+h*p+u*f-s*v,this.z=r+h*v+s*p-l*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,l=t.x,u=t.y,h=t.z;return this.x=r*h-s*u,this.y=s*l-i*h,this.z=i*u-r*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return AL.copy(this).projectOnVector(e),this.sub(AL)}reflect(e){return this.sub(AL.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Xr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const AL=new fe,xk=new Ws;class vo{constructor(e=new fe(1/0,1/0,1/0),t=new fe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Qu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Qu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Qu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=s.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,Qu):Qu.fromBufferAttribute(s,l),Qu.applyMatrix4(e.matrixWorld),this.expandByPoint(Qu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),dw.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),dw.copy(i.boundingBox)),dw.applyMatrix4(e.matrixWorld),this.union(dw)}const r=e.children;for(let s=0,l=r.length;s<l;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Qu),Qu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(RE),hw.subVectors(this.max,RE),c0.subVectors(e.a,RE),f0.subVectors(e.b,RE),d0.subVectors(e.c,RE),Mp.subVectors(f0,c0),wp.subVectors(d0,f0),Jv.subVectors(c0,d0);let t=[0,-Mp.z,Mp.y,0,-wp.z,wp.y,0,-Jv.z,Jv.y,Mp.z,0,-Mp.x,wp.z,0,-wp.x,Jv.z,0,-Jv.x,-Mp.y,Mp.x,0,-wp.y,wp.x,0,-Jv.y,Jv.x,0];return!RL(t,c0,f0,d0,hw)||(t=[1,0,0,0,1,0,0,0,1],!RL(t,c0,f0,d0,hw))?!1:(pw.crossVectors(Mp,wp),t=[pw.x,pw.y,pw.z],RL(t,c0,f0,d0,hw))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Qu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Qu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Wd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Wd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Wd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Wd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Wd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Wd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Wd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Wd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Wd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Wd=[new fe,new fe,new fe,new fe,new fe,new fe,new fe,new fe],Qu=new fe,dw=new vo,c0=new fe,f0=new fe,d0=new fe,Mp=new fe,wp=new fe,Jv=new fe,RE=new fe,hw=new fe,pw=new fe,Qv=new fe;function RL(n,e,t,i,r){for(let s=0,l=n.length-3;s<=l;s+=3){Qv.fromArray(n,s);const u=r.x*Math.abs(Qv.x)+r.y*Math.abs(Qv.y)+r.z*Math.abs(Qv.z),h=e.dot(Qv),f=t.dot(Qv),p=i.dot(Qv);if(Math.max(-Math.max(h,f,p),Math.min(h,f,p))>u)return!1}return!0}const IQ=new vo,DE=new fe,DL=new fe;let Yo=class{constructor(e=new fe,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):IQ.setFromPoints(e).getCenter(i);let r=0;for(let s=0,l=e.length;s<l;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;DE.subVectors(e,this.center);const t=DE.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(DE,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(DL.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(DE.copy(e.center).add(DL)),this.expandByPoint(DE.copy(e.center).sub(DL))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Yd=new fe,LL=new fe,mw=new fe,Cp=new fe,PL=new fe,vw=new fe,UL=new fe;class jg{constructor(e=new fe,t=new fe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Yd)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Yd.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Yd.copy(this.origin).addScaledVector(this.direction,t),Yd.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){LL.copy(e).add(t).multiplyScalar(.5),mw.copy(t).sub(e).normalize(),Cp.copy(this.origin).sub(LL);const s=e.distanceTo(t)*.5,l=-this.direction.dot(mw),u=Cp.dot(this.direction),h=-Cp.dot(mw),f=Cp.lengthSq(),p=Math.abs(1-l*l);let v,y,x,_;if(p>0)if(v=l*h-u,y=l*u-h,_=s*p,v>=0)if(y>=-_)if(y<=_){const M=1/p;v*=M,y*=M,x=v*(v+l*y+2*u)+y*(l*v+y+2*h)+f}else y=s,v=Math.max(0,-(l*y+u)),x=-v*v+y*(y+2*h)+f;else y=-s,v=Math.max(0,-(l*y+u)),x=-v*v+y*(y+2*h)+f;else y<=-_?(v=Math.max(0,-(-l*s+u)),y=v>0?-s:Math.min(Math.max(-s,-h),s),x=-v*v+y*(y+2*h)+f):y<=_?(v=0,y=Math.min(Math.max(-s,-h),s),x=y*(y+2*h)+f):(v=Math.max(0,-(l*s+u)),y=v>0?s:Math.min(Math.max(-s,-h),s),x=-v*v+y*(y+2*h)+f);else y=l>0?-s:s,v=Math.max(0,-(l*y+u)),x=-v*v+y*(y+2*h)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,v),r&&r.copy(LL).addScaledVector(mw,y),x}intersectSphere(e,t){Yd.subVectors(e.center,this.origin);const i=Yd.dot(this.direction),r=Yd.dot(Yd)-i*i,s=e.radius*e.radius;if(r>s)return null;const l=Math.sqrt(s-r),u=i-l,h=i+l;return h<0?null:u<0?this.at(h,t):this.at(u,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,l,u,h;const f=1/this.direction.x,p=1/this.direction.y,v=1/this.direction.z,y=this.origin;return f>=0?(i=(e.min.x-y.x)*f,r=(e.max.x-y.x)*f):(i=(e.max.x-y.x)*f,r=(e.min.x-y.x)*f),p>=0?(s=(e.min.y-y.y)*p,l=(e.max.y-y.y)*p):(s=(e.max.y-y.y)*p,l=(e.min.y-y.y)*p),i>l||s>r||((s>i||isNaN(i))&&(i=s),(l<r||isNaN(r))&&(r=l),v>=0?(u=(e.min.z-y.z)*v,h=(e.max.z-y.z)*v):(u=(e.max.z-y.z)*v,h=(e.min.z-y.z)*v),i>h||u>r)||((u>i||i!==i)&&(i=u),(h<r||r!==r)&&(r=h),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Yd)!==null}intersectTriangle(e,t,i,r,s){PL.subVectors(t,e),vw.subVectors(i,e),UL.crossVectors(PL,vw);let l=this.direction.dot(UL),u;if(l>0){if(r)return null;u=1}else if(l<0)u=-1,l=-l;else return null;Cp.subVectors(this.origin,e);const h=u*this.direction.dot(vw.crossVectors(Cp,vw));if(h<0)return null;const f=u*this.direction.dot(PL.cross(Cp));if(f<0||h+f>l)return null;const p=-u*Cp.dot(UL);return p<0?null:this.at(p/l,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Bn{constructor(e,t,i,r,s,l,u,h,f,p,v,y,x,_,M,N){Bn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,l,u,h,f,p,v,y,x,_,M,N)}set(e,t,i,r,s,l,u,h,f,p,v,y,x,_,M,N){const T=this.elements;return T[0]=e,T[4]=t,T[8]=i,T[12]=r,T[1]=s,T[5]=l,T[9]=u,T[13]=h,T[2]=f,T[6]=p,T[10]=v,T[14]=y,T[3]=x,T[7]=_,T[11]=M,T[15]=N,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Bn().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/h0.setFromMatrixColumn(e,0).length(),s=1/h0.setFromMatrixColumn(e,1).length(),l=1/h0.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*l,t[9]=i[9]*l,t[10]=i[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(r),f=Math.sin(r),p=Math.cos(s),v=Math.sin(s);if(e.order==="XYZ"){const y=l*p,x=l*v,_=u*p,M=u*v;t[0]=h*p,t[4]=-h*v,t[8]=f,t[1]=x+_*f,t[5]=y-M*f,t[9]=-u*h,t[2]=M-y*f,t[6]=_+x*f,t[10]=l*h}else if(e.order==="YXZ"){const y=h*p,x=h*v,_=f*p,M=f*v;t[0]=y+M*u,t[4]=_*u-x,t[8]=l*f,t[1]=l*v,t[5]=l*p,t[9]=-u,t[2]=x*u-_,t[6]=M+y*u,t[10]=l*h}else if(e.order==="ZXY"){const y=h*p,x=h*v,_=f*p,M=f*v;t[0]=y-M*u,t[4]=-l*v,t[8]=_+x*u,t[1]=x+_*u,t[5]=l*p,t[9]=M-y*u,t[2]=-l*f,t[6]=u,t[10]=l*h}else if(e.order==="ZYX"){const y=l*p,x=l*v,_=u*p,M=u*v;t[0]=h*p,t[4]=_*f-x,t[8]=y*f+M,t[1]=h*v,t[5]=M*f+y,t[9]=x*f-_,t[2]=-f,t[6]=u*h,t[10]=l*h}else if(e.order==="YZX"){const y=l*h,x=l*f,_=u*h,M=u*f;t[0]=h*p,t[4]=M-y*v,t[8]=_*v+x,t[1]=v,t[5]=l*p,t[9]=-u*p,t[2]=-f*p,t[6]=x*v+_,t[10]=y-M*v}else if(e.order==="XZY"){const y=l*h,x=l*f,_=u*h,M=u*f;t[0]=h*p,t[4]=-v,t[8]=f*p,t[1]=y*v+M,t[5]=l*p,t[9]=x*v-_,t[2]=_*v-x,t[6]=u*p,t[10]=M*v+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(VQ,e,kQ)}lookAt(e,t,i){const r=this.elements;return Nl.subVectors(e,t),Nl.lengthSq()===0&&(Nl.z=1),Nl.normalize(),Ap.crossVectors(i,Nl),Ap.lengthSq()===0&&(Math.abs(i.z)===1?Nl.x+=1e-4:Nl.z+=1e-4,Nl.normalize(),Ap.crossVectors(i,Nl)),Ap.normalize(),gw.crossVectors(Nl,Ap),r[0]=Ap.x,r[4]=gw.x,r[8]=Nl.x,r[1]=Ap.y,r[5]=gw.y,r[9]=Nl.y,r[2]=Ap.z,r[6]=gw.z,r[10]=Nl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,l=i[0],u=i[4],h=i[8],f=i[12],p=i[1],v=i[5],y=i[9],x=i[13],_=i[2],M=i[6],N=i[10],T=i[14],A=i[3],w=i[7],L=i[11],U=i[15],k=r[0],V=r[4],H=r[8],P=r[12],I=r[1],q=r[5],j=r[9],J=r[13],W=r[2],se=r[6],te=r[10],ae=r[14],ge=r[3],ve=r[7],ce=r[11],Y=r[15];return s[0]=l*k+u*I+h*W+f*ge,s[4]=l*V+u*q+h*se+f*ve,s[8]=l*H+u*j+h*te+f*ce,s[12]=l*P+u*J+h*ae+f*Y,s[1]=p*k+v*I+y*W+x*ge,s[5]=p*V+v*q+y*se+x*ve,s[9]=p*H+v*j+y*te+x*ce,s[13]=p*P+v*J+y*ae+x*Y,s[2]=_*k+M*I+N*W+T*ge,s[6]=_*V+M*q+N*se+T*ve,s[10]=_*H+M*j+N*te+T*ce,s[14]=_*P+M*J+N*ae+T*Y,s[3]=A*k+w*I+L*W+U*ge,s[7]=A*V+w*q+L*se+U*ve,s[11]=A*H+w*j+L*te+U*ce,s[15]=A*P+w*J+L*ae+U*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],l=e[1],u=e[5],h=e[9],f=e[13],p=e[2],v=e[6],y=e[10],x=e[14],_=e[3],M=e[7],N=e[11],T=e[15];return _*(+s*h*v-r*f*v-s*u*y+i*f*y+r*u*x-i*h*x)+M*(+t*h*x-t*f*y+s*l*y-r*l*x+r*f*p-s*h*p)+N*(+t*f*v-t*u*x-s*l*v+i*l*x+s*u*p-i*f*p)+T*(-r*u*p-t*h*v+t*u*y+r*l*v-i*l*y+i*h*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],l=e[4],u=e[5],h=e[6],f=e[7],p=e[8],v=e[9],y=e[10],x=e[11],_=e[12],M=e[13],N=e[14],T=e[15],A=v*N*f-M*y*f+M*h*x-u*N*x-v*h*T+u*y*T,w=_*y*f-p*N*f-_*h*x+l*N*x+p*h*T-l*y*T,L=p*M*f-_*v*f+_*u*x-l*M*x-p*u*T+l*v*T,U=_*v*h-p*M*h-_*u*y+l*M*y+p*u*N-l*v*N,k=t*A+i*w+r*L+s*U;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const V=1/k;return e[0]=A*V,e[1]=(M*y*s-v*N*s-M*r*x+i*N*x+v*r*T-i*y*T)*V,e[2]=(u*N*s-M*h*s+M*r*f-i*N*f-u*r*T+i*h*T)*V,e[3]=(v*h*s-u*y*s-v*r*f+i*y*f+u*r*x-i*h*x)*V,e[4]=w*V,e[5]=(p*N*s-_*y*s+_*r*x-t*N*x-p*r*T+t*y*T)*V,e[6]=(_*h*s-l*N*s-_*r*f+t*N*f+l*r*T-t*h*T)*V,e[7]=(l*y*s-p*h*s+p*r*f-t*y*f-l*r*x+t*h*x)*V,e[8]=L*V,e[9]=(_*v*s-p*M*s-_*i*x+t*M*x+p*i*T-t*v*T)*V,e[10]=(l*M*s-_*u*s+_*i*f-t*M*f-l*i*T+t*u*T)*V,e[11]=(p*u*s-l*v*s-p*i*f+t*v*f+l*i*x-t*u*x)*V,e[12]=U*V,e[13]=(p*M*r-_*v*r+_*i*y-t*M*y-p*i*N+t*v*N)*V,e[14]=(_*u*r-l*M*r-_*i*h+t*M*h+l*i*N-t*u*N)*V,e[15]=(l*v*r-p*u*r+p*i*h-t*v*h-l*i*y+t*u*y)*V,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,l=e.x,u=e.y,h=e.z,f=s*l,p=s*u;return this.set(f*l+i,f*u-r*h,f*h+r*u,0,f*u+r*h,p*u+i,p*h-r*l,0,f*h-r*u,p*h+r*l,s*h*h+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,l){return this.set(1,i,s,0,e,1,l,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,l=t._y,u=t._z,h=t._w,f=s+s,p=l+l,v=u+u,y=s*f,x=s*p,_=s*v,M=l*p,N=l*v,T=u*v,A=h*f,w=h*p,L=h*v,U=i.x,k=i.y,V=i.z;return r[0]=(1-(M+T))*U,r[1]=(x+L)*U,r[2]=(_-w)*U,r[3]=0,r[4]=(x-L)*k,r[5]=(1-(y+T))*k,r[6]=(N+A)*k,r[7]=0,r[8]=(_+w)*V,r[9]=(N-A)*V,r[10]=(1-(y+M))*V,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=h0.set(r[0],r[1],r[2]).length();const l=h0.set(r[4],r[5],r[6]).length(),u=h0.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ec.copy(this);const f=1/s,p=1/l,v=1/u;return ec.elements[0]*=f,ec.elements[1]*=f,ec.elements[2]*=f,ec.elements[4]*=p,ec.elements[5]*=p,ec.elements[6]*=p,ec.elements[8]*=v,ec.elements[9]*=v,ec.elements[10]*=v,t.setFromRotationMatrix(ec),i.x=s,i.y=l,i.z=u,this}makePerspective(e,t,i,r,s,l,u=Nf){const h=this.elements,f=2*s/(t-e),p=2*s/(i-r),v=(t+e)/(t-e),y=(i+r)/(i-r);let x,_;if(u===Nf)x=-(l+s)/(l-s),_=-2*l*s/(l-s);else if(u===U1)x=-l/(l-s),_=-l*s/(l-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return h[0]=f,h[4]=0,h[8]=v,h[12]=0,h[1]=0,h[5]=p,h[9]=y,h[13]=0,h[2]=0,h[6]=0,h[10]=x,h[14]=_,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,t,i,r,s,l,u=Nf){const h=this.elements,f=1/(t-e),p=1/(i-r),v=1/(l-s),y=(t+e)*f,x=(i+r)*p;let _,M;if(u===Nf)_=(l+s)*v,M=-2*v;else if(u===U1)_=s*v,M=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return h[0]=2*f,h[4]=0,h[8]=0,h[12]=-y,h[1]=0,h[5]=2*p,h[9]=0,h[13]=-x,h[2]=0,h[6]=0,h[10]=M,h[14]=-_,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const h0=new fe,ec=new Bn,VQ=new fe(0,0,0),kQ=new fe(1,1,1),Ap=new fe,gw=new fe,Nl=new fe,Sk=new Bn,_k=new Ws;class dT{constructor(e=0,t=0,i=0,r=dT.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],l=r[4],u=r[8],h=r[1],f=r[5],p=r[9],v=r[2],y=r[6],x=r[10];switch(t){case"XYZ":this._y=Math.asin(Xr(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,x),this._z=Math.atan2(-l,s)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Xr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,x),this._z=Math.atan2(h,f)):(this._y=Math.atan2(-v,s),this._z=0);break;case"ZXY":this._x=Math.asin(Xr(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-v,x),this._z=Math.atan2(-l,f)):(this._y=0,this._z=Math.atan2(h,s));break;case"ZYX":this._y=Math.asin(-Xr(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(y,x),this._z=Math.atan2(h,s)):(this._x=0,this._z=Math.atan2(-l,f));break;case"YZX":this._z=Math.asin(Xr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-v,s)):(this._x=0,this._y=Math.atan2(u,x));break;case"XZY":this._z=Math.asin(-Xr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-p,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Sk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sk,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return _k.setFromEuler(this),this.setFromQuaternion(_k,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}dT.DEFAULT_ORDER="XYZ";class Ag{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let BQ=0;const Ek=new fe,p0=new Ws,Xd=new Bn,yw=new fe,LE=new fe,zQ=new fe,HQ=new Ws,Tk=new fe(1,0,0),Nk=new fe(0,1,0),Mk=new fe(0,0,1),jQ={type:"added"},GQ={type:"removed"};class Ri extends ch{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:BQ++}),this.uuid=Ll(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ri.DEFAULT_UP.clone();const e=new fe,t=new dT,i=new Ws,r=new fe(1,1,1);function s(){i.setFromEuler(t,!1)}function l(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Bn},normalMatrix:{value:new ei}}),this.matrix=new Bn,this.matrixWorld=new Bn,this.matrixAutoUpdate=Ri.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ri.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Ag,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return p0.setFromAxisAngle(e,t),this.quaternion.multiply(p0),this}rotateOnWorldAxis(e,t){return p0.setFromAxisAngle(e,t),this.quaternion.premultiply(p0),this}rotateX(e){return this.rotateOnAxis(Tk,e)}rotateY(e){return this.rotateOnAxis(Nk,e)}rotateZ(e){return this.rotateOnAxis(Mk,e)}translateOnAxis(e,t){return Ek.copy(e).applyQuaternion(this.quaternion),this.position.add(Ek.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Tk,e)}translateY(e){return this.translateOnAxis(Nk,e)}translateZ(e){return this.translateOnAxis(Mk,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Xd.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?yw.copy(e):yw.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),LE.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xd.lookAt(LE,yw,this.up):Xd.lookAt(yw,LE,this.up),this.quaternion.setFromRotationMatrix(Xd),r&&(Xd.extractRotation(r.matrixWorld),p0.setFromRotationMatrix(Xd),this.quaternion.premultiply(p0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(jQ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(GQ)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Xd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Xd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Xd),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const l=this.children[i].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const l=this.children[r].getObjectsByProperty(e,t);l.length>0&&(i=i.concat(l))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(LE,e,zQ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(LE,HQ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,l=r.length;s<l;s++){const u=r[s];u.matrixWorldAutoUpdate===!0&&u.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let f=0,p=h.length;f<p;f++){const v=h[f];s(e.shapes,v)}else s(e.shapes,h)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,f=this.material.length;h<f;h++)u.push(s(e.materials,this.material[h]));r.material=u}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];r.animations.push(s(e.animations,h))}}if(t){const u=l(e.geometries),h=l(e.materials),f=l(e.textures),p=l(e.images),v=l(e.shapes),y=l(e.skeletons),x=l(e.animations),_=l(e.nodes);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),v.length>0&&(i.shapes=v),y.length>0&&(i.skeletons=y),x.length>0&&(i.animations=x),_.length>0&&(i.nodes=_)}return i.object=r,i;function l(u){const h=[];for(const f in u){const p=u[f];delete p.metadata,h.push(p)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ri.DEFAULT_UP=new fe(0,1,0);Ri.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ri.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const tc=new fe,qd=new fe,OL=new fe,$d=new fe,m0=new fe,v0=new fe,wk=new fe,FL=new fe,IL=new fe,VL=new fe;let bw=!1;class zo{constructor(e=new fe,t=new fe,i=new fe){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),tc.subVectors(e,t),r.cross(tc);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){tc.subVectors(r,t),qd.subVectors(i,t),OL.subVectors(e,t);const l=tc.dot(tc),u=tc.dot(qd),h=tc.dot(OL),f=qd.dot(qd),p=qd.dot(OL),v=l*f-u*u;if(v===0)return s.set(-2,-1,-1);const y=1/v,x=(f*h-u*p)*y,_=(l*p-u*h)*y;return s.set(1-x-_,_,x)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,$d),$d.x>=0&&$d.y>=0&&$d.x+$d.y<=1}static getUV(e,t,i,r,s,l,u,h){return bw===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),bw=!0),this.getInterpolation(e,t,i,r,s,l,u,h)}static getInterpolation(e,t,i,r,s,l,u,h){return this.getBarycoord(e,t,i,r,$d),h.setScalar(0),h.addScaledVector(s,$d.x),h.addScaledVector(l,$d.y),h.addScaledVector(u,$d.z),h}static isFrontFacing(e,t,i,r){return tc.subVectors(i,t),qd.subVectors(e,t),tc.cross(qd).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return tc.subVectors(this.c,this.b),qd.subVectors(this.a,this.b),tc.cross(qd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return zo.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return bw===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),bw=!0),zo.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return zo.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return zo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let l,u;m0.subVectors(r,i),v0.subVectors(s,i),FL.subVectors(e,i);const h=m0.dot(FL),f=v0.dot(FL);if(h<=0&&f<=0)return t.copy(i);IL.subVectors(e,r);const p=m0.dot(IL),v=v0.dot(IL);if(p>=0&&v<=p)return t.copy(r);const y=h*v-p*f;if(y<=0&&h>=0&&p<=0)return l=h/(h-p),t.copy(i).addScaledVector(m0,l);VL.subVectors(e,s);const x=m0.dot(VL),_=v0.dot(VL);if(_>=0&&x<=_)return t.copy(s);const M=x*f-h*_;if(M<=0&&f>=0&&_<=0)return u=f/(f-_),t.copy(i).addScaledVector(v0,u);const N=p*_-x*v;if(N<=0&&v-p>=0&&x-_>=0)return wk.subVectors(s,r),u=(v-p)/(v-p+(x-_)),t.copy(r).addScaledVector(wk,u);const T=1/(N+M+y);return l=M*T,u=y*T,t.copy(i).addScaledVector(m0,l).addScaledVector(v0,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Rj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Rp={h:0,s:0,l:0},xw={h:0,s:0,l:0};function kL(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Jt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=La){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Xi.workingColorSpace){return this.r=e,this.g=t,this.b=i,Xi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Xi.workingColorSpace){if(e=t3(e,1),t=Xr(t,0,1),i=Xr(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,l=2*i-s;this.r=kL(l,s,e+1/3),this.g=kL(l,s,e),this.b=kL(l,s,e-1/3)}return Xi.toWorkingColorSpace(this,r),this}setStyle(e,t=La){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const l=r[1],u=r[2];switch(l){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],l=s.length;if(l===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=La){const i=Rj[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Y0(e.r),this.g=Y0(e.g),this.b=Y0(e.b),this}copyLinearToSRGB(e){return this.r=wL(e.r),this.g=wL(e.g),this.b=wL(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=La){return Xi.fromWorkingColorSpace(Hs.copy(this),e),Math.round(Xr(Hs.r*255,0,255))*65536+Math.round(Xr(Hs.g*255,0,255))*256+Math.round(Xr(Hs.b*255,0,255))}getHexString(e=La){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Xi.workingColorSpace){Xi.fromWorkingColorSpace(Hs.copy(this),t);const i=Hs.r,r=Hs.g,s=Hs.b,l=Math.max(i,r,s),u=Math.min(i,r,s);let h,f;const p=(u+l)/2;if(u===l)h=0,f=0;else{const v=l-u;switch(f=p<=.5?v/(l+u):v/(2-l-u),l){case i:h=(r-s)/v+(r<s?6:0);break;case r:h=(s-i)/v+2;break;case s:h=(i-r)/v+4;break}h/=6}return e.h=h,e.s=f,e.l=p,e}getRGB(e,t=Xi.workingColorSpace){return Xi.fromWorkingColorSpace(Hs.copy(this),t),e.r=Hs.r,e.g=Hs.g,e.b=Hs.b,e}getStyle(e=La){Xi.fromWorkingColorSpace(Hs.copy(this),e);const t=Hs.r,i=Hs.g,r=Hs.b;return e!==La?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Rp),this.setHSL(Rp.h+e,Rp.s+t,Rp.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Rp),e.getHSL(xw);const i=r1(Rp.h,xw.h,t),r=r1(Rp.s,xw.s,t),s=r1(Rp.l,xw.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Hs=new Jt;Jt.NAMES=Rj;let WQ=0;class Ys extends ch{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:WQ++}),this.uuid=Ll(),this.name="",this.type="Material",this.blending=Mg,this.side=oh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$C,this.blendDst=KC,this.blendEquation=Op,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Jt(0,0,0),this.blendAlpha=0,this.depthFunc=_1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=PU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pg,this.stencilZFail=pg,this.stencilZPass=pg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Mg&&(i.blending=this.blending),this.side!==oh&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==$C&&(i.blendSrc=this.blendSrc),this.blendDst!==KC&&(i.blendDst=this.blendDst),this.blendEquation!==Op&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==_1&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==PU&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==pg&&(i.stencilFail=this.stencilFail),this.stencilZFail!==pg&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==pg&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const l=[];for(const u in s){const h=s[u];delete h.metadata,l.push(h)}return l}if(t){const s=r(e.textures),l=r(e.images);s.length>0&&(i.textures=s),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class fh extends Ys{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=cT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Qd=YQ();function YQ(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let h=0;h<256;++h){const f=h-127;f<-27?(i[h]=0,i[h|256]=32768,r[h]=24,r[h|256]=24):f<-14?(i[h]=1024>>-f-14,i[h|256]=1024>>-f-14|32768,r[h]=-f-1,r[h|256]=-f-1):f<=15?(i[h]=f+15<<10,i[h|256]=f+15<<10|32768,r[h]=13,r[h|256]=13):f<128?(i[h]=31744,i[h|256]=64512,r[h]=24,r[h|256]=24):(i[h]=31744,i[h|256]=64512,r[h]=13,r[h|256]=13)}const s=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let f=h<<13,p=0;for(;!(f&8388608);)f<<=1,p-=8388608;f&=-8388609,p+=947912704,s[h]=f|p}for(let h=1024;h<2048;++h)s[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)l[h]=h<<23;l[31]=1199570944,l[32]=2147483648;for(let h=33;h<63;++h)l[h]=2147483648+(h-32<<23);l[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:l,offsetTable:u}}function ko(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Xr(n,-65504,65504),Qd.floatView[0]=n;const e=Qd.uint32View[0],t=e>>23&511;return Qd.baseTable[t]+((e&8388607)>>Qd.shiftTable[t])}function $E(n){const e=n>>10;return Qd.uint32View[0]=Qd.mantissaTable[Qd.offsetTable[e]+(n&1023)]+Qd.exponentTable[e],Qd.floatView[0]}const XQ={toHalfFloat:ko,fromHalfFloat:$E},ga=new fe,Sw=new wt;class nr{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=P1,this.updateRange={offset:0,count:-1},this.gpuType=Tf,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Sw.fromBufferAttribute(this,t),Sw.applyMatrix3(e),this.setXY(t,Sw.x,Sw.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ga.fromBufferAttribute(this,t),ga.applyMatrix3(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ga.fromBufferAttribute(this,t),ga.applyMatrix4(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ga.fromBufferAttribute(this,t),ga.applyNormalMatrix(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ga.fromBufferAttribute(this,t),ga.transformDirection(e),this.setXYZ(t,ga.x,ga.y,ga.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=jo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ti(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=jo(t,this.array)),t}setX(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=jo(t,this.array)),t}setY(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=jo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=jo(t,this.array)),t}setW(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),i=ti(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),i=ti(i,this.array),r=ti(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),i=ti(i,this.array),r=ti(r,this.array),s=ti(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==P1&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class qQ extends nr{constructor(e,t,i){super(new Int8Array(e),t,i)}}class $Q extends nr{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class KQ extends nr{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class ZQ extends nr{constructor(e,t,i){super(new Int16Array(e),t,i)}}class r3 extends nr{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class JQ extends nr{constructor(e,t,i){super(new Int32Array(e),t,i)}}class a3 extends nr{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class QQ extends nr{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=$E(this.array[e*this.itemSize]);return this.normalized&&(t=jo(t,this.array)),t}setX(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize]=ko(t),this}getY(e){let t=$E(this.array[e*this.itemSize+1]);return this.normalized&&(t=jo(t,this.array)),t}setY(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+1]=ko(t),this}getZ(e){let t=$E(this.array[e*this.itemSize+2]);return this.normalized&&(t=jo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+2]=ko(t),this}getW(e){let t=$E(this.array[e*this.itemSize+3]);return this.normalized&&(t=jo(t,this.array)),t}setW(e,t){return this.normalized&&(t=ti(t,this.array)),this.array[e*this.itemSize+3]=ko(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),i=ti(i,this.array)),this.array[e+0]=ko(t),this.array[e+1]=ko(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),i=ti(i,this.array),r=ti(r,this.array)),this.array[e+0]=ko(t),this.array[e+1]=ko(i),this.array[e+2]=ko(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ti(t,this.array),i=ti(i,this.array),r=ti(r,this.array),s=ti(s,this.array)),this.array[e+0]=ko(t),this.array[e+1]=ko(i),this.array[e+2]=ko(r),this.array[e+3]=ko(s),this}}class vn extends nr{constructor(e,t,i){super(new Float32Array(e),t,i)}}class eee extends nr{constructor(e,t,i){super(new Float64Array(e),t,i)}}let tee=0;const ou=new Bn,BL=new Ri,g0=new fe,Ml=new vo,PE=new vo,$a=new fe;class ri extends ch{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:tee++}),this.uuid=Ll(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(wj(e)?a3:r3)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new ei().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ou.makeRotationFromQuaternion(e),this.applyMatrix4(ou),this}rotateX(e){return ou.makeRotationX(e),this.applyMatrix4(ou),this}rotateY(e){return ou.makeRotationY(e),this.applyMatrix4(ou),this}rotateZ(e){return ou.makeRotationZ(e),this.applyMatrix4(ou),this}translate(e,t,i){return ou.makeTranslation(e,t,i),this.applyMatrix4(ou),this}scale(e,t,i){return ou.makeScale(e,t,i),this.applyMatrix4(ou),this}lookAt(e){return BL.lookAt(e),BL.updateMatrix(),this.applyMatrix4(BL.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(g0).negate(),this.translate(g0.x,g0.y,g0.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new vn(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new fe(-1/0,-1/0,-1/0),new fe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Ml.setFromBufferAttribute(s),this.morphTargetsRelative?($a.addVectors(this.boundingBox.min,Ml.min),this.boundingBox.expandByPoint($a),$a.addVectors(this.boundingBox.max,Ml.max),this.boundingBox.expandByPoint($a)):(this.boundingBox.expandByPoint(Ml.min),this.boundingBox.expandByPoint(Ml.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new fe,1/0);return}if(e){const i=this.boundingSphere.center;if(Ml.setFromBufferAttribute(e),t)for(let s=0,l=t.length;s<l;s++){const u=t[s];PE.setFromBufferAttribute(u),this.morphTargetsRelative?($a.addVectors(Ml.min,PE.min),Ml.expandByPoint($a),$a.addVectors(Ml.max,PE.max),Ml.expandByPoint($a)):(Ml.expandByPoint(PE.min),Ml.expandByPoint(PE.max))}Ml.getCenter(i);let r=0;for(let s=0,l=e.count;s<l;s++)$a.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared($a));if(t)for(let s=0,l=t.length;s<l;s++){const u=t[s],h=this.morphTargetsRelative;for(let f=0,p=u.count;f<p;f++)$a.fromBufferAttribute(u,f),h&&(g0.fromBufferAttribute(e,f),$a.add(g0)),r=Math.max(r,i.distanceToSquared($a))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,l=t.uv.array,u=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new nr(new Float32Array(4*u),4));const h=this.getAttribute("tangent").array,f=[],p=[];for(let I=0;I<u;I++)f[I]=new fe,p[I]=new fe;const v=new fe,y=new fe,x=new fe,_=new wt,M=new wt,N=new wt,T=new fe,A=new fe;function w(I,q,j){v.fromArray(r,I*3),y.fromArray(r,q*3),x.fromArray(r,j*3),_.fromArray(l,I*2),M.fromArray(l,q*2),N.fromArray(l,j*2),y.sub(v),x.sub(v),M.sub(_),N.sub(_);const J=1/(M.x*N.y-N.x*M.y);isFinite(J)&&(T.copy(y).multiplyScalar(N.y).addScaledVector(x,-M.y).multiplyScalar(J),A.copy(x).multiplyScalar(M.x).addScaledVector(y,-N.x).multiplyScalar(J),f[I].add(T),f[q].add(T),f[j].add(T),p[I].add(A),p[q].add(A),p[j].add(A))}let L=this.groups;L.length===0&&(L=[{start:0,count:i.length}]);for(let I=0,q=L.length;I<q;++I){const j=L[I],J=j.start,W=j.count;for(let se=J,te=J+W;se<te;se+=3)w(i[se+0],i[se+1],i[se+2])}const U=new fe,k=new fe,V=new fe,H=new fe;function P(I){V.fromArray(s,I*3),H.copy(V);const q=f[I];U.copy(q),U.sub(V.multiplyScalar(V.dot(q))).normalize(),k.crossVectors(H,q);const J=k.dot(p[I])<0?-1:1;h[I*4]=U.x,h[I*4+1]=U.y,h[I*4+2]=U.z,h[I*4+3]=J}for(let I=0,q=L.length;I<q;++I){const j=L[I],J=j.start,W=j.count;for(let se=J,te=J+W;se<te;se+=3)P(i[se+0]),P(i[se+1]),P(i[se+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new nr(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,x=i.count;y<x;y++)i.setXYZ(y,0,0,0);const r=new fe,s=new fe,l=new fe,u=new fe,h=new fe,f=new fe,p=new fe,v=new fe;if(e)for(let y=0,x=e.count;y<x;y+=3){const _=e.getX(y+0),M=e.getX(y+1),N=e.getX(y+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,M),l.fromBufferAttribute(t,N),p.subVectors(l,s),v.subVectors(r,s),p.cross(v),u.fromBufferAttribute(i,_),h.fromBufferAttribute(i,M),f.fromBufferAttribute(i,N),u.add(p),h.add(p),f.add(p),i.setXYZ(_,u.x,u.y,u.z),i.setXYZ(M,h.x,h.y,h.z),i.setXYZ(N,f.x,f.y,f.z)}else for(let y=0,x=t.count;y<x;y+=3)r.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),l.fromBufferAttribute(t,y+2),p.subVectors(l,s),v.subVectors(r,s),p.cross(v),i.setXYZ(y+0,p.x,p.y,p.z),i.setXYZ(y+1,p.x,p.y,p.z),i.setXYZ(y+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)$a.fromBufferAttribute(e,t),$a.normalize(),e.setXYZ(t,$a.x,$a.y,$a.z)}toNonIndexed(){function e(u,h){const f=u.array,p=u.itemSize,v=u.normalized,y=new f.constructor(h.length*p);let x=0,_=0;for(let M=0,N=h.length;M<N;M++){u.isInterleavedBufferAttribute?x=h[M]*u.data.stride+u.offset:x=h[M]*p;for(let T=0;T<p;T++)y[_++]=f[x++]}return new nr(y,p,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ri,i=this.index.array,r=this.attributes;for(const u in r){const h=r[u],f=e(h,i);t.setAttribute(u,f)}const s=this.morphAttributes;for(const u in s){const h=[],f=s[u];for(let p=0,v=f.length;p<v;p++){const y=f[p],x=e(y,i);h.push(x)}t.morphAttributes[u]=h}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,h=l.length;u<h;u++){const f=l[u];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const f in h)h[f]!==void 0&&(e[f]=h[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const h in i){const f=i[h];e.data.attributes[h]=f.toJSON(e.data)}const r={};let s=!1;for(const h in this.morphAttributes){const f=this.morphAttributes[h],p=[];for(let v=0,y=f.length;v<y;v++){const x=f[v];p.push(x.toJSON(e.data))}p.length>0&&(r[h]=p,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(t))}const s=e.morphAttributes;for(const f in s){const p=[],v=s[f];for(let y=0,x=v.length;y<x;y++)p.push(v[y].clone(t));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let f=0,p=l.length;f<p;f++){const v=l[f];this.addGroup(v.start,v.count,v.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ck=new Bn,eg=new jg,_w=new Yo,Ak=new fe,y0=new fe,b0=new fe,x0=new fe,zL=new fe,Ew=new fe,Tw=new wt,Nw=new wt,Mw=new wt,Rk=new fe,Dk=new fe,Lk=new fe,ww=new fe,Cw=new fe;class la extends Ri{constructor(e=new ri,t=new fh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=r.length;s<l;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,l=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const u=this.morphTargetInfluences;if(s&&u){Ew.set(0,0,0);for(let h=0,f=s.length;h<f;h++){const p=u[h],v=s[h];p!==0&&(zL.fromBufferAttribute(v,e),l?Ew.addScaledVector(zL,p):Ew.addScaledVector(zL.sub(t),p))}t.add(Ew)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),_w.copy(i.boundingSphere),_w.applyMatrix4(s),eg.copy(e.ray).recast(e.near),!(_w.containsPoint(eg.origin)===!1&&(eg.intersectSphere(_w,Ak)===null||eg.origin.distanceToSquared(Ak)>(e.far-e.near)**2))&&(Ck.copy(s).invert(),eg.copy(e.ray).applyMatrix4(Ck),!(i.boundingBox!==null&&eg.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,eg)))}_computeIntersections(e,t,i){let r;const s=this.geometry,l=this.material,u=s.index,h=s.attributes.position,f=s.attributes.uv,p=s.attributes.uv1,v=s.attributes.normal,y=s.groups,x=s.drawRange;if(u!==null)if(Array.isArray(l))for(let _=0,M=y.length;_<M;_++){const N=y[_],T=l[N.materialIndex],A=Math.max(N.start,x.start),w=Math.min(u.count,Math.min(N.start+N.count,x.start+x.count));for(let L=A,U=w;L<U;L+=3){const k=u.getX(L),V=u.getX(L+1),H=u.getX(L+2);r=Aw(this,T,e,i,f,p,v,k,V,H),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=N.materialIndex,t.push(r))}}else{const _=Math.max(0,x.start),M=Math.min(u.count,x.start+x.count);for(let N=_,T=M;N<T;N+=3){const A=u.getX(N),w=u.getX(N+1),L=u.getX(N+2);r=Aw(this,l,e,i,f,p,v,A,w,L),r&&(r.faceIndex=Math.floor(N/3),t.push(r))}}else if(h!==void 0)if(Array.isArray(l))for(let _=0,M=y.length;_<M;_++){const N=y[_],T=l[N.materialIndex],A=Math.max(N.start,x.start),w=Math.min(h.count,Math.min(N.start+N.count,x.start+x.count));for(let L=A,U=w;L<U;L+=3){const k=L,V=L+1,H=L+2;r=Aw(this,T,e,i,f,p,v,k,V,H),r&&(r.faceIndex=Math.floor(L/3),r.face.materialIndex=N.materialIndex,t.push(r))}}else{const _=Math.max(0,x.start),M=Math.min(h.count,x.start+x.count);for(let N=_,T=M;N<T;N+=3){const A=N,w=N+1,L=N+2;r=Aw(this,l,e,i,f,p,v,A,w,L),r&&(r.faceIndex=Math.floor(N/3),t.push(r))}}}}function nee(n,e,t,i,r,s,l,u){let h;if(e.side===mo?h=i.intersectTriangle(l,s,r,!0,u):h=i.intersectTriangle(r,s,l,e.side===oh,u),h===null)return null;Cw.copy(u),Cw.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(Cw);return f<t.near||f>t.far?null:{distance:f,point:Cw.clone(),object:n}}function Aw(n,e,t,i,r,s,l,u,h,f){n.getVertexPosition(u,y0),n.getVertexPosition(h,b0),n.getVertexPosition(f,x0);const p=nee(n,e,t,i,y0,b0,x0,ww);if(p){r&&(Tw.fromBufferAttribute(r,u),Nw.fromBufferAttribute(r,h),Mw.fromBufferAttribute(r,f),p.uv=zo.getInterpolation(ww,y0,b0,x0,Tw,Nw,Mw,new wt)),s&&(Tw.fromBufferAttribute(s,u),Nw.fromBufferAttribute(s,h),Mw.fromBufferAttribute(s,f),p.uv1=zo.getInterpolation(ww,y0,b0,x0,Tw,Nw,Mw,new wt),p.uv2=p.uv1),l&&(Rk.fromBufferAttribute(l,u),Dk.fromBufferAttribute(l,h),Lk.fromBufferAttribute(l,f),p.normal=zo.getInterpolation(ww,y0,b0,x0,Rk,Dk,Lk,new fe),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const v={a:u,b:h,c:f,normal:new fe,materialIndex:0};zo.getNormal(y0,b0,x0,v.normal),p.face=v}return p}class Gg extends ri{constructor(e=1,t=1,i=1,r=1,s=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:l};const u=this;r=Math.floor(r),s=Math.floor(s),l=Math.floor(l);const h=[],f=[],p=[],v=[];let y=0,x=0;_("z","y","x",-1,-1,i,t,e,l,s,0),_("z","y","x",1,-1,i,t,-e,l,s,1),_("x","z","y",1,1,e,i,t,r,l,2),_("x","z","y",1,-1,e,i,-t,r,l,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(h),this.setAttribute("position",new vn(f,3)),this.setAttribute("normal",new vn(p,3)),this.setAttribute("uv",new vn(v,2));function _(M,N,T,A,w,L,U,k,V,H,P){const I=L/V,q=U/H,j=L/2,J=U/2,W=k/2,se=V+1,te=H+1;let ae=0,ge=0;const ve=new fe;for(let ce=0;ce<te;ce++){const Y=ce*q-J;for(let ee=0;ee<se;ee++){const le=ee*I-j;ve[M]=le*A,ve[N]=Y*w,ve[T]=W,f.push(ve.x,ve.y,ve.z),ve[M]=0,ve[N]=0,ve[T]=k>0?1:-1,p.push(ve.x,ve.y,ve.z),v.push(ee/V),v.push(1-ce/H),ae+=1}}for(let ce=0;ce<H;ce++)for(let Y=0;Y<V;Y++){const ee=y+Y+se*ce,le=y+Y+se*(ce+1),ye=y+(Y+1)+se*(ce+1),be=y+(Y+1)+se*ce;h.push(ee,le,be),h.push(le,ye,be),ge+=6}u.addGroup(x,ge,P),x+=ge,y+=ae}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function tx(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ho(n){const e={};for(let t=0;t<n.length;t++){const i=tx(n[t]);for(const r in i)e[r]=i[r]}return e}function iee(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Dj(n){return n.getRenderTarget()===null?n.outputColorSpace:Xi.workingColorSpace}const F1={clone:tx,merge:ho};var ree=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,aee=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class fc extends Ys{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=ree,this.fragmentShader=aee,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=tx(e.uniforms),this.uniformsGroups=iee(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const l=this.uniforms[r].value;l&&l.isTexture?t.uniforms[r]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[r]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[r]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[r]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[r]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[r]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[r]={type:"m4",value:l.toArray()}:t.uniforms[r]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class hT extends Ri{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Bn,this.projectionMatrix=new Bn,this.projectionMatrixInverse=new Bn,this.coordinateSystem=Nf}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Or extends hT{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=ex*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Cg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ex*2*Math.atan(Math.tan(Cg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Cg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const l=this.view;if(this.view!==null&&this.view.enabled){const h=l.fullWidth,f=l.fullHeight;s+=l.offsetX*r/h,t-=l.offsetY*i/f,r*=l.width/h,i*=l.height/f}const u=this.filmOffset;u!==0&&(s+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const S0=-90,_0=1;class Lj extends Ri{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Or(S0,_0,e,t);r.layers=this.layers,this.add(r);const s=new Or(S0,_0,e,t);s.layers=this.layers,this.add(s);const l=new Or(S0,_0,e,t);l.layers=this.layers,this.add(l);const u=new Or(S0,_0,e,t);u.layers=this.layers,this.add(u);const h=new Or(S0,_0,e,t);h.layers=this.layers,this.add(h);const f=new Or(S0,_0,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,l,u,h]=t;for(const f of t)this.remove(f);if(e===Nf)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===U1)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,l,u,h,f,p]=this.children,v=e.getRenderTarget(),y=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const M=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,l),e.setRenderTarget(i,2,r),e.render(t,u),e.setRenderTarget(i,3,r),e.render(t,h),e.setRenderTarget(i,4,r),e.render(t,f),i.texture.generateMipmaps=M,e.setRenderTarget(i,5,r),e.render(t,p),e.setRenderTarget(v,y,x),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class pT extends $r{constructor(e,t,i,r,s,l,u,h,f,p){e=e!==void 0?e:[],t=t!==void 0?t:lh,super(e,t,i,r,s,l,u,h,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Pj extends cc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(a1("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===jp?La:Al),this.texture=new pT(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ur}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Gg(5,5,5),s=new fc({name:"CubemapFromEquirect",uniforms:tx(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:mo,blending:ah});s.uniforms.tEquirect.value=t;const l=new la(r,s),u=t.minFilter;return t.minFilter===$p&&(t.minFilter=Ur),new Lj(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,i,r);e.setRenderTarget(s)}}const HL=new fe,see=new fe,oee=new ei;class Jd{constructor(e=new fe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=HL.subVectors(i,t).cross(see.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(HL),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||oee.getNormalMatrix(e),r=this.coplanarPoint(HL).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tg=new Yo,Rw=new fe;class LA{constructor(e=new Jd,t=new Jd,i=new Jd,r=new Jd,s=new Jd,l=new Jd){this.planes=[e,t,i,r,s,l]}set(e,t,i,r,s,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(r),u[4].copy(s),u[5].copy(l),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Nf){const i=this.planes,r=e.elements,s=r[0],l=r[1],u=r[2],h=r[3],f=r[4],p=r[5],v=r[6],y=r[7],x=r[8],_=r[9],M=r[10],N=r[11],T=r[12],A=r[13],w=r[14],L=r[15];if(i[0].setComponents(h-s,y-f,N-x,L-T).normalize(),i[1].setComponents(h+s,y+f,N+x,L+T).normalize(),i[2].setComponents(h+l,y+p,N+_,L+A).normalize(),i[3].setComponents(h-l,y-p,N-_,L-A).normalize(),i[4].setComponents(h-u,y-v,N-M,L-w).normalize(),t===Nf)i[5].setComponents(h+u,y+v,N+M,L+w).normalize();else if(t===U1)i[5].setComponents(u,v,M,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),tg.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),tg.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tg)}intersectsSprite(e){return tg.center.set(0,0,0),tg.radius=.7071067811865476,tg.applyMatrix4(e.matrixWorld),this.intersectsSphere(tg)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Rw.x=r.normal.x>0?e.max.x:e.min.x,Rw.y=r.normal.y>0?e.max.y:e.min.y,Rw.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Rw)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Uj(){let n=null,e=!1,t=null,i=null;function r(s,l){t(s,l),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function lee(n,e){const t=e.isWebGL2,i=new WeakMap;function r(f,p){const v=f.array,y=f.usage,x=n.createBuffer();n.bindBuffer(p,x),n.bufferData(p,v,y),f.onUploadCallback();let _;if(v instanceof Float32Array)_=n.FLOAT;else if(v instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(t)_=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=n.UNSIGNED_SHORT;else if(v instanceof Int16Array)_=n.SHORT;else if(v instanceof Uint32Array)_=n.UNSIGNED_INT;else if(v instanceof Int32Array)_=n.INT;else if(v instanceof Int8Array)_=n.BYTE;else if(v instanceof Uint8Array)_=n.UNSIGNED_BYTE;else if(v instanceof Uint8ClampedArray)_=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);return{buffer:x,type:_,bytesPerElement:v.BYTES_PER_ELEMENT,version:f.version}}function s(f,p,v){const y=p.array,x=p.updateRange;n.bindBuffer(v,f),x.count===-1?n.bufferSubData(v,0,y):(t?n.bufferSubData(v,x.offset*y.BYTES_PER_ELEMENT,y,x.offset,x.count):n.bufferSubData(v,x.offset*y.BYTES_PER_ELEMENT,y.subarray(x.offset,x.offset+x.count)),x.count=-1),p.onUploadCallback()}function l(f){return f.isInterleavedBufferAttribute&&(f=f.data),i.get(f)}function u(f){f.isInterleavedBufferAttribute&&(f=f.data);const p=i.get(f);p&&(n.deleteBuffer(p.buffer),i.delete(f))}function h(f,p){if(f.isGLBufferAttribute){const y=i.get(f);(!y||y.version<f.version)&&i.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const v=i.get(f);v===void 0?i.set(f,r(f,p)):v.version<f.version&&(s(v.buffer,f,p),v.version=f.version)}return{get:l,remove:u,update:h}}class em extends ri{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,l=t/2,u=Math.floor(i),h=Math.floor(r),f=u+1,p=h+1,v=e/u,y=t/h,x=[],_=[],M=[],N=[];for(let T=0;T<p;T++){const A=T*y-l;for(let w=0;w<f;w++){const L=w*v-s;_.push(L,-A,0),M.push(0,0,1),N.push(w/u),N.push(1-T/h)}}for(let T=0;T<h;T++)for(let A=0;A<u;A++){const w=A+f*T,L=A+f*(T+1),U=A+1+f*(T+1),k=A+1+f*T;x.push(w,L,k),x.push(L,U,k)}this.setIndex(x),this.setAttribute("position",new vn(_,3)),this.setAttribute("normal",new vn(M,3)),this.setAttribute("uv",new vn(N,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new em(e.width,e.height,e.widthSegments,e.heightSegments)}}var uee=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,cee=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,fee=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,dee=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hee=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,pee=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,mee=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,vee=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gee=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,yee=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bee=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,xee=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,See=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,_ee=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Eee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Tee=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Nee=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Mee=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Cee=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Aee=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Ree=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Dee=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Lee=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Pee=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Uee=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Oee=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Fee=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Iee="gl_FragColor = linearToOutputTexel( gl_FragColor );",Vee=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,kee=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Bee=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,zee=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Hee=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,jee=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Gee=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Wee=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Yee=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Xee=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,qee=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$ee=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Kee=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Zee=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Jee=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Qee=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ete=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tte=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nte=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ite=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rte=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ate=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,ste=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ote=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lte=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ute=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,cte=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,fte=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dte=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,hte=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,pte=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mte=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,vte=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,gte=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yte=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,bte=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,xte=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Ste=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,_te=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Ete=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Tte=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Nte=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Mte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wte=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Cte=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Ate=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Rte=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Dte=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Lte=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Pte=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ute=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Ote=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Fte=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ite=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Vte=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,kte=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Bte=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,zte=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Hte=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,jte=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Gte=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Wte=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Yte=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Xte=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,qte=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$te=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Kte=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Zte=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Jte=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Qte=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ene=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,tne=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,nne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ine=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rne=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,ane=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const sne=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,one=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,une=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fne=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dne=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,hne=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,pne=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,mne=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vne=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,gne=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yne=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bne=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xne=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Sne=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_ne=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ene=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tne=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Nne=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mne=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wne=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Cne=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ane=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rne=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Dne=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lne=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pne=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Une=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,One=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Fne=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ine=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Vne=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,kne=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Kn={alphahash_fragment:uee,alphahash_pars_fragment:cee,alphamap_fragment:fee,alphamap_pars_fragment:dee,alphatest_fragment:hee,alphatest_pars_fragment:pee,aomap_fragment:mee,aomap_pars_fragment:vee,begin_vertex:gee,beginnormal_vertex:yee,bsdfs:bee,iridescence_fragment:xee,bumpmap_pars_fragment:See,clipping_planes_fragment:_ee,clipping_planes_pars_fragment:Eee,clipping_planes_pars_vertex:Tee,clipping_planes_vertex:Nee,color_fragment:Mee,color_pars_fragment:wee,color_pars_vertex:Cee,color_vertex:Aee,common:Ree,cube_uv_reflection_fragment:Dee,defaultnormal_vertex:Lee,displacementmap_pars_vertex:Pee,displacementmap_vertex:Uee,emissivemap_fragment:Oee,emissivemap_pars_fragment:Fee,colorspace_fragment:Iee,colorspace_pars_fragment:Vee,envmap_fragment:kee,envmap_common_pars_fragment:Bee,envmap_pars_fragment:zee,envmap_pars_vertex:Hee,envmap_physical_pars_fragment:ete,envmap_vertex:jee,fog_vertex:Gee,fog_pars_vertex:Wee,fog_fragment:Yee,fog_pars_fragment:Xee,gradientmap_pars_fragment:qee,lightmap_fragment:$ee,lightmap_pars_fragment:Kee,lights_lambert_fragment:Zee,lights_lambert_pars_fragment:Jee,lights_pars_begin:Qee,lights_toon_fragment:tte,lights_toon_pars_fragment:nte,lights_phong_fragment:ite,lights_phong_pars_fragment:rte,lights_physical_fragment:ate,lights_physical_pars_fragment:ste,lights_fragment_begin:ote,lights_fragment_maps:lte,lights_fragment_end:ute,logdepthbuf_fragment:cte,logdepthbuf_pars_fragment:fte,logdepthbuf_pars_vertex:dte,logdepthbuf_vertex:hte,map_fragment:pte,map_pars_fragment:mte,map_particle_fragment:vte,map_particle_pars_fragment:gte,metalnessmap_fragment:yte,metalnessmap_pars_fragment:bte,morphcolor_vertex:xte,morphnormal_vertex:Ste,morphtarget_pars_vertex:_te,morphtarget_vertex:Ete,normal_fragment_begin:Tte,normal_fragment_maps:Nte,normal_pars_fragment:Mte,normal_pars_vertex:wte,normal_vertex:Cte,normalmap_pars_fragment:Ate,clearcoat_normal_fragment_begin:Rte,clearcoat_normal_fragment_maps:Dte,clearcoat_pars_fragment:Lte,iridescence_pars_fragment:Pte,opaque_fragment:Ute,packing:Ote,premultiplied_alpha_fragment:Fte,project_vertex:Ite,dithering_fragment:Vte,dithering_pars_fragment:kte,roughnessmap_fragment:Bte,roughnessmap_pars_fragment:zte,shadowmap_pars_fragment:Hte,shadowmap_pars_vertex:jte,shadowmap_vertex:Gte,shadowmask_pars_fragment:Wte,skinbase_vertex:Yte,skinning_pars_vertex:Xte,skinning_vertex:qte,skinnormal_vertex:$te,specularmap_fragment:Kte,specularmap_pars_fragment:Zte,tonemapping_fragment:Jte,tonemapping_pars_fragment:Qte,transmission_fragment:ene,transmission_pars_fragment:tne,uv_pars_fragment:nne,uv_pars_vertex:ine,uv_vertex:rne,worldpos_vertex:ane,background_vert:sne,background_frag:one,backgroundCube_vert:lne,backgroundCube_frag:une,cube_vert:cne,cube_frag:fne,depth_vert:dne,depth_frag:hne,distanceRGBA_vert:pne,distanceRGBA_frag:mne,equirect_vert:vne,equirect_frag:gne,linedashed_vert:yne,linedashed_frag:bne,meshbasic_vert:xne,meshbasic_frag:Sne,meshlambert_vert:_ne,meshlambert_frag:Ene,meshmatcap_vert:Tne,meshmatcap_frag:Nne,meshnormal_vert:Mne,meshnormal_frag:wne,meshphong_vert:Cne,meshphong_frag:Ane,meshphysical_vert:Rne,meshphysical_frag:Dne,meshtoon_vert:Lne,meshtoon_frag:Pne,points_vert:Une,points_frag:One,shadow_vert:Fne,shadow_frag:Ine,sprite_vert:Vne,sprite_frag:kne},Kt={common:{diffuse:{value:new Jt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ei},alphaMap:{value:null},alphaMapTransform:{value:new ei},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ei}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ei}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ei}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ei},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ei},normalScale:{value:new wt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ei},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ei}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ei}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ei}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Jt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Jt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ei},alphaTest:{value:0},uvTransform:{value:new ei}},sprite:{diffuse:{value:new Jt(16777215)},opacity:{value:1},center:{value:new wt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ei},alphaMap:{value:null},alphaMapTransform:{value:new ei},alphaTest:{value:0}}},rc={basic:{uniforms:ho([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.fog]),vertexShader:Kn.meshbasic_vert,fragmentShader:Kn.meshbasic_frag},lambert:{uniforms:ho([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,Kt.lights,{emissive:{value:new Jt(0)}}]),vertexShader:Kn.meshlambert_vert,fragmentShader:Kn.meshlambert_frag},phong:{uniforms:ho([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,Kt.lights,{emissive:{value:new Jt(0)},specular:{value:new Jt(1118481)},shininess:{value:30}}]),vertexShader:Kn.meshphong_vert,fragmentShader:Kn.meshphong_frag},standard:{uniforms:ho([Kt.common,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.roughnessmap,Kt.metalnessmap,Kt.fog,Kt.lights,{emissive:{value:new Jt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Kn.meshphysical_vert,fragmentShader:Kn.meshphysical_frag},toon:{uniforms:ho([Kt.common,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.gradientmap,Kt.fog,Kt.lights,{emissive:{value:new Jt(0)}}]),vertexShader:Kn.meshtoon_vert,fragmentShader:Kn.meshtoon_frag},matcap:{uniforms:ho([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,{matcap:{value:null}}]),vertexShader:Kn.meshmatcap_vert,fragmentShader:Kn.meshmatcap_frag},points:{uniforms:ho([Kt.points,Kt.fog]),vertexShader:Kn.points_vert,fragmentShader:Kn.points_frag},dashed:{uniforms:ho([Kt.common,Kt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Kn.linedashed_vert,fragmentShader:Kn.linedashed_frag},depth:{uniforms:ho([Kt.common,Kt.displacementmap]),vertexShader:Kn.depth_vert,fragmentShader:Kn.depth_frag},normal:{uniforms:ho([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,{opacity:{value:1}}]),vertexShader:Kn.meshnormal_vert,fragmentShader:Kn.meshnormal_frag},sprite:{uniforms:ho([Kt.sprite,Kt.fog]),vertexShader:Kn.sprite_vert,fragmentShader:Kn.sprite_frag},background:{uniforms:{uvTransform:{value:new ei},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Kn.background_vert,fragmentShader:Kn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Kn.backgroundCube_vert,fragmentShader:Kn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Kn.cube_vert,fragmentShader:Kn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Kn.equirect_vert,fragmentShader:Kn.equirect_frag},distanceRGBA:{uniforms:ho([Kt.common,Kt.displacementmap,{referencePosition:{value:new fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Kn.distanceRGBA_vert,fragmentShader:Kn.distanceRGBA_frag},shadow:{uniforms:ho([Kt.lights,Kt.fog,{color:{value:new Jt(0)},opacity:{value:1}}]),vertexShader:Kn.shadow_vert,fragmentShader:Kn.shadow_frag}};rc.physical={uniforms:ho([rc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ei},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ei},clearcoatNormalScale:{value:new wt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ei},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ei},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ei},sheen:{value:0},sheenColor:{value:new Jt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ei},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ei},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ei},transmissionSamplerSize:{value:new wt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ei},attenuationDistance:{value:0},attenuationColor:{value:new Jt(0)},specularColor:{value:new Jt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ei},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ei},anisotropyVector:{value:new wt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ei}}]),vertexShader:Kn.meshphysical_vert,fragmentShader:Kn.meshphysical_frag};const Dw={r:0,b:0,g:0};function Bne(n,e,t,i,r,s,l){const u=new Jt(0);let h=s===!0?0:1,f,p,v=null,y=0,x=null;function _(N,T){let A=!1,w=T.isScene===!0?T.background:null;w&&w.isTexture&&(w=(T.backgroundBlurriness>0?t:e).get(w)),w===null?M(u,h):w&&w.isColor&&(M(w,1),A=!0);const L=n.xr.getEnvironmentBlendMode();L==="additive"?i.buffers.color.setClear(0,0,0,1,l):L==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===cx)?(p===void 0&&(p=new la(new Gg(1,1,1),new fc({name:"BackgroundCubeMaterial",uniforms:tx(rc.backgroundCube.uniforms),vertexShader:rc.backgroundCube.vertexShader,fragmentShader:rc.backgroundCube.fragmentShader,side:mo,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(U,k,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),p.material.uniforms.envMap.value=w,p.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=T.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,p.material.toneMapped=Xi.getTransfer(w.colorSpace)!==sr,(v!==w||y!==w.version||x!==n.toneMapping)&&(p.material.needsUpdate=!0,v=w,y=w.version,x=n.toneMapping),p.layers.enableAll(),N.unshift(p,p.geometry,p.material,0,0,null)):w&&w.isTexture&&(f===void 0&&(f=new la(new em(2,2),new fc({name:"BackgroundMaterial",uniforms:tx(rc.background.uniforms),vertexShader:rc.background.vertexShader,fragmentShader:rc.background.fragmentShader,side:oh,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=w,f.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,f.material.toneMapped=Xi.getTransfer(w.colorSpace)!==sr,w.matrixAutoUpdate===!0&&w.updateMatrix(),f.material.uniforms.uvTransform.value.copy(w.matrix),(v!==w||y!==w.version||x!==n.toneMapping)&&(f.material.needsUpdate=!0,v=w,y=w.version,x=n.toneMapping),f.layers.enableAll(),N.unshift(f,f.geometry,f.material,0,0,null))}function M(N,T){N.getRGB(Dw,Dj(n)),i.buffers.color.setClear(Dw.r,Dw.g,Dw.b,T,l)}return{getClearColor:function(){return u},setClearColor:function(N,T=1){u.set(N),h=T,M(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(N){h=N,M(u,h)},render:_}}function zne(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),l=i.isWebGL2||s!==null,u={},h=N(null);let f=h,p=!1;function v(W,se,te,ae,ge){let ve=!1;if(l){const ce=M(ae,te,se);f!==ce&&(f=ce,x(f.object)),ve=T(W,ae,te,ge),ve&&A(W,ae,te,ge)}else{const ce=se.wireframe===!0;(f.geometry!==ae.id||f.program!==te.id||f.wireframe!==ce)&&(f.geometry=ae.id,f.program=te.id,f.wireframe=ce,ve=!0)}ge!==null&&t.update(ge,n.ELEMENT_ARRAY_BUFFER),(ve||p)&&(p=!1,H(W,se,te,ae),ge!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(ge).buffer))}function y(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function x(W){return i.isWebGL2?n.bindVertexArray(W):s.bindVertexArrayOES(W)}function _(W){return i.isWebGL2?n.deleteVertexArray(W):s.deleteVertexArrayOES(W)}function M(W,se,te){const ae=te.wireframe===!0;let ge=u[W.id];ge===void 0&&(ge={},u[W.id]=ge);let ve=ge[se.id];ve===void 0&&(ve={},ge[se.id]=ve);let ce=ve[ae];return ce===void 0&&(ce=N(y()),ve[ae]=ce),ce}function N(W){const se=[],te=[],ae=[];for(let ge=0;ge<r;ge++)se[ge]=0,te[ge]=0,ae[ge]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:se,enabledAttributes:te,attributeDivisors:ae,object:W,attributes:{},index:null}}function T(W,se,te,ae){const ge=f.attributes,ve=se.attributes;let ce=0;const Y=te.getAttributes();for(const ee in Y)if(Y[ee].location>=0){const ye=ge[ee];let be=ve[ee];if(be===void 0&&(ee==="instanceMatrix"&&W.instanceMatrix&&(be=W.instanceMatrix),ee==="instanceColor"&&W.instanceColor&&(be=W.instanceColor)),ye===void 0||ye.attribute!==be||be&&ye.data!==be.data)return!0;ce++}return f.attributesNum!==ce||f.index!==ae}function A(W,se,te,ae){const ge={},ve=se.attributes;let ce=0;const Y=te.getAttributes();for(const ee in Y)if(Y[ee].location>=0){let ye=ve[ee];ye===void 0&&(ee==="instanceMatrix"&&W.instanceMatrix&&(ye=W.instanceMatrix),ee==="instanceColor"&&W.instanceColor&&(ye=W.instanceColor));const be={};be.attribute=ye,ye&&ye.data&&(be.data=ye.data),ge[ee]=be,ce++}f.attributes=ge,f.attributesNum=ce,f.index=ae}function w(){const W=f.newAttributes;for(let se=0,te=W.length;se<te;se++)W[se]=0}function L(W){U(W,0)}function U(W,se){const te=f.newAttributes,ae=f.enabledAttributes,ge=f.attributeDivisors;te[W]=1,ae[W]===0&&(n.enableVertexAttribArray(W),ae[W]=1),ge[W]!==se&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](W,se),ge[W]=se)}function k(){const W=f.newAttributes,se=f.enabledAttributes;for(let te=0,ae=se.length;te<ae;te++)se[te]!==W[te]&&(n.disableVertexAttribArray(te),se[te]=0)}function V(W,se,te,ae,ge,ve,ce){ce===!0?n.vertexAttribIPointer(W,se,te,ge,ve):n.vertexAttribPointer(W,se,te,ae,ge,ve)}function H(W,se,te,ae){if(i.isWebGL2===!1&&(W.isInstancedMesh||ae.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const ge=ae.attributes,ve=te.getAttributes(),ce=se.defaultAttributeValues;for(const Y in ve){const ee=ve[Y];if(ee.location>=0){let le=ge[Y];if(le===void 0&&(Y==="instanceMatrix"&&W.instanceMatrix&&(le=W.instanceMatrix),Y==="instanceColor"&&W.instanceColor&&(le=W.instanceColor)),le!==void 0){const ye=le.normalized,be=le.itemSize,we=t.get(le);if(we===void 0)continue;const Oe=we.buffer,De=we.type,st=we.bytesPerElement,dt=i.isWebGL2===!0&&(De===n.INT||De===n.UNSIGNED_INT||le.gpuType===YO);if(le.isInterleavedBufferAttribute){const ze=le.data,ie=ze.stride,$e=le.offset;if(ze.isInstancedInterleavedBuffer){for(let Le=0;Le<ee.locationSize;Le++)U(ee.location+Le,ze.meshPerAttribute);W.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let Le=0;Le<ee.locationSize;Le++)L(ee.location+Le);n.bindBuffer(n.ARRAY_BUFFER,Oe);for(let Le=0;Le<ee.locationSize;Le++)V(ee.location+Le,be/ee.locationSize,De,ye,ie*st,($e+be/ee.locationSize*Le)*st,dt)}else{if(le.isInstancedBufferAttribute){for(let ze=0;ze<ee.locationSize;ze++)U(ee.location+ze,le.meshPerAttribute);W.isInstancedMesh!==!0&&ae._maxInstanceCount===void 0&&(ae._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let ze=0;ze<ee.locationSize;ze++)L(ee.location+ze);n.bindBuffer(n.ARRAY_BUFFER,Oe);for(let ze=0;ze<ee.locationSize;ze++)V(ee.location+ze,be/ee.locationSize,De,ye,be*st,be/ee.locationSize*ze*st,dt)}}else if(ce!==void 0){const ye=ce[Y];if(ye!==void 0)switch(ye.length){case 2:n.vertexAttrib2fv(ee.location,ye);break;case 3:n.vertexAttrib3fv(ee.location,ye);break;case 4:n.vertexAttrib4fv(ee.location,ye);break;default:n.vertexAttrib1fv(ee.location,ye)}}}}k()}function P(){j();for(const W in u){const se=u[W];for(const te in se){const ae=se[te];for(const ge in ae)_(ae[ge].object),delete ae[ge];delete se[te]}delete u[W]}}function I(W){if(u[W.id]===void 0)return;const se=u[W.id];for(const te in se){const ae=se[te];for(const ge in ae)_(ae[ge].object),delete ae[ge];delete se[te]}delete u[W.id]}function q(W){for(const se in u){const te=u[se];if(te[W.id]===void 0)continue;const ae=te[W.id];for(const ge in ae)_(ae[ge].object),delete ae[ge];delete te[W.id]}}function j(){J(),p=!0,f!==h&&(f=h,x(f.object))}function J(){h.geometry=null,h.program=null,h.wireframe=!1}return{setup:v,reset:j,resetDefaultState:J,dispose:P,releaseStatesOfGeometry:I,releaseStatesOfProgram:q,initAttributes:w,enableAttribute:L,disableUnusedAttributes:k}}function Hne(n,e,t,i){const r=i.isWebGL2;let s;function l(f){s=f}function u(f,p){n.drawArrays(s,f,p),t.update(p,s,1)}function h(f,p,v){if(v===0)return;let y,x;if(r)y=n,x="drawArraysInstanced";else if(y=e.get("ANGLE_instanced_arrays"),x="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[x](s,f,p,v),t.update(p,s,v)}this.setMode=l,this.render=u,this.renderInstances=h}function jne(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const V=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(V.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(V){if(V==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";V="mediump"}return V==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const l=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let u=t.precision!==void 0?t.precision:"highp";const h=s(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const f=l||e.has("WEBGL_draw_buffers"),p=t.logarithmicDepthBuffer===!0,v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),y=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_TEXTURE_SIZE),_=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),M=n.getParameter(n.MAX_VERTEX_ATTRIBS),N=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),T=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),w=y>0,L=l||e.has("OES_texture_float"),U=w&&L,k=l?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:l,drawBuffers:f,getMaxAnisotropy:r,getMaxPrecision:s,precision:u,logarithmicDepthBuffer:p,maxTextures:v,maxVertexTextures:y,maxTextureSize:x,maxCubemapSize:_,maxAttributes:M,maxVertexUniforms:N,maxVaryings:T,maxFragmentUniforms:A,vertexTextures:w,floatFragmentTextures:L,floatVertexTextures:U,maxSamples:k}}function Gne(n){const e=this;let t=null,i=0,r=!1,s=!1;const l=new Jd,u=new ei,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(v,y){const x=v.length!==0||y||i!==0||r;return r=y,i=v.length,x},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(v,y){t=p(v,y,0)},this.setState=function(v,y,x){const _=v.clippingPlanes,M=v.clipIntersection,N=v.clipShadows,T=n.get(v);if(!r||_===null||_.length===0||s&&!N)s?p(null):f();else{const A=s?0:i,w=A*4;let L=T.clippingState||null;h.value=L,L=p(_,y,w,x);for(let U=0;U!==w;++U)L[U]=t[U];T.clippingState=L,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=A}};function f(){h.value!==t&&(h.value=t,h.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(v,y,x,_){const M=v!==null?v.length:0;let N=null;if(M!==0){if(N=h.value,_!==!0||N===null){const T=x+M*4,A=y.matrixWorldInverse;u.getNormalMatrix(A),(N===null||N.length<T)&&(N=new Float32Array(T));for(let w=0,L=x;w!==M;++w,L+=4)l.copy(v[w]).applyMatrix4(A,u),l.normal.toArray(N,L),N[L+3]=l.constant}h.value=N,h.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,N}}function Wne(n){let e=new WeakMap;function t(l,u){return u===E1?l.mapping=lh:u===T1&&(l.mapping=qp),l}function i(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){const u=l.mapping;if(u===E1||u===T1)if(e.has(l)){const h=e.get(l).texture;return t(h,l.mapping)}else{const h=l.image;if(h&&h.height>0){const f=new Pj(h.height/2);return f.fromEquirectangularTexture(n,l),e.set(l,f),l.addEventListener("dispose",r),t(f.texture,l.mapping)}else return null}}return l}function r(l){const u=l.target;u.removeEventListener("dispose",r);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Af extends hT{constructor(e=-1,t=1,i=1,r=-1,s=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,l=i+e,u=r+t,h=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,l=s+f*this.view.width,u-=p*this.view.offsetY,h=u-p*this.view.height}this.projectionMatrix.makeOrthographic(s,l,u,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const H0=4,Pk=[.125,.215,.35,.446,.526,.582],gg=20,jL=new Af,Uk=new Jt;let GL=null,WL=0,YL=0;const mg=(1+Math.sqrt(5))/2,E0=1/mg,Ok=[new fe(1,1,1),new fe(-1,1,1),new fe(1,1,-1),new fe(-1,1,-1),new fe(0,mg,E0),new fe(0,mg,-E0),new fe(E0,0,mg),new fe(-E0,0,mg),new fe(mg,E0,0),new fe(-mg,E0,0)];class FU{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){GL=this._renderer.getRenderTarget(),WL=this._renderer.getActiveCubeFace(),YL=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Vk(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Ik(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(GL,WL,YL),e.scissorTest=!1,Lw(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===lh||e.mapping===qp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),GL=this._renderer.getRenderTarget(),WL=this._renderer.getActiveCubeFace(),YL=this._renderer.getActiveMipmapLevel();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Ur,minFilter:Ur,generateMipmaps:!1,type:Q0,format:Ho,colorSpace:Df,depthBuffer:!1},r=Fk(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Fk(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Yne(s)),this._blurMaterial=Xne(s,e,t)}return r}_compileMaterial(e){const t=new la(this._lodPlanes[0],e);this._renderer.compile(t,jL)}_sceneToCubeUV(e,t,i,r){const u=new Or(90,1,t,i),h=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],p=this._renderer,v=p.autoClear,y=p.toneMapping;p.getClearColor(Uk),p.toneMapping=wf,p.autoClear=!1;const x=new fh({name:"PMREM.Background",side:mo,depthWrite:!1,depthTest:!1}),_=new la(new Gg,x);let M=!1;const N=e.background;N?N.isColor&&(x.color.copy(N),e.background=null,M=!0):(x.color.copy(Uk),M=!0);for(let T=0;T<6;T++){const A=T%3;A===0?(u.up.set(0,h[T],0),u.lookAt(f[T],0,0)):A===1?(u.up.set(0,0,h[T]),u.lookAt(0,f[T],0)):(u.up.set(0,h[T],0),u.lookAt(0,0,f[T]));const w=this._cubeSize;Lw(r,A*w,T>2?w:0,w,w),p.setRenderTarget(r),M&&p.render(_,u),p.render(e,u)}_.geometry.dispose(),_.material.dispose(),p.toneMapping=y,p.autoClear=v,e.background=N}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===lh||e.mapping===qp;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Vk()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Ik());const s=r?this._cubemapMaterial:this._equirectMaterial,l=new la(this._lodPlanes[0],s),u=s.uniforms;u.envMap.value=e;const h=this._cubeSize;Lw(t,0,0,3*h,2*h),i.setRenderTarget(t),i.render(l,jL)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),l=Ok[(r-1)%Ok.length];this._blur(e,r-1,r,s,l)}t.autoClear=i}_blur(e,t,i,r,s){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,i,r,"latitudinal",s),this._halfBlur(l,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,l,u){const h=this._renderer,f=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,v=new la(this._lodPlanes[r],f),y=f.uniforms,x=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*x):2*Math.PI/(2*gg-1),M=s/_,N=isFinite(s)?1+Math.floor(p*M):gg;N>gg&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${N} samples when the maximum is set to ${gg}`);const T=[];let A=0;for(let V=0;V<gg;++V){const H=V/M,P=Math.exp(-H*H/2);T.push(P),V===0?A+=P:V<N&&(A+=2*P)}for(let V=0;V<T.length;V++)T[V]=T[V]/A;y.envMap.value=e.texture,y.samples.value=N,y.weights.value=T,y.latitudinal.value=l==="latitudinal",u&&(y.poleAxis.value=u);const{_lodMax:w}=this;y.dTheta.value=_,y.mipInt.value=w-i;const L=this._sizeLods[r],U=3*L*(r>w-H0?r-w+H0:0),k=4*(this._cubeSize-L);Lw(t,U,k,3*L,2*L),h.setRenderTarget(t),h.render(v,jL)}}function Yne(n){const e=[],t=[],i=[];let r=n;const s=n-H0+1+Pk.length;for(let l=0;l<s;l++){const u=Math.pow(2,r);t.push(u);let h=1/u;l>n-H0?h=Pk[l-n+H0-1]:l===0&&(h=0),i.push(h);const f=1/(u-2),p=-f,v=1+f,y=[p,p,v,p,v,v,p,p,v,v,p,v],x=6,_=6,M=3,N=2,T=1,A=new Float32Array(M*_*x),w=new Float32Array(N*_*x),L=new Float32Array(T*_*x);for(let k=0;k<x;k++){const V=k%3*2/3-1,H=k>2?0:-1,P=[V,H,0,V+2/3,H,0,V+2/3,H+1,0,V,H,0,V+2/3,H+1,0,V,H+1,0];A.set(P,M*_*k),w.set(y,N*_*k);const I=[k,k,k,k,k,k];L.set(I,T*_*k)}const U=new ri;U.setAttribute("position",new nr(A,M)),U.setAttribute("uv",new nr(w,N)),U.setAttribute("faceIndex",new nr(L,T)),e.push(U),r>H0&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function Fk(n,e,t){const i=new cc(n,e,t);return i.texture.mapping=cx,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Lw(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Xne(n,e,t){const i=new Float32Array(gg),r=new fe(0,1,0);return new fc({name:"SphericalGaussianBlur",defines:{n:gg,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:s3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ah,depthTest:!1,depthWrite:!1})}function Ik(){return new fc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:s3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ah,depthTest:!1,depthWrite:!1})}function Vk(){return new fc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:s3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ah,depthTest:!1,depthWrite:!1})}function s3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function qne(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const h=u.mapping,f=h===E1||h===T1,p=h===lh||h===qp;if(f||p)if(u.isRenderTargetTexture&&u.needsPMREMUpdate===!0){u.needsPMREMUpdate=!1;let v=e.get(u);return t===null&&(t=new FU(n)),v=f?t.fromEquirectangular(u,v):t.fromCubemap(u,v),e.set(u,v),v.texture}else{if(e.has(u))return e.get(u).texture;{const v=u.image;if(f&&v&&v.height>0||p&&v&&r(v)){t===null&&(t=new FU(n));const y=f?t.fromEquirectangular(u):t.fromCubemap(u);return e.set(u,y),u.addEventListener("dispose",s),y.texture}else return null}}}return u}function r(u){let h=0;const f=6;for(let p=0;p<f;p++)u[p]!==void 0&&h++;return h===f}function s(u){const h=u.target;h.removeEventListener("dispose",s);const f=e.get(h);f!==void 0&&(e.delete(h),f.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:l}}function $ne(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Kne(n,e,t,i){const r={},s=new WeakMap;function l(v){const y=v.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);for(const _ in y.morphAttributes){const M=y.morphAttributes[_];for(let N=0,T=M.length;N<T;N++)e.remove(M[N])}y.removeEventListener("dispose",l),delete r[y.id];const x=s.get(y);x&&(e.remove(x),s.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function u(v,y){return r[y.id]===!0||(y.addEventListener("dispose",l),r[y.id]=!0,t.memory.geometries++),y}function h(v){const y=v.attributes;for(const _ in y)e.update(y[_],n.ARRAY_BUFFER);const x=v.morphAttributes;for(const _ in x){const M=x[_];for(let N=0,T=M.length;N<T;N++)e.update(M[N],n.ARRAY_BUFFER)}}function f(v){const y=[],x=v.index,_=v.attributes.position;let M=0;if(x!==null){const A=x.array;M=x.version;for(let w=0,L=A.length;w<L;w+=3){const U=A[w+0],k=A[w+1],V=A[w+2];y.push(U,k,k,V,V,U)}}else if(_!==void 0){const A=_.array;M=_.version;for(let w=0,L=A.length/3-1;w<L;w+=3){const U=w+0,k=w+1,V=w+2;y.push(U,k,k,V,V,U)}}else return;const N=new(wj(y)?a3:r3)(y,1);N.version=M;const T=s.get(v);T&&e.remove(T),s.set(v,N)}function p(v){const y=s.get(v);if(y){const x=v.index;x!==null&&y.version<x.version&&f(v)}else f(v);return s.get(v)}return{get:u,update:h,getWireframeAttribute:p}}function Zne(n,e,t,i){const r=i.isWebGL2;let s;function l(y){s=y}let u,h;function f(y){u=y.type,h=y.bytesPerElement}function p(y,x){n.drawElements(s,x,u,y*h),t.update(x,s,1)}function v(y,x,_){if(_===0)return;let M,N;if(r)M=n,N="drawElementsInstanced";else if(M=e.get("ANGLE_instanced_arrays"),N="drawElementsInstancedANGLE",M===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}M[N](s,x,u,y*h,_),t.update(x,s,_)}this.setMode=l,this.setIndex=f,this.render=p,this.renderInstances=v}function Jne(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,l,u){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=u*(s/3);break;case n.LINES:t.lines+=u*(s/2);break;case n.LINE_STRIP:t.lines+=u*(s-1);break;case n.LINE_LOOP:t.lines+=u*s;break;case n.POINTS:t.points+=u*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function Qne(n,e){return n[0]-e[0]}function eie(n,e){return Math.abs(e[1])-Math.abs(n[1])}function tie(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,l=new hi,u=[];for(let f=0;f<8;f++)u[f]=[f,0];function h(f,p,v){const y=f.morphTargetInfluences;if(e.isWebGL2===!0){const _=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color,M=_!==void 0?_.length:0;let N=s.get(p);if(N===void 0||N.count!==M){let se=function(){J.dispose(),s.delete(p),p.removeEventListener("dispose",se)};var x=se;N!==void 0&&N.texture.dispose();const w=p.morphAttributes.position!==void 0,L=p.morphAttributes.normal!==void 0,U=p.morphAttributes.color!==void 0,k=p.morphAttributes.position||[],V=p.morphAttributes.normal||[],H=p.morphAttributes.color||[];let P=0;w===!0&&(P=1),L===!0&&(P=2),U===!0&&(P=3);let I=p.attributes.position.count*P,q=1;I>e.maxTextureSize&&(q=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const j=new Float32Array(I*q*4*M),J=new DA(j,I,q,M);J.type=Tf,J.needsUpdate=!0;const W=P*4;for(let te=0;te<M;te++){const ae=k[te],ge=V[te],ve=H[te],ce=I*q*4*te;for(let Y=0;Y<ae.count;Y++){const ee=Y*W;w===!0&&(l.fromBufferAttribute(ae,Y),j[ce+ee+0]=l.x,j[ce+ee+1]=l.y,j[ce+ee+2]=l.z,j[ce+ee+3]=0),L===!0&&(l.fromBufferAttribute(ge,Y),j[ce+ee+4]=l.x,j[ce+ee+5]=l.y,j[ce+ee+6]=l.z,j[ce+ee+7]=0),U===!0&&(l.fromBufferAttribute(ve,Y),j[ce+ee+8]=l.x,j[ce+ee+9]=l.y,j[ce+ee+10]=l.z,j[ce+ee+11]=ve.itemSize===4?l.w:1)}}N={count:M,texture:J,size:new wt(I,q)},s.set(p,N),p.addEventListener("dispose",se)}let T=0;for(let w=0;w<y.length;w++)T+=y[w];const A=p.morphTargetsRelative?1:1-T;v.getUniforms().setValue(n,"morphTargetBaseInfluence",A),v.getUniforms().setValue(n,"morphTargetInfluences",y),v.getUniforms().setValue(n,"morphTargetsTexture",N.texture,t),v.getUniforms().setValue(n,"morphTargetsTextureSize",N.size)}else{const _=y===void 0?0:y.length;let M=i[p.id];if(M===void 0||M.length!==_){M=[];for(let L=0;L<_;L++)M[L]=[L,0];i[p.id]=M}for(let L=0;L<_;L++){const U=M[L];U[0]=L,U[1]=y[L]}M.sort(eie);for(let L=0;L<8;L++)L<_&&M[L][1]?(u[L][0]=M[L][0],u[L][1]=M[L][1]):(u[L][0]=Number.MAX_SAFE_INTEGER,u[L][1]=0);u.sort(Qne);const N=p.morphAttributes.position,T=p.morphAttributes.normal;let A=0;for(let L=0;L<8;L++){const U=u[L],k=U[0],V=U[1];k!==Number.MAX_SAFE_INTEGER&&V?(N&&p.getAttribute("morphTarget"+L)!==N[k]&&p.setAttribute("morphTarget"+L,N[k]),T&&p.getAttribute("morphNormal"+L)!==T[k]&&p.setAttribute("morphNormal"+L,T[k]),r[L]=V,A+=V):(N&&p.hasAttribute("morphTarget"+L)===!0&&p.deleteAttribute("morphTarget"+L),T&&p.hasAttribute("morphNormal"+L)===!0&&p.deleteAttribute("morphNormal"+L),r[L]=0)}const w=p.morphTargetsRelative?1:1-A;v.getUniforms().setValue(n,"morphTargetBaseInfluence",w),v.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:h}}function nie(n,e,t,i){let r=new WeakMap;function s(h){const f=i.render.frame,p=h.geometry,v=e.get(h,p);if(r.get(v)!==f&&(e.update(v),r.set(v,f)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),r.get(h)!==f&&(t.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,n.ARRAY_BUFFER),r.set(h,f))),h.isSkinnedMesh){const y=h.skeleton;r.get(y)!==f&&(y.update(),r.set(y,f))}return v}function l(){r=new WeakMap}function u(h){const f=h.target;f.removeEventListener("dispose",u),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:l}}const Oj=new $r,Fj=new DA,Ij=new i3,Vj=new pT,kk=[],Bk=[],zk=new Float32Array(16),Hk=new Float32Array(9),jk=new Float32Array(4);function fx(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=kk[r];if(s===void 0&&(s=new Float32Array(r),kk[r]=s),e!==0){i.toArray(s,0);for(let l=1,u=0;l!==e;++l)u+=t,n[l].toArray(s,u)}return s}function Pa(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ua(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function PA(n,e){let t=Bk[e];t===void 0&&(t=new Int32Array(e),Bk[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function iie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function rie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pa(t,e))return;n.uniform2fv(this.addr,e),Ua(t,e)}}function aie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Pa(t,e))return;n.uniform3fv(this.addr,e),Ua(t,e)}}function sie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pa(t,e))return;n.uniform4fv(this.addr,e),Ua(t,e)}}function oie(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pa(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ua(t,e)}else{if(Pa(t,i))return;jk.set(i),n.uniformMatrix2fv(this.addr,!1,jk),Ua(t,i)}}function lie(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pa(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ua(t,e)}else{if(Pa(t,i))return;Hk.set(i),n.uniformMatrix3fv(this.addr,!1,Hk),Ua(t,i)}}function uie(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Pa(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ua(t,e)}else{if(Pa(t,i))return;zk.set(i),n.uniformMatrix4fv(this.addr,!1,zk),Ua(t,i)}}function cie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function fie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pa(t,e))return;n.uniform2iv(this.addr,e),Ua(t,e)}}function die(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pa(t,e))return;n.uniform3iv(this.addr,e),Ua(t,e)}}function hie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pa(t,e))return;n.uniform4iv(this.addr,e),Ua(t,e)}}function pie(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function mie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pa(t,e))return;n.uniform2uiv(this.addr,e),Ua(t,e)}}function vie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pa(t,e))return;n.uniform3uiv(this.addr,e),Ua(t,e)}}function gie(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pa(t,e))return;n.uniform4uiv(this.addr,e),Ua(t,e)}}function yie(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||Oj,r)}function bie(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Ij,r)}function xie(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||Vj,r)}function Sie(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||Fj,r)}function _ie(n){switch(n){case 5126:return iie;case 35664:return rie;case 35665:return aie;case 35666:return sie;case 35674:return oie;case 35675:return lie;case 35676:return uie;case 5124:case 35670:return cie;case 35667:case 35671:return fie;case 35668:case 35672:return die;case 35669:case 35673:return hie;case 5125:return pie;case 36294:return mie;case 36295:return vie;case 36296:return gie;case 35678:case 36198:case 36298:case 36306:case 35682:return yie;case 35679:case 36299:case 36307:return bie;case 35680:case 36300:case 36308:case 36293:return xie;case 36289:case 36303:case 36311:case 36292:return Sie}}function Eie(n,e){n.uniform1fv(this.addr,e)}function Tie(n,e){const t=fx(e,this.size,2);n.uniform2fv(this.addr,t)}function Nie(n,e){const t=fx(e,this.size,3);n.uniform3fv(this.addr,t)}function Mie(n,e){const t=fx(e,this.size,4);n.uniform4fv(this.addr,t)}function wie(n,e){const t=fx(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Cie(n,e){const t=fx(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Aie(n,e){const t=fx(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Rie(n,e){n.uniform1iv(this.addr,e)}function Die(n,e){n.uniform2iv(this.addr,e)}function Lie(n,e){n.uniform3iv(this.addr,e)}function Pie(n,e){n.uniform4iv(this.addr,e)}function Uie(n,e){n.uniform1uiv(this.addr,e)}function Oie(n,e){n.uniform2uiv(this.addr,e)}function Fie(n,e){n.uniform3uiv(this.addr,e)}function Iie(n,e){n.uniform4uiv(this.addr,e)}function Vie(n,e,t){const i=this.cache,r=e.length,s=PA(t,r);Pa(i,s)||(n.uniform1iv(this.addr,s),Ua(i,s));for(let l=0;l!==r;++l)t.setTexture2D(e[l]||Oj,s[l])}function kie(n,e,t){const i=this.cache,r=e.length,s=PA(t,r);Pa(i,s)||(n.uniform1iv(this.addr,s),Ua(i,s));for(let l=0;l!==r;++l)t.setTexture3D(e[l]||Ij,s[l])}function Bie(n,e,t){const i=this.cache,r=e.length,s=PA(t,r);Pa(i,s)||(n.uniform1iv(this.addr,s),Ua(i,s));for(let l=0;l!==r;++l)t.setTextureCube(e[l]||Vj,s[l])}function zie(n,e,t){const i=this.cache,r=e.length,s=PA(t,r);Pa(i,s)||(n.uniform1iv(this.addr,s),Ua(i,s));for(let l=0;l!==r;++l)t.setTexture2DArray(e[l]||Fj,s[l])}function Hie(n){switch(n){case 5126:return Eie;case 35664:return Tie;case 35665:return Nie;case 35666:return Mie;case 35674:return wie;case 35675:return Cie;case 35676:return Aie;case 5124:case 35670:return Rie;case 35667:case 35671:return Die;case 35668:case 35672:return Lie;case 35669:case 35673:return Pie;case 5125:return Uie;case 36294:return Oie;case 36295:return Fie;case 36296:return Iie;case 35678:case 36198:case 36298:case 36306:case 35682:return Vie;case 35679:case 36299:case 36307:return kie;case 35680:case 36300:case 36308:case 36293:return Bie;case 36289:case 36303:case 36311:case 36292:return zie}}class jie{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=_ie(t.type)}}class Gie{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=Hie(t.type)}}class Wie{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,l=r.length;s!==l;++s){const u=r[s];u.setValue(e,t[u.id],i)}}}const XL=/(\w+)(\])?(\[|\.)?/g;function Gk(n,e){n.seq.push(e),n.map[e.id]=e}function Yie(n,e,t){const i=n.name,r=i.length;for(XL.lastIndex=0;;){const s=XL.exec(i),l=XL.lastIndex;let u=s[1];const h=s[2]==="]",f=s[3];if(h&&(u=u|0),f===void 0||f==="["&&l+2===r){Gk(t,f===void 0?new jie(u,n,e):new Gie(u,n,e));break}else{let v=t.map[u];v===void 0&&(v=new Wie(u),Gk(t,v)),t=v}}}class wC{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),l=e.getUniformLocation(t,s.name);Yie(s,l,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,l=t.length;s!==l;++s){const u=t[s],h=i[u.id];h.needsUpdate!==!1&&u.setValue(e,h.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const l=e[r];l.id in t&&i.push(l)}return i}}function Wk(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Xie=37297;let qie=0;function $ie(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let l=r;l<s;l++){const u=l+1;i.push(`${u===e?">":" "} ${u}: ${t[l]}`)}return i.join(`
`)}function Kie(n){const e=Xi.getPrimaries(Xi.workingColorSpace),t=Xi.getPrimaries(n);let i;switch(e===t?i="":e===L1&&t===D1?i="LinearDisplayP3ToLinearSRGB":e===D1&&t===L1&&(i="LinearSRGBToLinearDisplayP3"),n){case Df:case fT:return[i,"LinearTransferOETF"];case La:case RA:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function Yk(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const l=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+$ie(n.getShaderSource(e),l)}else return r}function Zie(n,e){const t=Kie(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function Jie(n,e){let t;switch(e){case JH:t="Linear";break;case QH:t="Reinhard";break;case ej:t="OptimizedCineon";break;case GO:t="ACESFilmic";break;case tj:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Qie(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(KE).join(`
`)}function ere(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function tre(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),l=s.name;let u=1;s.type===n.FLOAT_MAT2&&(u=2),s.type===n.FLOAT_MAT3&&(u=3),s.type===n.FLOAT_MAT4&&(u=4),t[l]={type:s.type,location:n.getAttribLocation(e,l),locationSize:u}}return t}function KE(n){return n!==""}function Xk(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function qk(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const nre=/^[ \t]*#include +<([\w\d./]+)>/gm;function IU(n){return n.replace(nre,rre)}const ire=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function rre(n,e){let t=Kn[e];if(t===void 0){const i=ire.get(e);if(i!==void 0)t=Kn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return IU(t)}const are=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $k(n){return n.replace(are,sre)}function sre(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Kk(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ore(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===MA?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===n1?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===nc&&(e="SHADOWMAP_TYPE_VSM"),e}function lre(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case lh:case qp:e="ENVMAP_TYPE_CUBE";break;case cx:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ure(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case qp:e="ENVMAP_MODE_REFRACTION";break}return e}function cre(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case cT:e="ENVMAP_BLENDING_MULTIPLY";break;case KH:e="ENVMAP_BLENDING_MIX";break;case ZH:e="ENVMAP_BLENDING_ADD";break}return e}function fre(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function dre(n,e,t,i){const r=n.getContext(),s=t.defines;let l=t.vertexShader,u=t.fragmentShader;const h=ore(t),f=lre(t),p=ure(t),v=cre(t),y=fre(t),x=t.isWebGL2?"":Qie(t),_=ere(s),M=r.createProgram();let N,T,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(N=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(KE).join(`
`),N.length>0&&(N+=`
`),T=[x,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(KE).join(`
`),T.length>0&&(T+=`
`)):(N=[Kk(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(KE).join(`
`),T=[x,Kk(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+p:"",t.envMap?"#define "+v:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==wf?"#define TONE_MAPPING":"",t.toneMapping!==wf?Kn.tonemapping_pars_fragment:"",t.toneMapping!==wf?Jie("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Kn.colorspace_pars_fragment,Zie("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(KE).join(`
`)),l=IU(l),l=Xk(l,t),l=qk(l,t),u=IU(u),u=Xk(u,t),u=qk(u,t),l=$k(l),u=$k(u),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,N=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+N,T=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===UU?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===UU?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+T);const w=A+N+l,L=A+T+u,U=Wk(r,r.VERTEX_SHADER,w),k=Wk(r,r.FRAGMENT_SHADER,L);r.attachShader(M,U),r.attachShader(M,k),t.index0AttributeName!==void 0?r.bindAttribLocation(M,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(M,0,"position"),r.linkProgram(M);function V(q){if(n.debug.checkShaderErrors){const j=r.getProgramInfoLog(M).trim(),J=r.getShaderInfoLog(U).trim(),W=r.getShaderInfoLog(k).trim();let se=!0,te=!0;if(r.getProgramParameter(M,r.LINK_STATUS)===!1)if(se=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,M,U,k);else{const ae=Yk(r,U,"vertex"),ge=Yk(r,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(M,r.VALIDATE_STATUS)+`

Program Info Log: `+j+`
`+ae+`
`+ge)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(J===""||W==="")&&(te=!1);te&&(q.diagnostics={runnable:se,programLog:j,vertexShader:{log:J,prefix:N},fragmentShader:{log:W,prefix:T}})}r.deleteShader(U),r.deleteShader(k),H=new wC(r,M),P=tre(r,M)}let H;this.getUniforms=function(){return H===void 0&&V(this),H};let P;this.getAttributes=function(){return P===void 0&&V(this),P};let I=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=r.getProgramParameter(M,Xie)),I},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(M),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=qie++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=U,this.fragmentShader=k,this}let hre=0;class pre{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(r)===!1&&(l.add(r),r.usedTimes++),l.has(s)===!1&&(l.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new mre(e),t.set(e,i)),i}}class mre{constructor(e){this.id=hre++,this.code=e,this.usedTimes=0}}function vre(n,e,t,i,r,s,l){const u=new Ag,h=new pre,f=[],p=r.isWebGL2,v=r.logarithmicDepthBuffer,y=r.vertexTextures;let x=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(P){return P===0?"uv":`uv${P}`}function N(P,I,q,j,J){const W=j.fog,se=J.geometry,te=P.isMeshStandardMaterial?j.environment:null,ae=(P.isMeshStandardMaterial?t:e).get(P.envMap||te),ge=ae&&ae.mapping===cx?ae.image.height:null,ve=_[P.type];P.precision!==null&&(x=r.getMaxPrecision(P.precision),x!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",x,"instead."));const ce=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,Y=ce!==void 0?ce.length:0;let ee=0;se.morphAttributes.position!==void 0&&(ee=1),se.morphAttributes.normal!==void 0&&(ee=2),se.morphAttributes.color!==void 0&&(ee=3);let le,ye,be,we;if(ve){const ln=rc[ve];le=ln.vertexShader,ye=ln.fragmentShader}else le=P.vertexShader,ye=P.fragmentShader,h.update(P),be=h.getVertexShaderID(P),we=h.getFragmentShaderID(P);const Oe=n.getRenderTarget(),De=J.isInstancedMesh===!0,st=!!P.map,dt=!!P.matcap,ze=!!ae,ie=!!P.aoMap,$e=!!P.lightMap,Le=!!P.bumpMap,je=!!P.normalMap,Ve=!!P.displacementMap,ft=!!P.emissiveMap,Ge=!!P.metalnessMap,it=!!P.roughnessMap,vt=P.anisotropy>0,Ye=P.clearcoat>0,Lt=P.iridescence>0,Q=P.sheen>0,K=P.transmission>0,Ne=vt&&!!P.anisotropyMap,ut=Ye&&!!P.clearcoatMap,Ue=Ye&&!!P.clearcoatNormalMap,Qe=Ye&&!!P.clearcoatRoughnessMap,Nt=Lt&&!!P.iridescenceMap,ht=Lt&&!!P.iridescenceThicknessMap,ue=Q&&!!P.sheenColorMap,Te=Q&&!!P.sheenRoughnessMap,ke=!!P.specularMap,Ae=!!P.specularColorMap,Be=!!P.specularIntensityMap,pe=K&&!!P.transmissionMap,Pe=K&&!!P.thicknessMap,He=!!P.gradientMap,Ee=!!P.alphaMap,gt=P.alphaTest>0,me=!!P.alphaHash,at=!!P.extensions,bt=!!se.attributes.uv1,We=!!se.attributes.uv2,Et=!!se.attributes.uv3;let Vt=wf;return P.toneMapped&&(Oe===null||Oe.isXRRenderTarget===!0)&&(Vt=n.toneMapping),{isWebGL2:p,shaderID:ve,shaderType:P.type,shaderName:P.name,vertexShader:le,fragmentShader:ye,defines:P.defines,customVertexShaderID:be,customFragmentShaderID:we,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:x,instancing:De,instancingColor:De&&J.instanceColor!==null,supportsVertexTextures:y,outputColorSpace:Oe===null?n.outputColorSpace:Oe.isXRRenderTarget===!0?Oe.texture.colorSpace:Df,map:st,matcap:dt,envMap:ze,envMapMode:ze&&ae.mapping,envMapCubeUVHeight:ge,aoMap:ie,lightMap:$e,bumpMap:Le,normalMap:je,displacementMap:y&&Ve,emissiveMap:ft,normalMapObjectSpace:je&&P.normalMapType===vj,normalMapTangentSpace:je&&P.normalMapType===Qp,metalnessMap:Ge,roughnessMap:it,anisotropy:vt,anisotropyMap:Ne,clearcoat:Ye,clearcoatMap:ut,clearcoatNormalMap:Ue,clearcoatRoughnessMap:Qe,iridescence:Lt,iridescenceMap:Nt,iridescenceThicknessMap:ht,sheen:Q,sheenColorMap:ue,sheenRoughnessMap:Te,specularMap:ke,specularColorMap:Ae,specularIntensityMap:Be,transmission:K,transmissionMap:pe,thicknessMap:Pe,gradientMap:He,opaque:P.transparent===!1&&P.blending===Mg,alphaMap:Ee,alphaTest:gt,alphaHash:me,combine:P.combine,mapUv:st&&M(P.map.channel),aoMapUv:ie&&M(P.aoMap.channel),lightMapUv:$e&&M(P.lightMap.channel),bumpMapUv:Le&&M(P.bumpMap.channel),normalMapUv:je&&M(P.normalMap.channel),displacementMapUv:Ve&&M(P.displacementMap.channel),emissiveMapUv:ft&&M(P.emissiveMap.channel),metalnessMapUv:Ge&&M(P.metalnessMap.channel),roughnessMapUv:it&&M(P.roughnessMap.channel),anisotropyMapUv:Ne&&M(P.anisotropyMap.channel),clearcoatMapUv:ut&&M(P.clearcoatMap.channel),clearcoatNormalMapUv:Ue&&M(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Qe&&M(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Nt&&M(P.iridescenceMap.channel),iridescenceThicknessMapUv:ht&&M(P.iridescenceThicknessMap.channel),sheenColorMapUv:ue&&M(P.sheenColorMap.channel),sheenRoughnessMapUv:Te&&M(P.sheenRoughnessMap.channel),specularMapUv:ke&&M(P.specularMap.channel),specularColorMapUv:Ae&&M(P.specularColorMap.channel),specularIntensityMapUv:Be&&M(P.specularIntensityMap.channel),transmissionMapUv:pe&&M(P.transmissionMap.channel),thicknessMapUv:Pe&&M(P.thicknessMap.channel),alphaMapUv:Ee&&M(P.alphaMap.channel),vertexTangents:!!se.attributes.tangent&&(je||vt),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!se.attributes.color&&se.attributes.color.itemSize===4,vertexUv1s:bt,vertexUv2s:We,vertexUv3s:Et,pointsUvs:J.isPoints===!0&&!!se.attributes.uv&&(st||Ee),fog:!!W,useFog:P.fog===!0,fogExp2:W&&W.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:v,skinning:J.isSkinnedMesh===!0,morphTargets:se.morphAttributes.position!==void 0,morphNormals:se.morphAttributes.normal!==void 0,morphColors:se.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:ee,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&q.length>0,shadowMapType:n.shadowMap.type,toneMapping:Vt,useLegacyLights:n._useLegacyLights,decodeVideoTexture:st&&P.map.isVideoTexture===!0&&Xi.getTransfer(P.map.colorSpace)===sr,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Cl,flipSided:P.side===mo,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:at&&P.extensions.derivatives===!0,extensionFragDepth:at&&P.extensions.fragDepth===!0,extensionDrawBuffers:at&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:at&&P.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:p||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()}}function T(P){const I=[];if(P.shaderID?I.push(P.shaderID):(I.push(P.customVertexShaderID),I.push(P.customFragmentShaderID)),P.defines!==void 0)for(const q in P.defines)I.push(q),I.push(P.defines[q]);return P.isRawShaderMaterial===!1&&(A(I,P),w(I,P),I.push(n.outputColorSpace)),I.push(P.customProgramCacheKey),I.join()}function A(P,I){P.push(I.precision),P.push(I.outputColorSpace),P.push(I.envMapMode),P.push(I.envMapCubeUVHeight),P.push(I.mapUv),P.push(I.alphaMapUv),P.push(I.lightMapUv),P.push(I.aoMapUv),P.push(I.bumpMapUv),P.push(I.normalMapUv),P.push(I.displacementMapUv),P.push(I.emissiveMapUv),P.push(I.metalnessMapUv),P.push(I.roughnessMapUv),P.push(I.anisotropyMapUv),P.push(I.clearcoatMapUv),P.push(I.clearcoatNormalMapUv),P.push(I.clearcoatRoughnessMapUv),P.push(I.iridescenceMapUv),P.push(I.iridescenceThicknessMapUv),P.push(I.sheenColorMapUv),P.push(I.sheenRoughnessMapUv),P.push(I.specularMapUv),P.push(I.specularColorMapUv),P.push(I.specularIntensityMapUv),P.push(I.transmissionMapUv),P.push(I.thicknessMapUv),P.push(I.combine),P.push(I.fogExp2),P.push(I.sizeAttenuation),P.push(I.morphTargetsCount),P.push(I.morphAttributeCount),P.push(I.numDirLights),P.push(I.numPointLights),P.push(I.numSpotLights),P.push(I.numSpotLightMaps),P.push(I.numHemiLights),P.push(I.numRectAreaLights),P.push(I.numDirLightShadows),P.push(I.numPointLightShadows),P.push(I.numSpotLightShadows),P.push(I.numSpotLightShadowsWithMaps),P.push(I.numLightProbes),P.push(I.shadowMapType),P.push(I.toneMapping),P.push(I.numClippingPlanes),P.push(I.numClipIntersection),P.push(I.depthPacking)}function w(P,I){u.disableAll(),I.isWebGL2&&u.enable(0),I.supportsVertexTextures&&u.enable(1),I.instancing&&u.enable(2),I.instancingColor&&u.enable(3),I.matcap&&u.enable(4),I.envMap&&u.enable(5),I.normalMapObjectSpace&&u.enable(6),I.normalMapTangentSpace&&u.enable(7),I.clearcoat&&u.enable(8),I.iridescence&&u.enable(9),I.alphaTest&&u.enable(10),I.vertexColors&&u.enable(11),I.vertexAlphas&&u.enable(12),I.vertexUv1s&&u.enable(13),I.vertexUv2s&&u.enable(14),I.vertexUv3s&&u.enable(15),I.vertexTangents&&u.enable(16),I.anisotropy&&u.enable(17),I.alphaHash&&u.enable(18),P.push(u.mask),u.disableAll(),I.fog&&u.enable(0),I.useFog&&u.enable(1),I.flatShading&&u.enable(2),I.logarithmicDepthBuffer&&u.enable(3),I.skinning&&u.enable(4),I.morphTargets&&u.enable(5),I.morphNormals&&u.enable(6),I.morphColors&&u.enable(7),I.premultipliedAlpha&&u.enable(8),I.shadowMapEnabled&&u.enable(9),I.useLegacyLights&&u.enable(10),I.doubleSided&&u.enable(11),I.flipSided&&u.enable(12),I.useDepthPacking&&u.enable(13),I.dithering&&u.enable(14),I.transmission&&u.enable(15),I.sheen&&u.enable(16),I.opaque&&u.enable(17),I.pointsUvs&&u.enable(18),I.decodeVideoTexture&&u.enable(19),P.push(u.mask)}function L(P){const I=_[P.type];let q;if(I){const j=rc[I];q=F1.clone(j.uniforms)}else q=P.uniforms;return q}function U(P,I){let q;for(let j=0,J=f.length;j<J;j++){const W=f[j];if(W.cacheKey===I){q=W,++q.usedTimes;break}}return q===void 0&&(q=new dre(n,I,P,s),f.push(q)),q}function k(P){if(--P.usedTimes===0){const I=f.indexOf(P);f[I]=f[f.length-1],f.pop(),P.destroy()}}function V(P){h.remove(P)}function H(){h.dispose()}return{getParameters:N,getProgramCacheKey:T,getUniforms:L,acquireProgram:U,releaseProgram:k,releaseShaderCache:V,programs:f,dispose:H}}function gre(){let n=new WeakMap;function e(s){let l=n.get(s);return l===void 0&&(l={},n.set(s,l)),l}function t(s){n.delete(s)}function i(s,l,u){n.get(s)[l]=u}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function yre(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Zk(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Jk(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function l(v,y,x,_,M,N){let T=n[e];return T===void 0?(T={id:v.id,object:v,geometry:y,material:x,groupOrder:_,renderOrder:v.renderOrder,z:M,group:N},n[e]=T):(T.id=v.id,T.object=v,T.geometry=y,T.material=x,T.groupOrder=_,T.renderOrder=v.renderOrder,T.z=M,T.group=N),e++,T}function u(v,y,x,_,M,N){const T=l(v,y,x,_,M,N);x.transmission>0?i.push(T):x.transparent===!0?r.push(T):t.push(T)}function h(v,y,x,_,M,N){const T=l(v,y,x,_,M,N);x.transmission>0?i.unshift(T):x.transparent===!0?r.unshift(T):t.unshift(T)}function f(v,y){t.length>1&&t.sort(v||yre),i.length>1&&i.sort(y||Zk),r.length>1&&r.sort(y||Zk)}function p(){for(let v=e,y=n.length;v<y;v++){const x=n[v];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:u,unshift:h,finish:p,sort:f}}function bre(){let n=new WeakMap;function e(i,r){const s=n.get(i);let l;return s===void 0?(l=new Jk,n.set(i,[l])):r>=s.length?(l=new Jk,s.push(l)):l=s[r],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function xre(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new fe,color:new Jt};break;case"SpotLight":t={position:new fe,direction:new fe,color:new Jt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new fe,color:new Jt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new fe,skyColor:new Jt,groundColor:new Jt};break;case"RectAreaLight":t={color:new Jt,position:new fe,halfWidth:new fe,halfHeight:new fe};break}return n[e.id]=t,t}}}function Sre(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new wt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new wt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new wt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let _re=0;function Ere(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Tre(n,e){const t=new xre,i=Sre(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)r.probe.push(new fe);const s=new fe,l=new Bn,u=new Bn;function h(p,v){let y=0,x=0,_=0;for(let j=0;j<9;j++)r.probe[j].set(0,0,0);let M=0,N=0,T=0,A=0,w=0,L=0,U=0,k=0,V=0,H=0,P=0;p.sort(Ere);const I=v===!0?Math.PI:1;for(let j=0,J=p.length;j<J;j++){const W=p[j],se=W.color,te=W.intensity,ae=W.distance,ge=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)y+=se.r*te*I,x+=se.g*te*I,_+=se.b*te*I;else if(W.isLightProbe){for(let ve=0;ve<9;ve++)r.probe[ve].addScaledVector(W.sh.coefficients[ve],te);P++}else if(W.isDirectionalLight){const ve=t.get(W);if(ve.color.copy(W.color).multiplyScalar(W.intensity*I),W.castShadow){const ce=W.shadow,Y=i.get(W);Y.shadowBias=ce.bias,Y.shadowNormalBias=ce.normalBias,Y.shadowRadius=ce.radius,Y.shadowMapSize=ce.mapSize,r.directionalShadow[M]=Y,r.directionalShadowMap[M]=ge,r.directionalShadowMatrix[M]=W.shadow.matrix,L++}r.directional[M]=ve,M++}else if(W.isSpotLight){const ve=t.get(W);ve.position.setFromMatrixPosition(W.matrixWorld),ve.color.copy(se).multiplyScalar(te*I),ve.distance=ae,ve.coneCos=Math.cos(W.angle),ve.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),ve.decay=W.decay,r.spot[T]=ve;const ce=W.shadow;if(W.map&&(r.spotLightMap[V]=W.map,V++,ce.updateMatrices(W),W.castShadow&&H++),r.spotLightMatrix[T]=ce.matrix,W.castShadow){const Y=i.get(W);Y.shadowBias=ce.bias,Y.shadowNormalBias=ce.normalBias,Y.shadowRadius=ce.radius,Y.shadowMapSize=ce.mapSize,r.spotShadow[T]=Y,r.spotShadowMap[T]=ge,k++}T++}else if(W.isRectAreaLight){const ve=t.get(W);ve.color.copy(se).multiplyScalar(te),ve.halfWidth.set(W.width*.5,0,0),ve.halfHeight.set(0,W.height*.5,0),r.rectArea[A]=ve,A++}else if(W.isPointLight){const ve=t.get(W);if(ve.color.copy(W.color).multiplyScalar(W.intensity*I),ve.distance=W.distance,ve.decay=W.decay,W.castShadow){const ce=W.shadow,Y=i.get(W);Y.shadowBias=ce.bias,Y.shadowNormalBias=ce.normalBias,Y.shadowRadius=ce.radius,Y.shadowMapSize=ce.mapSize,Y.shadowCameraNear=ce.camera.near,Y.shadowCameraFar=ce.camera.far,r.pointShadow[N]=Y,r.pointShadowMap[N]=ge,r.pointShadowMatrix[N]=W.shadow.matrix,U++}r.point[N]=ve,N++}else if(W.isHemisphereLight){const ve=t.get(W);ve.skyColor.copy(W.color).multiplyScalar(te*I),ve.groundColor.copy(W.groundColor).multiplyScalar(te*I),r.hemi[w]=ve,w++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Kt.LTC_FLOAT_1,r.rectAreaLTC2=Kt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Kt.LTC_HALF_1,r.rectAreaLTC2=Kt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=y,r.ambient[1]=x,r.ambient[2]=_;const q=r.hash;(q.directionalLength!==M||q.pointLength!==N||q.spotLength!==T||q.rectAreaLength!==A||q.hemiLength!==w||q.numDirectionalShadows!==L||q.numPointShadows!==U||q.numSpotShadows!==k||q.numSpotMaps!==V||q.numLightProbes!==P)&&(r.directional.length=M,r.spot.length=T,r.rectArea.length=A,r.point.length=N,r.hemi.length=w,r.directionalShadow.length=L,r.directionalShadowMap.length=L,r.pointShadow.length=U,r.pointShadowMap.length=U,r.spotShadow.length=k,r.spotShadowMap.length=k,r.directionalShadowMatrix.length=L,r.pointShadowMatrix.length=U,r.spotLightMatrix.length=k+V-H,r.spotLightMap.length=V,r.numSpotLightShadowsWithMaps=H,r.numLightProbes=P,q.directionalLength=M,q.pointLength=N,q.spotLength=T,q.rectAreaLength=A,q.hemiLength=w,q.numDirectionalShadows=L,q.numPointShadows=U,q.numSpotShadows=k,q.numSpotMaps=V,q.numLightProbes=P,r.version=_re++)}function f(p,v){let y=0,x=0,_=0,M=0,N=0;const T=v.matrixWorldInverse;for(let A=0,w=p.length;A<w;A++){const L=p[A];if(L.isDirectionalLight){const U=r.directional[y];U.direction.setFromMatrixPosition(L.matrixWorld),s.setFromMatrixPosition(L.target.matrixWorld),U.direction.sub(s),U.direction.transformDirection(T),y++}else if(L.isSpotLight){const U=r.spot[_];U.position.setFromMatrixPosition(L.matrixWorld),U.position.applyMatrix4(T),U.direction.setFromMatrixPosition(L.matrixWorld),s.setFromMatrixPosition(L.target.matrixWorld),U.direction.sub(s),U.direction.transformDirection(T),_++}else if(L.isRectAreaLight){const U=r.rectArea[M];U.position.setFromMatrixPosition(L.matrixWorld),U.position.applyMatrix4(T),u.identity(),l.copy(L.matrixWorld),l.premultiply(T),u.extractRotation(l),U.halfWidth.set(L.width*.5,0,0),U.halfHeight.set(0,L.height*.5,0),U.halfWidth.applyMatrix4(u),U.halfHeight.applyMatrix4(u),M++}else if(L.isPointLight){const U=r.point[x];U.position.setFromMatrixPosition(L.matrixWorld),U.position.applyMatrix4(T),x++}else if(L.isHemisphereLight){const U=r.hemi[N];U.direction.setFromMatrixPosition(L.matrixWorld),U.direction.transformDirection(T),N++}}}return{setup:h,setupView:f,state:r}}function Qk(n,e){const t=new Tre(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function l(v){i.push(v)}function u(v){r.push(v)}function h(v){t.setup(i,v)}function f(v){t.setupView(i,v)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:h,setupLightsView:f,pushLight:l,pushShadow:u}}function Nre(n,e){let t=new WeakMap;function i(s,l=0){const u=t.get(s);let h;return u===void 0?(h=new Qk(n,e),t.set(s,[h])):l>=u.length?(h=new Qk(n,e),u.push(h)):h=u[l],h}function r(){t=new WeakMap}return{get:i,dispose:r}}class UA extends Ys{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=mj,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class OA extends Ys{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Mre=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,wre=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Cre(n,e,t){let i=new LA;const r=new wt,s=new wt,l=new hi,u=new UA({depthPacking:e3}),h=new OA,f={},p=t.maxTextureSize,v={[oh]:mo,[mo]:oh,[Cl]:Cl},y=new fc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new wt},radius:{value:4}},vertexShader:Mre,fragmentShader:wre}),x=y.clone();x.defines.HORIZONTAL_PASS=1;const _=new ri;_.setAttribute("position",new nr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new la(_,y),N=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=MA;let T=this.type;this.render=function(U,k,V){if(N.enabled===!1||N.autoUpdate===!1&&N.needsUpdate===!1||U.length===0)return;const H=n.getRenderTarget(),P=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),q=n.state;q.setBlending(ah),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);const j=T!==nc&&this.type===nc,J=T===nc&&this.type!==nc;for(let W=0,se=U.length;W<se;W++){const te=U[W],ae=te.shadow;if(ae===void 0){console.warn("THREE.WebGLShadowMap:",te,"has no shadow.");continue}if(ae.autoUpdate===!1&&ae.needsUpdate===!1)continue;r.copy(ae.mapSize);const ge=ae.getFrameExtents();if(r.multiply(ge),s.copy(ae.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(s.x=Math.floor(p/ge.x),r.x=s.x*ge.x,ae.mapSize.x=s.x),r.y>p&&(s.y=Math.floor(p/ge.y),r.y=s.y*ge.y,ae.mapSize.y=s.y)),ae.map===null||j===!0||J===!0){const ce=this.type!==nc?{minFilter:oa,magFilter:oa}:{};ae.map!==null&&ae.map.dispose(),ae.map=new cc(r.x,r.y,ce),ae.map.texture.name=te.name+".shadowMap",ae.camera.updateProjectionMatrix()}n.setRenderTarget(ae.map),n.clear();const ve=ae.getViewportCount();for(let ce=0;ce<ve;ce++){const Y=ae.getViewport(ce);l.set(s.x*Y.x,s.y*Y.y,s.x*Y.z,s.y*Y.w),q.viewport(l),ae.updateMatrices(te,ce),i=ae.getFrustum(),L(k,V,ae.camera,te,this.type)}ae.isPointLightShadow!==!0&&this.type===nc&&A(ae,V),ae.needsUpdate=!1}T=this.type,N.needsUpdate=!1,n.setRenderTarget(H,P,I)};function A(U,k){const V=e.update(M);y.defines.VSM_SAMPLES!==U.blurSamples&&(y.defines.VSM_SAMPLES=U.blurSamples,x.defines.VSM_SAMPLES=U.blurSamples,y.needsUpdate=!0,x.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new cc(r.x,r.y)),y.uniforms.shadow_pass.value=U.map.texture,y.uniforms.resolution.value=U.mapSize,y.uniforms.radius.value=U.radius,n.setRenderTarget(U.mapPass),n.clear(),n.renderBufferDirect(k,null,V,y,M,null),x.uniforms.shadow_pass.value=U.mapPass.texture,x.uniforms.resolution.value=U.mapSize,x.uniforms.radius.value=U.radius,n.setRenderTarget(U.map),n.clear(),n.renderBufferDirect(k,null,V,x,M,null)}function w(U,k,V,H){let P=null;const I=V.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(I!==void 0)P=I;else if(P=V.isPointLight===!0?h:u,n.localClippingEnabled&&k.clipShadows===!0&&Array.isArray(k.clippingPlanes)&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0||k.map&&k.alphaTest>0){const q=P.uuid,j=k.uuid;let J=f[q];J===void 0&&(J={},f[q]=J);let W=J[j];W===void 0&&(W=P.clone(),J[j]=W),P=W}if(P.visible=k.visible,P.wireframe=k.wireframe,H===nc?P.side=k.shadowSide!==null?k.shadowSide:k.side:P.side=k.shadowSide!==null?k.shadowSide:v[k.side],P.alphaMap=k.alphaMap,P.alphaTest=k.alphaTest,P.map=k.map,P.clipShadows=k.clipShadows,P.clippingPlanes=k.clippingPlanes,P.clipIntersection=k.clipIntersection,P.displacementMap=k.displacementMap,P.displacementScale=k.displacementScale,P.displacementBias=k.displacementBias,P.wireframeLinewidth=k.wireframeLinewidth,P.linewidth=k.linewidth,V.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const q=n.properties.get(P);q.light=V}return P}function L(U,k,V,H,P){if(U.visible===!1)return;if(U.layers.test(k.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&P===nc)&&(!U.frustumCulled||i.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,U.matrixWorld);const j=e.update(U),J=U.material;if(Array.isArray(J)){const W=j.groups;for(let se=0,te=W.length;se<te;se++){const ae=W[se],ge=J[ae.materialIndex];if(ge&&ge.visible){const ve=w(U,ge,H,P);n.renderBufferDirect(V,null,j,ve,U,ae)}}}else if(J.visible){const W=w(U,J,H,P);n.renderBufferDirect(V,null,j,W,U,null)}}const q=U.children;for(let j=0,J=q.length;j<J;j++)L(q[j],k,V,H,P)}}function Are(n,e,t){const i=t.isWebGL2;function r(){let me=!1;const at=new hi;let bt=null;const We=new hi(0,0,0,0);return{setMask:function(Et){bt!==Et&&!me&&(n.colorMask(Et,Et,Et,Et),bt=Et)},setLocked:function(Et){me=Et},setClear:function(Et,Vt,Rt,ln,Mn){Mn===!0&&(Et*=ln,Vt*=ln,Rt*=ln),at.set(Et,Vt,Rt,ln),We.equals(at)===!1&&(n.clearColor(Et,Vt,Rt,ln),We.copy(at))},reset:function(){me=!1,bt=null,We.set(-1,0,0,0)}}}function s(){let me=!1,at=null,bt=null,We=null;return{setTest:function(Et){Et?st(n.DEPTH_TEST):dt(n.DEPTH_TEST)},setMask:function(Et){at!==Et&&!me&&(n.depthMask(Et),at=Et)},setFunc:function(Et){if(bt!==Et){switch(Et){case jH:n.depthFunc(n.NEVER);break;case GH:n.depthFunc(n.ALWAYS);break;case WH:n.depthFunc(n.LESS);break;case _1:n.depthFunc(n.LEQUAL);break;case YH:n.depthFunc(n.EQUAL);break;case XH:n.depthFunc(n.GEQUAL);break;case qH:n.depthFunc(n.GREATER);break;case $H:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}bt=Et}},setLocked:function(Et){me=Et},setClear:function(Et){We!==Et&&(n.clearDepth(Et),We=Et)},reset:function(){me=!1,at=null,bt=null,We=null}}}function l(){let me=!1,at=null,bt=null,We=null,Et=null,Vt=null,Rt=null,ln=null,Mn=null;return{setTest:function(dn){me||(dn?st(n.STENCIL_TEST):dt(n.STENCIL_TEST))},setMask:function(dn){at!==dn&&!me&&(n.stencilMask(dn),at=dn)},setFunc:function(dn,bn,Un){(bt!==dn||We!==bn||Et!==Un)&&(n.stencilFunc(dn,bn,Un),bt=dn,We=bn,Et=Un)},setOp:function(dn,bn,Un){(Vt!==dn||Rt!==bn||ln!==Un)&&(n.stencilOp(dn,bn,Un),Vt=dn,Rt=bn,ln=Un)},setLocked:function(dn){me=dn},setClear:function(dn){Mn!==dn&&(n.clearStencil(dn),Mn=dn)},reset:function(){me=!1,at=null,bt=null,We=null,Et=null,Vt=null,Rt=null,ln=null,Mn=null}}}const u=new r,h=new s,f=new l,p=new WeakMap,v=new WeakMap;let y={},x={},_=new WeakMap,M=[],N=null,T=!1,A=null,w=null,L=null,U=null,k=null,V=null,H=null,P=new Jt(0,0,0),I=0,q=!1,j=null,J=null,W=null,se=null,te=null;const ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ge=!1,ve=0;const ce=n.getParameter(n.VERSION);ce.indexOf("WebGL")!==-1?(ve=parseFloat(/^WebGL (\d)/.exec(ce)[1]),ge=ve>=1):ce.indexOf("OpenGL ES")!==-1&&(ve=parseFloat(/^OpenGL ES (\d)/.exec(ce)[1]),ge=ve>=2);let Y=null,ee={};const le=n.getParameter(n.SCISSOR_BOX),ye=n.getParameter(n.VIEWPORT),be=new hi().fromArray(le),we=new hi().fromArray(ye);function Oe(me,at,bt,We){const Et=new Uint8Array(4),Vt=n.createTexture();n.bindTexture(me,Vt),n.texParameteri(me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Rt=0;Rt<bt;Rt++)i&&(me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY)?n.texImage3D(at,0,n.RGBA,1,1,We,0,n.RGBA,n.UNSIGNED_BYTE,Et):n.texImage2D(at+Rt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Et);return Vt}const De={};De[n.TEXTURE_2D]=Oe(n.TEXTURE_2D,n.TEXTURE_2D,1),De[n.TEXTURE_CUBE_MAP]=Oe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(De[n.TEXTURE_2D_ARRAY]=Oe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),De[n.TEXTURE_3D]=Oe(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),u.setClear(0,0,0,1),h.setClear(1),f.setClear(0),st(n.DEPTH_TEST),h.setFunc(_1),Ge(!1),it(nU),st(n.CULL_FACE),Ve(ah);function st(me){y[me]!==!0&&(n.enable(me),y[me]=!0)}function dt(me){y[me]!==!1&&(n.disable(me),y[me]=!1)}function ze(me,at){return x[me]!==at?(n.bindFramebuffer(me,at),x[me]=at,i&&(me===n.DRAW_FRAMEBUFFER&&(x[n.FRAMEBUFFER]=at),me===n.FRAMEBUFFER&&(x[n.DRAW_FRAMEBUFFER]=at)),!0):!1}function ie(me,at){let bt=M,We=!1;if(me)if(bt=_.get(at),bt===void 0&&(bt=[],_.set(at,bt)),me.isWebGLMultipleRenderTargets){const Et=me.texture;if(bt.length!==Et.length||bt[0]!==n.COLOR_ATTACHMENT0){for(let Vt=0,Rt=Et.length;Vt<Rt;Vt++)bt[Vt]=n.COLOR_ATTACHMENT0+Vt;bt.length=Et.length,We=!0}}else bt[0]!==n.COLOR_ATTACHMENT0&&(bt[0]=n.COLOR_ATTACHMENT0,We=!0);else bt[0]!==n.BACK&&(bt[0]=n.BACK,We=!0);We&&(t.isWebGL2?n.drawBuffers(bt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(bt))}function $e(me){return N!==me?(n.useProgram(me),N=me,!0):!1}const Le={[Op]:n.FUNC_ADD,[CH]:n.FUNC_SUBTRACT,[AH]:n.FUNC_REVERSE_SUBTRACT};if(i)Le[aU]=n.MIN,Le[sU]=n.MAX;else{const me=e.get("EXT_blend_minmax");me!==null&&(Le[aU]=me.MIN_EXT,Le[sU]=me.MAX_EXT)}const je={[RH]:n.ZERO,[DH]:n.ONE,[LH]:n.SRC_COLOR,[$C]:n.SRC_ALPHA,[VH]:n.SRC_ALPHA_SATURATE,[FH]:n.DST_COLOR,[UH]:n.DST_ALPHA,[PH]:n.ONE_MINUS_SRC_COLOR,[KC]:n.ONE_MINUS_SRC_ALPHA,[IH]:n.ONE_MINUS_DST_COLOR,[OH]:n.ONE_MINUS_DST_ALPHA,[kH]:n.CONSTANT_COLOR,[BH]:n.ONE_MINUS_CONSTANT_COLOR,[zH]:n.CONSTANT_ALPHA,[HH]:n.ONE_MINUS_CONSTANT_ALPHA};function Ve(me,at,bt,We,Et,Vt,Rt,ln,Mn,dn){if(me===ah){T===!0&&(dt(n.BLEND),T=!1);return}if(T===!1&&(st(n.BLEND),T=!0),me!==wH){if(me!==A||dn!==q){if((w!==Op||k!==Op)&&(n.blendEquation(n.FUNC_ADD),w=Op,k=Op),dn)switch(me){case Mg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case qC:n.blendFunc(n.ONE,n.ONE);break;case iU:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case rU:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}else switch(me){case Mg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case qC:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case iU:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case rU:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}L=null,U=null,V=null,H=null,P.set(0,0,0),I=0,A=me,q=dn}return}Et=Et||at,Vt=Vt||bt,Rt=Rt||We,(at!==w||Et!==k)&&(n.blendEquationSeparate(Le[at],Le[Et]),w=at,k=Et),(bt!==L||We!==U||Vt!==V||Rt!==H)&&(n.blendFuncSeparate(je[bt],je[We],je[Vt],je[Rt]),L=bt,U=We,V=Vt,H=Rt),(ln.equals(P)===!1||Mn!==I)&&(n.blendColor(ln.r,ln.g,ln.b,Mn),P.copy(ln),I=Mn),A=me,q=!1}function ft(me,at){me.side===Cl?dt(n.CULL_FACE):st(n.CULL_FACE);let bt=me.side===mo;at&&(bt=!bt),Ge(bt),me.blending===Mg&&me.transparent===!1?Ve(ah):Ve(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.blendColor,me.blendAlpha,me.premultipliedAlpha),h.setFunc(me.depthFunc),h.setTest(me.depthTest),h.setMask(me.depthWrite),u.setMask(me.colorWrite);const We=me.stencilWrite;f.setTest(We),We&&(f.setMask(me.stencilWriteMask),f.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),f.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),Ye(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),me.alphaToCoverage===!0?st(n.SAMPLE_ALPHA_TO_COVERAGE):dt(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ge(me){j!==me&&(me?n.frontFace(n.CW):n.frontFace(n.CCW),j=me)}function it(me){me!==TH?(st(n.CULL_FACE),me!==J&&(me===nU?n.cullFace(n.BACK):me===NH?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):dt(n.CULL_FACE),J=me}function vt(me){me!==W&&(ge&&n.lineWidth(me),W=me)}function Ye(me,at,bt){me?(st(n.POLYGON_OFFSET_FILL),(se!==at||te!==bt)&&(n.polygonOffset(at,bt),se=at,te=bt)):dt(n.POLYGON_OFFSET_FILL)}function Lt(me){me?st(n.SCISSOR_TEST):dt(n.SCISSOR_TEST)}function Q(me){me===void 0&&(me=n.TEXTURE0+ae-1),Y!==me&&(n.activeTexture(me),Y=me)}function K(me,at,bt){bt===void 0&&(Y===null?bt=n.TEXTURE0+ae-1:bt=Y);let We=ee[bt];We===void 0&&(We={type:void 0,texture:void 0},ee[bt]=We),(We.type!==me||We.texture!==at)&&(Y!==bt&&(n.activeTexture(bt),Y=bt),n.bindTexture(me,at||De[me]),We.type=me,We.texture=at)}function Ne(){const me=ee[Y];me!==void 0&&me.type!==void 0&&(n.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function ut(){try{n.compressedTexImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ue(){try{n.compressedTexImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Qe(){try{n.texSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Nt(){try{n.texSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function ht(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function ue(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Te(){try{n.texStorage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function ke(){try{n.texStorage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ae(){try{n.texImage2D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Be(){try{n.texImage3D.apply(n,arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function pe(me){be.equals(me)===!1&&(n.scissor(me.x,me.y,me.z,me.w),be.copy(me))}function Pe(me){we.equals(me)===!1&&(n.viewport(me.x,me.y,me.z,me.w),we.copy(me))}function He(me,at){let bt=v.get(at);bt===void 0&&(bt=new WeakMap,v.set(at,bt));let We=bt.get(me);We===void 0&&(We=n.getUniformBlockIndex(at,me.name),bt.set(me,We))}function Ee(me,at){const We=v.get(at).get(me);p.get(at)!==We&&(n.uniformBlockBinding(at,We,me.__bindingPointIndex),p.set(at,We))}function gt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),y={},Y=null,ee={},x={},_=new WeakMap,M=[],N=null,T=!1,A=null,w=null,L=null,U=null,k=null,V=null,H=null,P=new Jt(0,0,0),I=0,q=!1,j=null,J=null,W=null,se=null,te=null,be.set(0,0,n.canvas.width,n.canvas.height),we.set(0,0,n.canvas.width,n.canvas.height),u.reset(),h.reset(),f.reset()}return{buffers:{color:u,depth:h,stencil:f},enable:st,disable:dt,bindFramebuffer:ze,drawBuffers:ie,useProgram:$e,setBlending:Ve,setMaterial:ft,setFlipSided:Ge,setCullFace:it,setLineWidth:vt,setPolygonOffset:Ye,setScissorTest:Lt,activeTexture:Q,bindTexture:K,unbindTexture:Ne,compressedTexImage2D:ut,compressedTexImage3D:Ue,texImage2D:Ae,texImage3D:Be,updateUBOMapping:He,uniformBlockBinding:Ee,texStorage2D:Te,texStorage3D:ke,texSubImage2D:Qe,texSubImage3D:Nt,compressedTexSubImage2D:ht,compressedTexSubImage3D:ue,scissor:pe,viewport:Pe,reset:gt}}function Rre(n,e,t,i,r,s,l){const u=r.isWebGL2,h=r.maxTextures,f=r.maxCubemapSize,p=r.maxTextureSize,v=r.maxSamples,y=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,x=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),_=new WeakMap;let M;const N=new WeakMap;let T=!1;try{T=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(Q,K){return T?new OffscreenCanvas(Q,K):O1("canvas")}function w(Q,K,Ne,ut){let Ue=1;if((Q.width>ut||Q.height>ut)&&(Ue=ut/Math.max(Q.width,Q.height)),Ue<1||K===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const Qe=K?QC:Math.floor,Nt=Qe(Ue*Q.width),ht=Qe(Ue*Q.height);M===void 0&&(M=A(Nt,ht));const ue=Ne?A(Nt,ht):M;return ue.width=Nt,ue.height=ht,ue.getContext("2d").drawImage(Q,0,0,Nt,ht),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+Nt+"x"+ht+")."),ue}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function L(Q){return OU(Q.width)&&OU(Q.height)}function U(Q){return u?!1:Q.wrapS!==Gs||Q.wrapT!==Gs||Q.minFilter!==oa&&Q.minFilter!==Ur}function k(Q,K){return Q.generateMipmaps&&K&&Q.minFilter!==oa&&Q.minFilter!==Ur}function V(Q){n.generateMipmap(Q)}function H(Q,K,Ne,ut,Ue=!1){if(u===!1)return K;if(Q!==null){if(n[Q]!==void 0)return n[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Qe=K;if(K===n.RED&&(Ne===n.FLOAT&&(Qe=n.R32F),Ne===n.HALF_FLOAT&&(Qe=n.R16F),Ne===n.UNSIGNED_BYTE&&(Qe=n.R8)),K===n.RED_INTEGER&&(Ne===n.UNSIGNED_BYTE&&(Qe=n.R8UI),Ne===n.UNSIGNED_SHORT&&(Qe=n.R16UI),Ne===n.UNSIGNED_INT&&(Qe=n.R32UI),Ne===n.BYTE&&(Qe=n.R8I),Ne===n.SHORT&&(Qe=n.R16I),Ne===n.INT&&(Qe=n.R32I)),K===n.RG&&(Ne===n.FLOAT&&(Qe=n.RG32F),Ne===n.HALF_FLOAT&&(Qe=n.RG16F),Ne===n.UNSIGNED_BYTE&&(Qe=n.RG8)),K===n.RGBA){const Nt=Ue?R1:Xi.getTransfer(ut);Ne===n.FLOAT&&(Qe=n.RGBA32F),Ne===n.HALF_FLOAT&&(Qe=n.RGBA16F),Ne===n.UNSIGNED_BYTE&&(Qe=Nt===sr?n.SRGB8_ALPHA8:n.RGBA8),Ne===n.UNSIGNED_SHORT_4_4_4_4&&(Qe=n.RGBA4),Ne===n.UNSIGNED_SHORT_5_5_5_1&&(Qe=n.RGB5_A1)}return(Qe===n.R16F||Qe===n.R32F||Qe===n.RG16F||Qe===n.RG32F||Qe===n.RGBA16F||Qe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Qe}function P(Q,K,Ne){return k(Q,Ne)===!0||Q.isFramebufferTexture&&Q.minFilter!==oa&&Q.minFilter!==Ur?Math.log2(Math.max(K.width,K.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?K.mipmaps.length:1}function I(Q){return Q===oa||Q===ZC||Q===i1?n.NEAREST:n.LINEAR}function q(Q){const K=Q.target;K.removeEventListener("dispose",q),J(K),K.isVideoTexture&&_.delete(K)}function j(Q){const K=Q.target;K.removeEventListener("dispose",j),se(K)}function J(Q){const K=i.get(Q);if(K.__webglInit===void 0)return;const Ne=Q.source,ut=N.get(Ne);if(ut){const Ue=ut[K.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&W(Q),Object.keys(ut).length===0&&N.delete(Ne)}i.remove(Q)}function W(Q){const K=i.get(Q);n.deleteTexture(K.__webglTexture);const Ne=Q.source,ut=N.get(Ne);delete ut[K.__cacheKey],l.memory.textures--}function se(Q){const K=Q.texture,Ne=i.get(Q),ut=i.get(K);if(ut.__webglTexture!==void 0&&(n.deleteTexture(ut.__webglTexture),l.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++){if(Array.isArray(Ne.__webglFramebuffer[Ue]))for(let Qe=0;Qe<Ne.__webglFramebuffer[Ue].length;Qe++)n.deleteFramebuffer(Ne.__webglFramebuffer[Ue][Qe]);else n.deleteFramebuffer(Ne.__webglFramebuffer[Ue]);Ne.__webglDepthbuffer&&n.deleteRenderbuffer(Ne.__webglDepthbuffer[Ue])}else{if(Array.isArray(Ne.__webglFramebuffer))for(let Ue=0;Ue<Ne.__webglFramebuffer.length;Ue++)n.deleteFramebuffer(Ne.__webglFramebuffer[Ue]);else n.deleteFramebuffer(Ne.__webglFramebuffer);if(Ne.__webglDepthbuffer&&n.deleteRenderbuffer(Ne.__webglDepthbuffer),Ne.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Ne.__webglMultisampledFramebuffer),Ne.__webglColorRenderbuffer)for(let Ue=0;Ue<Ne.__webglColorRenderbuffer.length;Ue++)Ne.__webglColorRenderbuffer[Ue]&&n.deleteRenderbuffer(Ne.__webglColorRenderbuffer[Ue]);Ne.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Ne.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Ue=0,Qe=K.length;Ue<Qe;Ue++){const Nt=i.get(K[Ue]);Nt.__webglTexture&&(n.deleteTexture(Nt.__webglTexture),l.memory.textures--),i.remove(K[Ue])}i.remove(K),i.remove(Q)}let te=0;function ae(){te=0}function ge(){const Q=te;return Q>=h&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+h),te+=1,Q}function ve(Q){const K=[];return K.push(Q.wrapS),K.push(Q.wrapT),K.push(Q.wrapR||0),K.push(Q.magFilter),K.push(Q.minFilter),K.push(Q.anisotropy),K.push(Q.internalFormat),K.push(Q.format),K.push(Q.type),K.push(Q.generateMipmaps),K.push(Q.premultiplyAlpha),K.push(Q.flipY),K.push(Q.unpackAlignment),K.push(Q.colorSpace),K.join()}function ce(Q,K){const Ne=i.get(Q);if(Q.isVideoTexture&&Ye(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&Ne.__version!==Q.version){const ut=Q.image;if(ut===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ut.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{st(Ne,Q,K);return}}t.bindTexture(n.TEXTURE_2D,Ne.__webglTexture,n.TEXTURE0+K)}function Y(Q,K){const Ne=i.get(Q);if(Q.version>0&&Ne.__version!==Q.version){st(Ne,Q,K);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ne.__webglTexture,n.TEXTURE0+K)}function ee(Q,K){const Ne=i.get(Q);if(Q.version>0&&Ne.__version!==Q.version){st(Ne,Q,K);return}t.bindTexture(n.TEXTURE_3D,Ne.__webglTexture,n.TEXTURE0+K)}function le(Q,K){const Ne=i.get(Q);if(Q.version>0&&Ne.__version!==Q.version){dt(Ne,Q,K);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture,n.TEXTURE0+K)}const ye={[N1]:n.REPEAT,[Gs]:n.CLAMP_TO_EDGE,[M1]:n.MIRRORED_REPEAT},be={[oa]:n.NEAREST,[ZC]:n.NEAREST_MIPMAP_NEAREST,[i1]:n.NEAREST_MIPMAP_LINEAR,[Ur]:n.LINEAR,[WO]:n.LINEAR_MIPMAP_NEAREST,[$p]:n.LINEAR_MIPMAP_LINEAR},we={[gj]:n.NEVER,[Tj]:n.ALWAYS,[yj]:n.LESS,[xj]:n.LEQUAL,[bj]:n.EQUAL,[Ej]:n.GEQUAL,[Sj]:n.GREATER,[_j]:n.NOTEQUAL};function Oe(Q,K,Ne){if(Ne?(n.texParameteri(Q,n.TEXTURE_WRAP_S,ye[K.wrapS]),n.texParameteri(Q,n.TEXTURE_WRAP_T,ye[K.wrapT]),(Q===n.TEXTURE_3D||Q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Q,n.TEXTURE_WRAP_R,ye[K.wrapR]),n.texParameteri(Q,n.TEXTURE_MAG_FILTER,be[K.magFilter]),n.texParameteri(Q,n.TEXTURE_MIN_FILTER,be[K.minFilter])):(n.texParameteri(Q,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(Q,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(Q===n.TEXTURE_3D||Q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Q,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(K.wrapS!==Gs||K.wrapT!==Gs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Q,n.TEXTURE_MAG_FILTER,I(K.magFilter)),n.texParameteri(Q,n.TEXTURE_MIN_FILTER,I(K.minFilter)),K.minFilter!==oa&&K.minFilter!==Ur&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),K.compareFunction&&(n.texParameteri(Q,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Q,n.TEXTURE_COMPARE_FUNC,we[K.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const ut=e.get("EXT_texture_filter_anisotropic");if(K.magFilter===oa||K.minFilter!==i1&&K.minFilter!==$p||K.type===Tf&&e.has("OES_texture_float_linear")===!1||u===!1&&K.type===Q0&&e.has("OES_texture_half_float_linear")===!1)return;(K.anisotropy>1||i.get(K).__currentAnisotropy)&&(n.texParameterf(Q,ut.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,r.getMaxAnisotropy())),i.get(K).__currentAnisotropy=K.anisotropy)}}function De(Q,K){let Ne=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,K.addEventListener("dispose",q));const ut=K.source;let Ue=N.get(ut);Ue===void 0&&(Ue={},N.set(ut,Ue));const Qe=ve(K);if(Qe!==Q.__cacheKey){Ue[Qe]===void 0&&(Ue[Qe]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,Ne=!0),Ue[Qe].usedTimes++;const Nt=Ue[Q.__cacheKey];Nt!==void 0&&(Ue[Q.__cacheKey].usedTimes--,Nt.usedTimes===0&&W(K)),Q.__cacheKey=Qe,Q.__webglTexture=Ue[Qe].texture}return Ne}function st(Q,K,Ne){let ut=n.TEXTURE_2D;(K.isDataArrayTexture||K.isCompressedArrayTexture)&&(ut=n.TEXTURE_2D_ARRAY),K.isData3DTexture&&(ut=n.TEXTURE_3D);const Ue=De(Q,K),Qe=K.source;t.bindTexture(ut,Q.__webglTexture,n.TEXTURE0+Ne);const Nt=i.get(Qe);if(Qe.version!==Nt.__version||Ue===!0){t.activeTexture(n.TEXTURE0+Ne);const ht=Xi.getPrimaries(Xi.workingColorSpace),ue=K.colorSpace===Al?null:Xi.getPrimaries(K.colorSpace),Te=K.colorSpace===Al||ht===ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,K.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,K.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Te);const ke=U(K)&&L(K.image)===!1;let Ae=w(K.image,ke,!1,p);Ae=Lt(K,Ae);const Be=L(Ae)||u,pe=s.convert(K.format,K.colorSpace);let Pe=s.convert(K.type),He=H(K.internalFormat,pe,Pe,K.colorSpace,K.isVideoTexture);Oe(ut,K,Be);let Ee;const gt=K.mipmaps,me=u&&K.isVideoTexture!==!0,at=Nt.__version===void 0||Ue===!0,bt=P(K,Ae,Be);if(K.isDepthTexture)He=n.DEPTH_COMPONENT,u?K.type===Tf?He=n.DEPTH_COMPONENT32F:K.type===th?He=n.DEPTH_COMPONENT24:K.type===zp?He=n.DEPTH24_STENCIL8:He=n.DEPTH_COMPONENT16:K.type===Tf&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),K.format===Hp&&He===n.DEPTH_COMPONENT&&K.type!==CA&&K.type!==th&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),K.type=th,Pe=s.convert(K.type)),K.format===Ug&&He===n.DEPTH_COMPONENT&&(He=n.DEPTH_STENCIL,K.type!==zp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),K.type=zp,Pe=s.convert(K.type))),at&&(me?t.texStorage2D(n.TEXTURE_2D,1,He,Ae.width,Ae.height):t.texImage2D(n.TEXTURE_2D,0,He,Ae.width,Ae.height,0,pe,Pe,null));else if(K.isDataTexture)if(gt.length>0&&Be){me&&at&&t.texStorage2D(n.TEXTURE_2D,bt,He,gt[0].width,gt[0].height);for(let We=0,Et=gt.length;We<Et;We++)Ee=gt[We],me?t.texSubImage2D(n.TEXTURE_2D,We,0,0,Ee.width,Ee.height,pe,Pe,Ee.data):t.texImage2D(n.TEXTURE_2D,We,He,Ee.width,Ee.height,0,pe,Pe,Ee.data);K.generateMipmaps=!1}else me?(at&&t.texStorage2D(n.TEXTURE_2D,bt,He,Ae.width,Ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ae.width,Ae.height,pe,Pe,Ae.data)):t.texImage2D(n.TEXTURE_2D,0,He,Ae.width,Ae.height,0,pe,Pe,Ae.data);else if(K.isCompressedTexture)if(K.isCompressedArrayTexture){me&&at&&t.texStorage3D(n.TEXTURE_2D_ARRAY,bt,He,gt[0].width,gt[0].height,Ae.depth);for(let We=0,Et=gt.length;We<Et;We++)Ee=gt[We],K.format!==Ho?pe!==null?me?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,We,0,0,0,Ee.width,Ee.height,Ae.depth,pe,Ee.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,We,He,Ee.width,Ee.height,Ae.depth,0,Ee.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?t.texSubImage3D(n.TEXTURE_2D_ARRAY,We,0,0,0,Ee.width,Ee.height,Ae.depth,pe,Pe,Ee.data):t.texImage3D(n.TEXTURE_2D_ARRAY,We,He,Ee.width,Ee.height,Ae.depth,0,pe,Pe,Ee.data)}else{me&&at&&t.texStorage2D(n.TEXTURE_2D,bt,He,gt[0].width,gt[0].height);for(let We=0,Et=gt.length;We<Et;We++)Ee=gt[We],K.format!==Ho?pe!==null?me?t.compressedTexSubImage2D(n.TEXTURE_2D,We,0,0,Ee.width,Ee.height,pe,Ee.data):t.compressedTexImage2D(n.TEXTURE_2D,We,He,Ee.width,Ee.height,0,Ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?t.texSubImage2D(n.TEXTURE_2D,We,0,0,Ee.width,Ee.height,pe,Pe,Ee.data):t.texImage2D(n.TEXTURE_2D,We,He,Ee.width,Ee.height,0,pe,Pe,Ee.data)}else if(K.isDataArrayTexture)me?(at&&t.texStorage3D(n.TEXTURE_2D_ARRAY,bt,He,Ae.width,Ae.height,Ae.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Ae.width,Ae.height,Ae.depth,pe,Pe,Ae.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,He,Ae.width,Ae.height,Ae.depth,0,pe,Pe,Ae.data);else if(K.isData3DTexture)me?(at&&t.texStorage3D(n.TEXTURE_3D,bt,He,Ae.width,Ae.height,Ae.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Ae.width,Ae.height,Ae.depth,pe,Pe,Ae.data)):t.texImage3D(n.TEXTURE_3D,0,He,Ae.width,Ae.height,Ae.depth,0,pe,Pe,Ae.data);else if(K.isFramebufferTexture){if(at)if(me)t.texStorage2D(n.TEXTURE_2D,bt,He,Ae.width,Ae.height);else{let We=Ae.width,Et=Ae.height;for(let Vt=0;Vt<bt;Vt++)t.texImage2D(n.TEXTURE_2D,Vt,He,We,Et,0,pe,Pe,null),We>>=1,Et>>=1}}else if(gt.length>0&&Be){me&&at&&t.texStorage2D(n.TEXTURE_2D,bt,He,gt[0].width,gt[0].height);for(let We=0,Et=gt.length;We<Et;We++)Ee=gt[We],me?t.texSubImage2D(n.TEXTURE_2D,We,0,0,pe,Pe,Ee):t.texImage2D(n.TEXTURE_2D,We,He,pe,Pe,Ee);K.generateMipmaps=!1}else me?(at&&t.texStorage2D(n.TEXTURE_2D,bt,He,Ae.width,Ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,pe,Pe,Ae)):t.texImage2D(n.TEXTURE_2D,0,He,pe,Pe,Ae);k(K,Be)&&V(ut),Nt.__version=Qe.version,K.onUpdate&&K.onUpdate(K)}Q.__version=K.version}function dt(Q,K,Ne){if(K.image.length!==6)return;const ut=De(Q,K),Ue=K.source;t.bindTexture(n.TEXTURE_CUBE_MAP,Q.__webglTexture,n.TEXTURE0+Ne);const Qe=i.get(Ue);if(Ue.version!==Qe.__version||ut===!0){t.activeTexture(n.TEXTURE0+Ne);const Nt=Xi.getPrimaries(Xi.workingColorSpace),ht=K.colorSpace===Al?null:Xi.getPrimaries(K.colorSpace),ue=K.colorSpace===Al||Nt===ht?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,K.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,K.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ue);const Te=K.isCompressedTexture||K.image[0].isCompressedTexture,ke=K.image[0]&&K.image[0].isDataTexture,Ae=[];for(let We=0;We<6;We++)!Te&&!ke?Ae[We]=w(K.image[We],!1,!0,f):Ae[We]=ke?K.image[We].image:K.image[We],Ae[We]=Lt(K,Ae[We]);const Be=Ae[0],pe=L(Be)||u,Pe=s.convert(K.format,K.colorSpace),He=s.convert(K.type),Ee=H(K.internalFormat,Pe,He,K.colorSpace),gt=u&&K.isVideoTexture!==!0,me=Qe.__version===void 0||ut===!0;let at=P(K,Be,pe);Oe(n.TEXTURE_CUBE_MAP,K,pe);let bt;if(Te){gt&&me&&t.texStorage2D(n.TEXTURE_CUBE_MAP,at,Ee,Be.width,Be.height);for(let We=0;We<6;We++){bt=Ae[We].mipmaps;for(let Et=0;Et<bt.length;Et++){const Vt=bt[Et];K.format!==Ho?Pe!==null?gt?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Et,0,0,Vt.width,Vt.height,Pe,Vt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Et,Ee,Vt.width,Vt.height,0,Vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):gt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Et,0,0,Vt.width,Vt.height,Pe,He,Vt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Et,Ee,Vt.width,Vt.height,0,Pe,He,Vt.data)}}}else{bt=K.mipmaps,gt&&me&&(bt.length>0&&at++,t.texStorage2D(n.TEXTURE_CUBE_MAP,at,Ee,Ae[0].width,Ae[0].height));for(let We=0;We<6;We++)if(ke){gt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,Ae[We].width,Ae[We].height,Pe,He,Ae[We].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,Ee,Ae[We].width,Ae[We].height,0,Pe,He,Ae[We].data);for(let Et=0;Et<bt.length;Et++){const Rt=bt[Et].image[We].image;gt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Et+1,0,0,Rt.width,Rt.height,Pe,He,Rt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Et+1,Ee,Rt.width,Rt.height,0,Pe,He,Rt.data)}}else{gt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,0,0,Pe,He,Ae[We]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0,Ee,Pe,He,Ae[We]);for(let Et=0;Et<bt.length;Et++){const Vt=bt[Et];gt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Et+1,0,0,Pe,He,Vt.image[We]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+We,Et+1,Ee,Pe,He,Vt.image[We])}}}k(K,pe)&&V(n.TEXTURE_CUBE_MAP),Qe.__version=Ue.version,K.onUpdate&&K.onUpdate(K)}Q.__version=K.version}function ze(Q,K,Ne,ut,Ue,Qe){const Nt=s.convert(Ne.format,Ne.colorSpace),ht=s.convert(Ne.type),ue=H(Ne.internalFormat,Nt,ht,Ne.colorSpace);if(!i.get(K).__hasExternalTextures){const ke=Math.max(1,K.width>>Qe),Ae=Math.max(1,K.height>>Qe);Ue===n.TEXTURE_3D||Ue===n.TEXTURE_2D_ARRAY?t.texImage3D(Ue,Qe,ue,ke,Ae,K.depth,0,Nt,ht,null):t.texImage2D(Ue,Qe,ue,ke,Ae,0,Nt,ht,null)}t.bindFramebuffer(n.FRAMEBUFFER,Q),vt(K)?y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ut,Ue,i.get(Ne).__webglTexture,0,it(K)):(Ue===n.TEXTURE_2D||Ue>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ut,Ue,i.get(Ne).__webglTexture,Qe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ie(Q,K,Ne){if(n.bindRenderbuffer(n.RENDERBUFFER,Q),K.depthBuffer&&!K.stencilBuffer){let ut=u===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(Ne||vt(K)){const Ue=K.depthTexture;Ue&&Ue.isDepthTexture&&(Ue.type===Tf?ut=n.DEPTH_COMPONENT32F:Ue.type===th&&(ut=n.DEPTH_COMPONENT24));const Qe=it(K);vt(K)?y.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Qe,ut,K.width,K.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Qe,ut,K.width,K.height)}else n.renderbufferStorage(n.RENDERBUFFER,ut,K.width,K.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,Q)}else if(K.depthBuffer&&K.stencilBuffer){const ut=it(K);Ne&&vt(K)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ut,n.DEPTH24_STENCIL8,K.width,K.height):vt(K)?y.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ut,n.DEPTH24_STENCIL8,K.width,K.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,K.width,K.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,Q)}else{const ut=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let Ue=0;Ue<ut.length;Ue++){const Qe=ut[Ue],Nt=s.convert(Qe.format,Qe.colorSpace),ht=s.convert(Qe.type),ue=H(Qe.internalFormat,Nt,ht,Qe.colorSpace),Te=it(K);Ne&&vt(K)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Te,ue,K.width,K.height):vt(K)?y.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Te,ue,K.width,K.height):n.renderbufferStorage(n.RENDERBUFFER,ue,K.width,K.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function $e(Q,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,Q),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(K.depthTexture).__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),ce(K.depthTexture,0);const ut=i.get(K.depthTexture).__webglTexture,Ue=it(K);if(K.depthTexture.format===Hp)vt(K)?y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ut,0,Ue):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ut,0);else if(K.depthTexture.format===Ug)vt(K)?y.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ut,0,Ue):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ut,0);else throw new Error("Unknown depthTexture format")}function Le(Q){const K=i.get(Q),Ne=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!K.__autoAllocateDepthBuffer){if(Ne)throw new Error("target.depthTexture not supported in Cube render targets");$e(K.__webglFramebuffer,Q)}else if(Ne){K.__webglDepthbuffer=[];for(let ut=0;ut<6;ut++)t.bindFramebuffer(n.FRAMEBUFFER,K.__webglFramebuffer[ut]),K.__webglDepthbuffer[ut]=n.createRenderbuffer(),ie(K.__webglDepthbuffer[ut],Q,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer=n.createRenderbuffer(),ie(K.__webglDepthbuffer,Q,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function je(Q,K,Ne){const ut=i.get(Q);K!==void 0&&ze(ut.__webglFramebuffer,Q,Q.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ne!==void 0&&Le(Q)}function Ve(Q){const K=Q.texture,Ne=i.get(Q),ut=i.get(K);Q.addEventListener("dispose",j),Q.isWebGLMultipleRenderTargets!==!0&&(ut.__webglTexture===void 0&&(ut.__webglTexture=n.createTexture()),ut.__version=K.version,l.memory.textures++);const Ue=Q.isWebGLCubeRenderTarget===!0,Qe=Q.isWebGLMultipleRenderTargets===!0,Nt=L(Q)||u;if(Ue){Ne.__webglFramebuffer=[];for(let ht=0;ht<6;ht++)if(u&&K.mipmaps&&K.mipmaps.length>0){Ne.__webglFramebuffer[ht]=[];for(let ue=0;ue<K.mipmaps.length;ue++)Ne.__webglFramebuffer[ht][ue]=n.createFramebuffer()}else Ne.__webglFramebuffer[ht]=n.createFramebuffer()}else{if(u&&K.mipmaps&&K.mipmaps.length>0){Ne.__webglFramebuffer=[];for(let ht=0;ht<K.mipmaps.length;ht++)Ne.__webglFramebuffer[ht]=n.createFramebuffer()}else Ne.__webglFramebuffer=n.createFramebuffer();if(Qe)if(r.drawBuffers){const ht=Q.texture;for(let ue=0,Te=ht.length;ue<Te;ue++){const ke=i.get(ht[ue]);ke.__webglTexture===void 0&&(ke.__webglTexture=n.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&Q.samples>0&&vt(Q)===!1){const ht=Qe?K:[K];Ne.__webglMultisampledFramebuffer=n.createFramebuffer(),Ne.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer);for(let ue=0;ue<ht.length;ue++){const Te=ht[ue];Ne.__webglColorRenderbuffer[ue]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ne.__webglColorRenderbuffer[ue]);const ke=s.convert(Te.format,Te.colorSpace),Ae=s.convert(Te.type),Be=H(Te.internalFormat,ke,Ae,Te.colorSpace,Q.isXRRenderTarget===!0),pe=it(Q);n.renderbufferStorageMultisample(n.RENDERBUFFER,pe,Be,Q.width,Q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ue,n.RENDERBUFFER,Ne.__webglColorRenderbuffer[ue])}n.bindRenderbuffer(n.RENDERBUFFER,null),Q.depthBuffer&&(Ne.__webglDepthRenderbuffer=n.createRenderbuffer(),ie(Ne.__webglDepthRenderbuffer,Q,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ue){t.bindTexture(n.TEXTURE_CUBE_MAP,ut.__webglTexture),Oe(n.TEXTURE_CUBE_MAP,K,Nt);for(let ht=0;ht<6;ht++)if(u&&K.mipmaps&&K.mipmaps.length>0)for(let ue=0;ue<K.mipmaps.length;ue++)ze(Ne.__webglFramebuffer[ht][ue],Q,K,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ht,ue);else ze(Ne.__webglFramebuffer[ht],Q,K,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0);k(K,Nt)&&V(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Qe){const ht=Q.texture;for(let ue=0,Te=ht.length;ue<Te;ue++){const ke=ht[ue],Ae=i.get(ke);t.bindTexture(n.TEXTURE_2D,Ae.__webglTexture),Oe(n.TEXTURE_2D,ke,Nt),ze(Ne.__webglFramebuffer,Q,ke,n.COLOR_ATTACHMENT0+ue,n.TEXTURE_2D,0),k(ke,Nt)&&V(n.TEXTURE_2D)}t.unbindTexture()}else{let ht=n.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(u?ht=Q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ht,ut.__webglTexture),Oe(ht,K,Nt),u&&K.mipmaps&&K.mipmaps.length>0)for(let ue=0;ue<K.mipmaps.length;ue++)ze(Ne.__webglFramebuffer[ue],Q,K,n.COLOR_ATTACHMENT0,ht,ue);else ze(Ne.__webglFramebuffer,Q,K,n.COLOR_ATTACHMENT0,ht,0);k(K,Nt)&&V(ht),t.unbindTexture()}Q.depthBuffer&&Le(Q)}function ft(Q){const K=L(Q)||u,Ne=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let ut=0,Ue=Ne.length;ut<Ue;ut++){const Qe=Ne[ut];if(k(Qe,K)){const Nt=Q.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ht=i.get(Qe).__webglTexture;t.bindTexture(Nt,ht),V(Nt),t.unbindTexture()}}}function Ge(Q){if(u&&Q.samples>0&&vt(Q)===!1){const K=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],Ne=Q.width,ut=Q.height;let Ue=n.COLOR_BUFFER_BIT;const Qe=[],Nt=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ht=i.get(Q),ue=Q.isWebGLMultipleRenderTargets===!0;if(ue)for(let Te=0;Te<K.length;Te++)t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ht.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ht.__webglFramebuffer);for(let Te=0;Te<K.length;Te++){Qe.push(n.COLOR_ATTACHMENT0+Te),Q.depthBuffer&&Qe.push(Nt);const ke=ht.__ignoreDepthValues!==void 0?ht.__ignoreDepthValues:!1;if(ke===!1&&(Q.depthBuffer&&(Ue|=n.DEPTH_BUFFER_BIT),Q.stencilBuffer&&(Ue|=n.STENCIL_BUFFER_BIT)),ue&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ht.__webglColorRenderbuffer[Te]),ke===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Nt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Nt])),ue){const Ae=i.get(K[Te]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ae,0)}n.blitFramebuffer(0,0,Ne,ut,0,0,Ne,ut,Ue,n.NEAREST),x&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Qe)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ue)for(let Te=0;Te<K.length;Te++){t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.RENDERBUFFER,ht.__webglColorRenderbuffer[Te]);const ke=i.get(K[Te]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Te,n.TEXTURE_2D,ke,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ht.__webglMultisampledFramebuffer)}}function it(Q){return Math.min(v,Q.samples)}function vt(Q){const K=i.get(Q);return u&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function Ye(Q){const K=l.render.frame;_.get(Q)!==K&&(_.set(Q,K),Q.update())}function Lt(Q,K){const Ne=Q.colorSpace,ut=Q.format,Ue=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===JC||Ne!==Df&&Ne!==Al&&(Xi.getTransfer(Ne)===sr?u===!1?e.has("EXT_sRGB")===!0&&ut===Ho?(Q.format=JC,Q.minFilter=Ur,Q.generateMipmaps=!1):K=n3.sRGBToLinear(K):(ut!==Ho||Ue!==Cf)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ne)),K}this.allocateTextureUnit=ge,this.resetTextureUnits=ae,this.setTexture2D=ce,this.setTexture2DArray=Y,this.setTexture3D=ee,this.setTextureCube=le,this.rebindTextures=je,this.setupRenderTarget=Ve,this.updateRenderTargetMipmap=ft,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=Le,this.setupFrameBufferTexture=ze,this.useMultisampledRTT=vt}function kj(n,e,t){const i=t.isWebGL2;function r(s,l=Al){let u;const h=Xi.getTransfer(l);if(s===Cf)return n.UNSIGNED_BYTE;if(s===XO)return n.UNSIGNED_SHORT_4_4_4_4;if(s===qO)return n.UNSIGNED_SHORT_5_5_5_1;if(s===ij)return n.BYTE;if(s===rj)return n.SHORT;if(s===CA)return n.UNSIGNED_SHORT;if(s===YO)return n.INT;if(s===th)return n.UNSIGNED_INT;if(s===Tf)return n.FLOAT;if(s===Q0)return i?n.HALF_FLOAT:(u=e.get("OES_texture_half_float"),u!==null?u.HALF_FLOAT_OES:null);if(s===aj)return n.ALPHA;if(s===Ho)return n.RGBA;if(s===sj)return n.LUMINANCE;if(s===oj)return n.LUMINANCE_ALPHA;if(s===Hp)return n.DEPTH_COMPONENT;if(s===Ug)return n.DEPTH_STENCIL;if(s===JC)return u=e.get("EXT_sRGB"),u!==null?u.SRGB_ALPHA_EXT:null;if(s===lj)return n.RED;if(s===$O)return n.RED_INTEGER;if(s===uj)return n.RG;if(s===KO)return n.RG_INTEGER;if(s===ZO)return n.RGBA_INTEGER;if(s===SC||s===_C||s===EC||s===TC)if(h===sr)if(u=e.get("WEBGL_compressed_texture_s3tc_srgb"),u!==null){if(s===SC)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===_C)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===EC)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===TC)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(u=e.get("WEBGL_compressed_texture_s3tc"),u!==null){if(s===SC)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===_C)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===EC)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===TC)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===lU||s===uU||s===cU||s===fU)if(u=e.get("WEBGL_compressed_texture_pvrtc"),u!==null){if(s===lU)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===uU)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===cU)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===fU)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===cj)return u=e.get("WEBGL_compressed_texture_etc1"),u!==null?u.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===dU||s===hU)if(u=e.get("WEBGL_compressed_texture_etc"),u!==null){if(s===dU)return h===sr?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(s===hU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===pU||s===mU||s===vU||s===gU||s===yU||s===bU||s===xU||s===SU||s===_U||s===EU||s===TU||s===NU||s===MU||s===wU)if(u=e.get("WEBGL_compressed_texture_astc"),u!==null){if(s===pU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===mU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===vU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===gU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===yU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===bU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===xU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===SU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===_U)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===EU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===TU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===NU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===MU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===wU)return h===sr?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===NC||s===CU||s===AU)if(u=e.get("EXT_texture_compression_bptc"),u!==null){if(s===NC)return h===sr?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===CU)return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===AU)return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===fj||s===RU||s===DU||s===LU)if(u=e.get("EXT_texture_compression_rgtc"),u!==null){if(s===NC)return u.COMPRESSED_RED_RGTC1_EXT;if(s===RU)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===DU)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===LU)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===zp?i?n.UNSIGNED_INT_24_8:(u=e.get("WEBGL_depth_texture"),u!==null?u.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class Bj extends Or{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class j0 extends Ri{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Dre={type:"move"};class qL{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new j0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new j0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new j0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,l=null;const u=this._targetRay,h=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){l=!0;for(const M of e.hand.values()){const N=t.getJointPose(M,i),T=this._getHandJoint(f,M);N!==null&&(T.matrix.fromArray(N.transform.matrix),T.matrix.decompose(T.position,T.rotation,T.scale),T.matrixWorldNeedsUpdate=!0,T.jointRadius=N.radius),T.visible=N!==null}const p=f.joints["index-finger-tip"],v=f.joints["thumb-tip"],y=p.position.distanceTo(v.position),x=.02,_=.005;f.inputState.pinching&&y>x+_?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&y<=x-_&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(h.matrix.fromArray(s.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,s.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(s.linearVelocity)):h.hasLinearVelocity=!1,s.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(s.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(Dre)))}return u!==null&&(u.visible=r!==null),h!==null&&(h.visible=s!==null),f!==null&&(f.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new j0;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class zj extends $r{constructor(e,t,i,r,s,l,u,h,f,p){if(p=p!==void 0?p:Hp,p!==Hp&&p!==Ug)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&p===Hp&&(i=th),i===void 0&&p===Ug&&(i=zp),super(null,r,s,l,u,h,p,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=u!==void 0?u:oa,this.minFilter=h!==void 0?h:oa,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Lre extends ch{constructor(e,t){super();const i=this;let r=null,s=1,l=null,u="local-floor",h=1,f=null,p=null,v=null,y=null,x=null,_=null;const M=t.getContextAttributes();let N=null,T=null;const A=[],w=[],L=new Or;L.layers.enable(1),L.viewport=new hi;const U=new Or;U.layers.enable(2),U.viewport=new hi;const k=[L,U],V=new Bj;V.layers.enable(1),V.layers.enable(2);let H=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let ee=A[Y];return ee===void 0&&(ee=new qL,A[Y]=ee),ee.getTargetRaySpace()},this.getControllerGrip=function(Y){let ee=A[Y];return ee===void 0&&(ee=new qL,A[Y]=ee),ee.getGripSpace()},this.getHand=function(Y){let ee=A[Y];return ee===void 0&&(ee=new qL,A[Y]=ee),ee.getHandSpace()};function I(Y){const ee=w.indexOf(Y.inputSource);if(ee===-1)return;const le=A[ee];le!==void 0&&(le.update(Y.inputSource,Y.frame,f||l),le.dispatchEvent({type:Y.type,data:Y.inputSource}))}function q(){r.removeEventListener("select",I),r.removeEventListener("selectstart",I),r.removeEventListener("selectend",I),r.removeEventListener("squeeze",I),r.removeEventListener("squeezestart",I),r.removeEventListener("squeezeend",I),r.removeEventListener("end",q),r.removeEventListener("inputsourceschange",j);for(let Y=0;Y<A.length;Y++){const ee=w[Y];ee!==null&&(w[Y]=null,A[Y].disconnect(ee))}H=null,P=null,e.setRenderTarget(N),x=null,y=null,v=null,r=null,T=null,ce.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){u=Y,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||l},this.setReferenceSpace=function(Y){f=Y},this.getBaseLayer=function(){return y!==null?y:x},this.getBinding=function(){return v},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(Y){if(r=Y,r!==null){if(N=e.getRenderTarget(),r.addEventListener("select",I),r.addEventListener("selectstart",I),r.addEventListener("selectend",I),r.addEventListener("squeeze",I),r.addEventListener("squeezestart",I),r.addEventListener("squeezeend",I),r.addEventListener("end",q),r.addEventListener("inputsourceschange",j),M.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ee={antialias:r.renderState.layers===void 0?M.antialias:!0,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:s};x=new XRWebGLLayer(r,t,ee),r.updateRenderState({baseLayer:x}),T=new cc(x.framebufferWidth,x.framebufferHeight,{format:Ho,type:Cf,colorSpace:e.outputColorSpace,stencilBuffer:M.stencil})}else{let ee=null,le=null,ye=null;M.depth&&(ye=M.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ee=M.stencil?Ug:Hp,le=M.stencil?zp:th);const be={colorFormat:t.RGBA8,depthFormat:ye,scaleFactor:s};v=new XRWebGLBinding(r,t),y=v.createProjectionLayer(be),r.updateRenderState({layers:[y]}),T=new cc(y.textureWidth,y.textureHeight,{format:Ho,type:Cf,depthTexture:new zj(y.textureWidth,y.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,ee),stencilBuffer:M.stencil,colorSpace:e.outputColorSpace,samples:M.antialias?4:0});const we=e.properties.get(T);we.__ignoreDepthValues=y.ignoreDepthValues}T.isXRRenderTarget=!0,this.setFoveation(h),f=null,l=await r.requestReferenceSpace(u),ce.setContext(r),ce.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function j(Y){for(let ee=0;ee<Y.removed.length;ee++){const le=Y.removed[ee],ye=w.indexOf(le);ye>=0&&(w[ye]=null,A[ye].disconnect(le))}for(let ee=0;ee<Y.added.length;ee++){const le=Y.added[ee];let ye=w.indexOf(le);if(ye===-1){for(let we=0;we<A.length;we++)if(we>=w.length){w.push(le),ye=we;break}else if(w[we]===null){w[we]=le,ye=we;break}if(ye===-1)break}const be=A[ye];be&&be.connect(le)}}const J=new fe,W=new fe;function se(Y,ee,le){J.setFromMatrixPosition(ee.matrixWorld),W.setFromMatrixPosition(le.matrixWorld);const ye=J.distanceTo(W),be=ee.projectionMatrix.elements,we=le.projectionMatrix.elements,Oe=be[14]/(be[10]-1),De=be[14]/(be[10]+1),st=(be[9]+1)/be[5],dt=(be[9]-1)/be[5],ze=(be[8]-1)/be[0],ie=(we[8]+1)/we[0],$e=Oe*ze,Le=Oe*ie,je=ye/(-ze+ie),Ve=je*-ze;ee.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(Ve),Y.translateZ(je),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const ft=Oe+je,Ge=De+je,it=$e-Ve,vt=Le+(ye-Ve),Ye=st*De/Ge*ft,Lt=dt*De/Ge*ft;Y.projectionMatrix.makePerspective(it,vt,Ye,Lt,ft,Ge),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}function te(Y,ee){ee===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(ee.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(r===null)return;V.near=U.near=L.near=Y.near,V.far=U.far=L.far=Y.far,(H!==V.near||P!==V.far)&&(r.updateRenderState({depthNear:V.near,depthFar:V.far}),H=V.near,P=V.far);const ee=Y.parent,le=V.cameras;te(V,ee);for(let ye=0;ye<le.length;ye++)te(le[ye],ee);le.length===2?se(V,L,U):V.projectionMatrix.copy(L.projectionMatrix),ae(Y,V,ee)};function ae(Y,ee,le){le===null?Y.matrix.copy(ee.matrixWorld):(Y.matrix.copy(le.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(ee.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0),Y.projectionMatrix.copy(ee.projectionMatrix),Y.projectionMatrixInverse.copy(ee.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=ex*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getCamera=function(){return V},this.getFoveation=function(){if(!(y===null&&x===null))return h},this.setFoveation=function(Y){h=Y,y!==null&&(y.fixedFoveation=Y),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=Y)};let ge=null;function ve(Y,ee){if(p=ee.getViewerPose(f||l),_=ee,p!==null){const le=p.views;x!==null&&(e.setRenderTargetFramebuffer(T,x.framebuffer),e.setRenderTarget(T));let ye=!1;le.length!==V.cameras.length&&(V.cameras.length=0,ye=!0);for(let be=0;be<le.length;be++){const we=le[be];let Oe=null;if(x!==null)Oe=x.getViewport(we);else{const st=v.getViewSubImage(y,we);Oe=st.viewport,be===0&&(e.setRenderTargetTextures(T,st.colorTexture,y.ignoreDepthValues?void 0:st.depthStencilTexture),e.setRenderTarget(T))}let De=k[be];De===void 0&&(De=new Or,De.layers.enable(be),De.viewport=new hi,k[be]=De),De.matrix.fromArray(we.transform.matrix),De.matrix.decompose(De.position,De.quaternion,De.scale),De.projectionMatrix.fromArray(we.projectionMatrix),De.projectionMatrixInverse.copy(De.projectionMatrix).invert(),De.viewport.set(Oe.x,Oe.y,Oe.width,Oe.height),be===0&&(V.matrix.copy(De.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale)),ye===!0&&V.cameras.push(De)}}for(let le=0;le<A.length;le++){const ye=w[le],be=A[le];ye!==null&&be!==void 0&&be.update(ye,ee,f||l)}ge&&ge(Y,ee),ee.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ee}),_=null}const ce=new Uj;ce.setAnimationLoop(ve),this.setAnimationLoop=function(Y){ge=Y},this.dispose=function(){}}}function Pre(n,e){function t(N,T){N.matrixAutoUpdate===!0&&N.updateMatrix(),T.value.copy(N.matrix)}function i(N,T){T.color.getRGB(N.fogColor.value,Dj(n)),T.isFog?(N.fogNear.value=T.near,N.fogFar.value=T.far):T.isFogExp2&&(N.fogDensity.value=T.density)}function r(N,T,A,w,L){T.isMeshBasicMaterial||T.isMeshLambertMaterial?s(N,T):T.isMeshToonMaterial?(s(N,T),v(N,T)):T.isMeshPhongMaterial?(s(N,T),p(N,T)):T.isMeshStandardMaterial?(s(N,T),y(N,T),T.isMeshPhysicalMaterial&&x(N,T,L)):T.isMeshMatcapMaterial?(s(N,T),_(N,T)):T.isMeshDepthMaterial?s(N,T):T.isMeshDistanceMaterial?(s(N,T),M(N,T)):T.isMeshNormalMaterial?s(N,T):T.isLineBasicMaterial?(l(N,T),T.isLineDashedMaterial&&u(N,T)):T.isPointsMaterial?h(N,T,A,w):T.isSpriteMaterial?f(N,T):T.isShadowMaterial?(N.color.value.copy(T.color),N.opacity.value=T.opacity):T.isShaderMaterial&&(T.uniformsNeedUpdate=!1)}function s(N,T){N.opacity.value=T.opacity,T.color&&N.diffuse.value.copy(T.color),T.emissive&&N.emissive.value.copy(T.emissive).multiplyScalar(T.emissiveIntensity),T.map&&(N.map.value=T.map,t(T.map,N.mapTransform)),T.alphaMap&&(N.alphaMap.value=T.alphaMap,t(T.alphaMap,N.alphaMapTransform)),T.bumpMap&&(N.bumpMap.value=T.bumpMap,t(T.bumpMap,N.bumpMapTransform),N.bumpScale.value=T.bumpScale,T.side===mo&&(N.bumpScale.value*=-1)),T.normalMap&&(N.normalMap.value=T.normalMap,t(T.normalMap,N.normalMapTransform),N.normalScale.value.copy(T.normalScale),T.side===mo&&N.normalScale.value.negate()),T.displacementMap&&(N.displacementMap.value=T.displacementMap,t(T.displacementMap,N.displacementMapTransform),N.displacementScale.value=T.displacementScale,N.displacementBias.value=T.displacementBias),T.emissiveMap&&(N.emissiveMap.value=T.emissiveMap,t(T.emissiveMap,N.emissiveMapTransform)),T.specularMap&&(N.specularMap.value=T.specularMap,t(T.specularMap,N.specularMapTransform)),T.alphaTest>0&&(N.alphaTest.value=T.alphaTest);const A=e.get(T).envMap;if(A&&(N.envMap.value=A,N.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,N.reflectivity.value=T.reflectivity,N.ior.value=T.ior,N.refractionRatio.value=T.refractionRatio),T.lightMap){N.lightMap.value=T.lightMap;const w=n._useLegacyLights===!0?Math.PI:1;N.lightMapIntensity.value=T.lightMapIntensity*w,t(T.lightMap,N.lightMapTransform)}T.aoMap&&(N.aoMap.value=T.aoMap,N.aoMapIntensity.value=T.aoMapIntensity,t(T.aoMap,N.aoMapTransform))}function l(N,T){N.diffuse.value.copy(T.color),N.opacity.value=T.opacity,T.map&&(N.map.value=T.map,t(T.map,N.mapTransform))}function u(N,T){N.dashSize.value=T.dashSize,N.totalSize.value=T.dashSize+T.gapSize,N.scale.value=T.scale}function h(N,T,A,w){N.diffuse.value.copy(T.color),N.opacity.value=T.opacity,N.size.value=T.size*A,N.scale.value=w*.5,T.map&&(N.map.value=T.map,t(T.map,N.uvTransform)),T.alphaMap&&(N.alphaMap.value=T.alphaMap,t(T.alphaMap,N.alphaMapTransform)),T.alphaTest>0&&(N.alphaTest.value=T.alphaTest)}function f(N,T){N.diffuse.value.copy(T.color),N.opacity.value=T.opacity,N.rotation.value=T.rotation,T.map&&(N.map.value=T.map,t(T.map,N.mapTransform)),T.alphaMap&&(N.alphaMap.value=T.alphaMap,t(T.alphaMap,N.alphaMapTransform)),T.alphaTest>0&&(N.alphaTest.value=T.alphaTest)}function p(N,T){N.specular.value.copy(T.specular),N.shininess.value=Math.max(T.shininess,1e-4)}function v(N,T){T.gradientMap&&(N.gradientMap.value=T.gradientMap)}function y(N,T){N.metalness.value=T.metalness,T.metalnessMap&&(N.metalnessMap.value=T.metalnessMap,t(T.metalnessMap,N.metalnessMapTransform)),N.roughness.value=T.roughness,T.roughnessMap&&(N.roughnessMap.value=T.roughnessMap,t(T.roughnessMap,N.roughnessMapTransform)),e.get(T).envMap&&(N.envMapIntensity.value=T.envMapIntensity)}function x(N,T,A){N.ior.value=T.ior,T.sheen>0&&(N.sheenColor.value.copy(T.sheenColor).multiplyScalar(T.sheen),N.sheenRoughness.value=T.sheenRoughness,T.sheenColorMap&&(N.sheenColorMap.value=T.sheenColorMap,t(T.sheenColorMap,N.sheenColorMapTransform)),T.sheenRoughnessMap&&(N.sheenRoughnessMap.value=T.sheenRoughnessMap,t(T.sheenRoughnessMap,N.sheenRoughnessMapTransform))),T.clearcoat>0&&(N.clearcoat.value=T.clearcoat,N.clearcoatRoughness.value=T.clearcoatRoughness,T.clearcoatMap&&(N.clearcoatMap.value=T.clearcoatMap,t(T.clearcoatMap,N.clearcoatMapTransform)),T.clearcoatRoughnessMap&&(N.clearcoatRoughnessMap.value=T.clearcoatRoughnessMap,t(T.clearcoatRoughnessMap,N.clearcoatRoughnessMapTransform)),T.clearcoatNormalMap&&(N.clearcoatNormalMap.value=T.clearcoatNormalMap,t(T.clearcoatNormalMap,N.clearcoatNormalMapTransform),N.clearcoatNormalScale.value.copy(T.clearcoatNormalScale),T.side===mo&&N.clearcoatNormalScale.value.negate())),T.iridescence>0&&(N.iridescence.value=T.iridescence,N.iridescenceIOR.value=T.iridescenceIOR,N.iridescenceThicknessMinimum.value=T.iridescenceThicknessRange[0],N.iridescenceThicknessMaximum.value=T.iridescenceThicknessRange[1],T.iridescenceMap&&(N.iridescenceMap.value=T.iridescenceMap,t(T.iridescenceMap,N.iridescenceMapTransform)),T.iridescenceThicknessMap&&(N.iridescenceThicknessMap.value=T.iridescenceThicknessMap,t(T.iridescenceThicknessMap,N.iridescenceThicknessMapTransform))),T.transmission>0&&(N.transmission.value=T.transmission,N.transmissionSamplerMap.value=A.texture,N.transmissionSamplerSize.value.set(A.width,A.height),T.transmissionMap&&(N.transmissionMap.value=T.transmissionMap,t(T.transmissionMap,N.transmissionMapTransform)),N.thickness.value=T.thickness,T.thicknessMap&&(N.thicknessMap.value=T.thicknessMap,t(T.thicknessMap,N.thicknessMapTransform)),N.attenuationDistance.value=T.attenuationDistance,N.attenuationColor.value.copy(T.attenuationColor)),T.anisotropy>0&&(N.anisotropyVector.value.set(T.anisotropy*Math.cos(T.anisotropyRotation),T.anisotropy*Math.sin(T.anisotropyRotation)),T.anisotropyMap&&(N.anisotropyMap.value=T.anisotropyMap,t(T.anisotropyMap,N.anisotropyMapTransform))),N.specularIntensity.value=T.specularIntensity,N.specularColor.value.copy(T.specularColor),T.specularColorMap&&(N.specularColorMap.value=T.specularColorMap,t(T.specularColorMap,N.specularColorMapTransform)),T.specularIntensityMap&&(N.specularIntensityMap.value=T.specularIntensityMap,t(T.specularIntensityMap,N.specularIntensityMapTransform))}function _(N,T){T.matcap&&(N.matcap.value=T.matcap)}function M(N,T){const A=e.get(T).light;N.referencePosition.value.setFromMatrixPosition(A.matrixWorld),N.nearDistance.value=A.shadow.camera.near,N.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Ure(n,e,t,i){let r={},s={},l=[];const u=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function h(A,w){const L=w.program;i.uniformBlockBinding(A,L)}function f(A,w){let L=r[A.id];L===void 0&&(_(A),L=p(A),r[A.id]=L,A.addEventListener("dispose",N));const U=w.program;i.updateUBOMapping(A,U);const k=e.render.frame;s[A.id]!==k&&(y(A),s[A.id]=k)}function p(A){const w=v();A.__bindingPointIndex=w;const L=n.createBuffer(),U=A.__size,k=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,L),n.bufferData(n.UNIFORM_BUFFER,U,k),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,L),L}function v(){for(let A=0;A<u;A++)if(l.indexOf(A)===-1)return l.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(A){const w=r[A.id],L=A.uniforms,U=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let k=0,V=L.length;k<V;k++){const H=L[k];if(x(H,k,U)===!0){const P=H.__offset,I=Array.isArray(H.value)?H.value:[H.value];let q=0;for(let j=0;j<I.length;j++){const J=I[j],W=M(J);typeof J=="number"?(H.__data[0]=J,n.bufferSubData(n.UNIFORM_BUFFER,P+q,H.__data)):J.isMatrix3?(H.__data[0]=J.elements[0],H.__data[1]=J.elements[1],H.__data[2]=J.elements[2],H.__data[3]=J.elements[0],H.__data[4]=J.elements[3],H.__data[5]=J.elements[4],H.__data[6]=J.elements[5],H.__data[7]=J.elements[0],H.__data[8]=J.elements[6],H.__data[9]=J.elements[7],H.__data[10]=J.elements[8],H.__data[11]=J.elements[0]):(J.toArray(H.__data,q),q+=W.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,P,H.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function x(A,w,L){const U=A.value;if(L[w]===void 0){if(typeof U=="number")L[w]=U;else{const k=Array.isArray(U)?U:[U],V=[];for(let H=0;H<k.length;H++)V.push(k[H].clone());L[w]=V}return!0}else if(typeof U=="number"){if(L[w]!==U)return L[w]=U,!0}else{const k=Array.isArray(L[w])?L[w]:[L[w]],V=Array.isArray(U)?U:[U];for(let H=0;H<k.length;H++){const P=k[H];if(P.equals(V[H])===!1)return P.copy(V[H]),!0}}return!1}function _(A){const w=A.uniforms;let L=0;const U=16;let k=0;for(let V=0,H=w.length;V<H;V++){const P=w[V],I={boundary:0,storage:0},q=Array.isArray(P.value)?P.value:[P.value];for(let j=0,J=q.length;j<J;j++){const W=q[j],se=M(W);I.boundary+=se.boundary,I.storage+=se.storage}if(P.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=L,V>0){k=L%U;const j=U-k;k!==0&&j-I.boundary<0&&(L+=U-k,P.__offset=L)}L+=I.storage}return k=L%U,k>0&&(L+=U-k),A.__size=L,A.__cache={},this}function M(A){const w={boundary:0,storage:0};return typeof A=="number"?(w.boundary=4,w.storage=4):A.isVector2?(w.boundary=8,w.storage=8):A.isVector3||A.isColor?(w.boundary=16,w.storage=12):A.isVector4?(w.boundary=16,w.storage=16):A.isMatrix3?(w.boundary=48,w.storage=48):A.isMatrix4?(w.boundary=64,w.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),w}function N(A){const w=A.target;w.removeEventListener("dispose",N);const L=l.indexOf(w.__bindingPointIndex);l.splice(L,1),n.deleteBuffer(r[w.id]),delete r[w.id],delete s[w.id]}function T(){for(const A in r)n.deleteBuffer(r[A]);l=[],r={},s={}}return{bind:h,update:f,dispose:T}}class o3{constructor(e={}){const{canvas:t=Cj(),context:i=null,depth:r=!0,stencil:s=!0,alpha:l=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:v=!1}=e;this.isWebGLRenderer=!0;let y;i!==null?y=i.getContextAttributes().alpha:y=l;const x=new Uint32Array(4),_=new Int32Array(4);let M=null,N=null;const T=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=La,this._useLegacyLights=!1,this.toneMapping=wf,this.toneMappingExposure=1;const w=this;let L=!1,U=0,k=0,V=null,H=-1,P=null;const I=new hi,q=new hi;let j=null;const J=new Jt(0);let W=0,se=t.width,te=t.height,ae=1,ge=null,ve=null;const ce=new hi(0,0,se,te),Y=new hi(0,0,se,te);let ee=!1;const le=new LA;let ye=!1,be=!1,we=null;const Oe=new Bn,De=new wt,st=new fe,dt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ze(){return V===null?ae:1}let ie=i;function $e(ne,_e){for(let Re=0;Re<ne.length;Re++){const Xe=ne[Re],qe=t.getContext(Xe,_e);if(qe!==null)return qe}return null}try{const ne={alpha:!0,depth:r,stencil:s,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:v};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${ux}`),t.addEventListener("webglcontextlost",gt,!1),t.addEventListener("webglcontextrestored",me,!1),t.addEventListener("webglcontextcreationerror",at,!1),ie===null){const _e=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&_e.shift(),ie=$e(_e,ne),ie===null)throw $e(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ie instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ie.getShaderPrecisionFormat===void 0&&(ie.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ne){throw console.error("THREE.WebGLRenderer: "+ne.message),ne}let Le,je,Ve,ft,Ge,it,vt,Ye,Lt,Q,K,Ne,ut,Ue,Qe,Nt,ht,ue,Te,ke,Ae,Be,pe,Pe;function He(){Le=new $ne(ie),je=new jne(ie,Le,e),Le.init(je),Be=new kj(ie,Le,je),Ve=new Are(ie,Le,je),ft=new Jne(ie),Ge=new gre,it=new Rre(ie,Le,Ve,Ge,je,Be,ft),vt=new Wne(w),Ye=new qne(w),Lt=new lee(ie,je),pe=new zne(ie,Le,Lt,je),Q=new Kne(ie,Lt,ft,pe),K=new nie(ie,Q,Lt,ft),Te=new tie(ie,je,it),Nt=new Gne(Ge),Ne=new vre(w,vt,Ye,Le,je,pe,Nt),ut=new Pre(w,Ge),Ue=new bre,Qe=new Nre(Le,je),ue=new Bne(w,vt,Ye,Ve,K,y,h),ht=new Cre(w,K,je),Pe=new Ure(ie,ft,je,Ve),ke=new Hne(ie,Le,ft,je),Ae=new Zne(ie,Le,ft,je),ft.programs=Ne.programs,w.capabilities=je,w.extensions=Le,w.properties=Ge,w.renderLists=Ue,w.shadowMap=ht,w.state=Ve,w.info=ft}He();const Ee=new Lre(w,ie);this.xr=Ee,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const ne=Le.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=Le.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return ae},this.setPixelRatio=function(ne){ne!==void 0&&(ae=ne,this.setSize(se,te,!1))},this.getSize=function(ne){return ne.set(se,te)},this.setSize=function(ne,_e,Re=!0){if(Ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}se=ne,te=_e,t.width=Math.floor(ne*ae),t.height=Math.floor(_e*ae),Re===!0&&(t.style.width=ne+"px",t.style.height=_e+"px"),this.setViewport(0,0,ne,_e)},this.getDrawingBufferSize=function(ne){return ne.set(se*ae,te*ae).floor()},this.setDrawingBufferSize=function(ne,_e,Re){se=ne,te=_e,ae=Re,t.width=Math.floor(ne*Re),t.height=Math.floor(_e*Re),this.setViewport(0,0,ne,_e)},this.getCurrentViewport=function(ne){return ne.copy(I)},this.getViewport=function(ne){return ne.copy(ce)},this.setViewport=function(ne,_e,Re,Xe){ne.isVector4?ce.set(ne.x,ne.y,ne.z,ne.w):ce.set(ne,_e,Re,Xe),Ve.viewport(I.copy(ce).multiplyScalar(ae).floor())},this.getScissor=function(ne){return ne.copy(Y)},this.setScissor=function(ne,_e,Re,Xe){ne.isVector4?Y.set(ne.x,ne.y,ne.z,ne.w):Y.set(ne,_e,Re,Xe),Ve.scissor(q.copy(Y).multiplyScalar(ae).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(ne){Ve.setScissorTest(ee=ne)},this.setOpaqueSort=function(ne){ge=ne},this.setTransparentSort=function(ne){ve=ne},this.getClearColor=function(ne){return ne.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(ne=!0,_e=!0,Re=!0){let Xe=0;if(ne){let qe=!1;if(V!==null){const Pt=V.texture.format;qe=Pt===ZO||Pt===KO||Pt===$O}if(qe){const Pt=V.texture.type,Bt=Pt===Cf||Pt===th||Pt===CA||Pt===zp||Pt===XO||Pt===qO,rn=ue.getClearColor(),Tt=ue.getClearAlpha(),hn=rn.r,mn=rn.g,Wt=rn.b;Bt?(x[0]=hn,x[1]=mn,x[2]=Wt,x[3]=Tt,ie.clearBufferuiv(ie.COLOR,0,x)):(_[0]=hn,_[1]=mn,_[2]=Wt,_[3]=Tt,ie.clearBufferiv(ie.COLOR,0,_))}else Xe|=ie.COLOR_BUFFER_BIT}_e&&(Xe|=ie.DEPTH_BUFFER_BIT),Re&&(Xe|=ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ie.clear(Xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",gt,!1),t.removeEventListener("webglcontextrestored",me,!1),t.removeEventListener("webglcontextcreationerror",at,!1),Ue.dispose(),Qe.dispose(),Ge.dispose(),vt.dispose(),Ye.dispose(),K.dispose(),pe.dispose(),Pe.dispose(),Ne.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",Mn),Ee.removeEventListener("sessionend",dn),we&&(we.dispose(),we=null),bn.stop()};function gt(ne){ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const ne=ft.autoReset,_e=ht.enabled,Re=ht.autoUpdate,Xe=ht.needsUpdate,qe=ht.type;He(),ft.autoReset=ne,ht.enabled=_e,ht.autoUpdate=Re,ht.needsUpdate=Xe,ht.type=qe}function at(ne){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ne.statusMessage)}function bt(ne){const _e=ne.target;_e.removeEventListener("dispose",bt),We(_e)}function We(ne){Et(ne),Ge.remove(ne)}function Et(ne){const _e=Ge.get(ne).programs;_e!==void 0&&(_e.forEach(function(Re){Ne.releaseProgram(Re)}),ne.isShaderMaterial&&Ne.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,_e,Re,Xe,qe,Pt){_e===null&&(_e=dt);const Bt=qe.isMesh&&qe.matrixWorld.determinant()<0,rn=yt(ne,_e,Re,Xe,qe);Ve.setMaterial(Xe,Bt);let Tt=Re.index,hn=1;if(Xe.wireframe===!0){if(Tt=Q.getWireframeAttribute(Re),Tt===void 0)return;hn=2}const mn=Re.drawRange,Wt=Re.attributes.position;let ai=mn.start*hn,qi=(mn.start+mn.count)*hn;Pt!==null&&(ai=Math.max(ai,Pt.start*hn),qi=Math.min(qi,(Pt.start+Pt.count)*hn)),Tt!==null?(ai=Math.max(ai,0),qi=Math.min(qi,Tt.count)):Wt!=null&&(ai=Math.max(ai,0),qi=Math.min(qi,Wt.count));const Di=qi-ai;if(Di<0||Di===1/0)return;pe.setup(qe,Xe,rn,Re,Tt);let vr,pi=ke;if(Tt!==null&&(vr=Lt.get(Tt),pi=Ae,pi.setIndex(vr)),qe.isMesh)Xe.wireframe===!0?(Ve.setLineWidth(Xe.wireframeLinewidth*ze()),pi.setMode(ie.LINES)):pi.setMode(ie.TRIANGLES);else if(qe.isLine){let Fn=Xe.linewidth;Fn===void 0&&(Fn=1),Ve.setLineWidth(Fn*ze()),qe.isLineSegments?pi.setMode(ie.LINES):qe.isLineLoop?pi.setMode(ie.LINE_LOOP):pi.setMode(ie.LINE_STRIP)}else qe.isPoints?pi.setMode(ie.POINTS):qe.isSprite&&pi.setMode(ie.TRIANGLES);if(qe.isInstancedMesh)pi.renderInstances(ai,Di,qe.count);else if(Re.isInstancedBufferGeometry){const Fn=Re._maxInstanceCount!==void 0?Re._maxInstanceCount:1/0,Za=Math.min(Re.instanceCount,Fn);pi.renderInstances(ai,Di,Za)}else pi.render(ai,Di)};function Vt(ne,_e,Re){ne.transparent===!0&&ne.side===Cl&&ne.forceSinglePass===!1?(ne.side=mo,ne.needsUpdate=!0,Ht(ne,_e,Re),ne.side=oh,ne.needsUpdate=!0,Ht(ne,_e,Re),ne.side=Cl):Ht(ne,_e,Re)}this.compile=function(ne,_e,Re=null){Re===null&&(Re=ne),N=Qe.get(Re),N.init(),A.push(N),Re.traverseVisible(function(qe){qe.isLight&&qe.layers.test(_e.layers)&&(N.pushLight(qe),qe.castShadow&&N.pushShadow(qe))}),ne!==Re&&ne.traverseVisible(function(qe){qe.isLight&&qe.layers.test(_e.layers)&&(N.pushLight(qe),qe.castShadow&&N.pushShadow(qe))}),N.setupLights(w._useLegacyLights);const Xe=new Set;return ne.traverse(function(qe){const Pt=qe.material;if(Pt)if(Array.isArray(Pt))for(let Bt=0;Bt<Pt.length;Bt++){const rn=Pt[Bt];Vt(rn,Re,qe),Xe.add(rn)}else Vt(Pt,Re,qe),Xe.add(Pt)}),A.pop(),N=null,Xe},this.compileAsync=function(ne,_e,Re=null){const Xe=this.compile(ne,_e,Re);return new Promise(qe=>{function Pt(){if(Xe.forEach(function(Bt){Ge.get(Bt).currentProgram.isReady()&&Xe.delete(Bt)}),Xe.size===0){qe(ne);return}setTimeout(Pt,10)}Le.get("KHR_parallel_shader_compile")!==null?Pt():setTimeout(Pt,10)})};let Rt=null;function ln(ne){Rt&&Rt(ne)}function Mn(){bn.stop()}function dn(){bn.start()}const bn=new Uj;bn.setAnimationLoop(ln),typeof self<"u"&&bn.setContext(self),this.setAnimationLoop=function(ne){Rt=ne,Ee.setAnimationLoop(ne),ne===null?bn.stop():bn.start()},Ee.addEventListener("sessionstart",Mn),Ee.addEventListener("sessionend",dn),this.render=function(ne,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Ee.enabled===!0&&Ee.isPresenting===!0&&(Ee.cameraAutoUpdate===!0&&Ee.updateCamera(_e),_e=Ee.getCamera()),ne.isScene===!0&&ne.onBeforeRender(w,ne,_e,V),N=Qe.get(ne,A.length),N.init(),A.push(N),Oe.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),le.setFromProjectionMatrix(Oe),be=this.localClippingEnabled,ye=Nt.init(this.clippingPlanes,be),M=Ue.get(ne,T.length),M.init(),T.push(M),Un(ne,_e,0,w.sortObjects),M.finish(),w.sortObjects===!0&&M.sort(ge,ve),this.info.render.frame++,ye===!0&&Nt.beginShadows();const Re=N.state.shadowsArray;if(ht.render(Re,ne,_e),ye===!0&&Nt.endShadows(),this.info.autoReset===!0&&this.info.reset(),ue.render(M,ne),N.setupLights(w._useLegacyLights),_e.isArrayCamera){const Xe=_e.cameras;for(let qe=0,Pt=Xe.length;qe<Pt;qe++){const Bt=Xe[qe];Ji(M,ne,Bt,Bt.viewport)}}else Ji(M,ne,_e);V!==null&&(it.updateMultisampleRenderTarget(V),it.updateRenderTargetMipmap(V)),ne.isScene===!0&&ne.onAfterRender(w,ne,_e),pe.resetDefaultState(),H=-1,P=null,A.pop(),A.length>0?N=A[A.length-1]:N=null,T.pop(),T.length>0?M=T[T.length-1]:M=null};function Un(ne,_e,Re,Xe){if(ne.visible===!1)return;if(ne.layers.test(_e.layers)){if(ne.isGroup)Re=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(_e);else if(ne.isLight)N.pushLight(ne),ne.castShadow&&N.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||le.intersectsSprite(ne)){Xe&&st.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(Oe);const Bt=K.update(ne),rn=ne.material;rn.visible&&M.push(ne,Bt,rn,Re,st.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(!ne.frustumCulled||le.intersectsObject(ne))){const Bt=K.update(ne),rn=ne.material;if(Xe&&(ne.boundingSphere!==void 0?(ne.boundingSphere===null&&ne.computeBoundingSphere(),st.copy(ne.boundingSphere.center)):(Bt.boundingSphere===null&&Bt.computeBoundingSphere(),st.copy(Bt.boundingSphere.center)),st.applyMatrix4(ne.matrixWorld).applyMatrix4(Oe)),Array.isArray(rn)){const Tt=Bt.groups;for(let hn=0,mn=Tt.length;hn<mn;hn++){const Wt=Tt[hn],ai=rn[Wt.materialIndex];ai&&ai.visible&&M.push(ne,Bt,ai,Re,st.z,Wt)}}else rn.visible&&M.push(ne,Bt,rn,Re,st.z,null)}}const Pt=ne.children;for(let Bt=0,rn=Pt.length;Bt<rn;Bt++)Un(Pt[Bt],_e,Re,Xe)}function Ji(ne,_e,Re,Xe){const qe=ne.opaque,Pt=ne.transmissive,Bt=ne.transparent;N.setupLightsView(Re),ye===!0&&Nt.setGlobalState(w.clippingPlanes,Re),Pt.length>0&&Ni(qe,Pt,_e,Re),Xe&&Ve.viewport(I.copy(Xe)),qe.length>0&&Se(qe,_e,Re),Pt.length>0&&Se(Pt,_e,Re),Bt.length>0&&Se(Bt,_e,Re),Ve.buffers.depth.setTest(!0),Ve.buffers.depth.setMask(!0),Ve.buffers.color.setMask(!0),Ve.setPolygonOffset(!1)}function Ni(ne,_e,Re,Xe){if((Re.isScene===!0?Re.overrideMaterial:null)!==null)return;const Pt=je.isWebGL2;we===null&&(we=new cc(1,1,{generateMipmaps:!0,type:Le.has("EXT_color_buffer_half_float")?Q0:Cf,minFilter:$p,samples:Pt?4:0})),w.getDrawingBufferSize(De),Pt?we.setSize(De.x,De.y):we.setSize(QC(De.x),QC(De.y));const Bt=w.getRenderTarget();w.setRenderTarget(we),w.getClearColor(J),W=w.getClearAlpha(),W<1&&w.setClearColor(16777215,.5),w.clear();const rn=w.toneMapping;w.toneMapping=wf,Se(ne,Re,Xe),it.updateMultisampleRenderTarget(we),it.updateRenderTargetMipmap(we);let Tt=!1;for(let hn=0,mn=_e.length;hn<mn;hn++){const Wt=_e[hn],ai=Wt.object,qi=Wt.geometry,Di=Wt.material,vr=Wt.group;if(Di.side===Cl&&ai.layers.test(Xe.layers)){const pi=Di.side;Di.side=mo,Di.needsUpdate=!0,Dt(ai,Re,Xe,qi,Di,vr),Di.side=pi,Di.needsUpdate=!0,Tt=!0}}Tt===!0&&(it.updateMultisampleRenderTarget(we),it.updateRenderTargetMipmap(we)),w.setRenderTarget(Bt),w.setClearColor(J,W),w.toneMapping=rn}function Se(ne,_e,Re){const Xe=_e.isScene===!0?_e.overrideMaterial:null;for(let qe=0,Pt=ne.length;qe<Pt;qe++){const Bt=ne[qe],rn=Bt.object,Tt=Bt.geometry,hn=Xe===null?Bt.material:Xe,mn=Bt.group;rn.layers.test(Re.layers)&&Dt(rn,_e,Re,Tt,hn,mn)}}function Dt(ne,_e,Re,Xe,qe,Pt){ne.onBeforeRender(w,_e,Re,Xe,qe,Pt),ne.modelViewMatrix.multiplyMatrices(Re.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),qe.onBeforeRender(w,_e,Re,Xe,ne,Pt),qe.transparent===!0&&qe.side===Cl&&qe.forceSinglePass===!1?(qe.side=mo,qe.needsUpdate=!0,w.renderBufferDirect(Re,_e,Xe,qe,ne,Pt),qe.side=oh,qe.needsUpdate=!0,w.renderBufferDirect(Re,_e,Xe,qe,ne,Pt),qe.side=Cl):w.renderBufferDirect(Re,_e,Xe,qe,ne,Pt),ne.onAfterRender(w,_e,Re,Xe,qe,Pt)}function Ht(ne,_e,Re){_e.isScene!==!0&&(_e=dt);const Xe=Ge.get(ne),qe=N.state.lights,Pt=N.state.shadowsArray,Bt=qe.state.version,rn=Ne.getParameters(ne,qe.state,Pt,_e,Re),Tt=Ne.getProgramCacheKey(rn);let hn=Xe.programs;Xe.environment=ne.isMeshStandardMaterial?_e.environment:null,Xe.fog=_e.fog,Xe.envMap=(ne.isMeshStandardMaterial?Ye:vt).get(ne.envMap||Xe.environment),hn===void 0&&(ne.addEventListener("dispose",bt),hn=new Map,Xe.programs=hn);let mn=hn.get(Tt);if(mn!==void 0){if(Xe.currentProgram===mn&&Xe.lightsStateVersion===Bt)return nt(ne,rn),mn}else rn.uniforms=Ne.getUniforms(ne),ne.onBuild(Re,rn,w),ne.onBeforeCompile(rn,w),mn=Ne.acquireProgram(rn,Tt),hn.set(Tt,mn),Xe.uniforms=rn.uniforms;const Wt=Xe.uniforms;return(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(Wt.clippingPlanes=Nt.uniform),nt(ne,rn),Xe.needsLights=qt(ne),Xe.lightsStateVersion=Bt,Xe.needsLights&&(Wt.ambientLightColor.value=qe.state.ambient,Wt.lightProbe.value=qe.state.probe,Wt.directionalLights.value=qe.state.directional,Wt.directionalLightShadows.value=qe.state.directionalShadow,Wt.spotLights.value=qe.state.spot,Wt.spotLightShadows.value=qe.state.spotShadow,Wt.rectAreaLights.value=qe.state.rectArea,Wt.ltc_1.value=qe.state.rectAreaLTC1,Wt.ltc_2.value=qe.state.rectAreaLTC2,Wt.pointLights.value=qe.state.point,Wt.pointLightShadows.value=qe.state.pointShadow,Wt.hemisphereLights.value=qe.state.hemi,Wt.directionalShadowMap.value=qe.state.directionalShadowMap,Wt.directionalShadowMatrix.value=qe.state.directionalShadowMatrix,Wt.spotShadowMap.value=qe.state.spotShadowMap,Wt.spotLightMatrix.value=qe.state.spotLightMatrix,Wt.spotLightMap.value=qe.state.spotLightMap,Wt.pointShadowMap.value=qe.state.pointShadowMap,Wt.pointShadowMatrix.value=qe.state.pointShadowMatrix),Xe.currentProgram=mn,Xe.uniformsList=null,mn}function de(ne){if(ne.uniformsList===null){const _e=ne.currentProgram.getUniforms();ne.uniformsList=wC.seqWithValue(_e.seq,ne.uniforms)}return ne.uniformsList}function nt(ne,_e){const Re=Ge.get(ne);Re.outputColorSpace=_e.outputColorSpace,Re.instancing=_e.instancing,Re.instancingColor=_e.instancingColor,Re.skinning=_e.skinning,Re.morphTargets=_e.morphTargets,Re.morphNormals=_e.morphNormals,Re.morphColors=_e.morphColors,Re.morphTargetsCount=_e.morphTargetsCount,Re.numClippingPlanes=_e.numClippingPlanes,Re.numIntersection=_e.numClipIntersection,Re.vertexAlphas=_e.vertexAlphas,Re.vertexTangents=_e.vertexTangents,Re.toneMapping=_e.toneMapping}function yt(ne,_e,Re,Xe,qe){_e.isScene!==!0&&(_e=dt),it.resetTextureUnits();const Pt=_e.fog,Bt=Xe.isMeshStandardMaterial?_e.environment:null,rn=V===null?w.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:Df,Tt=(Xe.isMeshStandardMaterial?Ye:vt).get(Xe.envMap||Bt),hn=Xe.vertexColors===!0&&!!Re.attributes.color&&Re.attributes.color.itemSize===4,mn=!!Re.attributes.tangent&&(!!Xe.normalMap||Xe.anisotropy>0),Wt=!!Re.morphAttributes.position,ai=!!Re.morphAttributes.normal,qi=!!Re.morphAttributes.color;let Di=wf;Xe.toneMapped&&(V===null||V.isXRRenderTarget===!0)&&(Di=w.toneMapping);const vr=Re.morphAttributes.position||Re.morphAttributes.normal||Re.morphAttributes.color,pi=vr!==void 0?vr.length:0,Fn=Ge.get(Xe),Za=N.state.lights;if(ye===!0&&(be===!0||ne!==P)){const Ii=ne===P&&Xe.id===H;Nt.setState(Xe,ne,Ii)}let Li=!1;Xe.version===Fn.__version?(Fn.needsLights&&Fn.lightsStateVersion!==Za.state.version||Fn.outputColorSpace!==rn||qe.isInstancedMesh&&Fn.instancing===!1||!qe.isInstancedMesh&&Fn.instancing===!0||qe.isSkinnedMesh&&Fn.skinning===!1||!qe.isSkinnedMesh&&Fn.skinning===!0||qe.isInstancedMesh&&Fn.instancingColor===!0&&qe.instanceColor===null||qe.isInstancedMesh&&Fn.instancingColor===!1&&qe.instanceColor!==null||Fn.envMap!==Tt||Xe.fog===!0&&Fn.fog!==Pt||Fn.numClippingPlanes!==void 0&&(Fn.numClippingPlanes!==Nt.numPlanes||Fn.numIntersection!==Nt.numIntersection)||Fn.vertexAlphas!==hn||Fn.vertexTangents!==mn||Fn.morphTargets!==Wt||Fn.morphNormals!==ai||Fn.morphColors!==qi||Fn.toneMapping!==Di||je.isWebGL2===!0&&Fn.morphTargetsCount!==pi)&&(Li=!0):(Li=!0,Fn.__version=Xe.version);let Pi=Fn.currentProgram;Li===!0&&(Pi=Ht(Xe,_e,qe));let yo=!1,Ja=!1,Xs=!1;const Mi=Pi.getUniforms(),ir=Fn.uniforms;if(Ve.useProgram(Pi.program)&&(yo=!0,Ja=!0,Xs=!0),Xe.id!==H&&(H=Xe.id,Ja=!0),yo||P!==ne){Mi.setValue(ie,"projectionMatrix",ne.projectionMatrix),Mi.setValue(ie,"viewMatrix",ne.matrixWorldInverse);const Ii=Mi.map.cameraPosition;Ii!==void 0&&Ii.setValue(ie,st.setFromMatrixPosition(ne.matrixWorld)),je.logarithmicDepthBuffer&&Mi.setValue(ie,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),(Xe.isMeshPhongMaterial||Xe.isMeshToonMaterial||Xe.isMeshLambertMaterial||Xe.isMeshBasicMaterial||Xe.isMeshStandardMaterial||Xe.isShaderMaterial)&&Mi.setValue(ie,"isOrthographic",ne.isOrthographicCamera===!0),P!==ne&&(P=ne,Ja=!0,Xs=!0)}if(qe.isSkinnedMesh){Mi.setOptional(ie,qe,"bindMatrix"),Mi.setOptional(ie,qe,"bindMatrixInverse");const Ii=qe.skeleton;Ii&&(je.floatVertexTextures?(Ii.boneTexture===null&&Ii.computeBoneTexture(),Mi.setValue(ie,"boneTexture",Ii.boneTexture,it),Mi.setValue(ie,"boneTextureSize",Ii.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Oa=Re.morphAttributes;if((Oa.position!==void 0||Oa.normal!==void 0||Oa.color!==void 0&&je.isWebGL2===!0)&&Te.update(qe,Re,Pi),(Ja||Fn.receiveShadow!==qe.receiveShadow)&&(Fn.receiveShadow=qe.receiveShadow,Mi.setValue(ie,"receiveShadow",qe.receiveShadow)),Xe.isMeshGouraudMaterial&&Xe.envMap!==null&&(ir.envMap.value=Tt,ir.flipEnvMap.value=Tt.isCubeTexture&&Tt.isRenderTargetTexture===!1?-1:1),Ja&&(Mi.setValue(ie,"toneMappingExposure",w.toneMappingExposure),Fn.needsLights&&kt(ir,Xs),Pt&&Xe.fog===!0&&ut.refreshFogUniforms(ir,Pt),ut.refreshMaterialUniforms(ir,Xe,ae,te,we),wC.upload(ie,de(Fn),ir,it)),Xe.isShaderMaterial&&Xe.uniformsNeedUpdate===!0&&(wC.upload(ie,de(Fn),ir,it),Xe.uniformsNeedUpdate=!1),Xe.isSpriteMaterial&&Mi.setValue(ie,"center",qe.center),Mi.setValue(ie,"modelViewMatrix",qe.modelViewMatrix),Mi.setValue(ie,"normalMatrix",qe.normalMatrix),Mi.setValue(ie,"modelMatrix",qe.matrixWorld),Xe.isShaderMaterial||Xe.isRawShaderMaterial){const Ii=Xe.uniformsGroups;for(let gr=0,Ol=Ii.length;gr<Ol;gr++)if(je.isWebGL2){const Ms=Ii[gr];Pe.update(Ms,Pi),Pe.bind(Ms,Pi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Pi}function kt(ne,_e){ne.ambientLightColor.needsUpdate=_e,ne.lightProbe.needsUpdate=_e,ne.directionalLights.needsUpdate=_e,ne.directionalLightShadows.needsUpdate=_e,ne.pointLights.needsUpdate=_e,ne.pointLightShadows.needsUpdate=_e,ne.spotLights.needsUpdate=_e,ne.spotLightShadows.needsUpdate=_e,ne.rectAreaLights.needsUpdate=_e,ne.hemisphereLights.needsUpdate=_e}function qt(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return V},this.setRenderTargetTextures=function(ne,_e,Re){Ge.get(ne.texture).__webglTexture=_e,Ge.get(ne.depthTexture).__webglTexture=Re;const Xe=Ge.get(ne);Xe.__hasExternalTextures=!0,Xe.__hasExternalTextures&&(Xe.__autoAllocateDepthBuffer=Re===void 0,Xe.__autoAllocateDepthBuffer||Le.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Xe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ne,_e){const Re=Ge.get(ne);Re.__webglFramebuffer=_e,Re.__useDefaultFramebuffer=_e===void 0},this.setRenderTarget=function(ne,_e=0,Re=0){V=ne,U=_e,k=Re;let Xe=!0,qe=null,Pt=!1,Bt=!1;if(ne){const Tt=Ge.get(ne);Tt.__useDefaultFramebuffer!==void 0?(Ve.bindFramebuffer(ie.FRAMEBUFFER,null),Xe=!1):Tt.__webglFramebuffer===void 0?it.setupRenderTarget(ne):Tt.__hasExternalTextures&&it.rebindTextures(ne,Ge.get(ne.texture).__webglTexture,Ge.get(ne.depthTexture).__webglTexture);const hn=ne.texture;(hn.isData3DTexture||hn.isDataArrayTexture||hn.isCompressedArrayTexture)&&(Bt=!0);const mn=Ge.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Array.isArray(mn[_e])?qe=mn[_e][Re]:qe=mn[_e],Pt=!0):je.isWebGL2&&ne.samples>0&&it.useMultisampledRTT(ne)===!1?qe=Ge.get(ne).__webglMultisampledFramebuffer:Array.isArray(mn)?qe=mn[Re]:qe=mn,I.copy(ne.viewport),q.copy(ne.scissor),j=ne.scissorTest}else I.copy(ce).multiplyScalar(ae).floor(),q.copy(Y).multiplyScalar(ae).floor(),j=ee;if(Ve.bindFramebuffer(ie.FRAMEBUFFER,qe)&&je.drawBuffers&&Xe&&Ve.drawBuffers(ne,qe),Ve.viewport(I),Ve.scissor(q),Ve.setScissorTest(j),Pt){const Tt=Ge.get(ne.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Tt.__webglTexture,Re)}else if(Bt){const Tt=Ge.get(ne.texture),hn=_e||0;ie.framebufferTextureLayer(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Tt.__webglTexture,Re||0,hn)}H=-1},this.readRenderTargetPixels=function(ne,_e,Re,Xe,qe,Pt,Bt){if(!(ne&&ne.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let rn=Ge.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Bt!==void 0&&(rn=rn[Bt]),rn){Ve.bindFramebuffer(ie.FRAMEBUFFER,rn);try{const Tt=ne.texture,hn=Tt.format,mn=Tt.type;if(hn!==Ho&&Be.convert(hn)!==ie.getParameter(ie.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Wt=mn===Q0&&(Le.has("EXT_color_buffer_half_float")||je.isWebGL2&&Le.has("EXT_color_buffer_float"));if(mn!==Cf&&Be.convert(mn)!==ie.getParameter(ie.IMPLEMENTATION_COLOR_READ_TYPE)&&!(mn===Tf&&(je.isWebGL2||Le.has("OES_texture_float")||Le.has("WEBGL_color_buffer_float")))&&!Wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=ne.width-Xe&&Re>=0&&Re<=ne.height-qe&&ie.readPixels(_e,Re,Xe,qe,Be.convert(hn),Be.convert(mn),Pt)}finally{const Tt=V!==null?Ge.get(V).__webglFramebuffer:null;Ve.bindFramebuffer(ie.FRAMEBUFFER,Tt)}}},this.copyFramebufferToTexture=function(ne,_e,Re=0){const Xe=Math.pow(2,-Re),qe=Math.floor(_e.image.width*Xe),Pt=Math.floor(_e.image.height*Xe);it.setTexture2D(_e,0),ie.copyTexSubImage2D(ie.TEXTURE_2D,Re,0,0,ne.x,ne.y,qe,Pt),Ve.unbindTexture()},this.copyTextureToTexture=function(ne,_e,Re,Xe=0){const qe=_e.image.width,Pt=_e.image.height,Bt=Be.convert(Re.format),rn=Be.convert(Re.type);it.setTexture2D(Re,0),ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,Re.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Re.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,Re.unpackAlignment),_e.isDataTexture?ie.texSubImage2D(ie.TEXTURE_2D,Xe,ne.x,ne.y,qe,Pt,Bt,rn,_e.image.data):_e.isCompressedTexture?ie.compressedTexSubImage2D(ie.TEXTURE_2D,Xe,ne.x,ne.y,_e.mipmaps[0].width,_e.mipmaps[0].height,Bt,_e.mipmaps[0].data):ie.texSubImage2D(ie.TEXTURE_2D,Xe,ne.x,ne.y,Bt,rn,_e.image),Xe===0&&Re.generateMipmaps&&ie.generateMipmap(ie.TEXTURE_2D),Ve.unbindTexture()},this.copyTextureToTexture3D=function(ne,_e,Re,Xe,qe=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Pt=ne.max.x-ne.min.x+1,Bt=ne.max.y-ne.min.y+1,rn=ne.max.z-ne.min.z+1,Tt=Be.convert(Xe.format),hn=Be.convert(Xe.type);let mn;if(Xe.isData3DTexture)it.setTexture3D(Xe,0),mn=ie.TEXTURE_3D;else if(Xe.isDataArrayTexture)it.setTexture2DArray(Xe,0),mn=ie.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,Xe.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Xe.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,Xe.unpackAlignment);const Wt=ie.getParameter(ie.UNPACK_ROW_LENGTH),ai=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),qi=ie.getParameter(ie.UNPACK_SKIP_PIXELS),Di=ie.getParameter(ie.UNPACK_SKIP_ROWS),vr=ie.getParameter(ie.UNPACK_SKIP_IMAGES),pi=Re.isCompressedTexture?Re.mipmaps[0]:Re.image;ie.pixelStorei(ie.UNPACK_ROW_LENGTH,pi.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,pi.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,ne.min.x),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,ne.min.y),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,ne.min.z),Re.isDataTexture||Re.isData3DTexture?ie.texSubImage3D(mn,qe,_e.x,_e.y,_e.z,Pt,Bt,rn,Tt,hn,pi.data):Re.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ie.compressedTexSubImage3D(mn,qe,_e.x,_e.y,_e.z,Pt,Bt,rn,Tt,pi.data)):ie.texSubImage3D(mn,qe,_e.x,_e.y,_e.z,Pt,Bt,rn,Tt,hn,pi),ie.pixelStorei(ie.UNPACK_ROW_LENGTH,Wt),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,ai),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,qi),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,Di),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,vr),qe===0&&Xe.generateMipmaps&&ie.generateMipmap(mn),Ve.unbindTexture()},this.initTexture=function(ne){ne.isCubeTexture?it.setTextureCube(ne,0):ne.isData3DTexture?it.setTexture3D(ne,0):ne.isDataArrayTexture||ne.isCompressedArrayTexture?it.setTexture2DArray(ne,0):it.setTexture2D(ne,0),Ve.unbindTexture()},this.resetState=function(){U=0,k=0,V=null,Ve.reset(),pe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Nf}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===RA?"display-p3":"srgb",t.unpackColorSpace=Xi.workingColorSpace===fT?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===La?jp:QO}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===jp?La:Df}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Hj extends o3{}Hj.prototype.isWebGL1Renderer=!0;class FA{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Jt(e),this.density=t}clone(){return new FA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class IA{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Jt(e),this.near=t,this.far=i}clone(){return new IA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class l3 extends Ri{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class VA{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=P1,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ll()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ll()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ll()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const fo=new fe;class Rl{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)fo.fromBufferAttribute(this,t),fo.applyMatrix4(e),this.setXYZ(t,fo.x,fo.y,fo.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)fo.fromBufferAttribute(this,t),fo.applyNormalMatrix(e),this.setXYZ(t,fo.x,fo.y,fo.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)fo.fromBufferAttribute(this,t),fo.transformDirection(e),this.setXYZ(t,fo.x,fo.y,fo.z);return this}setX(e,t){return this.normalized&&(t=ti(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ti(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ti(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ti(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=jo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=jo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=jo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=jo(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ti(t,this.array),i=ti(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ti(t,this.array),i=ti(i,this.array),r=ti(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=ti(t,this.array),i=ti(i,this.array),r=ti(r,this.array),s=ti(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new nr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Rl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class u3 extends Ys{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Jt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let T0;const UE=new fe,N0=new fe,M0=new fe,w0=new wt,OE=new wt,jj=new Bn,Pw=new fe,FE=new fe,Uw=new fe,eB=new wt,$L=new wt,tB=new wt;class Gj extends Ri{constructor(e=new u3){if(super(),this.isSprite=!0,this.type="Sprite",T0===void 0){T0=new ri;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new VA(t,5);T0.setIndex([0,1,2,0,2,3]),T0.setAttribute("position",new Rl(i,3,0,!1)),T0.setAttribute("uv",new Rl(i,2,3,!1))}this.geometry=T0,this.material=e,this.center=new wt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),N0.setFromMatrixScale(this.matrixWorld),jj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),M0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&N0.multiplyScalar(-M0.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const l=this.center;Ow(Pw.set(-.5,-.5,0),M0,l,N0,r,s),Ow(FE.set(.5,-.5,0),M0,l,N0,r,s),Ow(Uw.set(.5,.5,0),M0,l,N0,r,s),eB.set(0,0),$L.set(1,0),tB.set(1,1);let u=e.ray.intersectTriangle(Pw,FE,Uw,!1,UE);if(u===null&&(Ow(FE.set(-.5,.5,0),M0,l,N0,r,s),$L.set(0,1),u=e.ray.intersectTriangle(Pw,Uw,FE,!1,UE),u===null))return;const h=e.ray.origin.distanceTo(UE);h<e.near||h>e.far||t.push({distance:h,point:UE.clone(),uv:zo.getInterpolation(UE,Pw,FE,Uw,eB,$L,tB,new wt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ow(n,e,t,i,r,s){w0.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(OE.x=s*w0.x-r*w0.y,OE.y=r*w0.x+s*w0.y):OE.copy(w0),n.copy(e),n.x+=OE.x,n.y+=OE.y,n.applyMatrix4(jj)}const Fw=new fe,nB=new fe;class Wj extends Ri{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Fw.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Fw);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Fw.setFromMatrixPosition(e.matrixWorld),nB.setFromMatrixPosition(this.matrixWorld);const i=Fw.distanceTo(nB)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let l=t[r].distance;if(t[r].object.visible&&(l-=l*t[r].hysteresis),i>=l)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const l=i[r];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const iB=new fe,rB=new hi,aB=new hi,Ore=new fe,sB=new Bn,Iw=new fe,KL=new Yo,oB=new Bn,ZL=new jg;class Yj extends la{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=oU,this.bindMatrix=new Bn,this.bindMatrixInverse=new Bn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new vo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Iw),this.boundingBox.expandByPoint(Iw)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Yo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Iw),this.boundingSphere.expandByPoint(Iw)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),KL.copy(this.boundingSphere),KL.applyMatrix4(r),e.ray.intersectsSphere(KL)!==!1&&(oB.copy(r).invert(),ZL.copy(e.ray).applyMatrix4(oB),!(this.boundingBox!==null&&ZL.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,ZL)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new hi,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===oU?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===nj?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;rB.fromBufferAttribute(r.attributes.skinIndex,e),aB.fromBufferAttribute(r.attributes.skinWeight,e),iB.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const l=aB.getComponent(s);if(l!==0){const u=rB.getComponent(s);sB.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(Ore.copy(iB).applyMatrix4(sB),l)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class c3 extends Ri{constructor(){super(),this.isBone=!0,this.type="Bone"}}class X0 extends $r{constructor(e=null,t=1,i=1,r,s,l,u,h,f=oa,p=oa,v,y){super(null,l,u,h,f,p,r,s,v,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const lB=new Bn,Fre=new Bn;class kA{constructor(e=[],t=[]){this.uuid=Ll(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Bn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Bn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,l=e.length;s<l;s++){const u=e[s]?e[s].matrixWorld:Fre;lB.multiplyMatrices(u,t[s]),lB.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new kA(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Nj(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new X0(t,e,e,Ho,Tf);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let l=t[s];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),l=new c3),this.bones.push(l),this.boneInverses.push(new Bn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const l=t[r];e.bones.push(l.uuid);const u=i[r];e.boneInverses.push(u.toArray())}return e}}class Og extends nr{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const C0=new Bn,uB=new Bn,Vw=[],cB=new vo,Ire=new Bn,IE=new la,VE=new Yo;class Xj extends la{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Og(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Ire)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new vo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,C0),cB.copy(e.boundingBox).applyMatrix4(C0),this.boundingBox.union(cB)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Yo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,C0),VE.copy(e.boundingSphere).applyMatrix4(C0),this.boundingSphere.union(VE)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(IE.geometry=this.geometry,IE.material=this.material,IE.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),VE.copy(this.boundingSphere),VE.applyMatrix4(i),e.ray.intersectsSphere(VE)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,C0),uB.multiplyMatrices(i,C0),IE.matrixWorld=uB,IE.raycast(e,Vw);for(let l=0,u=Vw.length;l<u;l++){const h=Vw[l];h.instanceId=s,h.object=this,t.push(h)}Vw.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Og(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class go extends Ys{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Jt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const fB=new fe,dB=new fe,hB=new Bn,JL=new jg,kw=new Yo;let Kp=class extends Ri{constructor(e=new ri,t=new go){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)fB.fromBufferAttribute(t,r-1),dB.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=fB.distanceTo(dB);e.setAttribute("lineDistance",new vn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),kw.copy(i.boundingSphere),kw.applyMatrix4(r),kw.radius+=s,e.ray.intersectsSphere(kw)===!1)return;hB.copy(r).invert(),JL.copy(e.ray).applyMatrix4(hB);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,f=new fe,p=new fe,v=new fe,y=new fe,x=this.isLineSegments?2:1,_=i.index,N=i.attributes.position;if(_!==null){const T=Math.max(0,l.start),A=Math.min(_.count,l.start+l.count);for(let w=T,L=A-1;w<L;w+=x){const U=_.getX(w),k=_.getX(w+1);if(f.fromBufferAttribute(N,U),p.fromBufferAttribute(N,k),JL.distanceSqToSegment(f,p,y,v)>h)continue;y.applyMatrix4(this.matrixWorld);const H=e.ray.origin.distanceTo(y);H<e.near||H>e.far||t.push({distance:H,point:v.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const T=Math.max(0,l.start),A=Math.min(N.count,l.start+l.count);for(let w=T,L=A-1;w<L;w+=x){if(f.fromBufferAttribute(N,w),p.fromBufferAttribute(N,w+1),JL.distanceSqToSegment(f,p,y,v)>h)continue;y.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(y);k<e.near||k>e.far||t.push({distance:k,point:v.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=r.length;s<l;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}};const pB=new fe,mB=new fe;class Uf extends Kp{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)pB.fromBufferAttribute(t,r),mB.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+pB.distanceTo(mB);e.setAttribute("lineDistance",new vn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class qj extends Kp{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class BA extends Ys{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Jt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const vB=new Bn,VU=new jg,Bw=new Yo,zw=new fe;let $j=class extends Ri{constructor(e=new ri,t=new BA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Bw.copy(i.boundingSphere),Bw.applyMatrix4(r),Bw.radius+=s,e.ray.intersectsSphere(Bw)===!1)return;vB.copy(r).invert(),VU.copy(e.ray).applyMatrix4(vB);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,f=i.index,v=i.attributes.position;if(f!==null){const y=Math.max(0,l.start),x=Math.min(f.count,l.start+l.count);for(let _=y,M=x;_<M;_++){const N=f.getX(_);zw.fromBufferAttribute(v,N),gB(zw,N,h,r,e,t,this)}}else{const y=Math.max(0,l.start),x=Math.min(v.count,l.start+l.count);for(let _=y,M=x;_<M;_++)zw.fromBufferAttribute(v,_),gB(zw,_,h,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,l=r.length;s<l;s++){const u=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}};function gB(n,e,t,i,r,s,l){const u=VU.distanceSqToPoint(n);if(u<t){const h=new fe;VU.closestPointToPoint(n,h),h.applyMatrix4(i);const f=r.ray.origin.distanceTo(h);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,object:l})}}class Vre extends $r{constructor(e,t,i,r,s,l,u,h,f){super(e,t,i,r,s,l,u,h,f),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:Ur,this.magFilter=s!==void 0?s:Ur,this.generateMipmaps=!1;const p=this;function v(){p.needsUpdate=!0,e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class kre extends $r{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=oa,this.minFilter=oa,this.generateMipmaps=!1,this.needsUpdate=!0}}class zA extends $r{constructor(e,t,i,r,s,l,u,h,f,p,v,y){super(null,l,u,h,f,p,r,s,v,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Bre extends zA{constructor(e,t,i,r,s,l){super(e,t,i,s,l),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Gs}}class zre extends zA{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,lh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Hre extends $r{constructor(e,t,i,r,s,l,u,h,f){super(e,t,i,r,s,l,u,h,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class mc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let l=1;l<=e;l++)i=this.getPoint(l/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let l;t?l=t:l=e*i[s-1];let u=0,h=s-1,f;for(;u<=h;)if(r=Math.floor(u+(h-u)/2),f=i[r]-l,f<0)u=r+1;else if(f>0)h=r-1;else{h=r;break}if(r=h,i[r]===l)return r/(s-1);const p=i[r],y=i[r+1]-p,x=(l-p)/y;return(r+x)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const l=this.getPoint(r),u=this.getPoint(s),h=t||(l.isVector2?new wt:new fe);return h.copy(u).sub(l).normalize(),h}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new fe,r=[],s=[],l=[],u=new fe,h=new Bn;for(let x=0;x<=e;x++){const _=x/e;r[x]=this.getTangentAt(_,new fe)}s[0]=new fe,l[0]=new fe;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),v=Math.abs(r[0].y),y=Math.abs(r[0].z);p<=f&&(f=p,i.set(1,0,0)),v<=f&&(f=v,i.set(0,1,0)),y<=f&&i.set(0,0,1),u.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],u),l[0].crossVectors(r[0],s[0]);for(let x=1;x<=e;x++){if(s[x]=s[x-1].clone(),l[x]=l[x-1].clone(),u.crossVectors(r[x-1],r[x]),u.length()>Number.EPSILON){u.normalize();const _=Math.acos(Xr(r[x-1].dot(r[x]),-1,1));s[x].applyMatrix4(h.makeRotationAxis(u,_))}l[x].crossVectors(r[x],s[x])}if(t===!0){let x=Math.acos(Xr(s[0].dot(s[e]),-1,1));x/=e,r[0].dot(u.crossVectors(s[0],s[e]))>0&&(x=-x);for(let _=1;_<=e;_++)s[_].applyMatrix4(h.makeRotationAxis(r[_],x*_)),l[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class HA extends mc{constructor(e=0,t=0,i=1,r=1,s=0,l=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=l,this.aClockwise=u,this.aRotation=h}getPoint(e,t){const i=t||new wt,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const l=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(l?s=0:s=r),this.aClockwise===!0&&!l&&(s===r?s=-r:s=s-r);const u=this.aStartAngle+e*s;let h=this.aX+this.xRadius*Math.cos(u),f=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const p=Math.cos(this.aRotation),v=Math.sin(this.aRotation),y=h-this.aX,x=f-this.aY;h=y*p-x*v+this.aX,f=y*v+x*p+this.aY}return i.set(h,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Kj extends HA{constructor(e,t,i,r,s,l){super(e,t,i,i,r,s,l),this.isArcCurve=!0,this.type="ArcCurve"}}function f3(){let n=0,e=0,t=0,i=0;function r(s,l,u,h){n=s,e=u,t=-3*s+3*l-2*u-h,i=2*s-2*l+u+h}return{initCatmullRom:function(s,l,u,h,f){r(l,u,f*(u-s),f*(h-l))},initNonuniformCatmullRom:function(s,l,u,h,f,p,v){let y=(l-s)/f-(u-s)/(f+p)+(u-l)/p,x=(u-l)/p-(h-l)/(p+v)+(h-u)/v;y*=p,x*=p,r(l,u,y,x)},calc:function(s){const l=s*s,u=l*s;return n+e*s+t*l+i*u}}}const Hw=new fe,QL=new f3,eP=new f3,tP=new f3;class Zj extends mc{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new fe){const i=t,r=this.points,s=r.length,l=(s-(this.closed?0:1))*e;let u=Math.floor(l),h=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:h===0&&u===s-1&&(u=s-2,h=1);let f,p;this.closed||u>0?f=r[(u-1)%s]:(Hw.subVectors(r[0],r[1]).add(r[0]),f=Hw);const v=r[u%s],y=r[(u+1)%s];if(this.closed||u+2<s?p=r[(u+2)%s]:(Hw.subVectors(r[s-1],r[s-2]).add(r[s-1]),p=Hw),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let _=Math.pow(f.distanceToSquared(v),x),M=Math.pow(v.distanceToSquared(y),x),N=Math.pow(y.distanceToSquared(p),x);M<1e-4&&(M=1),_<1e-4&&(_=M),N<1e-4&&(N=M),QL.initNonuniformCatmullRom(f.x,v.x,y.x,p.x,_,M,N),eP.initNonuniformCatmullRom(f.y,v.y,y.y,p.y,_,M,N),tP.initNonuniformCatmullRom(f.z,v.z,y.z,p.z,_,M,N)}else this.curveType==="catmullrom"&&(QL.initCatmullRom(f.x,v.x,y.x,p.x,this.tension),eP.initCatmullRom(f.y,v.y,y.y,p.y,this.tension),tP.initCatmullRom(f.z,v.z,y.z,p.z,this.tension));return i.set(QL.calc(h),eP.calc(h),tP.calc(h)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new fe().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function yB(n,e,t,i,r){const s=(i-e)*.5,l=(r-t)*.5,u=n*n,h=n*u;return(2*t-2*i+s+l)*h+(-3*t+3*i-2*s-l)*u+s*n+t}function jre(n,e){const t=1-n;return t*t*e}function Gre(n,e){return 2*(1-n)*n*e}function Wre(n,e){return n*n*e}function s1(n,e,t,i){return jre(n,e)+Gre(n,t)+Wre(n,i)}function Yre(n,e){const t=1-n;return t*t*t*e}function Xre(n,e){const t=1-n;return 3*t*t*n*e}function qre(n,e){return 3*(1-n)*n*n*e}function $re(n,e){return n*n*n*e}function o1(n,e,t,i,r){return Yre(n,e)+Xre(n,t)+qre(n,i)+$re(n,r)}class d3 extends mc{constructor(e=new wt,t=new wt,i=new wt,r=new wt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new wt){const i=t,r=this.v0,s=this.v1,l=this.v2,u=this.v3;return i.set(o1(e,r.x,s.x,l.x,u.x),o1(e,r.y,s.y,l.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Jj extends mc{constructor(e=new fe,t=new fe,i=new fe,r=new fe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new fe){const i=t,r=this.v0,s=this.v1,l=this.v2,u=this.v3;return i.set(o1(e,r.x,s.x,l.x,u.x),o1(e,r.y,s.y,l.y,u.y),o1(e,r.z,s.z,l.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class h3 extends mc{constructor(e=new wt,t=new wt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new wt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new wt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Qj extends mc{constructor(e=new fe,t=new fe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new fe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new fe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p3 extends mc{constructor(e=new wt,t=new wt,i=new wt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new wt){const i=t,r=this.v0,s=this.v1,l=this.v2;return i.set(s1(e,r.x,s.x,l.x),s1(e,r.y,s.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m3 extends mc{constructor(e=new fe,t=new fe,i=new fe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new fe){const i=t,r=this.v0,s=this.v1,l=this.v2;return i.set(s1(e,r.x,s.x,l.x),s1(e,r.y,s.y,l.y),s1(e,r.z,s.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class v3 extends mc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new wt){const i=t,r=this.points,s=(r.length-1)*e,l=Math.floor(s),u=s-l,h=r[l===0?l:l-1],f=r[l],p=r[l>r.length-2?r.length-1:l+1],v=r[l>r.length-3?r.length-1:l+2];return i.set(yB(u,h.x,f.x,p.x,v.x),yB(u,h.y,f.y,p.y,v.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new wt().fromArray(r))}return this}}var eA=Object.freeze({__proto__:null,ArcCurve:Kj,CatmullRomCurve3:Zj,CubicBezierCurve:d3,CubicBezierCurve3:Jj,EllipseCurve:HA,LineCurve:h3,LineCurve3:Qj,QuadraticBezierCurve:p3,QuadraticBezierCurve3:m3,SplineCurve:v3});class eG extends mc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new eA[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const l=r[s]-i,u=this.curves[s],h=u.getLength(),f=h===0?0:1-l/h;return u.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const l=s[r],u=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,h=l.getPoints(u);for(let f=0;f<h.length;f++){const p=h[f];i&&i.equals(p)||(t.push(p),i=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new eA[r.type]().fromJSON(r))}return this}}class I1 extends eG{constructor(e){super(),this.type="Path",this.currentPoint=new wt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new h3(this.currentPoint.clone(),new wt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new p3(this.currentPoint.clone(),new wt(e,t),new wt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,l){const u=new d3(this.currentPoint.clone(),new wt(e,t),new wt(i,r),new wt(s,l));return this.curves.push(u),this.currentPoint.set(s,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new v3(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,t+h,i,r,s,l),this}absarc(e,t,i,r,s,l){return this.absellipse(e,t,i,i,r,s,l),this}ellipse(e,t,i,r,s,l,u,h){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,t+p,i,r,s,l,u,h),this}absellipse(e,t,i,r,s,l,u,h){const f=new HA(e,t,i,r,s,l,u,h);if(this.curves.length>0){const v=f.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class mT extends ri{constructor(e=[new wt(0,-.5),new wt(.5,0),new wt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Xr(r,0,Math.PI*2);const s=[],l=[],u=[],h=[],f=[],p=1/t,v=new fe,y=new wt,x=new fe,_=new fe,M=new fe;let N=0,T=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:N=e[A+1].x-e[A].x,T=e[A+1].y-e[A].y,x.x=T*1,x.y=-N,x.z=T*0,M.copy(x),x.normalize(),h.push(x.x,x.y,x.z);break;case e.length-1:h.push(M.x,M.y,M.z);break;default:N=e[A+1].x-e[A].x,T=e[A+1].y-e[A].y,x.x=T*1,x.y=-N,x.z=T*0,_.copy(x),x.x+=M.x,x.y+=M.y,x.z+=M.z,x.normalize(),h.push(x.x,x.y,x.z),M.copy(_)}for(let A=0;A<=t;A++){const w=i+A*p*r,L=Math.sin(w),U=Math.cos(w);for(let k=0;k<=e.length-1;k++){v.x=e[k].x*L,v.y=e[k].y,v.z=e[k].x*U,l.push(v.x,v.y,v.z),y.x=A/t,y.y=k/(e.length-1),u.push(y.x,y.y);const V=h[3*k+0]*L,H=h[3*k+1],P=h[3*k+0]*U;f.push(V,H,P)}}for(let A=0;A<t;A++)for(let w=0;w<e.length-1;w++){const L=w+A*e.length,U=L,k=L+e.length,V=L+e.length+1,H=L+1;s.push(U,k,H),s.push(V,H,k)}this.setIndex(s),this.setAttribute("position",new vn(l,3)),this.setAttribute("uv",new vn(u,2)),this.setAttribute("normal",new vn(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mT(e.points,e.segments,e.phiStart,e.phiLength)}}class jA extends mT{constructor(e=1,t=1,i=4,r=8){const s=new I1;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new jA(e.radius,e.length,e.capSegments,e.radialSegments)}}class GA extends ri{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],l=[],u=[],h=[],f=new fe,p=new wt;l.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let v=0,y=3;v<=t;v++,y+=3){const x=i+v/t*r;f.x=e*Math.cos(x),f.y=e*Math.sin(x),l.push(f.x,f.y,f.z),u.push(0,0,1),p.x=(l[y]/e+1)/2,p.y=(l[y+1]/e+1)/2,h.push(p.x,p.y)}for(let v=1;v<=t;v++)s.push(v,v+1,0);this.setIndex(s),this.setAttribute("position",new vn(l,3)),this.setAttribute("normal",new vn(u,3)),this.setAttribute("uv",new vn(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class dx extends ri{constructor(e=1,t=1,i=1,r=32,s=1,l=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:h};const f=this;r=Math.floor(r),s=Math.floor(s);const p=[],v=[],y=[],x=[];let _=0;const M=[],N=i/2;let T=0;A(),l===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(p),this.setAttribute("position",new vn(v,3)),this.setAttribute("normal",new vn(y,3)),this.setAttribute("uv",new vn(x,2));function A(){const L=new fe,U=new fe;let k=0;const V=(t-e)/i;for(let H=0;H<=s;H++){const P=[],I=H/s,q=I*(t-e)+e;for(let j=0;j<=r;j++){const J=j/r,W=J*h+u,se=Math.sin(W),te=Math.cos(W);U.x=q*se,U.y=-I*i+N,U.z=q*te,v.push(U.x,U.y,U.z),L.set(se,V,te).normalize(),y.push(L.x,L.y,L.z),x.push(J,1-I),P.push(_++)}M.push(P)}for(let H=0;H<r;H++)for(let P=0;P<s;P++){const I=M[P][H],q=M[P+1][H],j=M[P+1][H+1],J=M[P][H+1];p.push(I,q,J),p.push(q,j,J),k+=6}f.addGroup(T,k,0),T+=k}function w(L){const U=_,k=new wt,V=new fe;let H=0;const P=L===!0?e:t,I=L===!0?1:-1;for(let j=1;j<=r;j++)v.push(0,N*I,0),y.push(0,I,0),x.push(.5,.5),_++;const q=_;for(let j=0;j<=r;j++){const W=j/r*h+u,se=Math.cos(W),te=Math.sin(W);V.x=P*te,V.y=N*I,V.z=P*se,v.push(V.x,V.y,V.z),y.push(0,I,0),k.x=se*.5+.5,k.y=te*.5*I+.5,x.push(k.x,k.y),_++}for(let j=0;j<r;j++){const J=U+j,W=q+j;L===!0?p.push(W,W+1,J):p.push(W+1,W,J),H+=3}f.addGroup(T,H,L===!0?1:2),T+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class WA extends dx{constructor(e=1,t=1,i=32,r=1,s=!1,l=0,u=Math.PI*2){super(0,e,t,i,r,s,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:l,thetaLength:u}}static fromJSON(e){return new WA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tm extends ri{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],l=[];u(r),f(i),p(),this.setAttribute("position",new vn(s,3)),this.setAttribute("normal",new vn(s.slice(),3)),this.setAttribute("uv",new vn(l,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function u(A){const w=new fe,L=new fe,U=new fe;for(let k=0;k<t.length;k+=3)x(t[k+0],w),x(t[k+1],L),x(t[k+2],U),h(w,L,U,A)}function h(A,w,L,U){const k=U+1,V=[];for(let H=0;H<=k;H++){V[H]=[];const P=A.clone().lerp(L,H/k),I=w.clone().lerp(L,H/k),q=k-H;for(let j=0;j<=q;j++)j===0&&H===k?V[H][j]=P:V[H][j]=P.clone().lerp(I,j/q)}for(let H=0;H<k;H++)for(let P=0;P<2*(k-H)-1;P++){const I=Math.floor(P/2);P%2===0?(y(V[H][I+1]),y(V[H+1][I]),y(V[H][I])):(y(V[H][I+1]),y(V[H+1][I+1]),y(V[H+1][I]))}}function f(A){const w=new fe;for(let L=0;L<s.length;L+=3)w.x=s[L+0],w.y=s[L+1],w.z=s[L+2],w.normalize().multiplyScalar(A),s[L+0]=w.x,s[L+1]=w.y,s[L+2]=w.z}function p(){const A=new fe;for(let w=0;w<s.length;w+=3){A.x=s[w+0],A.y=s[w+1],A.z=s[w+2];const L=N(A)/2/Math.PI+.5,U=T(A)/Math.PI+.5;l.push(L,1-U)}_(),v()}function v(){for(let A=0;A<l.length;A+=6){const w=l[A+0],L=l[A+2],U=l[A+4],k=Math.max(w,L,U),V=Math.min(w,L,U);k>.9&&V<.1&&(w<.2&&(l[A+0]+=1),L<.2&&(l[A+2]+=1),U<.2&&(l[A+4]+=1))}}function y(A){s.push(A.x,A.y,A.z)}function x(A,w){const L=A*3;w.x=e[L+0],w.y=e[L+1],w.z=e[L+2]}function _(){const A=new fe,w=new fe,L=new fe,U=new fe,k=new wt,V=new wt,H=new wt;for(let P=0,I=0;P<s.length;P+=9,I+=6){A.set(s[P+0],s[P+1],s[P+2]),w.set(s[P+3],s[P+4],s[P+5]),L.set(s[P+6],s[P+7],s[P+8]),k.set(l[I+0],l[I+1]),V.set(l[I+2],l[I+3]),H.set(l[I+4],l[I+5]),U.copy(A).add(w).add(L).divideScalar(3);const q=N(U);M(k,I+0,A,q),M(V,I+2,w,q),M(H,I+4,L,q)}}function M(A,w,L,U){U<0&&A.x===1&&(l[w]=A.x-1),L.x===0&&L.z===0&&(l[w]=U/2/Math.PI+.5)}function N(A){return Math.atan2(A.z,-A.x)}function T(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tm(e.vertices,e.indices,e.radius,e.details)}}class YA extends tm{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new YA(e.radius,e.detail)}}const jw=new fe,Gw=new fe,nP=new fe,Ww=new zo;class tG extends ri{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Cg*t),l=e.getIndex(),u=e.getAttribute("position"),h=l?l.count:u.count,f=[0,0,0],p=["a","b","c"],v=new Array(3),y={},x=[];for(let _=0;_<h;_+=3){l?(f[0]=l.getX(_),f[1]=l.getX(_+1),f[2]=l.getX(_+2)):(f[0]=_,f[1]=_+1,f[2]=_+2);const{a:M,b:N,c:T}=Ww;if(M.fromBufferAttribute(u,f[0]),N.fromBufferAttribute(u,f[1]),T.fromBufferAttribute(u,f[2]),Ww.getNormal(nP),v[0]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,v[1]=`${Math.round(N.x*r)},${Math.round(N.y*r)},${Math.round(N.z*r)}`,v[2]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let A=0;A<3;A++){const w=(A+1)%3,L=v[A],U=v[w],k=Ww[p[A]],V=Ww[p[w]],H=`${L}_${U}`,P=`${U}_${L}`;P in y&&y[P]?(nP.dot(y[P].normal)<=s&&(x.push(k.x,k.y,k.z),x.push(V.x,V.y,V.z)),y[P]=null):H in y||(y[H]={index0:f[A],index1:f[w],normal:nP.clone()})}}for(const _ in y)if(y[_]){const{index0:M,index1:N}=y[_];jw.fromBufferAttribute(u,M),Gw.fromBufferAttribute(u,N),x.push(jw.x,jw.y,jw.z),x.push(Gw.x,Gw.y,Gw.z)}this.setAttribute("position",new vn(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Rg extends I1{constructor(e){super(e),this.uuid=Ll(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new I1().fromJSON(r))}return this}}const Kre={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=nG(n,0,r,t,!0);const l=[];if(!s||s.next===s.prev)return l;let u,h,f,p,v,y,x;if(i&&(s=tae(n,e,s,t)),n.length>80*t){u=f=n[0],h=p=n[1];for(let _=t;_<r;_+=t)v=n[_],y=n[_+1],v<u&&(u=v),y<h&&(h=y),v>f&&(f=v),y>p&&(p=y);x=Math.max(f-u,p-h),x=x!==0?32767/x:0}return V1(s,l,t,u,h,x,0),l}};function nG(n,e,t,i,r){let s,l;if(r===dae(n,e,t,i)>0)for(s=e;s<t;s+=i)l=bB(s,n[s],n[s+1],l);else for(s=t-i;s>=e;s-=i)l=bB(s,n[s],n[s+1],l);return l&&XA(l,l.next)&&(B1(l),l=l.next),l}function Fg(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(XA(t,t.next)||Ir(t.prev,t,t.next)===0)){if(B1(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function V1(n,e,t,i,r,s,l){if(!n)return;!l&&s&&sae(n,i,r,s);let u=n,h,f;for(;n.prev!==n.next;){if(h=n.prev,f=n.next,s?Jre(n,i,r,s):Zre(n)){e.push(h.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),B1(n),n=f.next,u=f.next;continue}if(n=f,n===u){l?l===1?(n=Qre(Fg(n),e,t),V1(n,e,t,i,r,s,2)):l===2&&eae(n,e,t,i,r,s):V1(Fg(n),e,t,i,r,s,1);break}}}function Zre(n){const e=n.prev,t=n,i=n.next;if(Ir(e,t,i)>=0)return!1;const r=e.x,s=t.x,l=i.x,u=e.y,h=t.y,f=i.y,p=r<s?r<l?r:l:s<l?s:l,v=u<h?u<f?u:f:h<f?h:f,y=r>s?r>l?r:l:s>l?s:l,x=u>h?u>f?u:f:h>f?h:f;let _=i.next;for(;_!==e;){if(_.x>=p&&_.x<=y&&_.y>=v&&_.y<=x&&G0(r,u,s,h,l,f,_.x,_.y)&&Ir(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Jre(n,e,t,i){const r=n.prev,s=n,l=n.next;if(Ir(r,s,l)>=0)return!1;const u=r.x,h=s.x,f=l.x,p=r.y,v=s.y,y=l.y,x=u<h?u<f?u:f:h<f?h:f,_=p<v?p<y?p:y:v<y?v:y,M=u>h?u>f?u:f:h>f?h:f,N=p>v?p>y?p:y:v>y?v:y,T=kU(x,_,e,t,i),A=kU(M,N,e,t,i);let w=n.prevZ,L=n.nextZ;for(;w&&w.z>=T&&L&&L.z<=A;){if(w.x>=x&&w.x<=M&&w.y>=_&&w.y<=N&&w!==r&&w!==l&&G0(u,p,h,v,f,y,w.x,w.y)&&Ir(w.prev,w,w.next)>=0||(w=w.prevZ,L.x>=x&&L.x<=M&&L.y>=_&&L.y<=N&&L!==r&&L!==l&&G0(u,p,h,v,f,y,L.x,L.y)&&Ir(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;w&&w.z>=T;){if(w.x>=x&&w.x<=M&&w.y>=_&&w.y<=N&&w!==r&&w!==l&&G0(u,p,h,v,f,y,w.x,w.y)&&Ir(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;L&&L.z<=A;){if(L.x>=x&&L.x<=M&&L.y>=_&&L.y<=N&&L!==r&&L!==l&&G0(u,p,h,v,f,y,L.x,L.y)&&Ir(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function Qre(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!XA(r,s)&&iG(r,i,i.next,s)&&k1(r,s)&&k1(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),B1(i),B1(i.next),i=n=s),i=i.next}while(i!==n);return Fg(i)}function eae(n,e,t,i,r,s){let l=n;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&uae(l,u)){let h=rG(l,u);l=Fg(l,l.next),h=Fg(h,h.next),V1(l,e,t,i,r,s,0),V1(h,e,t,i,r,s,0);return}u=u.next}l=l.next}while(l!==n)}function tae(n,e,t,i){const r=[];let s,l,u,h,f;for(s=0,l=e.length;s<l;s++)u=e[s]*i,h=s<l-1?e[s+1]*i:n.length,f=nG(n,u,h,i,!1),f===f.next&&(f.steiner=!0),r.push(lae(f));for(r.sort(nae),s=0;s<r.length;s++)t=iae(r[s],t);return t}function nae(n,e){return n.x-e.x}function iae(n,e){const t=rae(n,e);if(!t)return e;const i=rG(t,n);return Fg(i,i.next),Fg(t,t.next)}function rae(n,e){let t=e,i=-1/0,r;const s=n.x,l=n.y;do{if(l<=t.y&&l>=t.next.y&&t.next.y!==t.y){const y=t.x+(l-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=s&&y>i&&(i=y,r=t.x<t.next.x?t:t.next,y===s))return r}t=t.next}while(t!==e);if(!r)return null;const u=r,h=r.x,f=r.y;let p=1/0,v;t=r;do s>=t.x&&t.x>=h&&s!==t.x&&G0(l<f?s:i,l,h,f,l<f?i:s,l,t.x,t.y)&&(v=Math.abs(l-t.y)/(s-t.x),k1(t,n)&&(v<p||v===p&&(t.x>r.x||t.x===r.x&&aae(r,t)))&&(r=t,p=v)),t=t.next;while(t!==u);return r}function aae(n,e){return Ir(n.prev,n,e.prev)<0&&Ir(e.next,n,n.next)<0}function sae(n,e,t,i){let r=n;do r.z===0&&(r.z=kU(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,oae(r)}function oae(n){let e,t,i,r,s,l,u,h,f=1;do{for(t=n,n=null,s=null,l=0;t;){for(l++,i=t,u=0,e=0;e<f&&(u++,i=i.nextZ,!!i);e++);for(h=f;u>0||h>0&&i;)u!==0&&(h===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,u--):(r=i,i=i.nextZ,h--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,f*=2}while(l>1);return n}function kU(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function lae(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function G0(n,e,t,i,r,s,l,u){return(r-l)*(e-u)>=(n-l)*(s-u)&&(n-l)*(i-u)>=(t-l)*(e-u)&&(t-l)*(s-u)>=(r-l)*(i-u)}function uae(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!cae(n,e)&&(k1(n,e)&&k1(e,n)&&fae(n,e)&&(Ir(n.prev,n,e.prev)||Ir(n,e.prev,e))||XA(n,e)&&Ir(n.prev,n,n.next)>0&&Ir(e.prev,e,e.next)>0)}function Ir(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function XA(n,e){return n.x===e.x&&n.y===e.y}function iG(n,e,t,i){const r=Xw(Ir(n,e,t)),s=Xw(Ir(n,e,i)),l=Xw(Ir(t,i,n)),u=Xw(Ir(t,i,e));return!!(r!==s&&l!==u||r===0&&Yw(n,t,e)||s===0&&Yw(n,i,e)||l===0&&Yw(t,n,i)||u===0&&Yw(t,e,i))}function Yw(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Xw(n){return n>0?1:n<0?-1:0}function cae(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&iG(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function k1(n,e){return Ir(n.prev,n,n.next)<0?Ir(n,e,n.next)>=0&&Ir(n,n.prev,e)>=0:Ir(n,e,n.prev)<0||Ir(n,n.next,e)<0}function fae(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function rG(n,e){const t=new BU(n.i,n.x,n.y),i=new BU(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function bB(n,e,t,i){const r=new BU(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function B1(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function BU(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function dae(n,e,t,i){let r=0;for(let s=e,l=t-i;s<t;s+=i)r+=(n[l]-n[s])*(n[s+1]+n[l+1]),l=s;return r}class Rf{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Rf.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];xB(e),SB(i,e);let l=e.length;t.forEach(xB);for(let h=0;h<t.length;h++)r.push(l),l+=t[h].length,SB(i,t[h]);const u=Kre.triangulate(i,r);for(let h=0;h<u.length;h+=3)s.push(u.slice(h,h+3));return s}}function xB(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function SB(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class qA extends ri{constructor(e=new Rg([new wt(.5,.5),new wt(-.5,.5),new wt(-.5,-.5),new wt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let u=0,h=e.length;u<h;u++){const f=e[u];l(f)}this.setAttribute("position",new vn(r,3)),this.setAttribute("uv",new vn(s,2)),this.computeVertexNormals();function l(u){const h=[],f=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:x-.1,M=t.bevelOffset!==void 0?t.bevelOffset:0,N=t.bevelSegments!==void 0?t.bevelSegments:3;const T=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:hae;let w,L=!1,U,k,V,H;T&&(w=T.getSpacedPoints(p),L=!0,y=!1,U=T.computeFrenetFrames(p,!1),k=new fe,V=new fe,H=new fe),y||(N=0,x=0,_=0,M=0);const P=u.extractPoints(f);let I=P.shape;const q=P.holes;if(!Rf.isClockWise(I)){I=I.reverse();for(let ie=0,$e=q.length;ie<$e;ie++){const Le=q[ie];Rf.isClockWise(Le)&&(q[ie]=Le.reverse())}}const J=Rf.triangulateShape(I,q),W=I;for(let ie=0,$e=q.length;ie<$e;ie++){const Le=q[ie];I=I.concat(Le)}function se(ie,$e,Le){return $e||console.error("THREE.ExtrudeGeometry: vec does not exist"),ie.clone().addScaledVector($e,Le)}const te=I.length,ae=J.length;function ge(ie,$e,Le){let je,Ve,ft;const Ge=ie.x-$e.x,it=ie.y-$e.y,vt=Le.x-ie.x,Ye=Le.y-ie.y,Lt=Ge*Ge+it*it,Q=Ge*Ye-it*vt;if(Math.abs(Q)>Number.EPSILON){const K=Math.sqrt(Lt),Ne=Math.sqrt(vt*vt+Ye*Ye),ut=$e.x-it/K,Ue=$e.y+Ge/K,Qe=Le.x-Ye/Ne,Nt=Le.y+vt/Ne,ht=((Qe-ut)*Ye-(Nt-Ue)*vt)/(Ge*Ye-it*vt);je=ut+Ge*ht-ie.x,Ve=Ue+it*ht-ie.y;const ue=je*je+Ve*Ve;if(ue<=2)return new wt(je,Ve);ft=Math.sqrt(ue/2)}else{let K=!1;Ge>Number.EPSILON?vt>Number.EPSILON&&(K=!0):Ge<-Number.EPSILON?vt<-Number.EPSILON&&(K=!0):Math.sign(it)===Math.sign(Ye)&&(K=!0),K?(je=-it,Ve=Ge,ft=Math.sqrt(Lt)):(je=Ge,Ve=it,ft=Math.sqrt(Lt/2))}return new wt(je/ft,Ve/ft)}const ve=[];for(let ie=0,$e=W.length,Le=$e-1,je=ie+1;ie<$e;ie++,Le++,je++)Le===$e&&(Le=0),je===$e&&(je=0),ve[ie]=ge(W[ie],W[Le],W[je]);const ce=[];let Y,ee=ve.concat();for(let ie=0,$e=q.length;ie<$e;ie++){const Le=q[ie];Y=[];for(let je=0,Ve=Le.length,ft=Ve-1,Ge=je+1;je<Ve;je++,ft++,Ge++)ft===Ve&&(ft=0),Ge===Ve&&(Ge=0),Y[je]=ge(Le[je],Le[ft],Le[Ge]);ce.push(Y),ee=ee.concat(Y)}for(let ie=0;ie<N;ie++){const $e=ie/N,Le=x*Math.cos($e*Math.PI/2),je=_*Math.sin($e*Math.PI/2)+M;for(let Ve=0,ft=W.length;Ve<ft;Ve++){const Ge=se(W[Ve],ve[Ve],je);Oe(Ge.x,Ge.y,-Le)}for(let Ve=0,ft=q.length;Ve<ft;Ve++){const Ge=q[Ve];Y=ce[Ve];for(let it=0,vt=Ge.length;it<vt;it++){const Ye=se(Ge[it],Y[it],je);Oe(Ye.x,Ye.y,-Le)}}}const le=_+M;for(let ie=0;ie<te;ie++){const $e=y?se(I[ie],ee[ie],le):I[ie];L?(V.copy(U.normals[0]).multiplyScalar($e.x),k.copy(U.binormals[0]).multiplyScalar($e.y),H.copy(w[0]).add(V).add(k),Oe(H.x,H.y,H.z)):Oe($e.x,$e.y,0)}for(let ie=1;ie<=p;ie++)for(let $e=0;$e<te;$e++){const Le=y?se(I[$e],ee[$e],le):I[$e];L?(V.copy(U.normals[ie]).multiplyScalar(Le.x),k.copy(U.binormals[ie]).multiplyScalar(Le.y),H.copy(w[ie]).add(V).add(k),Oe(H.x,H.y,H.z)):Oe(Le.x,Le.y,v/p*ie)}for(let ie=N-1;ie>=0;ie--){const $e=ie/N,Le=x*Math.cos($e*Math.PI/2),je=_*Math.sin($e*Math.PI/2)+M;for(let Ve=0,ft=W.length;Ve<ft;Ve++){const Ge=se(W[Ve],ve[Ve],je);Oe(Ge.x,Ge.y,v+Le)}for(let Ve=0,ft=q.length;Ve<ft;Ve++){const Ge=q[Ve];Y=ce[Ve];for(let it=0,vt=Ge.length;it<vt;it++){const Ye=se(Ge[it],Y[it],je);L?Oe(Ye.x,Ye.y+w[p-1].y,w[p-1].x+Le):Oe(Ye.x,Ye.y,v+Le)}}}ye(),be();function ye(){const ie=r.length/3;if(y){let $e=0,Le=te*$e;for(let je=0;je<ae;je++){const Ve=J[je];De(Ve[2]+Le,Ve[1]+Le,Ve[0]+Le)}$e=p+N*2,Le=te*$e;for(let je=0;je<ae;je++){const Ve=J[je];De(Ve[0]+Le,Ve[1]+Le,Ve[2]+Le)}}else{for(let $e=0;$e<ae;$e++){const Le=J[$e];De(Le[2],Le[1],Le[0])}for(let $e=0;$e<ae;$e++){const Le=J[$e];De(Le[0]+te*p,Le[1]+te*p,Le[2]+te*p)}}i.addGroup(ie,r.length/3-ie,0)}function be(){const ie=r.length/3;let $e=0;we(W,$e),$e+=W.length;for(let Le=0,je=q.length;Le<je;Le++){const Ve=q[Le];we(Ve,$e),$e+=Ve.length}i.addGroup(ie,r.length/3-ie,1)}function we(ie,$e){let Le=ie.length;for(;--Le>=0;){const je=Le;let Ve=Le-1;Ve<0&&(Ve=ie.length-1);for(let ft=0,Ge=p+N*2;ft<Ge;ft++){const it=te*ft,vt=te*(ft+1),Ye=$e+je+it,Lt=$e+Ve+it,Q=$e+Ve+vt,K=$e+je+vt;st(Ye,Lt,Q,K)}}}function Oe(ie,$e,Le){h.push(ie),h.push($e),h.push(Le)}function De(ie,$e,Le){dt(ie),dt($e),dt(Le);const je=r.length/3,Ve=A.generateTopUV(i,r,je-3,je-2,je-1);ze(Ve[0]),ze(Ve[1]),ze(Ve[2])}function st(ie,$e,Le,je){dt(ie),dt($e),dt(je),dt($e),dt(Le),dt(je);const Ve=r.length/3,ft=A.generateSideWallUV(i,r,Ve-6,Ve-3,Ve-2,Ve-1);ze(ft[0]),ze(ft[1]),ze(ft[3]),ze(ft[1]),ze(ft[2]),ze(ft[3])}function dt(ie){r.push(h[ie*3+0]),r.push(h[ie*3+1]),r.push(h[ie*3+2])}function ze(ie){s.push(ie.x),s.push(ie.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return pae(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,l=e.shapes.length;s<l;s++){const u=t[e.shapes[s]];i.push(u)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new eA[r.type]().fromJSON(r)),new qA(i,e.options)}}const hae={generateTopUV:function(n,e,t,i,r){const s=e[t*3],l=e[t*3+1],u=e[i*3],h=e[i*3+1],f=e[r*3],p=e[r*3+1];return[new wt(s,l),new wt(u,h),new wt(f,p)]},generateSideWallUV:function(n,e,t,i,r,s){const l=e[t*3],u=e[t*3+1],h=e[t*3+2],f=e[i*3],p=e[i*3+1],v=e[i*3+2],y=e[r*3],x=e[r*3+1],_=e[r*3+2],M=e[s*3],N=e[s*3+1],T=e[s*3+2];return Math.abs(u-p)<Math.abs(l-f)?[new wt(l,1-h),new wt(f,1-v),new wt(y,1-_),new wt(M,1-T)]:[new wt(u,1-h),new wt(p,1-v),new wt(x,1-_),new wt(N,1-T)]}};function pae(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class $A extends tm{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $A(e.radius,e.detail)}}class vT extends tm{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vT(e.radius,e.detail)}}class KA extends ri{constructor(e=.5,t=1,i=32,r=1,s=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:l},i=Math.max(3,i),r=Math.max(1,r);const u=[],h=[],f=[],p=[];let v=e;const y=(t-e)/r,x=new fe,_=new wt;for(let M=0;M<=r;M++){for(let N=0;N<=i;N++){const T=s+N/i*l;x.x=v*Math.cos(T),x.y=v*Math.sin(T),h.push(x.x,x.y,x.z),f.push(0,0,1),_.x=(x.x/t+1)/2,_.y=(x.y/t+1)/2,p.push(_.x,_.y)}v+=y}for(let M=0;M<r;M++){const N=M*(i+1);for(let T=0;T<i;T++){const A=T+N,w=A,L=A+i+1,U=A+i+2,k=A+1;u.push(w,L,k),u.push(L,U,k)}}this.setIndex(u),this.setAttribute("position",new vn(h,3)),this.setAttribute("normal",new vn(f,3)),this.setAttribute("uv",new vn(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ZA extends ri{constructor(e=new Rg([new wt(0,.5),new wt(-.5,-.5),new wt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],l=[];let u=0,h=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(u,h,p),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new vn(r,3)),this.setAttribute("normal",new vn(s,3)),this.setAttribute("uv",new vn(l,2));function f(p){const v=r.length/3,y=p.extractPoints(t);let x=y.shape;const _=y.holes;Rf.isClockWise(x)===!1&&(x=x.reverse());for(let N=0,T=_.length;N<T;N++){const A=_[N];Rf.isClockWise(A)===!0&&(_[N]=A.reverse())}const M=Rf.triangulateShape(x,_);for(let N=0,T=_.length;N<T;N++){const A=_[N];x=x.concat(A)}for(let N=0,T=x.length;N<T;N++){const A=x[N];r.push(A.x,A.y,0),s.push(0,0,1),l.push(A.x,A.y)}for(let N=0,T=M.length;N<T;N++){const A=M[N],w=A[0]+v,L=A[1]+v,U=A[2]+v;i.push(w,L,U),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return mae(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const l=t[e.shapes[r]];i.push(l)}return new ZA(i,e.curveSegments)}}function mae(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class gT extends ri{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const h=Math.min(l+u,Math.PI);let f=0;const p=[],v=new fe,y=new fe,x=[],_=[],M=[],N=[];for(let T=0;T<=i;T++){const A=[],w=T/i;let L=0;T===0&&l===0?L=.5/t:T===i&&h===Math.PI&&(L=-.5/t);for(let U=0;U<=t;U++){const k=U/t;v.x=-e*Math.cos(r+k*s)*Math.sin(l+w*u),v.y=e*Math.cos(l+w*u),v.z=e*Math.sin(r+k*s)*Math.sin(l+w*u),_.push(v.x,v.y,v.z),y.copy(v).normalize(),M.push(y.x,y.y,y.z),N.push(k+L,1-w),A.push(f++)}p.push(A)}for(let T=0;T<i;T++)for(let A=0;A<t;A++){const w=p[T][A+1],L=p[T][A],U=p[T+1][A],k=p[T+1][A+1];(T!==0||l>0)&&x.push(w,L,k),(T!==i-1||h<Math.PI)&&x.push(L,U,k)}this.setIndex(x),this.setAttribute("position",new vn(_,3)),this.setAttribute("normal",new vn(M,3)),this.setAttribute("uv",new vn(N,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gT(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class JA extends tm{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new JA(e.radius,e.detail)}}class QA extends ri{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const l=[],u=[],h=[],f=[],p=new fe,v=new fe,y=new fe;for(let x=0;x<=i;x++)for(let _=0;_<=r;_++){const M=_/r*s,N=x/i*Math.PI*2;v.x=(e+t*Math.cos(N))*Math.cos(M),v.y=(e+t*Math.cos(N))*Math.sin(M),v.z=t*Math.sin(N),u.push(v.x,v.y,v.z),p.x=e*Math.cos(M),p.y=e*Math.sin(M),y.subVectors(v,p).normalize(),h.push(y.x,y.y,y.z),f.push(_/r),f.push(x/i)}for(let x=1;x<=i;x++)for(let _=1;_<=r;_++){const M=(r+1)*x+_-1,N=(r+1)*(x-1)+_-1,T=(r+1)*(x-1)+_,A=(r+1)*x+_;l.push(M,N,A),l.push(N,T,A)}this.setIndex(l),this.setAttribute("position",new vn(u,3)),this.setAttribute("normal",new vn(h,3)),this.setAttribute("uv",new vn(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class eR extends ri{constructor(e=1,t=.4,i=64,r=8,s=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:l},i=Math.floor(i),r=Math.floor(r);const u=[],h=[],f=[],p=[],v=new fe,y=new fe,x=new fe,_=new fe,M=new fe,N=new fe,T=new fe;for(let w=0;w<=i;++w){const L=w/i*s*Math.PI*2;A(L,s,l,e,x),A(L+.01,s,l,e,_),N.subVectors(_,x),T.addVectors(_,x),M.crossVectors(N,T),T.crossVectors(M,N),M.normalize(),T.normalize();for(let U=0;U<=r;++U){const k=U/r*Math.PI*2,V=-t*Math.cos(k),H=t*Math.sin(k);v.x=x.x+(V*T.x+H*M.x),v.y=x.y+(V*T.y+H*M.y),v.z=x.z+(V*T.z+H*M.z),h.push(v.x,v.y,v.z),y.subVectors(v,x).normalize(),f.push(y.x,y.y,y.z),p.push(w/i),p.push(U/r)}}for(let w=1;w<=i;w++)for(let L=1;L<=r;L++){const U=(r+1)*(w-1)+(L-1),k=(r+1)*w+(L-1),V=(r+1)*w+L,H=(r+1)*(w-1)+L;u.push(U,k,H),u.push(k,V,H)}this.setIndex(u),this.setAttribute("position",new vn(h,3)),this.setAttribute("normal",new vn(f,3)),this.setAttribute("uv",new vn(p,2));function A(w,L,U,k,V){const H=Math.cos(w),P=Math.sin(w),I=U/L*w,q=Math.cos(I);V.x=k*(2+q)*.5*H,V.y=k*(2+q)*P*.5,V.z=k*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eR(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class tR extends ri{constructor(e=new m3(new fe(-1,-1,0),new fe(-1,1,0),new fe(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const l=e.computeFrenetFrames(t,s);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new fe,h=new fe,f=new wt;let p=new fe;const v=[],y=[],x=[],_=[];M(),this.setIndex(_),this.setAttribute("position",new vn(v,3)),this.setAttribute("normal",new vn(y,3)),this.setAttribute("uv",new vn(x,2));function M(){for(let w=0;w<t;w++)N(w);N(s===!1?t:0),A(),T()}function N(w){p=e.getPointAt(w/t,p);const L=l.normals[w],U=l.binormals[w];for(let k=0;k<=r;k++){const V=k/r*Math.PI*2,H=Math.sin(V),P=-Math.cos(V);h.x=P*L.x+H*U.x,h.y=P*L.y+H*U.y,h.z=P*L.z+H*U.z,h.normalize(),y.push(h.x,h.y,h.z),u.x=p.x+i*h.x,u.y=p.y+i*h.y,u.z=p.z+i*h.z,v.push(u.x,u.y,u.z)}}function T(){for(let w=1;w<=t;w++)for(let L=1;L<=r;L++){const U=(r+1)*(w-1)+(L-1),k=(r+1)*w+(L-1),V=(r+1)*w+L,H=(r+1)*(w-1)+L;_.push(U,k,H),_.push(k,V,H)}}function A(){for(let w=0;w<=t;w++)for(let L=0;L<=r;L++)f.x=w/t,f.y=L/r,x.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new tR(new eA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class g3 extends ri{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new fe,s=new fe;if(e.index!==null){const l=e.attributes.position,u=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let f=0,p=h.length;f<p;++f){const v=h[f],y=v.start,x=v.count;for(let _=y,M=y+x;_<M;_+=3)for(let N=0;N<3;N++){const T=u.getX(_+N),A=u.getX(_+(N+1)%3);r.fromBufferAttribute(l,T),s.fromBufferAttribute(l,A),_B(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const l=e.attributes.position;for(let u=0,h=l.count/3;u<h;u++)for(let f=0;f<3;f++){const p=3*u+f,v=3*u+(f+1)%3;r.fromBufferAttribute(l,p),s.fromBufferAttribute(l,v),_B(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new vn(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function _B(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var EB=Object.freeze({__proto__:null,BoxGeometry:Gg,CapsuleGeometry:jA,CircleGeometry:GA,ConeGeometry:WA,CylinderGeometry:dx,DodecahedronGeometry:YA,EdgesGeometry:tG,ExtrudeGeometry:qA,IcosahedronGeometry:$A,LatheGeometry:mT,OctahedronGeometry:vT,PlaneGeometry:em,PolyhedronGeometry:tm,RingGeometry:KA,ShapeGeometry:ZA,SphereGeometry:gT,TetrahedronGeometry:JA,TorusGeometry:QA,TorusKnotGeometry:eR,TubeGeometry:tR,WireframeGeometry:g3});class aG extends Ys{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Jt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class sG extends fc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class y3 extends Ys{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Jt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oG extends y3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new wt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Jt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Jt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Jt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class lG extends Ys{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Jt(16777215),this.specular=new Jt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=cT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uG extends Ys{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Jt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class cG extends Ys{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class fG extends Ys{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=cT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dG extends Ys{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Jt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qp,this.normalScale=new wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hG extends go{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ng(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function pG(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function mG(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function zU(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,l=0;l!==i;++s){const u=t[s]*e;for(let h=0;h!==e;++h)r[l++]=n[u+h]}return r}function b3(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let l=s[i];if(l!==void 0)if(Array.isArray(l))do l=s[i],l!==void 0&&(e.push(s.time),t.push.apply(t,l)),s=n[r++];while(s!==void 0);else if(l.toArray!==void 0)do l=s[i],l!==void 0&&(e.push(s.time),l.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do l=s[i],l!==void 0&&(e.push(s.time),t.push(l)),s=n[r++];while(s!==void 0)}function vae(n,e,t,i,r=30){const s=n.clone();s.name=e;const l=[];for(let h=0;h<s.tracks.length;++h){const f=s.tracks[h],p=f.getValueSize(),v=[],y=[];for(let x=0;x<f.times.length;++x){const _=f.times[x]*r;if(!(_<t||_>=i)){v.push(f.times[x]);for(let M=0;M<p;++M)y.push(f.values[x*p+M])}}v.length!==0&&(f.times=Ng(v,f.times.constructor),f.values=Ng(y,f.values.constructor),l.push(f))}s.tracks=l;let u=1/0;for(let h=0;h<s.tracks.length;++h)u>s.tracks[h].times[0]&&(u=s.tracks[h].times[0]);for(let h=0;h<s.tracks.length;++h)s.tracks[h].shift(-1*u);return s.resetDuration(),s}function gae(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let l=0;l<r;++l){const u=t.tracks[l],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const f=n.tracks.find(function(T){return T.name===u.name&&T.ValueTypeName===h});if(f===void 0)continue;let p=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=v/3);let y=0;const x=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=x/3);const _=u.times.length-1;let M;if(s<=u.times[0]){const T=p,A=v-p;M=u.values.slice(T,A)}else if(s>=u.times[_]){const T=_*v+p,A=T+v-p;M=u.values.slice(T,A)}else{const T=u.createInterpolant(),A=p,w=v-p;T.evaluate(s),M=T.resultBuffer.slice(A,w)}h==="quaternion"&&new Ws().fromArray(M).normalize().conjugate().toArray(M);const N=f.times.length;for(let T=0;T<N;++T){const A=T*x+y;if(h==="quaternion")Ws.multiplyQuaternionsFlat(f.values,A,M,0,f.values,A);else{const w=x-y*2;for(let L=0;L<w;++L)f.values[A+L]-=M[L]}}}return n.blendMode=JO,n}const yae={convertArray:Ng,isTypedArray:pG,getKeyframeOrder:mG,sortedArray:zU,flattenJSON:b3,subclip:vae,makeClipAdditive:gae};class yT{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let l;n:{i:if(!(e<r)){for(let u=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(s=r,r=t[++i],e<r)break t}l=t.length;break n}if(!(e>=s)){const u=t[1];e<u&&(i=2,s=u);for(let h=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(r=s,s=t[--i-1],e>=s)break t}l=i,i=0;break n}break e}for(;i<l;){const u=i+l>>>1;e<t[u]?l=u:i=u+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let l=0;l!==r;++l)t[l]=i[s+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class vG extends yT{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:_g,endingEnd:_g}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,l=e+1,u=r[s],h=r[l];if(u===void 0)switch(this.getSettings_().endingStart){case Eg:s=e,u=2*t-i;break;case A1:s=r.length-2,u=t+r[s]-r[s+1];break;default:s=e,u=i}if(h===void 0)switch(this.getSettings_().endingEnd){case Eg:l=e,h=2*i-t;break;case A1:l=1,h=i+r[1]-r[0];break;default:l=e-1,h=t}const f=(i-t)*.5,p=this.valueSize;this._weightPrev=f/(t-u),this._weightNext=f/(h-i),this._offsetPrev=s*p,this._offsetNext=l*p}interpolate_(e,t,i,r){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,f=h-u,p=this._offsetPrev,v=this._offsetNext,y=this._weightPrev,x=this._weightNext,_=(i-t)/(r-t),M=_*_,N=M*_,T=-y*N+2*y*M-y*_,A=(1+y)*N+(-1.5-2*y)*M+(-.5+y)*_+1,w=(-1-x)*N+(1.5+x)*M+.5*_,L=x*N-x*M;for(let U=0;U!==u;++U)s[U]=T*l[p+U]+A*l[f+U]+w*l[h+U]+L*l[v+U];return s}}class x3 extends yT{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,f=h-u,p=(i-t)/(r-t),v=1-p;for(let y=0;y!==u;++y)s[y]=l[f+y]*v+l[h+y]*p;return s}}class gG extends yT{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class vc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ng(t,this.TimeBufferType),this.values=Ng(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ng(e.times,Array),values:Ng(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new gG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new x3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case w1:t=this.InterpolantFactoryMethodDiscrete;break;case C1:t=this.InterpolantFactoryMethodLinear;break;case MC:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return w1;case this.InterpolantFactoryMethodLinear:return C1;case this.InterpolantFactoryMethodSmooth:return MC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,l=r-1;for(;s!==r&&i[s]<e;)++s;for(;l!==-1&&i[l]>t;)--l;if(++l,s!==0||l!==r){s>=l&&(l=Math.max(l,1),s=l-1);const u=this.getValueSize();this.times=i.slice(s,l),this.values=this.values.slice(s*u,l*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let u=0;u!==s;u++){const h=i[u];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(l!==null&&l>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,h,l),e=!1;break}l=h}if(r!==void 0&&pG(r))for(let u=0,h=r.length;u!==h;++u){const f=r[u];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===MC,s=e.length-1;let l=1;for(let u=1;u<s;++u){let h=!1;const f=e[u],p=e[u+1];if(f!==p&&(u!==1||f!==e[0]))if(r)h=!0;else{const v=u*i,y=v-i,x=v+i;for(let _=0;_!==i;++_){const M=t[v+_];if(M!==t[y+_]||M!==t[x+_]){h=!0;break}}}if(h){if(u!==l){e[l]=e[u];const v=u*i,y=l*i;for(let x=0;x!==i;++x)t[y+x]=t[v+x]}++l}}if(s>0){e[l]=e[s];for(let u=s*i,h=l*i,f=0;f!==i;++f)t[h+f]=t[u+f];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}vc.prototype.TimeBufferType=Float32Array;vc.prototype.ValueBufferType=Float32Array;vc.prototype.DefaultInterpolation=C1;class Wg extends vc{}Wg.prototype.ValueTypeName="bool";Wg.prototype.ValueBufferType=Array;Wg.prototype.DefaultInterpolation=w1;Wg.prototype.InterpolantFactoryMethodLinear=void 0;Wg.prototype.InterpolantFactoryMethodSmooth=void 0;class S3 extends vc{}S3.prototype.ValueTypeName="color";class z1 extends vc{}z1.prototype.ValueTypeName="number";class yG extends yT{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=(i-t)/(r-t);let f=e*u;for(let p=f+u;f!==p;f+=4)Ws.slerpFlat(s,0,l,f-u,l,f,h);return s}}class hx extends vc{InterpolantFactoryMethodLinear(e){return new yG(this.times,this.values,this.getValueSize(),e)}}hx.prototype.ValueTypeName="quaternion";hx.prototype.DefaultInterpolation=C1;hx.prototype.InterpolantFactoryMethodSmooth=void 0;class Yg extends vc{}Yg.prototype.ValueTypeName="string";Yg.prototype.ValueBufferType=Array;Yg.prototype.DefaultInterpolation=w1;Yg.prototype.InterpolantFactoryMethodLinear=void 0;Yg.prototype.InterpolantFactoryMethodSmooth=void 0;class H1 extends vc{}H1.prototype.ValueTypeName="vector";class j1{constructor(e,t=-1,i,r=AA){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ll(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let l=0,u=i.length;l!==u;++l)t.push(xae(i[l]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,l=i.length;s!==l;++s)t.push(vc.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,l=[];for(let u=0;u<s;u++){let h=[],f=[];h.push((u+s-1)%s,u,(u+1)%s),f.push(0,1,0);const p=mG(h);h=zU(h,1,p),f=zU(f,1,p),!r&&h[0]===0&&(h.push(s),f.push(f[0])),l.push(new z1(".morphTargetInfluences["+t[u].name+"]",h,f).scale(1/i))}return new this(e,-1,l)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let u=0,h=e.length;u<h;u++){const f=e[u],p=f.name.match(s);if(p&&p.length>1){const v=p[1];let y=r[v];y||(r[v]=y=[]),y.push(f)}}const l=[];for(const u in r)l.push(this.CreateFromMorphTargetSequence(u,r[u],t,i));return l}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,y,x,_,M){if(x.length!==0){const N=[],T=[];b3(x,N,T,_),N.length!==0&&M.push(new v(y,N,T))}},r=[],s=e.name||"default",l=e.fps||30,u=e.blendMode;let h=e.length||-1;const f=e.hierarchy||[];for(let v=0;v<f.length;v++){const y=f[v].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const x={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let M=0;M<y[_].morphTargets.length;M++)x[y[_].morphTargets[M]]=-1;for(const M in x){const N=[],T=[];for(let A=0;A!==y[_].morphTargets.length;++A){const w=y[_];N.push(w.time),T.push(w.morphTarget===M?1:0)}r.push(new z1(".morphTargetInfluence["+M+"]",N,T))}h=x.length*l}else{const x=".bones["+t[v].name+"]";i(H1,x+".position",y,"pos",r),i(hx,x+".quaternion",y,"rot",r),i(H1,x+".scale",y,"scl",r)}}return r.length===0?null:new this(s,h,r,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function bae(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return z1;case"vector":case"vector2":case"vector3":case"vector4":return H1;case"color":return S3;case"quaternion":return hx;case"bool":case"boolean":return Wg;case"string":return Yg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function xae(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=bae(n.type);if(n.times===void 0){const t=[],i=[];b3(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ig={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class _3{constructor(e,t,i){const r=this;let s=!1,l=0,u=0,h;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(p){u++,s===!1&&r.onStart!==void 0&&r.onStart(p,l,u),s=!0},this.itemEnd=function(p){l++,r.onProgress!==void 0&&r.onProgress(p,l,u),l===u&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return h?h(p):p},this.setURLModifier=function(p){return h=p,this},this.addHandler=function(p,v){return f.push(p,v),this},this.removeHandler=function(p){const v=f.indexOf(p);return v!==-1&&f.splice(v,2),this},this.getHandler=function(p){for(let v=0,y=f.length;v<y;v+=2){const x=f[v],_=f[v+1];if(x.global&&(x.lastIndex=0),x.test(p))return _}return null}}}const bG=new _3;class Xo{constructor(e){this.manager=e!==void 0?e:bG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Xo.DEFAULT_MATERIAL_NAME="__DEFAULT";const Kd={};class Sae extends Error{constructor(e,t){super(e),this.response=t}}class uh extends Xo{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ig.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Kd[e]!==void 0){Kd[e].push({onLoad:t,onProgress:i,onError:r});return}Kd[e]=[],Kd[e].push({onLoad:t,onProgress:i,onError:r});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,h=this.responseType;fetch(l).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const p=Kd[e],v=f.body.getReader(),y=f.headers.get("Content-Length")||f.headers.get("X-File-Size"),x=y?parseInt(y):0,_=x!==0;let M=0;const N=new ReadableStream({start(T){A();function A(){v.read().then(({done:w,value:L})=>{if(w)T.close();else{M+=L.byteLength;const U=new ProgressEvent("progress",{lengthComputable:_,loaded:M,total:x});for(let k=0,V=p.length;k<V;k++){const H=p[k];H.onProgress&&H.onProgress(U)}T.enqueue(L),A()}})}}});return new Response(N)}else throw new Sae(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(h){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(p=>new DOMParser().parseFromString(p,u));case"json":return f.json();default:if(u===void 0)return f.text();{const v=/charset="?([^;"\s]*)"?/i.exec(u),y=v&&v[1]?v[1].toLowerCase():void 0,x=new TextDecoder(y);return f.arrayBuffer().then(_=>x.decode(_))}}}).then(f=>{Ig.add(e,f);const p=Kd[e];delete Kd[e];for(let v=0,y=p.length;v<y;v++){const x=p[v];x.onLoad&&x.onLoad(f)}}).catch(f=>{const p=Kd[e];if(p===void 0)throw this.manager.itemError(e),f;delete Kd[e];for(let v=0,y=p.length;v<y;v++){const x=p[v];x.onError&&x.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class _ae extends Xo{constructor(e){super(e)}load(e,t,i,r){const s=this,l=new uh(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=j1.parse(e[i]);t.push(r)}return t}}class Eae extends Xo{constructor(e){super(e)}load(e,t,i,r){const s=this,l=[],u=new zA,h=new uh(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(s.withCredentials);let f=0;function p(v){h.load(e[v],function(y){const x=s.parse(y,!0);l[v]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},f+=1,f===6&&(x.mipmapCount===1&&(u.minFilter=Ur),u.image=l,u.format=x.format,u.needsUpdate=!0,t&&t(u))},i,r)}if(Array.isArray(e))for(let v=0,y=e.length;v<y;++v)p(v);else h.load(e,function(v){const y=s.parse(v,!0);if(y.isCubemap){const x=y.mipmaps.length/y.mipmapCount;for(let _=0;_<x;_++){l[_]={mipmaps:[]};for(let M=0;M<y.mipmapCount;M++)l[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+M]),l[_].format=y.format,l[_].width=y.width,l[_].height=y.height}u.image=l}else u.image.width=y.width,u.image.height=y.height,u.mipmaps=y.mipmaps;y.mipmapCount===1&&(u.minFilter=Ur),u.format=y.format,u.needsUpdate=!0,t&&t(u)},i,r);return u}}class G1 extends Xo{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,l=Ig.get(e);if(l!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(l),s.manager.itemEnd(e)},0),l;const u=O1("img");function h(){p(),Ig.add(e,this),t&&t(this),s.manager.itemEnd(e)}function f(v){p(),r&&r(v),s.manager.itemError(e),s.manager.itemEnd(e)}function p(){u.removeEventListener("load",h,!1),u.removeEventListener("error",f,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),s.manager.itemStart(e),u.src=e,u}}class Tae extends Xo{constructor(e){super(e)}load(e,t,i,r){const s=new pT;s.colorSpace=La;const l=new G1(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function h(f){l.load(e[f],function(p){s.images[f]=p,u++,u===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)h(f);return s}}class Nae extends Xo{constructor(e){super(e)}load(e,t,i,r){const s=this,l=new X0,u=new uh(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(s.withCredentials),u.load(e,function(h){let f;try{f=s.parse(h)}catch(p){if(r!==void 0)r(p);else{console.error(p);return}}f.image!==void 0?l.image=f.image:f.data!==void 0&&(l.image.width=f.width,l.image.height=f.height,l.image.data=f.data),l.wrapS=f.wrapS!==void 0?f.wrapS:Gs,l.wrapT=f.wrapT!==void 0?f.wrapT:Gs,l.magFilter=f.magFilter!==void 0?f.magFilter:Ur,l.minFilter=f.minFilter!==void 0?f.minFilter:Ur,l.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0?l.colorSpace=f.colorSpace:f.encoding!==void 0&&(l.encoding=f.encoding),f.flipY!==void 0&&(l.flipY=f.flipY),f.format!==void 0&&(l.format=f.format),f.type!==void 0&&(l.type=f.type),f.mipmaps!==void 0&&(l.mipmaps=f.mipmaps,l.minFilter=$p),f.mipmapCount===1&&(l.minFilter=Ur),f.generateMipmaps!==void 0&&(l.generateMipmaps=f.generateMipmaps),l.needsUpdate=!0,t&&t(l,f)},i,r),l}}class Mae extends Xo{constructor(e){super(e)}load(e,t,i,r){const s=new $r,l=new G1(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){s.image=u,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class nm extends Ri{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Jt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class xG extends nm{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ri.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Jt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const iP=new Bn,TB=new fe,NB=new fe;class E3{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new wt(512,512),this.map=null,this.mapPass=null,this.matrix=new Bn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new LA,this._frameExtents=new wt(1,1),this._viewportCount=1,this._viewports=[new hi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;TB.setFromMatrixPosition(e.matrixWorld),t.position.copy(TB),NB.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(NB),t.updateMatrixWorld(),iP.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iP),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(iP)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class wae extends E3{constructor(){super(new Or(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=ex*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class SG extends nm{constructor(e,t,i=0,r=Math.PI/3,s=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ri.DEFAULT_UP),this.updateMatrix(),this.target=new Ri,this.distance=i,this.angle=r,this.penumbra=s,this.decay=l,this.map=null,this.shadow=new wae}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const MB=new Bn,kE=new fe,rP=new fe;class Cae extends E3{constructor(){super(new Or(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new wt(4,2),this._viewportCount=6,this._viewports=[new hi(2,1,1,1),new hi(0,1,1,1),new hi(3,1,1,1),new hi(1,1,1,1),new hi(3,0,1,1),new hi(1,0,1,1)],this._cubeDirections=[new fe(1,0,0),new fe(-1,0,0),new fe(0,0,1),new fe(0,0,-1),new fe(0,1,0),new fe(0,-1,0)],this._cubeUps=[new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,0,1),new fe(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),kE.setFromMatrixPosition(e.matrixWorld),i.position.copy(kE),rP.copy(i.position),rP.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(rP),i.updateMatrixWorld(),r.makeTranslation(-kE.x,-kE.y,-kE.z),MB.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(MB)}}class _G extends nm{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Cae}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Aae extends E3{constructor(){super(new Af(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class EG extends nm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ri.DEFAULT_UP),this.updateMatrix(),this.target=new Ri,this.shadow=new Aae}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class TG extends nm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class NG extends nm{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class MG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new fe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*r),t.addScaledVector(l[2],.488603*s),t.addScaledVector(l[3],.488603*i),t.addScaledVector(l[4],1.092548*(i*r)),t.addScaledVector(l[5],1.092548*(r*s)),t.addScaledVector(l[6],.315392*(3*s*s-1)),t.addScaledVector(l[7],1.092548*(i*s)),t.addScaledVector(l[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*r),t.addScaledVector(l[2],2*.511664*s),t.addScaledVector(l[3],2*.511664*i),t.addScaledVector(l[4],2*.429043*i*r),t.addScaledVector(l[5],2*.429043*r*s),t.addScaledVector(l[6],.743125*s*s-.247708),t.addScaledVector(l[7],2*.429043*i*s),t.addScaledVector(l[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class wG extends nm{constructor(e=new MG,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class nR extends Xo{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,l=new uh(s.manager);l.setPath(s.path),l.setRequestHeader(s.requestHeader),l.setWithCredentials(s.withCredentials),l.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=nR.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Jt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const l=e.uniforms[s];switch(r.uniforms[s]={},l.type){case"t":r.uniforms[s].value=i(l.value);break;case"c":r.uniforms[s].value=new Jt().setHex(l.value);break;case"v2":r.uniforms[s].value=new wt().fromArray(l.value);break;case"v3":r.uniforms[s].value=new fe().fromArray(l.value);break;case"v4":r.uniforms[s].value=new hi().fromArray(l.value);break;case"m3":r.uniforms[s].value=new ei().fromArray(l.value);break;case"m4":r.uniforms[s].value=new Bn().fromArray(l.value);break;default:r.uniforms[s].value=l.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new wt().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new wt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:aG,SpriteMaterial:u3,RawShaderMaterial:sG,ShaderMaterial:fc,PointsMaterial:BA,MeshPhysicalMaterial:oG,MeshStandardMaterial:y3,MeshPhongMaterial:lG,MeshToonMaterial:uG,MeshNormalMaterial:cG,MeshLambertMaterial:fG,MeshDepthMaterial:UA,MeshDistanceMaterial:OA,MeshBasicMaterial:fh,MeshMatcapMaterial:dG,LineDashedMaterial:hG,LineBasicMaterial:go,Material:Ys};return new t[e]}}class HU{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class iR extends ri{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class CG extends Xo{constructor(e){super(e)}load(e,t,i,r){const s=this,l=new uh(s.manager);l.setPath(s.path),l.setRequestHeader(s.requestHeader),l.setWithCredentials(s.withCredentials),l.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(h){r?r(h):console.error(h),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(x,_){if(t[_]!==void 0)return t[_];const N=x.interleavedBuffers[_],T=s(x,N.buffer),A=z0(N.type,T),w=new VA(A,N.stride);return w.uuid=N.uuid,t[_]=w,w}function s(x,_){if(i[_]!==void 0)return i[_];const N=x.arrayBuffers[_],T=new Uint32Array(N).buffer;return i[_]=T,T}const l=e.isInstancedBufferGeometry?new iR:new ri,u=e.data.index;if(u!==void 0){const x=z0(u.type,u.array);l.setIndex(new nr(x,1))}const h=e.data.attributes;for(const x in h){const _=h[x];let M;if(_.isInterleavedBufferAttribute){const N=r(e.data,_.data);M=new Rl(N,_.itemSize,_.offset,_.normalized)}else{const N=z0(_.type,_.array),T=_.isInstancedBufferAttribute?Og:nr;M=new T(N,_.itemSize,_.normalized)}_.name!==void 0&&(M.name=_.name),_.usage!==void 0&&M.setUsage(_.usage),_.updateRange!==void 0&&(M.updateRange.offset=_.updateRange.offset,M.updateRange.count=_.updateRange.count),l.setAttribute(x,M)}const f=e.data.morphAttributes;if(f)for(const x in f){const _=f[x],M=[];for(let N=0,T=_.length;N<T;N++){const A=_[N];let w;if(A.isInterleavedBufferAttribute){const L=r(e.data,A.data);w=new Rl(L,A.itemSize,A.offset,A.normalized)}else{const L=z0(A.type,A.array);w=new nr(L,A.itemSize,A.normalized)}A.name!==void 0&&(w.name=A.name),M.push(w)}l.morphAttributes[x]=M}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let x=0,_=v.length;x!==_;++x){const M=v[x];l.addGroup(M.start,M.count,M.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const x=new fe;y.center!==void 0&&x.fromArray(y.center),l.boundingSphere=new Yo(x,y.radius)}return e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class Rae extends Xo{constructor(e){super(e)}load(e,t,i,r){const s=this,l=this.path===""?HU.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new uh(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){let f=null;try{f=JSON.parse(h)}catch(v){r!==void 0&&r(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?HU.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new uh(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const l=await s.loadAsync(e,t),u=JSON.parse(l),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),l=this.parseImages(e.images,function(){t!==void 0&&t(f)}),u=this.parseTextures(e.textures,l),h=this.parseMaterials(e.materials,u),f=this.parseObject(e.object,s,h,u,i),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),t!==void 0){let v=!1;for(const y in l)if(l[y].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,r,u,l,t),f=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,f),h}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Rg().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,l=e.length;s<l;s++){const u=new kA().fromJSON(e[s],r);i[u.uuid]=u}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new CG;for(let s=0,l=e.length;s<l;s++){let u;const h=e[s];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=r.parse(h);break;default:h.type in EB?u=EB[h.type].fromJSON(h,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),i[h.uuid]=u}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new nR;s.setTextures(t);for(let l=0,u=e.length;l<u;l++){const h=e[l];i[h.uuid]===void 0&&(i[h.uuid]=s.parse(h)),r[h.uuid]=i[h.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=j1.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function l(h){return i.manager.itemStart(h),s.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const f=h,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return l(p)}else return h.data?{data:z0(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new _3(t);s=new G1(h),s.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const v=e[f],y=v.url;if(Array.isArray(y)){const x=[];for(let _=0,M=y.length;_<M;_++){const N=y[_],T=u(N);T!==null&&(T instanceof HTMLImageElement?x.push(T):x.push(new X0(T.data,T.width,T.height)))}r[v.uuid]=new Tg(x)}else{const x=u(v.url);r[v.uuid]=new Tg(x)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await r.loadAsync(h)}else return l.data?{data:z0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){r=new G1(this.manager),r.setCrossOrigin(this.crossOrigin);for(let l=0,u=e.length;l<u;l++){const h=e[l],f=h.url;if(Array.isArray(f)){const p=[];for(let v=0,y=f.length;v<y;v++){const x=f[v],_=await s(x);_!==null&&(_ instanceof HTMLImageElement?p.push(_):p.push(new X0(_.data,_.width,_.height)))}i[h.uuid]=new Tg(p)}else{const p=await s(h.url);i[h.uuid]=new Tg(p)}}}return i}parseTextures(e,t){function i(s,l){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),l[s])}const r={};if(e!==void 0)for(let s=0,l=e.length;s<l;s++){const u=e[s];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const h=t[u.image],f=h.data;let p;Array.isArray(f)?(p=new pT,f.length===6&&(p.needsUpdate=!0)):(f&&f.data?p=new X0:p=new $r,f&&(p.needsUpdate=!0)),p.source=h,p.uuid=u.uuid,u.name!==void 0&&(p.name=u.name),u.mapping!==void 0&&(p.mapping=i(u.mapping,Dae)),u.channel!==void 0&&(p.channel=u.channel),u.offset!==void 0&&p.offset.fromArray(u.offset),u.repeat!==void 0&&p.repeat.fromArray(u.repeat),u.center!==void 0&&p.center.fromArray(u.center),u.rotation!==void 0&&(p.rotation=u.rotation),u.wrap!==void 0&&(p.wrapS=i(u.wrap[0],wB),p.wrapT=i(u.wrap[1],wB)),u.format!==void 0&&(p.format=u.format),u.internalFormat!==void 0&&(p.internalFormat=u.internalFormat),u.type!==void 0&&(p.type=u.type),u.colorSpace!==void 0&&(p.colorSpace=u.colorSpace),u.encoding!==void 0&&(p.encoding=u.encoding),u.minFilter!==void 0&&(p.minFilter=i(u.minFilter,CB)),u.magFilter!==void 0&&(p.magFilter=i(u.magFilter,CB)),u.anisotropy!==void 0&&(p.anisotropy=u.anisotropy),u.flipY!==void 0&&(p.flipY=u.flipY),u.generateMipmaps!==void 0&&(p.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(p.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(p.compareFunction=u.compareFunction),u.userData!==void 0&&(p.userData=u.userData),r[u.uuid]=p}return r}parseObject(e,t,i,r,s){let l;function u(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function h(y){if(y!==void 0){if(Array.isArray(y)){const x=[];for(let _=0,M=y.length;_<M;_++){const N=y[_];i[N]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",N),x.push(i[N])}return x}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function f(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let p,v;switch(e.type){case"Scene":l=new l3,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new Jt(e.background):l.background=f(e.background)),e.environment!==void 0&&(l.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new IA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new FA(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":l=new Or(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new Af(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new TG(e.color,e.intensity);break;case"DirectionalLight":l=new EG(e.color,e.intensity);break;case"PointLight":l=new _G(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new NG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new SG(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":l=new xG(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new wG().fromJSON(e);break;case"SkinnedMesh":p=u(e.geometry),v=h(e.material),l=new Yj(p,v),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":p=u(e.geometry),v=h(e.material),l=new la(p,v);break;case"InstancedMesh":p=u(e.geometry),v=h(e.material);const y=e.count,x=e.instanceMatrix,_=e.instanceColor;l=new Xj(p,v,y),l.instanceMatrix=new Og(new Float32Array(x.array),16),_!==void 0&&(l.instanceColor=new Og(new Float32Array(_.array),_.itemSize));break;case"LOD":l=new Wj;break;case"Line":l=new Kp(u(e.geometry),h(e.material));break;case"LineLoop":l=new qj(u(e.geometry),h(e.material));break;case"LineSegments":l=new Uf(u(e.geometry),h(e.material));break;case"PointCloud":case"Points":l=new $j(u(e.geometry),h(e.material));break;case"Sprite":l=new Gj(h(e.material));break;case"Group":l=new j0;break;case"Bone":l=new c3;break;default:l=new Ri}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let x=0;x<y.length;x++)l.add(this.parseObject(y[x],t,i,r,s))}if(e.animations!==void 0){const y=e.animations;for(let x=0;x<y.length;x++){const _=y[x];l.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const y=e.levels;for(let x=0;x<y.length;x++){const _=y[x],M=l.getObjectByProperty("uuid",_.object);M!==void 0&&l.addLevel(M,_.distance,_.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const Dae={UVMapping:wA,CubeReflectionMapping:lh,CubeRefractionMapping:qp,EquirectangularReflectionMapping:E1,EquirectangularRefractionMapping:T1,CubeUVReflectionMapping:cx},wB={RepeatWrapping:N1,ClampToEdgeWrapping:Gs,MirroredRepeatWrapping:M1},CB={NearestFilter:oa,NearestMipmapNearestFilter:ZC,NearestMipmapLinearFilter:i1,LinearFilter:Ur,LinearMipmapNearestFilter:WO,LinearMipmapLinearFilter:$p};class Lae extends Xo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,l=Ig.get(e);if(l!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(l),s.manager.itemEnd(e)},0),l;const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,fetch(e,u).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(h){Ig.add(e,h),t&&t(h),s.manager.itemEnd(e)}).catch(function(h){r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let qw;class T3{static getContext(){return qw===void 0&&(qw=new(window.AudioContext||window.webkitAudioContext)),qw}static setContext(e){qw=e}}class Pae extends Xo{constructor(e){super(e)}load(e,t,i,r){const s=this,l=new uh(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){try{const f=h.slice(0);T3.getContext().decodeAudioData(f,function(v){t(v)},u)}catch(f){u(f)}},i,r);function u(h){r?r(h):console.error(h),s.manager.itemError(e)}}}const AB=new Bn,RB=new Bn,ng=new Bn;class Uae{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Or,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Or,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ng.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,l=t.near*Math.tan(Cg*t.fov*.5)/t.zoom;let u,h;RB.elements[12]=-r,AB.elements[12]=r,u=-l*t.aspect+s,h=l*t.aspect+s,ng.elements[0]=2*t.near/(h-u),ng.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(ng),u=-l*t.aspect-s,h=l*t.aspect-s,ng.elements[0]=2*t.near/(h-u),ng.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(ng)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(RB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(AB)}}class N3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=DB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=DB();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function DB(){return(typeof performance>"u"?Date:performance).now()}const ig=new fe,LB=new Ws,Oae=new fe,rg=new fe;class Fae extends Ri{constructor(){super(),this.type="AudioListener",this.context=T3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new N3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ig,LB,Oae),rg.set(0,0,-1).applyQuaternion(LB),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ig.x,r),t.positionY.linearRampToValueAtTime(ig.y,r),t.positionZ.linearRampToValueAtTime(ig.z,r),t.forwardX.linearRampToValueAtTime(rg.x,r),t.forwardY.linearRampToValueAtTime(rg.y,r),t.forwardZ.linearRampToValueAtTime(rg.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ig.x,ig.y,ig.z),t.setOrientation(rg.x,rg.y,rg.z,i.x,i.y,i.z)}}class AG extends Ri{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ag=new fe,PB=new Ws,Iae=new fe,sg=new fe;class Vae extends AG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ag,PB,Iae),sg.set(0,0,1).applyQuaternion(PB);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ag.x,i),t.positionY.linearRampToValueAtTime(ag.y,i),t.positionZ.linearRampToValueAtTime(ag.z,i),t.orientationX.linearRampToValueAtTime(sg.x,i),t.orientationY.linearRampToValueAtTime(sg.y,i),t.orientationZ.linearRampToValueAtTime(sg.z,i)}else t.setPosition(ag.x,ag.y,ag.z),t.setOrientation(sg.x,sg.y,sg.z)}}class kae{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class RG{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,l;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==r;++u)i[s+u]=i[u];l=t}else{l+=t;const u=t/l;this._mixBufferRegion(i,s,0,u,r)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const h=t*this._origIndex;this._mixBufferRegion(i,r,h,1-s,t)}l>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let h=t,f=t+t;h!==f;++h)if(i[h]!==i[h+t]){u.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,l=r;s!==l;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let l=0;l!==s;++l)e[t+l]=e[i+l]}_slerp(e,t,i,r){Ws.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const l=this._workIndex*s;Ws.multiplyQuaternionsFlat(e,l,e,t,e,i),Ws.slerpFlat(e,t,e,t,e,l,r)}_lerp(e,t,i,r,s){const l=1-r;for(let u=0;u!==s;++u){const h=t+u;e[h]=e[h]*l+e[i+u]*r}}_lerpAdditive(e,t,i,r,s){for(let l=0;l!==s;++l){const u=t+l;e[u]=e[u]+e[i+l]*r}}}const M3="\\[\\]\\.:\\/",Bae=new RegExp("["+M3+"]","g"),w3="[^"+M3+"]",zae="[^"+M3.replace("\\.","")+"]",Hae=/((?:WC+[\/:])*)/.source.replace("WC",w3),jae=/(WCOD+)?/.source.replace("WCOD",zae),Gae=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",w3),Wae=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",w3),Yae=new RegExp("^"+Hae+jae+Gae+Wae+"$"),Xae=["material","materials","bones","map"];class qae{constructor(e,t,i){const r=i||Ti.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ti{constructor(e,t,i){this.path=t,this.parsedPath=i||Ti.parseTrackName(t),this.node=Ti.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ti.Composite(e,t,i):new Ti(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Bae,"")}static parseTrackName(e){const t=Yae.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Xae.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let l=0;l<s.length;l++){const u=s[l];if(u.name===t||u.uuid===t)return u;const h=i(u.children);if(h)return h}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Ti.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const l=e[r];if(l===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?u=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=s}else l.fromArray!==void 0&&l.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ti.Composite=qae;Ti.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ti.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ti.prototype.GetterByBindingType=[Ti.prototype._getValue_direct,Ti.prototype._getValue_array,Ti.prototype._getValue_arrayElement,Ti.prototype._getValue_toArray];Ti.prototype.SetterByBindingTypeAndVersioning=[[Ti.prototype._setValue_direct,Ti.prototype._setValue_direct_setNeedsUpdate,Ti.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ti.prototype._setValue_array,Ti.prototype._setValue_array_setNeedsUpdate,Ti.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ti.prototype._setValue_arrayElement,Ti.prototype._setValue_arrayElement_setNeedsUpdate,Ti.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ti.prototype._setValue_fromArray,Ti.prototype._setValue_fromArray_setNeedsUpdate,Ti.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class $ae{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ll(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,l=s.length;let u,h=e.length,f=this.nCachedObjects_;for(let p=0,v=arguments.length;p!==v;++p){const y=arguments[p],x=y.uuid;let _=t[x];if(_===void 0){_=h++,t[x]=_,e.push(y);for(let M=0,N=l;M!==N;++M)s[M].push(new Ti(y,i[M],r[M]))}else if(_<f){u=e[_];const M=--f,N=e[M];t[N.uuid]=_,e[_]=N,t[x]=M,e[M]=y;for(let T=0,A=l;T!==A;++T){const w=s[T],L=w[M];let U=w[_];w[_]=L,U===void 0&&(U=new Ti(y,i[T],r[T])),w[M]=U}}else e[_]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],f=h.uuid,p=t[f];if(p!==void 0&&p>=s){const v=s++,y=e[v];t[y.uuid]=p,e[p]=y,t[f]=v,e[v]=h;for(let x=0,_=r;x!==_;++x){const M=i[x],N=M[v],T=M[p];M[p]=N,M[v]=T}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,l=e.length;for(let u=0,h=arguments.length;u!==h;++u){const f=arguments[u],p=f.uuid,v=t[p];if(v!==void 0)if(delete t[p],v<s){const y=--s,x=e[y],_=--l,M=e[_];t[x.uuid]=v,e[v]=x,t[M.uuid]=y,e[y]=M,e.pop();for(let N=0,T=r;N!==T;++N){const A=i[N],w=A[y],L=A[_];A[v]=w,A[y]=L,A.pop()}}else{const y=--l,x=e[y];y>0&&(t[x.uuid]=v),e[v]=x,e.pop();for(let _=0,M=r;_!==M;++_){const N=i[_];N[v]=N[y],N.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const l=this._paths,u=this._parsedPaths,h=this._objects,f=h.length,p=this.nCachedObjects_,v=new Array(f);r=s.length,i[e]=r,l.push(e),u.push(t),s.push(v);for(let y=p,x=h.length;y!==x;++y){const _=h[y];v[y]=new Ti(_,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,l=this._bindings,u=l.length-1,h=l[u],f=e[u];t[f]=i,l[i]=h,l.pop(),s[i]=s[u],s.pop(),r[i]=r[u],r.pop()}}}class DG{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,l=s.length,u=new Array(l),h={endingStart:_g,endingEnd:_g};for(let f=0;f!==l;++f){const p=s[f].createInterpolant(null);u[f]=p,p.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=hj,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,l=s/r,u=r/s;e.warp(1,l,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=r._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,f=u.sampleValues;return h[0]=s,h[1]=s+i,f[0]=e/l,f[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const h=(e-s)*i;h<0||i===0?t=0:(this._startTime=null,t=i*h)}t*=this._updateTimeScale(e);const l=this._updateTime(t),u=this._updateWeight(e);if(u>0){const h=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case JO:for(let p=0,v=h.length;p!==v;++p)h[p].evaluate(l),f[p].accumulateAdditive(u);break;case AA:default:for(let p=0,v=h.length;p!==v;++p)h[p].evaluate(l),f[p].accumulate(r,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const l=i===pj;if(e===0)return s===-1?r:l&&(s&1)===1?t-r:r;if(i===dj){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),r>=t||r<0){const u=Math.floor(r/t);r-=t*u,s+=Math.abs(u);const h=this.repetitions-s;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const f=e<0;this._setEndings(f,!f,l)}else this._setEndings(!1,!1,l);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=r;if(l&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Eg,r.endingEnd=Eg):(e?r.endingStart=this.zeroSlopeAtStart?Eg:_g:r.endingStart=A1,t?r.endingEnd=this.zeroSlopeAtEnd?Eg:_g:r.endingEnd=A1)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let l=this._weightInterpolant;l===null&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=s,h[0]=t,u[1]=s+e,h[1]=i,this}}const Kae=new Float32Array(1);class Zae extends ch{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,l=e._propertyBindings,u=e._interpolants,h=i.uuid,f=this._bindingsByRootAndName;let p=f[h];p===void 0&&(p={},f[h]=p);for(let v=0;v!==s;++v){const y=r[v],x=y.name;let _=p[x];if(_!==void 0)++_.referenceCount,l[v]=_;else{if(_=l[v],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,h,x));continue}const M=t&&t._propertyBindings[v].binding.parsedPath;_=new RG(Ti.create(i,x,M),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,h,x),l[v]=_}u[v].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let l=s[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=l;else{const u=l.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=r.length,r.push(e),l.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,l=this._actionsByClip,u=l[s],h=u.knownActions,f=h[h.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,h[p]=f,h.pop(),e._byClipCacheIndex=null;const v=u.actionByRoot,y=(e._localRoot||this._root).uuid;delete v[y],h.length===0&&delete l[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let l=r[t];l===void 0&&(l={},r[t]=l),l[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,l=this._bindingsByRootAndName,u=l[r],h=t[t.length-1],f=e._cacheIndex;h._cacheIndex=f,t[f]=h,t.pop(),delete u[s],Object.keys(u).length===0&&delete l[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new x3(new Float32Array(2),new Float32Array(2),1,Kae),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let l=typeof e=="string"?j1.findByName(r,e):e;const u=l!==null?l.uuid:e,h=this._actionsByClip[u];let f=null;if(i===void 0&&(l!==null?i=l.blendMode:i=AA),h!==void 0){const v=h.actionByRoot[s];if(v!==void 0&&v.blendMode===i)return v;f=h.knownActions[0],l===null&&(l=f._clip)}if(l===null)return null;const p=new DG(this,l,t,i);return this._bindAction(p,f),this._addInactiveAction(p,u,s),p}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?j1.findByName(i,e):e,l=s?s.uuid:e,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),l=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,s,l);const u=this._bindings,h=this._nActiveBindings;for(let f=0;f!==h;++f)u[f].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const l=s.knownActions;for(let u=0,h=l.length;u!==h;++u){const f=l[u];this._deactivateAction(f);const p=f._cacheIndex,v=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,v._cacheIndex=p,t[p]=v,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const l in i){const u=i[l].actionByRoot,h=u[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const l in s){const u=s[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class C3{constructor(e){this.value=e}clone(){return new C3(this.value.clone===void 0?this.value:this.value.clone())}}let Jae=0;class Qae extends ch{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Jae++}),this.name="",this.usage=P1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class tA extends VA{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class ese{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class LG{constructor(e,t,i=0,r=1/0){this.ray=new jg(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Ag,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return jU(e,this,i,t),i.sort(UB),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)jU(e[r],this,i,t);return i.sort(UB),i}}function UB(n,e){return n.distance-e.distance}function jU(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,l=r.length;s<l;s++)jU(r[s],e,t,!0)}}class GU{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Xr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class tse{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const OB=new wt;class nse{constructor(e=new wt(1/0,1/0),t=new wt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=OB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,OB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const FB=new fe,$w=new fe;class PG{constructor(e=new fe,t=new fe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){FB.subVectors(e,this.start),$w.subVectors(this.end,this.start);const i=$w.dot($w);let s=$w.dot(FB)/i;return t&&(s=Xr(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const IB=new fe;class ise extends Ri{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ri,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const f=l/h*Math.PI*2,p=u/h*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new vn(r,3));const s=new go({fog:!1,toneMapped:!1});this.cone=new Uf(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),IB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(IB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Dp=new fe,Kw=new Bn,aP=new Bn;class rse extends Uf{constructor(e){const t=UG(e),i=new ri,r=[],s=[],l=new Jt(0,0,1),u=new Jt(0,1,0);for(let f=0;f<t.length;f++){const p=t[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}i.setAttribute("position",new vn(r,3)),i.setAttribute("color",new vn(s,3));const h=new go({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");aP.copy(this.root.matrixWorld).invert();for(let s=0,l=0;s<t.length;s++){const u=t[s];u.parent&&u.parent.isBone&&(Kw.multiplyMatrices(aP,u.matrixWorld),Dp.setFromMatrixPosition(Kw),r.setXYZ(l,Dp.x,Dp.y,Dp.z),Kw.multiplyMatrices(aP,u.parent.matrixWorld),Dp.setFromMatrixPosition(Kw),r.setXYZ(l+1,Dp.x,Dp.y,Dp.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function UG(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,UG(n.children[t]));return e}class ase extends la{constructor(e,t,i){const r=new gT(t,4,2),s=new fh({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const sse=new fe,VB=new Jt,kB=new Jt;class ose extends Ri{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new vT(t);r.rotateY(Math.PI*.5),this.material=new fh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),l=new Float32Array(s.count*3);r.setAttribute("color",new nr(l,3)),this.add(new la(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");VB.copy(this.light.color),kB.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?VB:kB;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(sse.setFromMatrixPosition(this.light.matrixWorld).negate())}}class lse extends Uf{constructor(e=10,t=10,i=4473924,r=8947848){i=new Jt(i),r=new Jt(r);const s=t/2,l=e/t,u=e/2,h=[],f=[];for(let y=0,x=0,_=-u;y<=t;y++,_+=l){h.push(-u,0,_,u,0,_),h.push(_,0,-u,_,0,u);const M=y===s?i:r;M.toArray(f,x),x+=3,M.toArray(f,x),x+=3,M.toArray(f,x),x+=3,M.toArray(f,x),x+=3}const p=new ri;p.setAttribute("position",new vn(h,3)),p.setAttribute("color",new vn(f,3));const v=new go({vertexColors:!0,toneMapped:!1});super(p,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class use extends Uf{constructor(e=10,t=16,i=8,r=64,s=4473924,l=8947848){s=new Jt(s),l=new Jt(l);const u=[],h=[];if(t>1)for(let v=0;v<t;v++){const y=v/t*(Math.PI*2),x=Math.sin(y)*e,_=Math.cos(y)*e;u.push(0,0,0),u.push(x,0,_);const M=v&1?s:l;h.push(M.r,M.g,M.b),h.push(M.r,M.g,M.b)}for(let v=0;v<i;v++){const y=v&1?s:l,x=e-e/i*v;for(let _=0;_<r;_++){let M=_/r*(Math.PI*2),N=Math.sin(M)*x,T=Math.cos(M)*x;u.push(N,0,T),h.push(y.r,y.g,y.b),M=(_+1)/r*(Math.PI*2),N=Math.sin(M)*x,T=Math.cos(M)*x,u.push(N,0,T),h.push(y.r,y.g,y.b)}}const f=new ri;f.setAttribute("position",new vn(u,3)),f.setAttribute("color",new vn(h,3));const p=new go({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const BB=new fe,Zw=new fe,zB=new fe;class cse extends Ri{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ri;r.setAttribute("position",new vn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new go({fog:!1,toneMapped:!1});this.lightPlane=new Kp(r,s),this.add(this.lightPlane),r=new ri,r.setAttribute("position",new vn([0,0,0,0,0,1],3)),this.targetLine=new Kp(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),BB.setFromMatrixPosition(this.light.matrixWorld),Zw.setFromMatrixPosition(this.light.target.matrixWorld),zB.subVectors(Zw,BB),this.lightPlane.lookAt(Zw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Zw),this.targetLine.scale.z=zB.length()}}const Jw=new fe,Yr=new hT;class fse extends Uf{constructor(e){const t=new ri,i=new go({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(_,M){h(_),h(M)}function h(_){r.push(0,0,0),s.push(0,0,0),l[_]===void 0&&(l[_]=[]),l[_].push(r.length/3-1)}t.setAttribute("position",new vn(r,3)),t.setAttribute("color",new vn(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const f=new Jt(16755200),p=new Jt(16711680),v=new Jt(43775),y=new Jt(16777215),x=new Jt(3355443);this.setColors(f,p,v,y,x)}setColors(e,t,i,r,s){const u=this.geometry.getAttribute("color");u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,r.r,r.g,r.b),u.setXYZ(39,r.r,r.g,r.b),u.setXYZ(40,s.r,s.g,s.b),u.setXYZ(41,s.r,s.g,s.b),u.setXYZ(42,s.r,s.g,s.b),u.setXYZ(43,s.r,s.g,s.b),u.setXYZ(44,s.r,s.g,s.b),u.setXYZ(45,s.r,s.g,s.b),u.setXYZ(46,s.r,s.g,s.b),u.setXYZ(47,s.r,s.g,s.b),u.setXYZ(48,s.r,s.g,s.b),u.setXYZ(49,s.r,s.g,s.b),u.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Yr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),sa("c",t,e,Yr,0,0,-1),sa("t",t,e,Yr,0,0,1),sa("n1",t,e,Yr,-i,-r,-1),sa("n2",t,e,Yr,i,-r,-1),sa("n3",t,e,Yr,-i,r,-1),sa("n4",t,e,Yr,i,r,-1),sa("f1",t,e,Yr,-i,-r,1),sa("f2",t,e,Yr,i,-r,1),sa("f3",t,e,Yr,-i,r,1),sa("f4",t,e,Yr,i,r,1),sa("u1",t,e,Yr,i*.7,r*1.1,-1),sa("u2",t,e,Yr,-i*.7,r*1.1,-1),sa("u3",t,e,Yr,0,r*2,-1),sa("cf1",t,e,Yr,-i,0,1),sa("cf2",t,e,Yr,i,0,1),sa("cf3",t,e,Yr,0,-r,1),sa("cf4",t,e,Yr,0,r,1),sa("cn1",t,e,Yr,-i,0,-1),sa("cn2",t,e,Yr,i,0,-1),sa("cn3",t,e,Yr,0,-r,-1),sa("cn4",t,e,Yr,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function sa(n,e,t,i,r,s,l){Jw.set(r,s,l).unproject(i);const u=e[n];if(u!==void 0){const h=t.getAttribute("position");for(let f=0,p=u.length;f<p;f++)h.setXYZ(u[f],Jw.x,Jw.y,Jw.z)}}const Qw=new vo;class dse extends Uf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ri;s.setIndex(new nr(i,1)),s.setAttribute("position",new nr(r,3)),super(s,new go({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Qw.setFromObject(this.object),Qw.isEmpty())return;const t=Qw.min,i=Qw.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hse extends Uf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ri;s.setIndex(new nr(i,1)),s.setAttribute("position",new vn(r,3)),super(s,new go({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class pse extends Kp{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new ri;l.setAttribute("position",new vn(s,3)),l.computeBoundingSphere(),super(l,new go({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new ri;h.setAttribute("position",new vn(u,3)),h.computeBoundingSphere(),this.add(new la(h,new fh({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const HB=new fe;let eC,sP;class mse extends Ri{constructor(e=new fe(0,0,1),t=new fe(0,0,0),i=1,r=16776960,s=i*.2,l=s*.2){super(),this.type="ArrowHelper",eC===void 0&&(eC=new ri,eC.setAttribute("position",new vn([0,0,0,0,1,0],3)),sP=new dx(0,.5,1,5,1),sP.translate(0,-.5,0)),this.position.copy(t),this.line=new Kp(eC,new go({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new la(sP,new fh({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{HB.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(HB,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class vse extends Uf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ri;r.setAttribute("position",new vn(t,3)),r.setAttribute("color",new vn(i,3));const s=new go({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Jt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gse{constructor(){this.type="ShapePath",this.color=new Jt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new I1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,l){return this.currentPath.bezierCurveTo(e,t,i,r,s,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(T){const A=[];for(let w=0,L=T.length;w<L;w++){const U=T[w],k=new Rg;k.curves=U.curves,A.push(k)}return A}function i(T,A){const w=A.length;let L=!1;for(let U=w-1,k=0;k<w;U=k++){let V=A[U],H=A[k],P=H.x-V.x,I=H.y-V.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(V=A[k],P=-P,H=A[U],I=-I),T.y<V.y||T.y>H.y)continue;if(T.y===V.y){if(T.x===V.x)return!0}else{const q=I*(T.x-V.x)-P*(T.y-V.y);if(q===0)return!0;if(q<0)continue;L=!L}}else{if(T.y!==V.y)continue;if(H.x<=T.x&&T.x<=V.x||V.x<=T.x&&T.x<=H.x)return!0}}return L}const r=Rf.isClockWise,s=this.subPaths;if(s.length===0)return[];let l,u,h;const f=[];if(s.length===1)return u=s[0],h=new Rg,h.curves=u.curves,f.push(h),f;let p=!r(s[0].getPoints());p=e?!p:p;const v=[],y=[];let x=[],_=0,M;y[_]=void 0,x[_]=[];for(let T=0,A=s.length;T<A;T++)u=s[T],M=u.getPoints(),l=r(M),l=e?!l:l,l?(!p&&y[_]&&_++,y[_]={s:new Rg,p:M},y[_].s.curves=u.curves,p&&_++,x[_]=[]):x[_].push({h:u,p:M[0]});if(!y[0])return t(s);if(y.length>1){let T=!1,A=0;for(let w=0,L=y.length;w<L;w++)v[w]=[];for(let w=0,L=y.length;w<L;w++){const U=x[w];for(let k=0;k<U.length;k++){const V=U[k];let H=!0;for(let P=0;P<y.length;P++)i(V.p,y[P].p)&&(w!==P&&A++,H?(H=!1,v[P].push(V)):T=!0);H&&v[w].push(V)}}A>0&&T===!1&&(x=v)}let N;for(let T=0,A=y.length;T<A;T++){h=y[T].s,f.push(h),N=x[T];for(let w=0,L=N.length;w<L;w++)h.holes.push(N[w].h)}return f}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ux}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ux);const yse=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:GO,AddEquation:Op,AddOperation:ZH,AdditiveAnimationBlendMode:JO,AdditiveBlending:qC,AlphaFormat:aj,AlwaysCompare:Tj,AlwaysDepth:GH,AlwaysStencilFunc:PU,AmbientLight:TG,AnimationAction:DG,AnimationClip:j1,AnimationLoader:_ae,AnimationMixer:Zae,AnimationObjectGroup:$ae,AnimationUtils:yae,ArcCurve:Kj,ArrayCamera:Bj,ArrowHelper:mse,AttachedBindMode:oU,Audio:AG,AudioAnalyser:kae,AudioContext:T3,AudioListener:Fae,AudioLoader:Pae,AxesHelper:vse,BackSide:mo,BasicDepthPacking:mj,BasicShadowMap:MH,Bone:c3,BooleanKeyframeTrack:Wg,Box2:nse,Box3:vo,Box3Helper:hse,BoxGeometry:Gg,BoxHelper:dse,BufferAttribute:nr,BufferGeometry:ri,BufferGeometryLoader:CG,ByteType:ij,Cache:Ig,Camera:hT,CameraHelper:fse,CanvasTexture:Hre,CapsuleGeometry:jA,CatmullRomCurve3:Zj,CineonToneMapping:ej,CircleGeometry:GA,ClampToEdgeWrapping:Gs,Clock:N3,Color:Jt,ColorKeyframeTrack:S3,ColorManagement:Xi,CompressedArrayTexture:Bre,CompressedCubeTexture:zre,CompressedTexture:zA,CompressedTextureLoader:Eae,ConeGeometry:WA,ConstantAlphaFactor:zH,ConstantColorFactor:kH,CubeCamera:Lj,CubeReflectionMapping:lh,CubeRefractionMapping:qp,CubeTexture:pT,CubeTextureLoader:Tae,CubeUVReflectionMapping:cx,CubicBezierCurve:d3,CubicBezierCurve3:Jj,CubicInterpolant:vG,CullFaceBack:nU,CullFaceFront:NH,CullFaceFrontBack:BJ,CullFaceNone:TH,Curve:mc,CurvePath:eG,CustomBlending:wH,CustomToneMapping:tj,CylinderGeometry:dx,Cylindrical:tse,Data3DTexture:i3,DataArrayTexture:DA,DataTexture:X0,DataTextureLoader:Nae,DataUtils:XQ,DecrementStencilOp:JJ,DecrementWrapStencilOp:eQ,DefaultLoadingManager:bG,DepthFormat:Hp,DepthStencilFormat:Ug,DepthTexture:zj,DetachedBindMode:nj,DirectionalLight:EG,DirectionalLightHelper:cse,DiscreteInterpolant:gG,DisplayP3ColorSpace:RA,DodecahedronGeometry:YA,DoubleSide:Cl,DstAlphaFactor:UH,DstColorFactor:FH,DynamicCopyUsage:pQ,DynamicDrawUsage:wg,DynamicReadUsage:fQ,EdgesGeometry:tG,EllipseCurve:HA,EqualCompare:bj,EqualDepth:YH,EqualStencilFunc:rQ,EquirectangularReflectionMapping:E1,EquirectangularRefractionMapping:T1,Euler:dT,EventDispatcher:ch,ExtrudeGeometry:qA,FileLoader:uh,Float16BufferAttribute:QQ,Float32BufferAttribute:vn,Float64BufferAttribute:eee,FloatType:Tf,Fog:IA,FogExp2:FA,FramebufferTexture:kre,FrontSide:oh,Frustum:LA,GLBufferAttribute:ese,GLSL1:vQ,GLSL3:UU,GreaterCompare:Sj,GreaterDepth:qH,GreaterEqualCompare:Ej,GreaterEqualDepth:XH,GreaterEqualStencilFunc:lQ,GreaterStencilFunc:sQ,GridHelper:lse,Group:j0,HalfFloatType:Q0,HemisphereLight:xG,HemisphereLightHelper:ose,IcosahedronGeometry:$A,ImageBitmapLoader:Lae,ImageLoader:G1,ImageUtils:n3,IncrementStencilOp:ZJ,IncrementWrapStencilOp:QJ,InstancedBufferAttribute:Og,InstancedBufferGeometry:iR,InstancedInterleavedBuffer:tA,InstancedMesh:Xj,Int16BufferAttribute:ZQ,Int32BufferAttribute:JQ,Int8BufferAttribute:qQ,IntType:YO,InterleavedBuffer:VA,InterleavedBufferAttribute:Rl,Interpolant:yT,InterpolateDiscrete:w1,InterpolateLinear:C1,InterpolateSmooth:MC,InvertStencilOp:tQ,KeepStencilOp:pg,KeyframeTrack:vc,LOD:Wj,LatheGeometry:mT,Layers:Ag,LessCompare:yj,LessDepth:WH,LessEqualCompare:xj,LessEqualDepth:_1,LessEqualStencilFunc:aQ,LessStencilFunc:iQ,Light:nm,LightProbe:wG,Line:Kp,Line3:PG,LineBasicMaterial:go,LineCurve:h3,LineCurve3:Qj,LineDashedMaterial:hG,LineLoop:qj,LineSegments:Uf,LinearDisplayP3ColorSpace:fT,LinearEncoding:QO,LinearFilter:Ur,LinearInterpolant:x3,LinearMipMapLinearFilter:WJ,LinearMipMapNearestFilter:GJ,LinearMipmapLinearFilter:$p,LinearMipmapNearestFilter:WO,LinearSRGBColorSpace:Df,LinearToneMapping:JH,LinearTransfer:R1,Loader:Xo,LoaderUtils:HU,LoadingManager:_3,LoopOnce:dj,LoopPingPong:pj,LoopRepeat:hj,LuminanceAlphaFormat:oj,LuminanceFormat:sj,MOUSE:dg,Material:Ys,MaterialLoader:nR,MathUtils:Mj,Matrix3:ei,Matrix4:Bn,MaxEquation:sU,Mesh:la,MeshBasicMaterial:fh,MeshDepthMaterial:UA,MeshDistanceMaterial:OA,MeshLambertMaterial:fG,MeshMatcapMaterial:dG,MeshNormalMaterial:cG,MeshPhongMaterial:lG,MeshPhysicalMaterial:oG,MeshStandardMaterial:y3,MeshToonMaterial:uG,MinEquation:aU,MirroredRepeatWrapping:M1,MixOperation:KH,MultiplyBlending:rU,MultiplyOperation:cT,NearestFilter:oa,NearestMipMapLinearFilter:jJ,NearestMipMapNearestFilter:HJ,NearestMipmapLinearFilter:i1,NearestMipmapNearestFilter:ZC,NeverCompare:gj,NeverDepth:jH,NeverStencilFunc:nQ,NoBlending:ah,NoColorSpace:Al,NoToneMapping:wf,NormalAnimationBlendMode:AA,NormalBlending:Mg,NotEqualCompare:_j,NotEqualDepth:$H,NotEqualStencilFunc:oQ,NumberKeyframeTrack:z1,Object3D:Ri,ObjectLoader:Rae,ObjectSpaceNormalMap:vj,OctahedronGeometry:vT,OneFactor:DH,OneMinusConstantAlphaFactor:HH,OneMinusConstantColorFactor:BH,OneMinusDstAlphaFactor:OH,OneMinusDstColorFactor:IH,OneMinusSrcAlphaFactor:KC,OneMinusSrcColorFactor:PH,OrthographicCamera:Af,P3Primaries:L1,PCFShadowMap:MA,PCFSoftShadowMap:n1,PMREMGenerator:FU,Path:I1,PerspectiveCamera:Or,Plane:Jd,PlaneGeometry:em,PlaneHelper:pse,PointLight:_G,PointLightHelper:ase,Points:$j,PointsMaterial:BA,PolarGridHelper:use,PolyhedronGeometry:tm,PositionalAudio:Vae,PropertyBinding:Ti,PropertyMixer:RG,QuadraticBezierCurve:p3,QuadraticBezierCurve3:m3,Quaternion:Ws,QuaternionKeyframeTrack:hx,QuaternionLinearInterpolant:yG,RED_GREEN_RGTC2_Format:DU,RED_RGTC1_Format:fj,REVISION:ux,RGBADepthPacking:e3,RGBAFormat:Ho,RGBAIntegerFormat:ZO,RGBA_ASTC_10x10_Format:NU,RGBA_ASTC_10x5_Format:_U,RGBA_ASTC_10x6_Format:EU,RGBA_ASTC_10x8_Format:TU,RGBA_ASTC_12x10_Format:MU,RGBA_ASTC_12x12_Format:wU,RGBA_ASTC_4x4_Format:pU,RGBA_ASTC_5x4_Format:mU,RGBA_ASTC_5x5_Format:vU,RGBA_ASTC_6x5_Format:gU,RGBA_ASTC_6x6_Format:yU,RGBA_ASTC_8x5_Format:bU,RGBA_ASTC_8x6_Format:xU,RGBA_ASTC_8x8_Format:SU,RGBA_BPTC_Format:NC,RGBA_ETC2_EAC_Format:hU,RGBA_PVRTC_2BPPV1_Format:fU,RGBA_PVRTC_4BPPV1_Format:cU,RGBA_S3TC_DXT1_Format:_C,RGBA_S3TC_DXT3_Format:EC,RGBA_S3TC_DXT5_Format:TC,RGB_BPTC_SIGNED_Format:CU,RGB_BPTC_UNSIGNED_Format:AU,RGB_ETC1_Format:cj,RGB_ETC2_Format:dU,RGB_PVRTC_2BPPV1_Format:uU,RGB_PVRTC_4BPPV1_Format:lU,RGB_S3TC_DXT1_Format:SC,RGFormat:uj,RGIntegerFormat:KO,RawShaderMaterial:sG,Ray:jg,Raycaster:LG,Rec709Primaries:D1,RectAreaLight:NG,RedFormat:lj,RedIntegerFormat:$O,ReinhardToneMapping:QH,RenderTarget:Aj,RepeatWrapping:N1,ReplaceStencilOp:KJ,ReverseSubtractEquation:AH,RingGeometry:KA,SIGNED_RED_GREEN_RGTC2_Format:LU,SIGNED_RED_RGTC1_Format:RU,SRGBColorSpace:La,SRGBTransfer:sr,Scene:l3,ShaderChunk:Kn,ShaderLib:rc,ShaderMaterial:fc,ShadowMaterial:aG,Shape:Rg,ShapeGeometry:ZA,ShapePath:gse,ShapeUtils:Rf,ShortType:rj,Skeleton:kA,SkeletonHelper:rse,SkinnedMesh:Yj,Source:Tg,Sphere:Yo,SphereGeometry:gT,Spherical:GU,SphericalHarmonics3:MG,SplineCurve:v3,SpotLight:SG,SpotLightHelper:ise,Sprite:Gj,SpriteMaterial:u3,SrcAlphaFactor:$C,SrcAlphaSaturateFactor:VH,SrcColorFactor:LH,StaticCopyUsage:hQ,StaticDrawUsage:P1,StaticReadUsage:cQ,StereoCamera:Uae,StreamCopyUsage:mQ,StreamDrawUsage:uQ,StreamReadUsage:dQ,StringKeyframeTrack:Yg,SubtractEquation:CH,SubtractiveBlending:iU,TOUCH:hg,TangentSpaceNormalMap:Qp,TetrahedronGeometry:JA,Texture:$r,TextureLoader:Mae,TorusGeometry:QA,TorusKnotGeometry:eR,Triangle:zo,TriangleFanDrawMode:qJ,TriangleStripDrawMode:XJ,TrianglesDrawMode:YJ,TubeGeometry:tR,TwoPassDoubleSide:zJ,UVMapping:wA,Uint16BufferAttribute:r3,Uint32BufferAttribute:a3,Uint8BufferAttribute:$Q,Uint8ClampedBufferAttribute:KQ,Uniform:C3,UniformsGroup:Qae,UniformsLib:Kt,UniformsUtils:F1,UnsignedByteType:Cf,UnsignedInt248Type:zp,UnsignedIntType:th,UnsignedShort4444Type:XO,UnsignedShort5551Type:qO,UnsignedShortType:CA,VSMShadowMap:nc,Vector2:wt,Vector3:fe,Vector4:hi,VectorKeyframeTrack:H1,VideoTexture:Vre,WebGL1Renderer:Hj,WebGL3DRenderTarget:OQ,WebGLArrayRenderTarget:UQ,WebGLCoordinateSystem:Nf,WebGLCubeRenderTarget:Pj,WebGLMultipleRenderTargets:FQ,WebGLRenderTarget:cc,WebGLRenderer:o3,WebGLUtils:kj,WebGPUCoordinateSystem:U1,WireframeGeometry:g3,WrapAroundEnding:A1,ZeroCurvatureEnding:_g,ZeroFactor:RH,ZeroSlopeEnding:Eg,ZeroStencilOp:$J,_SRGBAFormat:JC,createCanvasElement:Cj,sRGBEncoding:jp},Symbol.toStringTag,{value:"Module"}));var OG={exports:{}},vg={};/**
 * @license React
 * react-reconciler-constants.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var n=1,e=4,t=16,i=536870912,r=n,s=e,l=t,u=i,h=0,f=1;vg.ConcurrentRoot=f,vg.ContinuousEventPriority=s,vg.DefaultEventPriority=l,vg.DiscreteEventPriority=r,vg.IdleEventPriority=u,vg.LegacyRoot=h})();OG.exports=vg;var W0=OG.exports;function bse(n){let e;const t=new Set,i=(f,p)=>{const v=typeof f=="function"?f(e):f;if(v!==e){const y=e;e=p?v:Object.assign({},e,v),t.forEach(x=>x(e,y))}},r=()=>e,s=(f,p=r,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=p(e);function x(){const _=p(e);if(!v(y,_)){const M=y;f(y=_,M)}}return t.add(x),()=>t.delete(x)},h={setState:i,getState:r,subscribe:(f,p,v)=>p||v?s(f,p,v):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(i,r,h),h}const xse=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),jB=xse?G.useEffect:G.useLayoutEffect;function Sse(n){const e=typeof n=="function"?bse(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=G.useReducer(N=>N+1,0),l=e.getState(),u=G.useRef(l),h=G.useRef(i),f=G.useRef(r),p=G.useRef(!1),v=G.useRef();v.current===void 0&&(v.current=i(l));let y,x=!1;(u.current!==l||h.current!==i||f.current!==r||p.current)&&(y=i(l),x=!r(v.current,y)),jB(()=>{x&&(v.current=y),u.current=l,h.current=i,f.current=r,p.current=!1});const _=G.useRef(l);jB(()=>{const N=()=>{try{const A=e.getState(),w=h.current(A);f.current(v.current,w)||(u.current=A,v.current=w,s())}catch{p.current=!0,s()}},T=e.subscribe(N);return e.getState()!==_.current&&N(),T},[]);const M=x?y:v.current;return G.useDebugValue(M),M};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const _se=n=>typeof n=="object"&&typeof n.then=="function",tC=[];function Ese(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function Tse(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of tC)if(Ese(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=tC.indexOf(r);s!==-1&&tC.splice(s,1)},promise:(_se(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(tC.push(r),!t)throw r.promise}const Nse=(n,e,t)=>Tse(n,e,!1,t);var FG={exports:{}},CC={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var n=G,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),_=Symbol.iterator,M="@@iterator";function N(de){if(de===null||typeof de!="object")return null;var nt=_&&de[_]||de[M];return typeof nt=="function"?nt:null}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function A(de){{for(var nt=arguments.length,yt=new Array(nt>1?nt-1:0),kt=1;kt<nt;kt++)yt[kt-1]=arguments[kt];w("error",de,yt)}}function w(de,nt,yt){{var kt=T.ReactDebugCurrentFrame,qt=kt.getStackAddendum();qt!==""&&(nt+="%s",yt=yt.concat([qt]));var ne=yt.map(function(_e){return String(_e)});ne.unshift("Warning: "+nt),Function.prototype.apply.call(console[de],console,ne)}}var L=!1,U=!1,k=!1,V=!1,H=!1,P;P=Symbol.for("react.module.reference");function I(de){return!!(typeof de=="string"||typeof de=="function"||de===i||de===s||H||de===r||de===f||de===p||V||de===x||L||U||k||typeof de=="object"&&de!==null&&(de.$$typeof===y||de.$$typeof===v||de.$$typeof===l||de.$$typeof===u||de.$$typeof===h||de.$$typeof===P||de.getModuleId!==void 0))}function q(de,nt,yt){var kt=de.displayName;if(kt)return kt;var qt=nt.displayName||nt.name||"";return qt!==""?yt+"("+qt+")":yt}function j(de){return de.displayName||"Context"}function J(de){if(de==null)return null;if(typeof de.tag=="number"&&A("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof de=="function")return de.displayName||de.name||null;if(typeof de=="string")return de;switch(de){case i:return"Fragment";case t:return"Portal";case s:return"Profiler";case r:return"StrictMode";case f:return"Suspense";case p:return"SuspenseList"}if(typeof de=="object")switch(de.$$typeof){case u:var nt=de;return j(nt)+".Consumer";case l:var yt=de;return j(yt._context)+".Provider";case h:return q(de,de.render,"ForwardRef");case v:var kt=de.displayName||null;return kt!==null?kt:J(de.type)||"Memo";case y:{var qt=de,ne=qt._payload,_e=qt._init;try{return J(_e(ne))}catch{return null}}}return null}var W=Object.assign,se=0,te,ae,ge,ve,ce,Y,ee;function le(){}le.__reactDisabledLog=!0;function ye(){{if(se===0){te=console.log,ae=console.info,ge=console.warn,ve=console.error,ce=console.group,Y=console.groupCollapsed,ee=console.groupEnd;var de={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:de,log:de,warn:de,error:de,group:de,groupCollapsed:de,groupEnd:de})}se++}}function be(){{if(se--,se===0){var de={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:W({},de,{value:te}),info:W({},de,{value:ae}),warn:W({},de,{value:ge}),error:W({},de,{value:ve}),group:W({},de,{value:ce}),groupCollapsed:W({},de,{value:Y}),groupEnd:W({},de,{value:ee})})}se<0&&A("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var we=T.ReactCurrentDispatcher,Oe;function De(de,nt,yt){{if(Oe===void 0)try{throw Error()}catch(qt){var kt=qt.stack.trim().match(/\n( *(at )?)/);Oe=kt&&kt[1]||""}return`
`+Oe+de}}var st=!1,dt;{var ze=typeof WeakMap=="function"?WeakMap:Map;dt=new ze}function ie(de,nt){if(!de||st)return"";{var yt=dt.get(de);if(yt!==void 0)return yt}var kt;st=!0;var qt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var ne;ne=we.current,we.current=null,ye();try{if(nt){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(hn){kt=hn}Reflect.construct(de,[],_e)}else{try{_e.call()}catch(hn){kt=hn}de.call(_e.prototype)}}else{try{throw Error()}catch(hn){kt=hn}de()}}catch(hn){if(hn&&kt&&typeof hn.stack=="string"){for(var Re=hn.stack.split(`
`),Xe=kt.stack.split(`
`),qe=Re.length-1,Pt=Xe.length-1;qe>=1&&Pt>=0&&Re[qe]!==Xe[Pt];)Pt--;for(;qe>=1&&Pt>=0;qe--,Pt--)if(Re[qe]!==Xe[Pt]){if(qe!==1||Pt!==1)do if(qe--,Pt--,Pt<0||Re[qe]!==Xe[Pt]){var Bt=`
`+Re[qe].replace(" at new "," at ");return de.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",de.displayName)),typeof de=="function"&&dt.set(de,Bt),Bt}while(qe>=1&&Pt>=0);break}}}finally{st=!1,we.current=ne,be(),Error.prepareStackTrace=qt}var rn=de?de.displayName||de.name:"",Tt=rn?De(rn):"";return typeof de=="function"&&dt.set(de,Tt),Tt}function $e(de,nt,yt){return ie(de,!1)}function Le(de){var nt=de.prototype;return!!(nt&&nt.isReactComponent)}function je(de,nt,yt){if(de==null)return"";if(typeof de=="function")return ie(de,Le(de));if(typeof de=="string")return De(de);switch(de){case f:return De("Suspense");case p:return De("SuspenseList")}if(typeof de=="object")switch(de.$$typeof){case h:return $e(de.render);case v:return je(de.type,nt,yt);case y:{var kt=de,qt=kt._payload,ne=kt._init;try{return je(ne(qt),nt,yt)}catch{}}}return""}var Ve=Object.prototype.hasOwnProperty,ft={},Ge=T.ReactDebugCurrentFrame;function it(de){if(de){var nt=de._owner,yt=je(de.type,de._source,nt?nt.type:null);Ge.setExtraStackFrame(yt)}else Ge.setExtraStackFrame(null)}function vt(de,nt,yt,kt,qt){{var ne=Function.call.bind(Ve);for(var _e in de)if(ne(de,_e)){var Re=void 0;try{if(typeof de[_e]!="function"){var Xe=Error((kt||"React class")+": "+yt+" type `"+_e+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof de[_e]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Xe.name="Invariant Violation",Xe}Re=de[_e](nt,_e,kt,yt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(qe){Re=qe}Re&&!(Re instanceof Error)&&(it(qt),A("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",kt||"React class",yt,_e,typeof Re),it(null)),Re instanceof Error&&!(Re.message in ft)&&(ft[Re.message]=!0,it(qt),A("Failed %s type: %s",yt,Re.message),it(null))}}}var Ye=Array.isArray;function Lt(de){return Ye(de)}function Q(de){{var nt=typeof Symbol=="function"&&Symbol.toStringTag,yt=nt&&de[Symbol.toStringTag]||de.constructor.name||"Object";return yt}}function K(de){try{return Ne(de),!1}catch{return!0}}function Ne(de){return""+de}function ut(de){if(K(de))return A("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Q(de)),Ne(de)}var Ue=T.ReactCurrentOwner,Qe={key:!0,ref:!0,__self:!0,__source:!0},Nt,ht,ue;ue={};function Te(de){if(Ve.call(de,"ref")){var nt=Object.getOwnPropertyDescriptor(de,"ref").get;if(nt&&nt.isReactWarning)return!1}return de.ref!==void 0}function ke(de){if(Ve.call(de,"key")){var nt=Object.getOwnPropertyDescriptor(de,"key").get;if(nt&&nt.isReactWarning)return!1}return de.key!==void 0}function Ae(de,nt){if(typeof de.ref=="string"&&Ue.current&&nt&&Ue.current.stateNode!==nt){var yt=J(Ue.current.type);ue[yt]||(A('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',J(Ue.current.type),de.ref),ue[yt]=!0)}}function Be(de,nt){{var yt=function(){Nt||(Nt=!0,A("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",nt))};yt.isReactWarning=!0,Object.defineProperty(de,"key",{get:yt,configurable:!0})}}function pe(de,nt){{var yt=function(){ht||(ht=!0,A("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",nt))};yt.isReactWarning=!0,Object.defineProperty(de,"ref",{get:yt,configurable:!0})}}var Pe=function(de,nt,yt,kt,qt,ne,_e){var Re={$$typeof:e,type:de,key:nt,ref:yt,props:_e,_owner:ne};return Re._store={},Object.defineProperty(Re._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Re,"_self",{configurable:!1,enumerable:!1,writable:!1,value:kt}),Object.defineProperty(Re,"_source",{configurable:!1,enumerable:!1,writable:!1,value:qt}),Object.freeze&&(Object.freeze(Re.props),Object.freeze(Re)),Re};function He(de,nt,yt,kt,qt){{var ne,_e={},Re=null,Xe=null;yt!==void 0&&(ut(yt),Re=""+yt),ke(nt)&&(ut(nt.key),Re=""+nt.key),Te(nt)&&(Xe=nt.ref,Ae(nt,qt));for(ne in nt)Ve.call(nt,ne)&&!Qe.hasOwnProperty(ne)&&(_e[ne]=nt[ne]);if(de&&de.defaultProps){var qe=de.defaultProps;for(ne in qe)_e[ne]===void 0&&(_e[ne]=qe[ne])}if(Re||Xe){var Pt=typeof de=="function"?de.displayName||de.name||"Unknown":de;Re&&Be(_e,Pt),Xe&&pe(_e,Pt)}return Pe(de,Re,Xe,qt,kt,Ue.current,_e)}}var Ee=T.ReactCurrentOwner,gt=T.ReactDebugCurrentFrame;function me(de){if(de){var nt=de._owner,yt=je(de.type,de._source,nt?nt.type:null);gt.setExtraStackFrame(yt)}else gt.setExtraStackFrame(null)}var at;at=!1;function bt(de){return typeof de=="object"&&de!==null&&de.$$typeof===e}function We(){{if(Ee.current){var de=J(Ee.current.type);if(de)return`

Check the render method of \``+de+"`."}return""}}function Et(de){{if(de!==void 0){var nt=de.fileName.replace(/^.*[\\\/]/,""),yt=de.lineNumber;return`

Check your code at `+nt+":"+yt+"."}return""}}var Vt={};function Rt(de){{var nt=We();if(!nt){var yt=typeof de=="string"?de:de.displayName||de.name;yt&&(nt=`

Check the top-level render call using <`+yt+">.")}return nt}}function ln(de,nt){{if(!de._store||de._store.validated||de.key!=null)return;de._store.validated=!0;var yt=Rt(nt);if(Vt[yt])return;Vt[yt]=!0;var kt="";de&&de._owner&&de._owner!==Ee.current&&(kt=" It was passed a child from "+J(de._owner.type)+"."),me(de),A('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',yt,kt),me(null)}}function Mn(de,nt){{if(typeof de!="object")return;if(Lt(de))for(var yt=0;yt<de.length;yt++){var kt=de[yt];bt(kt)&&ln(kt,nt)}else if(bt(de))de._store&&(de._store.validated=!0);else if(de){var qt=N(de);if(typeof qt=="function"&&qt!==de.entries)for(var ne=qt.call(de),_e;!(_e=ne.next()).done;)bt(_e.value)&&ln(_e.value,nt)}}}function dn(de){{var nt=de.type;if(nt==null||typeof nt=="string")return;var yt;if(typeof nt=="function")yt=nt.propTypes;else if(typeof nt=="object"&&(nt.$$typeof===h||nt.$$typeof===v))yt=nt.propTypes;else return;if(yt){var kt=J(nt);vt(yt,de.props,"prop",kt,de)}else if(nt.PropTypes!==void 0&&!at){at=!0;var qt=J(nt);A("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",qt||"Unknown")}typeof nt.getDefaultProps=="function"&&!nt.getDefaultProps.isReactClassApproved&&A("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function bn(de){{for(var nt=Object.keys(de.props),yt=0;yt<nt.length;yt++){var kt=nt[yt];if(kt!=="children"&&kt!=="key"){me(de),A("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",kt),me(null);break}}de.ref!==null&&(me(de),A("Invalid attribute `ref` supplied to `React.Fragment`."),me(null))}}var Un={};function Ji(de,nt,yt,kt,qt,ne){{var _e=I(de);if(!_e){var Re="";(de===void 0||typeof de=="object"&&de!==null&&Object.keys(de).length===0)&&(Re+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Xe=Et(qt);Xe?Re+=Xe:Re+=We();var qe;de===null?qe="null":Lt(de)?qe="array":de!==void 0&&de.$$typeof===e?(qe="<"+(J(de.type)||"Unknown")+" />",Re=" Did you accidentally export a JSX literal instead of a component?"):qe=typeof de,A("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",qe,Re)}var Pt=He(de,nt,yt,qt,ne);if(Pt==null)return Pt;if(_e){var Bt=nt.children;if(Bt!==void 0)if(kt)if(Lt(Bt)){for(var rn=0;rn<Bt.length;rn++)Mn(Bt[rn],de);Object.freeze&&Object.freeze(Bt)}else A("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Mn(Bt,de)}if(Ve.call(nt,"key")){var Tt=J(de),hn=Object.keys(nt).filter(function(ai){return ai!=="key"}),mn=hn.length>0?"{key: someKey, "+hn.join(": ..., ")+": ...}":"{key: someKey}";if(!Un[Tt+mn]){var Wt=hn.length>0?"{"+hn.join(": ..., ")+": ...}":"{}";A(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,mn,Tt,Wt,Tt),Un[Tt+mn]=!0}}return de===i?bn(Pt):dn(Pt),Pt}}function Ni(de,nt,yt){return Ji(de,nt,yt,!0)}function Se(de,nt,yt){return Ji(de,nt,yt,!1)}var Dt=Se,Ht=Ni;CC.Fragment=i,CC.jsx=Dt,CC.jsxs=Ht})();FG.exports=CC;var ic=FG.exports,IG={exports:{}},VG={exports:{}},oP={exports:{}},lP={};/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GB;function Mse(){return GB||(GB=1,function(n){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,t=!1,i=5;function r(ue,Te){var ke=ue.length;ue.push(Te),u(ue,Te,ke)}function s(ue){return ue.length===0?null:ue[0]}function l(ue){if(ue.length===0)return null;var Te=ue[0],ke=ue.pop();return ke!==Te&&(ue[0]=ke,h(ue,ke,0)),Te}function u(ue,Te,ke){for(var Ae=ke;Ae>0;){var Be=Ae-1>>>1,pe=ue[Be];if(f(pe,Te)>0)ue[Be]=Te,ue[Ae]=pe,Ae=Be;else return}}function h(ue,Te,ke){for(var Ae=ke,Be=ue.length,pe=Be>>>1;Ae<pe;){var Pe=(Ae+1)*2-1,He=ue[Pe],Ee=Pe+1,gt=ue[Ee];if(f(He,Te)<0)Ee<Be&&f(gt,He)<0?(ue[Ae]=gt,ue[Ee]=Te,Ae=Ee):(ue[Ae]=He,ue[Pe]=Te,Ae=Pe);else if(Ee<Be&&f(gt,Te)<0)ue[Ae]=gt,ue[Ee]=Te,Ae=Ee;else return}}function f(ue,Te){var ke=ue.sortIndex-Te.sortIndex;return ke!==0?ke:ue.id-Te.id}var p=1,v=2,y=3,x=4,_=5;function M(ue,Te){}var N=typeof performance=="object"&&typeof performance.now=="function";if(N){var T=performance;n.unstable_now=function(){return T.now()}}else{var A=Date,w=A.now();n.unstable_now=function(){return A.now()-w}}var L=1073741823,U=-1,k=250,V=5e3,H=1e4,P=L,I=[],q=[],j=1,J=null,W=y,se=!1,te=!1,ae=!1,ge=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ue){for(var Te=s(q);Te!==null;){if(Te.callback===null)l(q);else if(Te.startTime<=ue)l(q),Te.sortIndex=Te.expirationTime,r(I,Te);else return;Te=s(q)}}function ee(ue){if(ae=!1,Y(ue),!te)if(s(I)!==null)te=!0,ut(le);else{var Te=s(q);Te!==null&&Ue(ee,Te.startTime-ue)}}function le(ue,Te){te=!1,ae&&(ae=!1,Qe()),se=!0;var ke=W;try{var Ae;if(!t)return ye(ue,Te)}finally{J=null,W=ke,se=!1}}function ye(ue,Te){var ke=Te;for(Y(ke),J=s(I);J!==null&&!e&&!(J.expirationTime>ke&&(!ue||it()));){var Ae=J.callback;if(typeof Ae=="function"){J.callback=null,W=J.priorityLevel;var Be=J.expirationTime<=ke,pe=Ae(Be);ke=n.unstable_now(),typeof pe=="function"?J.callback=pe:J===s(I)&&l(I),Y(ke)}else l(I);J=s(I)}if(J!==null)return!0;var Pe=s(q);return Pe!==null&&Ue(ee,Pe.startTime-ke),!1}function be(ue,Te){switch(ue){case p:case v:case y:case x:case _:break;default:ue=y}var ke=W;W=ue;try{return Te()}finally{W=ke}}function we(ue){var Te;switch(W){case p:case v:case y:Te=y;break;default:Te=W;break}var ke=W;W=Te;try{return ue()}finally{W=ke}}function Oe(ue){var Te=W;return function(){var ke=W;W=Te;try{return ue.apply(this,arguments)}finally{W=ke}}}function De(ue,Te,ke){var Ae=n.unstable_now(),Be;if(typeof ke=="object"&&ke!==null){var pe=ke.delay;typeof pe=="number"&&pe>0?Be=Ae+pe:Be=Ae}else Be=Ae;var Pe;switch(ue){case p:Pe=U;break;case v:Pe=k;break;case _:Pe=P;break;case x:Pe=H;break;case y:default:Pe=V;break}var He=Be+Pe,Ee={id:j++,callback:Te,priorityLevel:ue,startTime:Be,expirationTime:He,sortIndex:-1};return Be>Ae?(Ee.sortIndex=Be,r(q,Ee),s(I)===null&&Ee===s(q)&&(ae?Qe():ae=!0,Ue(ee,Be-Ae))):(Ee.sortIndex=He,r(I,Ee),!te&&!se&&(te=!0,ut(le))),Ee}function st(){}function dt(){!te&&!se&&(te=!0,ut(le))}function ze(){return s(I)}function ie(ue){ue.callback=null}function $e(){return W}var Le=!1,je=null,Ve=-1,ft=i,Ge=-1;function it(){var ue=n.unstable_now()-Ge;return!(ue<ft)}function vt(){}function Ye(ue){if(ue<0||ue>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}ue>0?ft=Math.floor(1e3/ue):ft=i}var Lt=function(){if(je!==null){var ue=n.unstable_now();Ge=ue;var Te=!0,ke=!0;try{ke=je(Te,ue)}finally{ke?Q():(Le=!1,je=null)}}else Le=!1},Q;if(typeof ce=="function")Q=function(){ce(Lt)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Ne=K.port2;K.port1.onmessage=Lt,Q=function(){Ne.postMessage(null)}}else Q=function(){ge(Lt,0)};function ut(ue){je=ue,Le||(Le=!0,Q())}function Ue(ue,Te){Ve=ge(function(){ue(n.unstable_now())},Te)}function Qe(){ve(Ve),Ve=-1}var Nt=vt,ht=null;n.unstable_IdlePriority=_,n.unstable_ImmediatePriority=p,n.unstable_LowPriority=x,n.unstable_NormalPriority=y,n.unstable_Profiling=ht,n.unstable_UserBlockingPriority=v,n.unstable_cancelCallback=ie,n.unstable_continueExecution=dt,n.unstable_forceFrameRate=Ye,n.unstable_getCurrentPriorityLevel=$e,n.unstable_getFirstCallbackNode=ze,n.unstable_next=we,n.unstable_pauseExecution=st,n.unstable_requestPaint=Nt,n.unstable_runWithPriority=be,n.unstable_scheduleCallback=De,n.unstable_shouldYield=it,n.unstable_wrapCallback=Oe,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()}(lP)),lP}var WB;function wse(){return WB||(WB=1,oP.exports=Mse()),oP.exports}/**
 * @license React
 * react-reconciler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */VG.exports=function(e){var t={},i=G,r=wse(),s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=!1;function u(c){l=c}function h(c){if(!l){for(var d=arguments.length,b=new Array(d>1?d-1:0),E=1;E<d;E++)b[E-1]=arguments[E];p("warn",c,b)}}function f(c){if(!l){for(var d=arguments.length,b=new Array(d>1?d-1:0),E=1;E<d;E++)b[E-1]=arguments[E];p("error",c,b)}}function p(c,d,b){{var E=s.ReactDebugCurrentFrame,C=E.getStackAddendum();C!==""&&(d+="%s",b=b.concat([C]));var O=b.map(function(B){return String(B)});O.unshift("Warning: "+d),Function.prototype.apply.call(console[c],console,O)}}var v=Object.assign;function y(c){return c._reactInternals}function x(c,d){c._reactInternals=d}var _=!1,M=!1,N=!1,T=!1,A=!1,w=!1,L=!0,U=!0,k=!0,V=0,H=1,P=2,I=3,q=4,j=5,J=6,W=7,se=8,te=9,ae=10,ge=11,ve=12,ce=13,Y=14,ee=15,le=16,ye=17,be=18,we=19,Oe=21,De=22,st=23,dt=24,ze=25,ie=Symbol.for("react.element"),$e=Symbol.for("react.portal"),Le=Symbol.for("react.fragment"),je=Symbol.for("react.strict_mode"),Ve=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),Ge=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),K=Symbol.for("react.scope"),Ne=Symbol.for("react.debug_trace_mode"),ut=Symbol.for("react.offscreen"),Ue=Symbol.for("react.legacy_hidden"),Qe=Symbol.for("react.cache"),Nt=Symbol.for("react.tracing_marker"),ht=Symbol.iterator,ue="@@iterator";function Te(c){if(c===null||typeof c!="object")return null;var d=ht&&c[ht]||c[ue];return typeof d=="function"?d:null}function ke(c,d,b){var E=c.displayName;if(E)return E;var C=d.displayName||d.name||"";return C!==""?b+"("+C+")":b}function Ae(c){return c.displayName||"Context"}function Be(c){if(c==null)return null;if(typeof c.tag=="number"&&f("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Le:return"Fragment";case $e:return"Portal";case Ve:return"Profiler";case je:return"StrictMode";case vt:return"Suspense";case Ye:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Ge:var d=c;return Ae(d)+".Consumer";case ft:var b=c;return Ae(b._context)+".Provider";case it:return ke(c,c.render,"ForwardRef");case Lt:var E=c.displayName||null;return E!==null?E:Be(c.type)||"Memo";case Q:{var C=c,O=C._payload,B=C._init;try{return Be(B(O))}catch{return null}}}return null}function pe(c,d,b){var E=d.displayName||d.name||"";return c.displayName||(E!==""?b+"("+E+")":b)}function Pe(c){return c.displayName||"Context"}function He(c){var d=c.tag,b=c.type;switch(d){case dt:return"Cache";case te:var E=b;return Pe(E)+".Consumer";case ae:var C=b;return Pe(C._context)+".Provider";case be:return"DehydratedFragment";case ge:return pe(b,b.render,"ForwardRef");case W:return"Fragment";case j:return b;case q:return"Portal";case I:return"Root";case J:return"Text";case le:return Be(b);case se:return b===je?"StrictMode":"Mode";case De:return"Offscreen";case ve:return"Profiler";case Oe:return"Scope";case ce:return"Suspense";case we:return"SuspenseList";case ze:return"TracingMarker";case H:case V:case ye:case P:case Y:case ee:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;break}return null}var Ee=0,gt=1,me=2,at=4,bt=me|at,We=16,Et=32,Vt=64,Rt=128,ln=256,Mn=512,dn=1024,bn=2048,Un=4096,Ji=Un|at,Ni=8192,Se=16384,Dt=bn|at|Vt|Mn|dn|Se,Ht=32767,de=32768,nt=65536,yt=131072,kt=1048576,qt=2097152,ne=4194304,_e=8388608,Re=16777216,Xe=33554432,qe=at|dn|0,Pt=me|at|We|Et|Mn|Un|Ni,Bt=at|Vt|Mn|Ni,rn=bn|We,Tt=ne|_e|qt,hn=s.ReactCurrentOwner;function mn(c){var d=c,b=c;if(c.alternate)for(;d.return;)d=d.return;else{var E=d;do d=E,(d.flags&(me|Un))!==Ee&&(b=d.return),E=d.return;while(E)}return d.tag===I?b:null}function Wt(c){return mn(c)===c}function ai(c){{var d=hn.current;if(d!==null&&d.tag===H){var b=d,E=b.stateNode;E._warnedAboutRefsInRender||f("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",He(b)||"A component"),E._warnedAboutRefsInRender=!0}}var C=y(c);return C?mn(C)===C:!1}function qi(c){if(mn(c)!==c)throw new Error("Unable to find node on an unmounted component.")}function Di(c){var d=c.alternate;if(!d){var b=mn(c);if(b===null)throw new Error("Unable to find node on an unmounted component.");return b!==c?null:c}for(var E=c,C=d;;){var O=E.return;if(O===null)break;var B=O.alternate;if(B===null){var Z=O.return;if(Z!==null){E=C=Z;continue}break}if(O.child===B.child){for(var re=O.child;re;){if(re===E)return qi(O),c;if(re===C)return qi(O),d;re=re.sibling}throw new Error("Unable to find node on an unmounted component.")}if(E.return!==C.return)E=O,C=B;else{for(var xe=!1,Ce=O.child;Ce;){if(Ce===E){xe=!0,E=O,C=B;break}if(Ce===C){xe=!0,C=O,E=B;break}Ce=Ce.sibling}if(!xe){for(Ce=B.child;Ce;){if(Ce===E){xe=!0,E=B,C=O;break}if(Ce===C){xe=!0,C=B,E=O;break}Ce=Ce.sibling}if(!xe)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(E.alternate!==C)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(E.tag!==I)throw new Error("Unable to find node on an unmounted component.");return E.stateNode.current===E?c:d}function vr(c){var d=Di(c);return d!==null?pi(d):null}function pi(c){if(c.tag===j||c.tag===J)return c;for(var d=c.child;d!==null;){var b=pi(d);if(b!==null)return b;d=d.sibling}return null}function Fn(c){var d=Di(c);return d!==null?Za(d):null}function Za(c){if(c.tag===j||c.tag===J)return c;for(var d=c.child;d!==null;){if(d.tag!==q){var b=Za(d);if(b!==null)return b}d=d.sibling}return null}var Li=Array.isArray;function Pi(c){return Li(c)}var yo=e.getPublicInstance,Ja=e.getRootHostContext,Xs=e.getChildHostContext,Mi=e.prepareForCommit,ir=e.resetAfterCommit,Oa=e.createInstance,Ii=e.appendInitialChild,gr=e.finalizeInitialChildren,Ol=e.prepareUpdate,Ms=e.shouldSetTextContent,bo=e.createTextInstance,Of=e.scheduleTimeout,qs=e.cancelTimeout,qo=e.noTimeout;e.now;var xo=e.isPrimaryRenderer,du=e.warnsIfNotActing,xa=e.supportsMutation,zn=e.supportsPersistence,lr=e.supportsHydration,gc=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Rn=e.preparePortalMount;e.preparePortalMount,e.getInstanceFromScope;var $o=e.getCurrentEventPriority,ur=e.detachDeletedInstance,$s=e.supportsMicrotasks,Ko=e.scheduleMicrotask,Qa=e.supportsTestSelectors,yr=e.findFiberRoot,Bi=e.getBoundingRect,Ff=e.getTextContent,br=e.isHiddenSubtree,ua=e.matchAccessibilityRole,Ks=e.setFocusIfFocusable,es=e.setupIntersectionObserver,Fl=e.appendChild,Il=e.appendChildToContainer,If=e.commitTextUpdate,So=e.commitMount,Vf=e.commitUpdate,kf=e.insertBefore,ts=e.insertInContainerBefore,_o=e.removeChild,Sa=e.removeChildFromContainer,Vl=e.resetTextContent,yc=e.hideInstance,bc=e.hideTextInstance,kl=e.unhideInstance,Bf=e.unhideTextInstance,$=e.clearContainer,Me=e.cloneInstance,Je=e.createContainerChildSet,pt=e.appendChildToContainerChildSet,jt=e.finalizeContainerChildren,yn=e.replaceContainerChildren;e.getOffscreenContainerType;var fn=e.getOffscreenContainerProps,wn=e.cloneHiddenInstance,En=e.cloneHiddenTextInstance,Gn=e.canHydrateInstance,Wn=e.canHydrateTextInstance,si=e.canHydrateSuspenseInstance,Ui=e.isSuspenseInstancePending,rr=e.isSuspenseInstanceFallback,vi=e.registerSuspenseInstanceRetry,Zo=e.getNextHydratableSibling,dh=e.getFirstHydratableChild,rm=e.getFirstHydratableChildWithinContainer,vx=e.getFirstHydratableChildWithinSuspenseInstance,hu=e.hydrateInstance,am=e.hydrateTextInstance,sm=e.hydrateSuspenseInstance,gx=e.getNextHydratableInstanceAfterSuspenseInstance,TT=e.commitHydratedContainer,pR=e.commitHydratedSuspenseInstance,NT=e.clearSuspenseBoundary,yx=e.clearSuspenseBoundaryFromContainer,MT=e.shouldDeleteUnhydratedTailInstances,wT=e.didNotMatchHydratedContainerTextInstance,CT=e.didNotMatchHydratedTextInstance,mR=e.didNotHydrateInstanceWithinContainer,pu=e.didNotHydrateInstanceWithinSuspenseInstance,vR=e.didNotHydrateInstance,bx=e.didNotFindHydratableInstanceWithinContainer,xx=e.didNotFindHydratableTextInstanceWithinContainer,Sx=e.didNotFindHydratableSuspenseInstanceWithinContainer,gR=e.didNotFindHydratableInstanceWithinSuspenseInstance,Xg=e.didNotFindHydratableTextInstanceWithinSuspenseInstance,AT=e.didNotFindHydratableSuspenseInstanceWithinSuspenseInstance,ws=e.didNotFindHydratableInstance,mu=e.didNotFindHydratableTextInstance,Vr=e.didNotFindHydratableSuspenseInstance,vu=e.errorHydratingContainer,zf=0,om,RT,hh,DT,LT,qg,PT;function UT(){}UT.__reactDisabledLog=!0;function yR(){{if(zf===0){om=console.log,RT=console.info,hh=console.warn,DT=console.error,LT=console.group,qg=console.groupCollapsed,PT=console.groupEnd;var c={configurable:!0,enumerable:!0,value:UT,writable:!0};Object.defineProperties(console,{info:c,log:c,warn:c,error:c,group:c,groupCollapsed:c,groupEnd:c})}zf++}}function OT(){{if(zf--,zf===0){var c={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:v({},c,{value:om}),info:v({},c,{value:RT}),warn:v({},c,{value:hh}),error:v({},c,{value:DT}),group:v({},c,{value:LT}),groupCollapsed:v({},c,{value:qg}),groupEnd:v({},c,{value:PT})})}zf<0&&f("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var _x=s.ReactCurrentDispatcher,Ex;function xc(c,d,b){{if(Ex===void 0)try{throw Error()}catch(C){var E=C.stack.trim().match(/\n( *(at )?)/);Ex=E&&E[1]||""}return`
`+Ex+c}}var $g=!1,gu;{var Tx=typeof WeakMap=="function"?WeakMap:Map;gu=new Tx}function Kg(c,d){if(!c||$g)return"";{var b=gu.get(c);if(b!==void 0)return b}var E;$g=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var O;O=_x.current,_x.current=null,yR();try{if(d){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(Ot){E=Ot}Reflect.construct(c,[],B)}else{try{B.call()}catch(Ot){E=Ot}c.call(B.prototype)}}else{try{throw Error()}catch(Ot){E=Ot}c()}}catch(Ot){if(Ot&&E&&typeof Ot.stack=="string"){for(var Z=Ot.stack.split(`
`),re=E.stack.split(`
`),xe=Z.length-1,Ce=re.length-1;xe>=1&&Ce>=0&&Z[xe]!==re[Ce];)Ce--;for(;xe>=1&&Ce>=0;xe--,Ce--)if(Z[xe]!==re[Ce]){if(xe!==1||Ce!==1)do if(xe--,Ce--,Ce<0||Z[xe]!==re[Ce]){var Ze=`
`+Z[xe].replace(" at new "," at ");return c.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",c.displayName)),typeof c=="function"&&gu.set(c,Ze),Ze}while(xe>=1&&Ce>=0);break}}}finally{$g=!1,_x.current=O,OT(),Error.prepareStackTrace=C}var ct=c?c.displayName||c.name:"",xt=ct?xc(ct):"";return typeof c=="function"&&gu.set(c,xt),xt}function FT(c,d,b){return Kg(c,!0)}function Nx(c,d,b){return Kg(c,!1)}function bR(c){var d=c.prototype;return!!(d&&d.isReactComponent)}function Mx(c,d,b){if(c==null)return"";if(typeof c=="function")return Kg(c,bR(c));if(typeof c=="string")return xc(c);switch(c){case vt:return xc("Suspense");case Ye:return xc("SuspenseList")}if(typeof c=="object")switch(c.$$typeof){case it:return Nx(c.render);case Lt:return Mx(c.type,d,b);case Q:{var E=c,C=E._payload,O=E._init;try{return Mx(O(C),d,b)}catch{}}}return""}var IT=Object.prototype.hasOwnProperty,VT={},kT=s.ReactDebugCurrentFrame;function Zg(c){if(c){var d=c._owner,b=Mx(c.type,c._source,d?d.type:null);kT.setExtraStackFrame(b)}else kT.setExtraStackFrame(null)}function Jo(c,d,b,E,C){{var O=Function.call.bind(IT);for(var B in c)if(O(c,B)){var Z=void 0;try{if(typeof c[B]!="function"){var re=Error((E||"React class")+": "+b+" type `"+B+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof c[B]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw re.name="Invariant Violation",re}Z=c[B](d,B,E,b,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(xe){Z=xe}Z&&!(Z instanceof Error)&&(Zg(C),f("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",E||"React class",b,B,typeof Z),Zg(null)),Z instanceof Error&&!(Z.message in VT)&&(VT[Z.message]=!0,Zg(C),f("Failed %s type: %s",b,Z.message),Zg(null))}}}var Jg=[],Qg;Qg=[];var Bl=-1;function Sc(c){return{current:c}}function Fa(c,d){if(Bl<0){f("Unexpected pop.");return}d!==Qg[Bl]&&f("Unexpected Fiber popped."),c.current=Jg[Bl],Jg[Bl]=null,Qg[Bl]=null,Bl--}function _a(c,d,b){Bl++,Jg[Bl]=c.current,Qg[Bl]=b,c.current=d}var wx;wx={};var ns={};Object.freeze(ns);var is=Sc(ns),Zs=Sc(!1),ey=ns;function Qo(c,d,b){return b&&zl(d)?ey:is.current}function BT(c,d,b){{var E=c.stateNode;E.__reactInternalMemoizedUnmaskedChildContext=d,E.__reactInternalMemoizedMaskedChildContext=b}}function ph(c,d){{var b=c.type,E=b.contextTypes;if(!E)return ns;var C=c.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===d)return C.__reactInternalMemoizedMaskedChildContext;var O={};for(var B in E)O[B]=d[B];{var Z=He(c)||"Unknown";Jo(E,O,"context",Z)}return C&&BT(c,d,O),O}}function ty(){return Zs.current}function zl(c){{var d=c.childContextTypes;return d!=null}}function ny(c){Fa(Zs,c),Fa(is,c)}function iy(c){Fa(Zs,c),Fa(is,c)}function zT(c,d,b){{if(is.current!==ns)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");_a(is,d,c),_a(Zs,b,c)}}function Cx(c,d,b){{var E=c.stateNode,C=d.childContextTypes;if(typeof E.getChildContext!="function"){{var O=He(c)||"Unknown";wx[O]||(wx[O]=!0,f("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",O,O))}return b}var B=E.getChildContext();for(var Z in B)if(!(Z in C))throw new Error((He(c)||"Unknown")+'.getChildContext(): key "'+Z+'" is not defined in childContextTypes.');{var re=He(c)||"Unknown";Jo(C,B,"child context",re)}return v({},b,B)}}function ca(c){{var d=c.stateNode,b=d&&d.__reactInternalMemoizedMergedChildContext||ns;return ey=is.current,_a(is,b,c),_a(Zs,Zs.current,c),!0}}function Ax(c,d,b){{var E=c.stateNode;if(!E)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(b){var C=Cx(c,d,ey);E.__reactInternalMemoizedMergedChildContext=C,Fa(Zs,c),Fa(is,c),_a(is,C,c),_a(Zs,b,c)}else Fa(Zs,c),_a(Zs,b,c)}}function xR(c){{if(!Wt(c)||c.tag!==H)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var d=c;do{switch(d.tag){case I:return d.stateNode.context;case H:{var b=d.type;if(zl(b))return d.stateNode.__reactInternalMemoizedMergedChildContext;break}}d=d.return}while(d!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var mh=0,HT=1,On=0,Vi=1,gi=2,xr=8,Cs=16,jT=Math.clz32?Math.clz32:_R,lm=Math.log,SR=Math.LN2;function _R(c){var d=c>>>0;return d===0?32:31-(lm(d)/SR|0)|0}var Rx=31,Ft=0,kr=0,Yn=1,el=2,yu=4,Hf=8,Hl=16,um=32,jf=4194240,vh=64,ry=128,cm=256,Dx=512,ay=1024,Lx=2048,Px=4096,Ux=8192,Gf=16384,fm=32768,Wf=65536,sy=131072,oy=262144,dm=524288,Ox=1048576,_c=2097152,Yf=130023424,bu=4194304,hm=8388608,Fx=16777216,pm=33554432,Ix=67108864,GT=bu,mm=134217728,ly=268435455,jl=268435456,Xf=536870912,Js=1073741824;function Nn(c){{if(c&Yn)return"Sync";if(c&el)return"InputContinuousHydration";if(c&yu)return"InputContinuous";if(c&Hf)return"DefaultHydration";if(c&Hl)return"Default";if(c&um)return"TransitionHydration";if(c&jf)return"Transition";if(c&Yf)return"Retry";if(c&mm)return"SelectiveHydration";if(c&jl)return"IdleHydration";if(c&Xf)return"Idle";if(c&Js)return"Offscreen"}}var Ei=-1,cr=vh,Jn=bu;function tl(c){switch(Mc(c)){case Yn:return Yn;case el:return el;case yu:return yu;case Hf:return Hf;case Hl:return Hl;case um:return um;case vh:case ry:case cm:case Dx:case ay:case Lx:case Px:case Ux:case Gf:case fm:case Wf:case sy:case oy:case dm:case Ox:case _c:return c&jf;case bu:case hm:case Fx:case pm:case Ix:return c&Yf;case mm:return mm;case jl:return jl;case Xf:return Xf;case Js:return Js;default:return f("Should have found matching lanes. This is a bug in React."),c}}function Ec(c,d){var b=c.pendingLanes;if(b===Ft)return Ft;var E=Ft,C=c.suspendedLanes,O=c.pingedLanes,B=b&ly;if(B!==Ft){var Z=B&~C;if(Z!==Ft)E=tl(Z);else{var re=B&O;re!==Ft&&(E=tl(re))}}else{var xe=b&~C;xe!==Ft?E=tl(xe):O!==Ft&&(E=tl(O))}if(E===Ft)return Ft;if(d!==Ft&&d!==E&&(d&C)===Ft){var Ce=Mc(E),Ze=Mc(d);if(Ce>=Ze||Ce===Hl&&(Ze&jf)!==Ft)return d}(E&yu)!==Ft&&(E|=b&Hl);var ct=c.entangledLanes;if(ct!==Ft)for(var xt=c.entanglements,Ot=E&ct;Ot>0;){var zt=Qs(Ot),xn=1<<zt;E|=xt[zt],Ot&=~xn}return E}function Vx(c,d){for(var b=c.eventTimes,E=Ei;d>0;){var C=Qs(d),O=1<<C,B=b[C];B>E&&(E=B),d&=~O}return E}function yi(c,d){switch(c){case Yn:case el:case yu:return d+250;case Hf:case Hl:case um:case vh:case ry:case cm:case Dx:case ay:case Lx:case Px:case Ux:case Gf:case fm:case Wf:case sy:case oy:case dm:case Ox:case _c:return d+5e3;case bu:case hm:case Fx:case pm:case Ix:return Ei;case mm:case jl:case Xf:case Js:return Ei;default:return f("Should have found matching lanes. This is a bug in React."),Ei}}function xu(c,d){for(var b=c.pendingLanes,E=c.suspendedLanes,C=c.pingedLanes,O=c.expirationTimes,B=b;B>0;){var Z=Qs(B),re=1<<Z,xe=O[Z];xe===Ei?((re&E)===Ft||(re&C)!==Ft)&&(O[Z]=yi(re,d)):xe<=d&&(c.expiredLanes|=re),B&=~re}}function Tc(c){return tl(c.pendingLanes)}function Su(c){var d=c.pendingLanes&~Js;return d!==Ft?d:d&Js?Js:Ft}function nl(c){return(c&Yn)!==Ft}function il(c){return(c&ly)!==Ft}function Nc(c){return(c&Yf)===c}function uy(c){return(c&jf)===c}function cy(c,d){var b=el|yu|Hf|Hl;return(d&b)!==Ft}function ER(c,d){return(d&c.expiredLanes)!==Ft}function gh(c){return(c&jf)!==0}function rs(){var c=cr;return cr<<=1,cr&jf||(cr=vh),c}function kx(){var c=Jn;return Jn<<=1,Jn&Yf||(Jn=bu),c}function Mc(c){return c&-c}function qf(c){return Mc(c)}function Qs(c){return 31-jT(c)}function vm(c){return Qs(c)}function Nr(c,d){return(c&d)!==Ft}function _u(c,d){return(c&d)===d}function Hn(c,d){return c|d}function yh(c,d){return c&~d}function bh(c,d){return c&d}function gm(c){return c}function Eu(c,d){return c!==kr&&c<d?c:d}function Bx(c){for(var d=[],b=0;b<Rx;b++)d.push(c);return d}function rl(c,d,b){c.pendingLanes|=d,d!==Xf&&(c.suspendedLanes=Ft,c.pingedLanes=Ft);var E=c.eventTimes,C=vm(d);E[C]=b}function WT(c,d){c.suspendedLanes|=d,c.pingedLanes&=~d;for(var b=c.expirationTimes,E=d;E>0;){var C=Qs(E),O=1<<C;b[C]=Ei,E&=~O}}function zx(c,d,b){c.pingedLanes|=c.suspendedLanes&d}function TR(c,d){var b=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d;for(var E=c.entanglements,C=c.eventTimes,O=c.expirationTimes,B=b;B>0;){var Z=Qs(B),re=1<<Z;E[Z]=Ft,C[Z]=Ei,O[Z]=Ei,B&=~re}}function Hx(c,d){for(var b=c.entangledLanes|=d,E=c.entanglements,C=b;C;){var O=Qs(C),B=1<<O;B&d|E[O]&d&&(E[O]|=d),C&=~B}}function YT(c,d){var b=Mc(d),E;switch(b){case yu:E=el;break;case Hl:E=Hf;break;case vh:case ry:case cm:case Dx:case ay:case Lx:case Px:case Ux:case Gf:case fm:case Wf:case sy:case oy:case dm:case Ox:case _c:case bu:case hm:case Fx:case pm:case Ix:E=um;break;case Xf:E=jl;break;default:E=kr;break}return(E&(c.suspendedLanes|d))!==kr?kr:E}function jx(c,d,b){if(ol)for(var E=c.pendingUpdatersLaneMap;b>0;){var C=vm(b),O=1<<C,B=E[C];B.add(d),b&=~O}}function Gx(c,d){if(ol)for(var b=c.pendingUpdatersLaneMap,E=c.memoizedUpdaters;d>0;){var C=vm(d),O=1<<C,B=b[C];B.size>0&&(B.forEach(function(Z){var re=Z.alternate;(re===null||!E.has(re))&&E.add(Z)}),B.clear()),d&=~O}}var al=Yn,ym=yu,xh=Hl,fy=Xf,bm=kr;function sl(){return bm}function fa(c){bm=c}function da(c,d){var b=bm;try{return bm=c,d()}finally{bm=b}}function NR(c,d){return c!==0&&c<d?c:d}function dy(c,d){return c===0||c>d?c:d}function hy(c,d){return c!==0&&c<d}function wc(c){var d=Mc(c);return hy(al,d)?hy(ym,d)?il(d)?xh:fy:ym:al}var XT=r.unstable_scheduleCallback,Wx=r.unstable_cancelCallback,MR=r.unstable_shouldYield,wR=r.unstable_requestPaint,fr=r.unstable_now,Kr=r.unstable_ImmediatePriority,Qt=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,Eo=r.unstable_IdlePriority,CR=r.unstable_yieldValue,AR=r.unstable_setDisableYieldValue,Sh=null,Ia=null,nn=null,zi=!1,ol=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function RR(c){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled)return!0;if(!d.supportsFiber)return f("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{L&&(c=v({},c,{getLaneLabelMap:PR,injectProfilingHooks:LR})),Sh=d.inject(c),Ia=d}catch(b){f("React instrumentation encountered an error: %s.",b)}return!!d.checkDCE}function DR(c,d){if(Ia&&typeof Ia.onScheduleFiberRoot=="function")try{Ia.onScheduleFiberRoot(Sh,c,d)}catch(b){zi||(zi=!0,f("React instrumentation encountered an error: %s",b))}}function qT(c,d){if(Ia&&typeof Ia.onCommitFiberRoot=="function")try{var b=(c.current.flags&Rt)===Rt;if(U){var E;switch(d){case al:E=Kr;break;case ym:E=Qt;break;case xh:E=as;break;case fy:E=Eo;break;default:E=as;break}Ia.onCommitFiberRoot(Sh,c,E,b)}}catch(C){zi||(zi=!0,f("React instrumentation encountered an error: %s",C))}}function xm(c){if(Ia&&typeof Ia.onPostCommitFiberRoot=="function")try{Ia.onPostCommitFiberRoot(Sh,c)}catch(d){zi||(zi=!0,f("React instrumentation encountered an error: %s",d))}}function _h(c){if(Ia&&typeof Ia.onCommitFiberUnmount=="function")try{Ia.onCommitFiberUnmount(Sh,c)}catch(d){zi||(zi=!0,f("React instrumentation encountered an error: %s",d))}}function ha(c){if(typeof CR=="function"&&(AR(c),u(c)),Ia&&typeof Ia.setStrictMode=="function")try{Ia.setStrictMode(Sh,c)}catch(d){zi||(zi=!0,f("React instrumentation encountered an error: %s",d))}}function LR(c){nn=c}function PR(){{for(var c=new Map,d=1,b=0;b<Rx;b++){var E=Nn(d);c.set(d,E),d*=2}return c}}function UR(c){nn!==null&&typeof nn.markCommitStarted=="function"&&nn.markCommitStarted(c)}function $T(){nn!==null&&typeof nn.markCommitStopped=="function"&&nn.markCommitStopped()}function Sm(c){nn!==null&&typeof nn.markComponentRenderStarted=="function"&&nn.markComponentRenderStarted(c)}function $f(){nn!==null&&typeof nn.markComponentRenderStopped=="function"&&nn.markComponentRenderStopped()}function KT(c){nn!==null&&typeof nn.markComponentPassiveEffectMountStarted=="function"&&nn.markComponentPassiveEffectMountStarted(c)}function OR(){nn!==null&&typeof nn.markComponentPassiveEffectMountStopped=="function"&&nn.markComponentPassiveEffectMountStopped()}function FR(c){nn!==null&&typeof nn.markComponentPassiveEffectUnmountStarted=="function"&&nn.markComponentPassiveEffectUnmountStarted(c)}function IR(){nn!==null&&typeof nn.markComponentPassiveEffectUnmountStopped=="function"&&nn.markComponentPassiveEffectUnmountStopped()}function VR(c){nn!==null&&typeof nn.markComponentLayoutEffectMountStarted=="function"&&nn.markComponentLayoutEffectMountStarted(c)}function kR(){nn!==null&&typeof nn.markComponentLayoutEffectMountStopped=="function"&&nn.markComponentLayoutEffectMountStopped()}function ZT(c){nn!==null&&typeof nn.markComponentLayoutEffectUnmountStarted=="function"&&nn.markComponentLayoutEffectUnmountStarted(c)}function Yx(){nn!==null&&typeof nn.markComponentLayoutEffectUnmountStopped=="function"&&nn.markComponentLayoutEffectUnmountStopped()}function BR(c,d,b){nn!==null&&typeof nn.markComponentErrored=="function"&&nn.markComponentErrored(c,d,b)}function JT(c,d,b){nn!==null&&typeof nn.markComponentSuspended=="function"&&nn.markComponentSuspended(c,d,b)}function zR(c){nn!==null&&typeof nn.markLayoutEffectsStarted=="function"&&nn.markLayoutEffectsStarted(c)}function HR(){nn!==null&&typeof nn.markLayoutEffectsStopped=="function"&&nn.markLayoutEffectsStopped()}function Xx(c){nn!==null&&typeof nn.markPassiveEffectsStarted=="function"&&nn.markPassiveEffectsStarted(c)}function Sn(){nn!==null&&typeof nn.markPassiveEffectsStopped=="function"&&nn.markPassiveEffectsStopped()}function ni(c){nn!==null&&typeof nn.markRenderStarted=="function"&&nn.markRenderStarted(c)}function wi(){nn!==null&&typeof nn.markRenderYielded=="function"&&nn.markRenderYielded()}function dr(){nn!==null&&typeof nn.markRenderStopped=="function"&&nn.markRenderStopped()}function Gl(c){nn!==null&&typeof nn.markRenderScheduled=="function"&&nn.markRenderScheduled(c)}function QT(c,d){nn!==null&&typeof nn.markForceUpdateScheduled=="function"&&nn.markForceUpdateScheduled(c,d)}function qx(c,d){nn!==null&&typeof nn.markStateUpdateScheduled=="function"&&nn.markStateUpdateScheduled(c,d)}function jR(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var To=typeof Object.is=="function"?Object.is:jR,ll=null,Ut=!1,Br=!1;function Dn(c){ll===null?ll=[c]:ll.push(c)}function Eh(c){Ut=!0,Dn(c)}function Wl(){Ut&&Va()}function Va(){if(!Br&&ll!==null){Br=!0;var c=0,d=sl();try{var b=!0,E=ll;for(fa(al);c<E.length;c++){var C=E[c];do C=C(b);while(C!==null)}ll=null,Ut=!1}catch(O){throw ll!==null&&(ll=ll.slice(c+1)),XT(Kr,Va),O}finally{fa(d),Br=!1}}return null}function ul(c){var d=c.current.memoizedState;return d.isDehydrated}var _m=s.ReactCurrentBatchConfig,Th=null;function Em(){return _m.transition}function Nh(c,d){if(To(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var b=Object.keys(c),E=Object.keys(d);if(b.length!==E.length)return!1;for(var C=0;C<b.length;C++){var O=b[C];if(!IT.call(d,O)||!To(c[O],d[O]))return!1}return!0}function $x(c){switch(c._debugOwner&&c._debugOwner.type,c._debugSource,c.tag){case j:return xc(c.type);case le:return xc("Lazy");case ce:return xc("Suspense");case we:return xc("SuspenseList");case V:case P:case ee:return Nx(c.type);case ge:return Nx(c.type.render);case H:return FT(c.type);default:return""}}function py(c){try{var d="",b=c;do d+=$x(b),b=b.return;while(b);return d}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}var my=s.ReactDebugCurrentFrame,As=null,Kf=!1;function Kx(){{if(As===null)return null;var c=As._debugOwner;if(c!==null&&typeof c<"u")return He(c)}return null}function Zx(){return As===null?"":py(As)}function pa(){my.getCurrentStack=null,As=null,Kf=!1}function zr(c){my.getCurrentStack=Zx,As=c,Kf=!1}function No(c){Kf=c}var eo={recordUnsafeLifecycleWarnings:function(c,d){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(c,d){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var Jx=function(c){for(var d=null,b=c;b!==null;)b.mode&xr&&(d=b),b=b.return;return d},Tu=function(c){var d=[];return c.forEach(function(b){d.push(b)}),d.sort().join(", ")},Zf=[],Cc=[],Yl=[],Jf=[],Qf=[],ed=[],Nu=new Set;eo.recordUnsafeLifecycleWarnings=function(c,d){Nu.has(c.type)||(typeof d.componentWillMount=="function"&&d.componentWillMount.__suppressDeprecationWarning!==!0&&Zf.push(c),c.mode&xr&&typeof d.UNSAFE_componentWillMount=="function"&&Cc.push(c),typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Yl.push(c),c.mode&xr&&typeof d.UNSAFE_componentWillReceiveProps=="function"&&Jf.push(c),typeof d.componentWillUpdate=="function"&&d.componentWillUpdate.__suppressDeprecationWarning!==!0&&Qf.push(c),c.mode&xr&&typeof d.UNSAFE_componentWillUpdate=="function"&&ed.push(c))},eo.flushPendingUnsafeLifecycleWarnings=function(){var c=new Set;Zf.length>0&&(Zf.forEach(function(ct){c.add(He(ct)||"Component"),Nu.add(ct.type)}),Zf=[]);var d=new Set;Cc.length>0&&(Cc.forEach(function(ct){d.add(He(ct)||"Component"),Nu.add(ct.type)}),Cc=[]);var b=new Set;Yl.length>0&&(Yl.forEach(function(ct){b.add(He(ct)||"Component"),Nu.add(ct.type)}),Yl=[]);var E=new Set;Jf.length>0&&(Jf.forEach(function(ct){E.add(He(ct)||"Component"),Nu.add(ct.type)}),Jf=[]);var C=new Set;Qf.length>0&&(Qf.forEach(function(ct){C.add(He(ct)||"Component"),Nu.add(ct.type)}),Qf=[]);var O=new Set;if(ed.length>0&&(ed.forEach(function(ct){O.add(He(ct)||"Component"),Nu.add(ct.type)}),ed=[]),d.size>0){var B=Tu(d);f(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,B)}if(E.size>0){var Z=Tu(E);f(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,Z)}if(O.size>0){var re=Tu(O);f(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,re)}if(c.size>0){var xe=Tu(c);h(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,xe)}if(b.size>0){var Ce=Tu(b);h(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Ce)}if(C.size>0){var Ze=Tu(C);h(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,Ze)}};var Tm=new Map,Mh=new Set;eo.recordLegacyContextWarning=function(c,d){var b=Jx(c);if(b===null){f("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!Mh.has(c.type)){var E=Tm.get(b);(c.type.contextTypes!=null||c.type.childContextTypes!=null||d!==null&&typeof d.getChildContext=="function")&&(E===void 0&&(E=[],Tm.set(b,E)),E.push(c))}},eo.flushLegacyContextWarning=function(){Tm.forEach(function(c,d){if(c.length!==0){var b=c[0],E=new Set;c.forEach(function(O){E.add(He(O)||"Component"),Mh.add(O.type)});var C=Tu(E);try{zr(b),f(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,C)}finally{pa()}}})},eo.discardPendingWarnings=function(){Zf=[],Cc=[],Yl=[],Jf=[],Qf=[],ed=[],Tm=new Map}}function Qx(c){{var d=typeof Symbol=="function"&&Symbol.toStringTag,b=d&&c[Symbol.toStringTag]||c.constructor.name||"Object";return b}}function wh(c){try{return Mu(c),!1}catch{return!0}}function Mu(c){return""+c}function to(c){if(wh(c))return f("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Qx(c)),Mu(c)}function GR(c,d){if(wh(c))return f("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",d,Qx(c)),Mu(c)}function oi(c,d){if(c&&c.defaultProps){var b=v({},d),E=c.defaultProps;for(var C in E)b[C]===void 0&&(b[C]=E[C]);return b}return d}var td=Sc(null),Ac;Ac={};var Rc=null,wu=null,eS=null,vy=!1;function gy(){Rc=null,wu=null,eS=null,vy=!1}function eN(){vy=!0}function yy(){vy=!1}function tN(c,d,b){xo?(_a(td,d._currentValue,c),d._currentValue=b,d._currentRenderer!==void 0&&d._currentRenderer!==null&&d._currentRenderer!==Ac&&f("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),d._currentRenderer=Ac):(_a(td,d._currentValue2,c),d._currentValue2=b,d._currentRenderer2!==void 0&&d._currentRenderer2!==null&&d._currentRenderer2!==Ac&&f("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),d._currentRenderer2=Ac)}function Nm(c,d){var b=td.current;Fa(td,d),xo?c._currentValue=b:c._currentValue2=b}function by(c,d,b){for(var E=c;E!==null;){var C=E.alternate;if(_u(E.childLanes,d)?C!==null&&!_u(C.childLanes,d)&&(C.childLanes=Hn(C.childLanes,d)):(E.childLanes=Hn(E.childLanes,d),C!==null&&(C.childLanes=Hn(C.childLanes,d))),E===b)break;E=E.return}E!==b&&f("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function WR(c,d,b){YR(c,d,b)}function YR(c,d,b){var E=c.child;for(E!==null&&(E.return=c);E!==null;){var C=void 0,O=E.dependencies;if(O!==null){C=E.child;for(var B=O.firstContext;B!==null;){if(B.context===d){if(E.tag===H){var Z=qf(b),re=Uc(Ei,Z);re.tag=Xl;var xe=E.updateQueue;if(xe!==null){var Ce=xe.shared,Ze=Ce.pending;Ze===null?re.next=re:(re.next=Ze.next,Ze.next=re),Ce.pending=re}}E.lanes=Hn(E.lanes,b);var ct=E.alternate;ct!==null&&(ct.lanes=Hn(ct.lanes,b)),by(E.return,b,c),O.lanes=Hn(O.lanes,b);break}B=B.next}}else if(E.tag===ae)C=E.type===c.type?null:E.child;else if(E.tag===be){var xt=E.return;if(xt===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");xt.lanes=Hn(xt.lanes,b);var Ot=xt.alternate;Ot!==null&&(Ot.lanes=Hn(Ot.lanes,b)),by(xt,b,c),C=E.sibling}else C=E.child;if(C!==null)C.return=E;else for(C=E;C!==null;){if(C===c){C=null;break}var zt=C.sibling;if(zt!==null){zt.return=C.return,C=zt;break}C=C.return}E=C}}function Cu(c,d){Rc=c,wu=null,eS=null;var b=c.dependencies;if(b!==null){var E=b.firstContext;E!==null&&(Nr(b.lanes,d)&&cb(),b.firstContext=null)}}function Hr(c){vy&&f("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var d=xo?c._currentValue:c._currentValue2;if(eS!==c){var b={context:c,memoizedValue:d,next:null};if(wu===null){if(Rc===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");wu=b,Rc.dependencies={lanes:Ft,firstContext:b}}else wu=wu.next=b}return d}var Dc=null;function tS(c){Dc===null?Dc=[c]:Dc.push(c)}function XR(){if(Dc!==null){for(var c=0;c<Dc.length;c++){var d=Dc[c],b=d.interleaved;if(b!==null){d.interleaved=null;var E=b.next,C=d.pending;if(C!==null){var O=C.next;C.next=E,b.next=O}d.pending=b}}Dc=null}}var Lc=0,Ch=1,Xl=2,Mm=3,ka=!1,Pc,In;Pc=!1,In=null;function Ah(c){var d={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Ft},effects:null};c.updateQueue=d}function nS(c,d){var b=d.updateQueue,E=c.updateQueue;if(b===E){var C={baseState:E.baseState,firstBaseUpdate:E.firstBaseUpdate,lastBaseUpdate:E.lastBaseUpdate,shared:E.shared,effects:E.effects};d.updateQueue=C}}function Uc(c,d){var b={eventTime:c,lane:d,tag:Lc,payload:null,callback:null,next:null};return b}function Oc(c,d,b){var E=c.updateQueue;if(E!==null){var C=E.shared;if(Rr(c)){var O=C.interleaved;O===null?(d.next=d,tS(C)):(d.next=O.next,O.next=d),C.interleaved=d}else{var B=C.pending;B===null?d.next=d:(d.next=B.next,B.next=d),C.pending=d}In===C&&!Pc&&(f("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Pc=!0)}}function Rh(c,d,b){var E=d.updateQueue;if(E!==null){var C=E.shared;if(gh(b)){var O=C.lanes;O=bh(O,c.pendingLanes);var B=Hn(O,b);C.lanes=B,Hx(c,B)}}}function nd(c,d){var b=c.updateQueue,E=c.alternate;if(E!==null){var C=E.updateQueue;if(b===C){var O=null,B=null,Z=b.firstBaseUpdate;if(Z!==null){var re=Z;do{var xe={eventTime:re.eventTime,lane:re.lane,tag:re.tag,payload:re.payload,callback:re.callback,next:null};B===null?O=B=xe:(B.next=xe,B=xe),re=re.next}while(re!==null);B===null?O=B=d:(B.next=d,B=d)}else O=B=d;b={baseState:C.baseState,firstBaseUpdate:O,lastBaseUpdate:B,shared:C.shared,effects:C.effects},c.updateQueue=b;return}}var Ce=b.lastBaseUpdate;Ce===null?b.firstBaseUpdate=d:Ce.next=d,b.lastBaseUpdate=d}function qR(c,d,b,E,C,O){switch(b.tag){case Ch:{var B=b.payload;if(typeof B=="function"){eN();var Z=B.call(O,E,C);{if(c.mode&xr){ha(!0);try{B.call(O,E,C)}finally{ha(!1)}}yy()}return Z}return B}case Mm:c.flags=c.flags&~nt|Rt;case Lc:{var re=b.payload,xe;if(typeof re=="function"){eN(),xe=re.call(O,E,C);{if(c.mode&xr){ha(!0);try{re.call(O,E,C)}finally{ha(!1)}}yy()}}else xe=re;return xe==null?E:v({},E,xe)}case Xl:return ka=!0,E}return E}function wm(c,d,b,E){var C=c.updateQueue;ka=!1,In=C.shared;var O=C.firstBaseUpdate,B=C.lastBaseUpdate,Z=C.shared.pending;if(Z!==null){C.shared.pending=null;var re=Z,xe=re.next;re.next=null,B===null?O=xe:B.next=xe,B=re;var Ce=c.alternate;if(Ce!==null){var Ze=Ce.updateQueue,ct=Ze.lastBaseUpdate;ct!==B&&(ct===null?Ze.firstBaseUpdate=xe:ct.next=xe,Ze.lastBaseUpdate=re)}}if(O!==null){var xt=C.baseState,Ot=Ft,zt=null,xn=null,jn=null,Tn=O;do{var Zi=Tn.lane,Yi=Tn.eventTime;if(_u(E,Zi)){if(jn!==null){var Mt={eventTime:Yi,lane:kr,tag:Tn.tag,payload:Tn.payload,callback:Tn.callback,next:null};jn=jn.next=Mt}xt=qR(c,C,Tn,xt,d,b);var Ke=Tn.callback;if(Ke!==null&&Tn.lane!==kr){c.flags|=Vt;var Gt=C.effects;Gt===null?C.effects=[Tn]:Gt.push(Tn)}}else{var rt={eventTime:Yi,lane:Zi,tag:Tn.tag,payload:Tn.payload,callback:Tn.callback,next:null};jn===null?(xn=jn=rt,zt=xt):jn=jn.next=rt,Ot=Hn(Ot,Zi)}if(Tn=Tn.next,Tn===null){if(Z=C.shared.pending,Z===null)break;var un=Z,sn=un.next;un.next=null,Tn=sn,C.lastBaseUpdate=un,C.shared.pending=null}}while(!0);jn===null&&(zt=xt),C.baseState=zt,C.firstBaseUpdate=xn,C.lastBaseUpdate=jn;var Qn=C.shared.interleaved;if(Qn!==null){var Xn=Qn;do Ot=Hn(Ot,Xn.lane),Xn=Xn.next;while(Xn!==Qn)}else O===null&&(C.shared.lanes=Ft);Db(Ot),c.lanes=Ot,c.memoizedState=xt}In=null}function $R(c,d){if(typeof c!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+c));c.call(d)}function xy(){ka=!1}function Sy(){return ka}function iS(c,d,b){var E=d.effects;if(d.effects=null,E!==null)for(var C=0;C<E.length;C++){var O=E[C],B=O.callback;B!==null&&(O.callback=null,$R(B,b))}}var _y={},rS=new i.Component().refs,ss,cl,fl,Dh,id,Mo,Mr,aS,sS,oS;{ss=new Set,cl=new Set,fl=new Set,Dh=new Set,aS=new Set,id=new Set,sS=new Set,oS=new Set;var Ey=new Set;Mr=function(c,d){if(!(c===null||typeof c=="function")){var b=d+"_"+c;Ey.has(b)||(Ey.add(b),f("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",d,c))}},Mo=function(c,d){if(d===void 0){var b=Be(c)||"Component";id.has(b)||(id.add(b),f("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",b))}},Object.defineProperty(_y,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(_y)}function Ty(c,d,b,E){var C=c.memoizedState,O=b(E,C);{if(c.mode&xr){ha(!0);try{O=b(E,C)}finally{ha(!1)}}Mo(d,O)}var B=O==null?C:v({},C,O);if(c.memoizedState=B,c.lanes===Ft){var Z=c.updateQueue;Z.baseState=B}}var Lh={isMounted:ai,enqueueSetState:function(c,d,b){var E=y(c),C=Xa(),O=Ql(E),B=Uc(C,O);B.payload=d,b!=null&&(Mr(b,"setState"),B.callback=b),Oc(E,B);var Z=na(E,O,C);Z!==null&&Rh(Z,E,O),qx(E,O)},enqueueReplaceState:function(c,d,b){var E=y(c),C=Xa(),O=Ql(E),B=Uc(C,O);B.tag=Ch,B.payload=d,b!=null&&(Mr(b,"replaceState"),B.callback=b),Oc(E,B);var Z=na(E,O,C);Z!==null&&Rh(Z,E,O),qx(E,O)},enqueueForceUpdate:function(c,d){var b=y(c),E=Xa(),C=Ql(b),O=Uc(E,C);O.tag=Xl,d!=null&&(Mr(d,"forceUpdate"),O.callback=d),Oc(b,O);var B=na(b,C,E);B!==null&&Rh(B,b,C),QT(b,C)}};function lS(c,d,b,E,C,O,B){var Z=c.stateNode;if(typeof Z.shouldComponentUpdate=="function"){var re=Z.shouldComponentUpdate(E,O,B);{if(c.mode&xr){ha(!0);try{re=Z.shouldComponentUpdate(E,O,B)}finally{ha(!1)}}re===void 0&&f("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",Be(d)||"Component")}return re}return d.prototype&&d.prototype.isPureReactComponent?!Nh(b,E)||!Nh(C,O):!0}function KR(c,d,b){var E=c.stateNode;{var C=Be(d)||"Component",O=E.render;O||(d.prototype&&typeof d.prototype.render=="function"?f("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",C):f("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",C)),E.getInitialState&&!E.getInitialState.isReactClassApproved&&!E.state&&f("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",C),E.getDefaultProps&&!E.getDefaultProps.isReactClassApproved&&f("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",C),E.propTypes&&f("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",C),E.contextType&&f("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",C),E.contextTypes&&f("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",C),d.contextType&&d.contextTypes&&!sS.has(d)&&(sS.add(d),f("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",C)),typeof E.componentShouldUpdate=="function"&&f("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",C),d.prototype&&d.prototype.isPureReactComponent&&typeof E.shouldComponentUpdate<"u"&&f("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",Be(d)||"A pure component"),typeof E.componentDidUnmount=="function"&&f("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",C),typeof E.componentDidReceiveProps=="function"&&f("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",C),typeof E.componentWillRecieveProps=="function"&&f("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",C),typeof E.UNSAFE_componentWillRecieveProps=="function"&&f("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",C);var B=E.props!==b;E.props!==void 0&&B&&f("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",C,C),E.defaultProps&&f("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",C,C),typeof E.getSnapshotBeforeUpdate=="function"&&typeof E.componentDidUpdate!="function"&&!fl.has(d)&&(fl.add(d),f("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",Be(d))),typeof E.getDerivedStateFromProps=="function"&&f("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",C),typeof E.getDerivedStateFromError=="function"&&f("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",C),typeof d.getSnapshotBeforeUpdate=="function"&&f("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",C);var Z=E.state;Z&&(typeof Z!="object"||Pi(Z))&&f("%s.state: must be set to an object or null",C),typeof E.getChildContext=="function"&&typeof d.childContextTypes!="object"&&f("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",C)}}function nN(c,d){d.updater=Lh,c.stateNode=d,x(d,c),d._reactInternalInstance=_y}function Ny(c,d,b){var E=!1,C=ns,O=ns,B=d.contextType;if("contextType"in d){var Z=B===null||B!==void 0&&B.$$typeof===Ge&&B._context===void 0;if(!Z&&!oS.has(d)){oS.add(d);var re="";B===void 0?re=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof B!="object"?re=" However, it is set to a "+typeof B+".":B.$$typeof===ft?re=" Did you accidentally pass the Context.Provider instead?":B._context!==void 0?re=" Did you accidentally pass the Context.Consumer instead?":re=" However, it is set to an object with keys {"+Object.keys(B).join(", ")+"}.",f("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",Be(d)||"Component",re)}}if(typeof B=="object"&&B!==null)O=Hr(B);else{C=Qo(c,d,!0);var xe=d.contextTypes;E=xe!=null,O=E?ph(c,C):ns}var Ce=new d(b,O);if(c.mode&xr){ha(!0);try{Ce=new d(b,O)}finally{ha(!1)}}var Ze=c.memoizedState=Ce.state!==null&&Ce.state!==void 0?Ce.state:null;nN(c,Ce);{if(typeof d.getDerivedStateFromProps=="function"&&Ze===null){var ct=Be(d)||"Component";cl.has(ct)||(cl.add(ct),f("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",ct,Ce.state===null?"null":"undefined",ct))}if(typeof d.getDerivedStateFromProps=="function"||typeof Ce.getSnapshotBeforeUpdate=="function"){var xt=null,Ot=null,zt=null;if(typeof Ce.componentWillMount=="function"&&Ce.componentWillMount.__suppressDeprecationWarning!==!0?xt="componentWillMount":typeof Ce.UNSAFE_componentWillMount=="function"&&(xt="UNSAFE_componentWillMount"),typeof Ce.componentWillReceiveProps=="function"&&Ce.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Ot="componentWillReceiveProps":typeof Ce.UNSAFE_componentWillReceiveProps=="function"&&(Ot="UNSAFE_componentWillReceiveProps"),typeof Ce.componentWillUpdate=="function"&&Ce.componentWillUpdate.__suppressDeprecationWarning!==!0?zt="componentWillUpdate":typeof Ce.UNSAFE_componentWillUpdate=="function"&&(zt="UNSAFE_componentWillUpdate"),xt!==null||Ot!==null||zt!==null){var xn=Be(d)||"Component",jn=typeof d.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Dh.has(xn)||(Dh.add(xn),f(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,xn,jn,xt!==null?`
  `+xt:"",Ot!==null?`
  `+Ot:"",zt!==null?`
  `+zt:""))}}}return E&&BT(c,C,O),Ce}function ZR(c,d){var b=d.state;typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&(f("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",He(c)||"Component"),Lh.enqueueReplaceState(d,d.state,null))}function uS(c,d,b,E){var C=d.state;if(typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,E),d.state!==C){{var O=He(c)||"Component";ss.has(O)||(ss.add(O),f("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",O))}Lh.enqueueReplaceState(d,d.state,null)}}function cS(c,d,b,E){KR(c,d,b);var C=c.stateNode;C.props=b,C.state=c.memoizedState,C.refs=rS,Ah(c);var O=d.contextType;if(typeof O=="object"&&O!==null)C.context=Hr(O);else{var B=Qo(c,d,!0);C.context=ph(c,B)}{if(C.state===b){var Z=Be(d)||"Component";aS.has(Z)||(aS.add(Z),f("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",Z))}c.mode&xr&&eo.recordLegacyContextWarning(c,C),eo.recordUnsafeLifecycleWarnings(c,C)}C.state=c.memoizedState;var re=d.getDerivedStateFromProps;if(typeof re=="function"&&(Ty(c,d,re,b),C.state=c.memoizedState),typeof d.getDerivedStateFromProps!="function"&&typeof C.getSnapshotBeforeUpdate!="function"&&(typeof C.UNSAFE_componentWillMount=="function"||typeof C.componentWillMount=="function")&&(ZR(c,C),wm(c,b,C,E),C.state=c.memoizedState),typeof C.componentDidMount=="function"){var xe=at;xe|=ne,(c.mode&Cs)!==On&&(xe|=Re),c.flags|=xe}}function iN(c,d,b,E){var C=c.stateNode,O=c.memoizedProps;C.props=O;var B=C.context,Z=d.contextType,re=ns;if(typeof Z=="object"&&Z!==null)re=Hr(Z);else{var xe=Qo(c,d,!0);re=ph(c,xe)}var Ce=d.getDerivedStateFromProps,Ze=typeof Ce=="function"||typeof C.getSnapshotBeforeUpdate=="function";!Ze&&(typeof C.UNSAFE_componentWillReceiveProps=="function"||typeof C.componentWillReceiveProps=="function")&&(O!==b||B!==re)&&uS(c,C,b,re),xy();var ct=c.memoizedState,xt=C.state=ct;if(wm(c,b,C,E),xt=c.memoizedState,O===b&&ct===xt&&!ty()&&!Sy()){if(typeof C.componentDidMount=="function"){var Ot=at;Ot|=ne,(c.mode&Cs)!==On&&(Ot|=Re),c.flags|=Ot}return!1}typeof Ce=="function"&&(Ty(c,d,Ce,b),xt=c.memoizedState);var zt=Sy()||lS(c,d,O,b,ct,xt,re);if(zt){if(!Ze&&(typeof C.UNSAFE_componentWillMount=="function"||typeof C.componentWillMount=="function")&&(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"){var xn=at;xn|=ne,(c.mode&Cs)!==On&&(xn|=Re),c.flags|=xn}}else{if(typeof C.componentDidMount=="function"){var jn=at;jn|=ne,(c.mode&Cs)!==On&&(jn|=Re),c.flags|=jn}c.memoizedProps=b,c.memoizedState=xt}return C.props=b,C.state=xt,C.context=re,zt}function JR(c,d,b,E,C){var O=d.stateNode;nS(c,d);var B=d.memoizedProps,Z=d.type===d.elementType?B:oi(d.type,B);O.props=Z;var re=d.pendingProps,xe=O.context,Ce=b.contextType,Ze=ns;if(typeof Ce=="object"&&Ce!==null)Ze=Hr(Ce);else{var ct=Qo(d,b,!0);Ze=ph(d,ct)}var xt=b.getDerivedStateFromProps,Ot=typeof xt=="function"||typeof O.getSnapshotBeforeUpdate=="function";!Ot&&(typeof O.UNSAFE_componentWillReceiveProps=="function"||typeof O.componentWillReceiveProps=="function")&&(B!==re||xe!==Ze)&&uS(d,O,E,Ze),xy();var zt=d.memoizedState,xn=O.state=zt;if(wm(d,E,O,C),xn=d.memoizedState,B===re&&zt===xn&&!ty()&&!Sy()&&!N)return typeof O.componentDidUpdate=="function"&&(B!==c.memoizedProps||zt!==c.memoizedState)&&(d.flags|=at),typeof O.getSnapshotBeforeUpdate=="function"&&(B!==c.memoizedProps||zt!==c.memoizedState)&&(d.flags|=dn),!1;typeof xt=="function"&&(Ty(d,b,xt,E),xn=d.memoizedState);var jn=Sy()||lS(d,b,Z,E,zt,xn,Ze)||N;return jn?(!Ot&&(typeof O.UNSAFE_componentWillUpdate=="function"||typeof O.componentWillUpdate=="function")&&(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(E,xn,Ze),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(E,xn,Ze)),typeof O.componentDidUpdate=="function"&&(d.flags|=at),typeof O.getSnapshotBeforeUpdate=="function"&&(d.flags|=dn)):(typeof O.componentDidUpdate=="function"&&(B!==c.memoizedProps||zt!==c.memoizedState)&&(d.flags|=at),typeof O.getSnapshotBeforeUpdate=="function"&&(B!==c.memoizedProps||zt!==c.memoizedState)&&(d.flags|=dn),d.memoizedProps=E,d.memoizedState=xn),O.props=E,O.state=xn,O.context=Ze,jn}var rd=[],Ph=0,Uh=null,ad=0,Zr=[],Jr=0,Rs=null,no=1,io="";function Fc(c){return ld(),(c.flags&kt)!==Ee}function QR(c){return ld(),ad}function eD(){var c=io,d=no,b=d&~rN(d);return b.toString(32)+c}function sd(c,d){ld(),rd[Ph++]=ad,rd[Ph++]=Uh,Uh=c,ad=d}function fS(c,d,b){ld(),Zr[Jr++]=no,Zr[Jr++]=io,Zr[Jr++]=Rs,Rs=c;var E=no,C=io,O=My(E)-1,B=E&~(1<<O),Z=b+1,re=My(d)+O;if(re>30){var xe=O-O%5,Ce=(1<<xe)-1,Ze=(B&Ce).toString(32),ct=B>>xe,xt=O-xe,Ot=My(d)+xt,zt=Z<<xt,xn=zt|ct,jn=Ze+C;no=1<<Ot|xn,io=jn}else{var Tn=Z<<O,Zi=Tn|B,Yi=C;no=1<<re|Zi,io=Yi}}function od(c){ld();var d=c.return;if(d!==null){var b=1,E=0;sd(c,b),fS(c,b,E)}}function My(c){return 32-jT(c)}function rN(c){return 1<<My(c)-1}function dS(c){for(;c===Uh;)Uh=rd[--Ph],rd[Ph]=null,ad=rd[--Ph],rd[Ph]=null;for(;c===Rs;)Rs=Zr[--Jr],Zr[Jr]=null,io=Zr[--Jr],Zr[Jr]=null,no=Zr[--Jr],Zr[Jr]=null}function wy(){return ld(),Rs!==null?{id:no,overflow:io}:null}function aN(c,d){ld(),Zr[Jr++]=no,Zr[Jr++]=io,Zr[Jr++]=Rs,no=d.id,io=d.overflow,Rs=c}function ld(){Ea()||f("Expected to be hydrating. This is a bug in React. Please file an issue.")}var wr=null,Ba=null,za=!1,Au=!1,Ru=null;function tD(){za&&f("We should not be hydrating here. This is a bug in React. Please file a bug.")}function nD(){Au=!0}function iD(c){if(!lr)return!1;var d=c.stateNode.containerInfo;return Ba=rm(d),wr=c,za=!0,Ru=null,Au=!1,!0}function rD(c,d,b){return lr?(Ba=vx(d),wr=c,za=!0,Ru=null,Au=!1,b!==null&&aN(c,b),!0):!1}function Cy(c,d){switch(c.tag){case I:mR(c.stateNode.containerInfo,d);break;case j:vR(c.type,c.memoizedProps,c.stateNode,d);break;case ce:var b=c.memoizedState;b.dehydrated!==null&&pu(b.dehydrated,d);break}}function sN(c,d){Cy(c,d);var b=TM();b.stateNode=d,b.return=c;var E=c.deletions;E===null?(c.deletions=[b],c.flags|=We):E.push(b)}function Oh(c,d){{if(Au)return;switch(c.tag){case I:{var b=c.stateNode.containerInfo;switch(d.tag){case j:var E=d.type,C=d.pendingProps;bx(b,E,C);break;case J:var O=d.pendingProps;xx(b,O);break;case ce:Sx(b);break}break}case j:{var B=c.type,Z=c.memoizedProps,re=c.stateNode;switch(d.tag){case j:var xe=d.type,Ce=d.pendingProps;ws(B,Z,re,xe,Ce);break;case J:var Ze=d.pendingProps;mu(B,Z,re,Ze);break;case ce:Vr(B,Z,re);break}break}case ce:{var ct=c.memoizedState,xt=ct.dehydrated;if(xt!==null)switch(d.tag){case j:var Ot=d.type,zt=d.pendingProps;gR(xt,Ot,zt);break;case J:var xn=d.pendingProps;Xg(xt,xn);break;case ce:AT(xt);break}break}default:return}}}function Ay(c,d){d.flags=d.flags&~Un|me,Oh(c,d)}function hS(c,d){switch(c.tag){case j:{var b=c.type,E=c.pendingProps,C=Gn(d,b,E);return C!==null?(c.stateNode=C,wr=c,Ba=dh(C),!0):!1}case J:{var O=c.pendingProps,B=Wn(d,O);return B!==null?(c.stateNode=B,wr=c,Ba=null,!0):!1}case ce:{{var Z=si(d);if(Z!==null){var re={dehydrated:Z,treeContext:wy(),retryLane:Js};c.memoizedState=re;var xe=NM(Z);return xe.return=c,c.child=xe,wr=c,Ba=null,!0}}return!1}default:return!1}}function pS(c){return(c.mode&Vi)!==On&&(c.flags&Rt)===Ee}function mS(c){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function vS(c){if(za){var d=Ba;if(!d){pS(c)&&(Oh(wr,c),mS()),Ay(wr,c),za=!1,wr=c;return}var b=d;if(!hS(c,d)){pS(c)&&(Oh(wr,c),mS()),d=Zo(b);var E=wr;if(!d||!hS(c,d)){Ay(wr,c),za=!1,wr=c;return}sN(E,b)}}}function aD(c,d,b){if(!lr)throw new Error("Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var E=c.stateNode,C=!Au,O=hu(E,c.type,c.memoizedProps,d,b,c,C);return c.updateQueue=O,O!==null}function Cm(c){if(!lr)throw new Error("Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var d=c.stateNode,b=c.memoizedProps,E=!Au,C=am(d,b,c,E);if(C){var O=wr;if(O!==null){var B=(O.mode&Vi)!==On;switch(O.tag){case I:{var Z=O.stateNode.containerInfo;wT(Z,d,b,B);break}case j:{var re=O.type,xe=O.memoizedProps,Ce=O.stateNode;CT(re,xe,Ce,d,b,B);break}}}}return C}function gS(c){if(!lr)throw new Error("Expected prepareToHydrateHostSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var d=c.memoizedState,b=d!==null?d.dehydrated:null;if(!b)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");sm(b,c)}function Am(c){if(!lr)throw new Error("Expected skipPastDehydratedSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var d=c.memoizedState,b=d!==null?d.dehydrated:null;if(!b)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return gx(b)}function oN(c){for(var d=c.return;d!==null&&d.tag!==j&&d.tag!==I&&d.tag!==ce;)d=d.return;wr=d}function Rm(c){if(!lr||c!==wr)return!1;if(!za)return oN(c),za=!0,!1;if(c.tag!==I&&(c.tag!==j||MT(c.type)&&!Ms(c.type,c.memoizedProps))){var d=Ba;if(d)if(pS(c))yS(c),mS();else for(;d;)sN(c,d),d=Zo(d)}return oN(c),c.tag===ce?Ba=Am(c):Ba=wr?Zo(c.stateNode):null,!0}function lN(){return za&&Ba!==null}function yS(c){for(var d=Ba;d;)Cy(c,d),d=Zo(d)}function Du(){lr&&(wr=null,Ba=null,za=!1,Au=!1)}function Dm(){Ru!==null&&(D_(Ru),Ru=null)}function Ea(){return za}function os(c){Ru===null?Ru=[c]:Ru.push(c)}var Ic,Lm,ud,bS,Pm,Ry=function(c,d){};Ic=!1,Lm=!1,ud={},bS={},Pm={},Ry=function(c,d){if(!(c===null||typeof c!="object")&&!(!c._store||c._store.validated||c.key!=null)){if(typeof c._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");c._store.validated=!0;var b=He(d)||"Component";bS[b]||(bS[b]=!0,f('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function Lu(c,d,b){var E=b.ref;if(E!==null&&typeof E!="function"&&typeof E!="object"){if((c.mode&xr||w)&&!(b._owner&&b._self&&b._owner.stateNode!==b._self)){var C=He(c)||"Component";ud[C]||(f('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',E),ud[C]=!0)}if(b._owner){var O=b._owner,B;if(O){var Z=O;if(Z.tag!==H)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");B=Z.stateNode}if(!B)throw new Error("Missing owner for string ref "+E+". This error is likely caused by a bug in React. Please file an issue.");var re=B;GR(E,"ref");var xe=""+E;if(d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===xe)return d.ref;var Ce=function(Ze){var ct=re.refs;ct===rS&&(ct=re.refs={}),Ze===null?delete ct[xe]:ct[xe]=Ze};return Ce._stringRef=xe,Ce}else{if(typeof E!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!b._owner)throw new Error("Element ref was specified as a string ("+E+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return E}function Dy(c,d){var b=Object.prototype.toString.call(d);throw new Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.")}function cd(c){{var d=He(c)||"Component";if(Pm[d])return;Pm[d]=!0,f("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function xS(c){var d=c._payload,b=c._init;return b(d)}function uN(c){function d(rt,Mt){if(c){var Ke=rt.deletions;Ke===null?(rt.deletions=[Mt],rt.flags|=We):Ke.push(Mt)}}function b(rt,Mt){if(!c)return null;for(var Ke=Mt;Ke!==null;)d(rt,Ke),Ke=Ke.sibling;return null}function E(rt,Mt){for(var Ke=new Map,Gt=Mt;Gt!==null;)Gt.key!==null?Ke.set(Gt.key,Gt):Ke.set(Gt.index,Gt),Gt=Gt.sibling;return Ke}function C(rt,Mt){var Ke=df(rt,Mt);return Ke.index=0,Ke.sibling=null,Ke}function O(rt,Mt,Ke){if(rt.index=Ke,!c)return rt.flags|=kt,Mt;var Gt=rt.alternate;if(Gt!==null){var un=Gt.index;return un<Mt?(rt.flags|=me,Mt):un}else return rt.flags|=me,Mt}function B(rt){return c&&rt.alternate===null&&(rt.flags|=me),rt}function Z(rt,Mt,Ke,Gt){if(Mt===null||Mt.tag!==J){var un=Vb(Ke,rt.mode,Gt);return un.return=rt,un}else{var sn=C(Mt,Ke);return sn.return=rt,sn}}function re(rt,Mt,Ke,Gt){var un=Ke.type;if(un===Le)return Ce(rt,Mt,Ke.props.children,Gt,Ke.key);if(Mt!==null&&(Mt.elementType===un||At(Mt,Ke)||typeof un=="object"&&un!==null&&un.$$typeof===Q&&xS(un)===Mt.type)){var sn=C(Mt,Ke.props);return sn.ref=Lu(rt,Mt,Ke),sn.return=rt,sn._debugSource=Ke._source,sn._debugOwner=Ke._owner,sn}var Qn=Fv(Ke,rt.mode,Gt);return Qn.ref=Lu(rt,Mt,Ke),Qn.return=rt,Qn}function xe(rt,Mt,Ke,Gt){if(Mt===null||Mt.tag!==q||Mt.stateNode.containerInfo!==Ke.containerInfo||Mt.stateNode.implementation!==Ke.implementation){var un=kb(Ke,rt.mode,Gt);return un.return=rt,un}else{var sn=C(Mt,Ke.children||[]);return sn.return=rt,sn}}function Ce(rt,Mt,Ke,Gt,un){if(Mt===null||Mt.tag!==W){var sn=Fd(Ke,rt.mode,Gt,un);return sn.return=rt,sn}else{var Qn=C(Mt,Ke);return Qn.return=rt,Qn}}function Ze(rt,Mt,Ke){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"){var Gt=Vb(""+Mt,rt.mode,Ke);return Gt.return=rt,Gt}if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case ie:{var un=Fv(Mt,rt.mode,Ke);return un.ref=Lu(rt,null,Mt),un.return=rt,un}case $e:{var sn=kb(Mt,rt.mode,Ke);return sn.return=rt,sn}case Q:{var Qn=Mt._payload,Xn=Mt._init;return Ze(rt,Xn(Qn),Ke)}}if(Pi(Mt)||Te(Mt)){var Fi=Fd(Mt,rt.mode,Ke,null);return Fi.return=rt,Fi}Dy(rt,Mt)}return typeof Mt=="function"&&cd(rt),null}function ct(rt,Mt,Ke,Gt){var un=Mt!==null?Mt.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return un!==null?null:Z(rt,Mt,""+Ke,Gt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case ie:return Ke.key===un?re(rt,Mt,Ke,Gt):null;case $e:return Ke.key===un?xe(rt,Mt,Ke,Gt):null;case Q:{var sn=Ke._payload,Qn=Ke._init;return ct(rt,Mt,Qn(sn),Gt)}}if(Pi(Ke)||Te(Ke))return un!==null?null:Ce(rt,Mt,Ke,Gt,null);Dy(rt,Ke)}return typeof Ke=="function"&&cd(rt),null}function xt(rt,Mt,Ke,Gt,un){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number"){var sn=rt.get(Ke)||null;return Z(Mt,sn,""+Gt,un)}if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case ie:{var Qn=rt.get(Gt.key===null?Ke:Gt.key)||null;return re(Mt,Qn,Gt,un)}case $e:{var Xn=rt.get(Gt.key===null?Ke:Gt.key)||null;return xe(Mt,Xn,Gt,un)}case Q:{var Fi=Gt._payload,bi=Gt._init;return xt(rt,Mt,Ke,bi(Fi),un)}}if(Pi(Gt)||Te(Gt)){var er=rt.get(Ke)||null;return Ce(Mt,er,Gt,un,null)}Dy(Mt,Gt)}return typeof Gt=="function"&&cd(Mt),null}function Ot(rt,Mt,Ke){{if(typeof rt!="object"||rt===null)return Mt;switch(rt.$$typeof){case ie:case $e:Ry(rt,Ke);var Gt=rt.key;if(typeof Gt!="string")break;if(Mt===null){Mt=new Set,Mt.add(Gt);break}if(!Mt.has(Gt)){Mt.add(Gt);break}f("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",Gt);break;case Q:{var un=rt._payload,sn=rt._init;Ot(sn(un),Mt,Ke);break}}}return Mt}function zt(rt,Mt,Ke,Gt){for(var un=null,sn=0;sn<Ke.length;sn++){var Qn=Ke[sn];un=Ot(Qn,un,rt)}for(var Xn=null,Fi=null,bi=Mt,er=0,ui=0,qn=null;bi!==null&&ui<Ke.length;ui++){bi.index>ui?(qn=bi,bi=null):qn=bi.sibling;var pr=ct(rt,bi,Ke[ui],Gt);if(pr===null){bi===null&&(bi=qn);break}c&&bi&&pr.alternate===null&&d(rt,bi),er=O(pr,er,ui),Fi===null?Xn=pr:Fi.sibling=pr,Fi=pr,bi=qn}if(ui===Ke.length){if(b(rt,bi),Ea()){var ar=ui;sd(rt,ar)}return Xn}if(bi===null){for(;ui<Ke.length;ui++){var ds=Ze(rt,Ke[ui],Gt);ds!==null&&(er=O(ds,er,ui),Fi===null?Xn=ds:Fi.sibling=ds,Fi=ds)}if(Ea()){var ra=ui;sd(rt,ra)}return Xn}for(var hs=E(rt,bi);ui<Ke.length;ui++){var ps=xt(hs,rt,ui,Ke[ui],Gt);ps!==null&&(c&&ps.alternate!==null&&hs.delete(ps.key===null?ui:ps.key),er=O(ps,er,ui),Fi===null?Xn=ps:Fi.sibling=ps,Fi=ps)}if(c&&hs.forEach(function(Vd){return d(rt,Vd)}),Ea()){var Vs=ui;sd(rt,Vs)}return Xn}function xn(rt,Mt,Ke,Gt){var un=Te(Ke);if(typeof un!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&Ke[Symbol.toStringTag]==="Generator"&&(Lm||f("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Lm=!0),Ke.entries===un&&(Ic||f("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Ic=!0);var sn=un.call(Ke);if(sn)for(var Qn=null,Xn=sn.next();!Xn.done;Xn=sn.next()){var Fi=Xn.value;Qn=Ot(Fi,Qn,rt)}}var bi=un.call(Ke);if(bi==null)throw new Error("An iterable object provided no iterator.");for(var er=null,ui=null,qn=Mt,pr=0,ar=0,ds=null,ra=bi.next();qn!==null&&!ra.done;ar++,ra=bi.next()){qn.index>ar?(ds=qn,qn=null):ds=qn.sibling;var hs=ct(rt,qn,ra.value,Gt);if(hs===null){qn===null&&(qn=ds);break}c&&qn&&hs.alternate===null&&d(rt,qn),pr=O(hs,pr,ar),ui===null?er=hs:ui.sibling=hs,ui=hs,qn=ds}if(ra.done){if(b(rt,qn),Ea()){var ps=ar;sd(rt,ps)}return er}if(qn===null){for(;!ra.done;ar++,ra=bi.next()){var Vs=Ze(rt,ra.value,Gt);Vs!==null&&(pr=O(Vs,pr,ar),ui===null?er=Vs:ui.sibling=Vs,ui=Vs)}if(Ea()){var Vd=ar;sd(rt,Vd)}return er}for(var hf=E(rt,qn);!ra.done;ar++,ra=bi.next()){var ms=xt(hf,rt,ar,ra.value,Gt);ms!==null&&(c&&ms.alternate!==null&&hf.delete(ms.key===null?ar:ms.key),pr=O(ms,pr,ar),ui===null?er=ms:ui.sibling=ms,ui=ms)}if(c&&hf.forEach(function(rE){return d(rt,rE)}),Ea()){var pf=ar;sd(rt,pf)}return er}function jn(rt,Mt,Ke,Gt){if(Mt!==null&&Mt.tag===J){b(rt,Mt.sibling);var un=C(Mt,Ke);return un.return=rt,un}b(rt,Mt);var sn=Vb(Ke,rt.mode,Gt);return sn.return=rt,sn}function Tn(rt,Mt,Ke,Gt){for(var un=Ke.key,sn=Mt;sn!==null;){if(sn.key===un){var Qn=Ke.type;if(Qn===Le){if(sn.tag===W){b(rt,sn.sibling);var Xn=C(sn,Ke.props.children);return Xn.return=rt,Xn._debugSource=Ke._source,Xn._debugOwner=Ke._owner,Xn}}else if(sn.elementType===Qn||At(sn,Ke)||typeof Qn=="object"&&Qn!==null&&Qn.$$typeof===Q&&xS(Qn)===sn.type){b(rt,sn.sibling);var Fi=C(sn,Ke.props);return Fi.ref=Lu(rt,sn,Ke),Fi.return=rt,Fi._debugSource=Ke._source,Fi._debugOwner=Ke._owner,Fi}b(rt,sn);break}else d(rt,sn);sn=sn.sibling}if(Ke.type===Le){var bi=Fd(Ke.props.children,rt.mode,Gt,Ke.key);return bi.return=rt,bi}else{var er=Fv(Ke,rt.mode,Gt);return er.ref=Lu(rt,Mt,Ke),er.return=rt,er}}function Zi(rt,Mt,Ke,Gt){for(var un=Ke.key,sn=Mt;sn!==null;){if(sn.key===un)if(sn.tag===q&&sn.stateNode.containerInfo===Ke.containerInfo&&sn.stateNode.implementation===Ke.implementation){b(rt,sn.sibling);var Qn=C(sn,Ke.children||[]);return Qn.return=rt,Qn}else{b(rt,sn);break}else d(rt,sn);sn=sn.sibling}var Xn=kb(Ke,rt.mode,Gt);return Xn.return=rt,Xn}function Yi(rt,Mt,Ke,Gt){var un=typeof Ke=="object"&&Ke!==null&&Ke.type===Le&&Ke.key===null;if(un&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case ie:return B(Tn(rt,Mt,Ke,Gt));case $e:return B(Zi(rt,Mt,Ke,Gt));case Q:{var sn=Ke._payload,Qn=Ke._init;return Yi(rt,Mt,Qn(sn),Gt)}}if(Pi(Ke))return zt(rt,Mt,Ke,Gt);if(Te(Ke))return xn(rt,Mt,Ke,Gt);Dy(rt,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?B(jn(rt,Mt,""+Ke,Gt)):(typeof Ke=="function"&&cd(rt),b(rt,Mt))}return Yi}var Fh=uN(!0),cN=uN(!1);function SS(c,d){if(c!==null&&d.child!==c.child)throw new Error("Resuming work not yet implemented.");if(d.child!==null){var b=d.child,E=df(b,b.pendingProps);for(d.child=E,E.return=d;b.sibling!==null;)b=b.sibling,E=E.sibling=df(b,b.pendingProps),E.return=d;E.sibling=null}}function sD(c,d){for(var b=c.child;b!==null;)H_(b,d),b=b.sibling}var Um={},Vc=Sc(Um),Om=Sc(Um),Ly=Sc(Um);function Fm(c){if(c===Um)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return c}function _S(){var c=Fm(Ly.current);return c}function ES(c,d){_a(Ly,d,c),_a(Om,c,c),_a(Vc,Um,c);var b=Ja(d);Fa(Vc,c),_a(Vc,b,c)}function Ih(c){Fa(Vc,c),Fa(Om,c),Fa(Ly,c)}function Im(){var c=Fm(Vc.current);return c}function fN(c){var d=Fm(Ly.current),b=Fm(Vc.current),E=Xs(b,c.type,d);b!==E&&(_a(Om,c,c),_a(Vc,E,c))}function TS(c){Om.current===c&&(Fa(Vc,c),Fa(Om,c))}var NS=0,dN=1,hN=1,Vm=2,wo=Sc(NS);function MS(c,d){return(c&d)!==0}function Vh(c){return c&dN}function wS(c,d){return c&dN|d}function oD(c,d){return c|d}function kc(c,d){_a(wo,d,c)}function kh(c){Fa(wo,c)}function lD(c,d){var b=c.memoizedState;return b!==null?b.dehydrated!==null:(c.memoizedProps,!0)}function km(c){for(var d=c;d!==null;){if(d.tag===ce){var b=d.memoizedState;if(b!==null){var E=b.dehydrated;if(E===null||Ui(E)||rr(E))return d}}else if(d.tag===we&&d.memoizedProps.revealOrder!==void 0){var C=(d.flags&Rt)!==Ee;if(C)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)return null;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Co=0,Hi=1,Bc=2,Sr=4,ma=8,Py=[];function CS(){for(var c=0;c<Py.length;c++){var d=Py[c];xo?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Py.length=0}function pN(c,d){var b=d._getVersion,E=b(d._source);c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[d,E]:c.mutableSourceEagerHydrationData.push(d,E)}var an=s.ReactCurrentDispatcher,Ds=s.ReactCurrentBatchConfig,AS,fd;AS=new Set;var dd=Ft,Oi=null,Cr=null,Qr=null,Uy=!1,Bm=!1,zm=0,uD=0,cD=25,Ct=null,Ao=null,zc=-1,Oy=!1;function li(){{var c=Ct;Ao===null?Ao=[c]:Ao.push(c)}}function Yt(){{var c=Ct;Ao!==null&&(zc++,Ao[zc]!==c&&fD(c))}}function Bh(c){c!=null&&!Pi(c)&&f("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Ct,typeof c)}function fD(c){{var d=He(Oi);if(!AS.has(d)&&(AS.add(d),Ao!==null)){for(var b="",E=30,C=0;C<=zc;C++){for(var O=Ao[C],B=C===zc?c:O,Z=C+1+". "+O;Z.length<E;)Z+=" ";Z+=B+`
`,b+=Z}f(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,d,b)}}}function Ha(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function zh(c,d){if(Oy)return!1;if(d===null)return f("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Ct),!1;c.length!==d.length&&f(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Ct,"["+d.join(", ")+"]","["+c.join(", ")+"]");for(var b=0;b<d.length&&b<c.length;b++)if(!To(c[b],d[b]))return!1;return!0}function Hh(c,d,b,E,C,O){dd=O,Oi=d,Ao=c!==null?c._debugHookTypes:null,zc=-1,Oy=c!==null&&c.type!==d.type,d.memoizedState=null,d.updateQueue=null,d.lanes=Ft,c!==null&&c.memoizedState!==null?an.current=$i:Ao!==null?an.current=EN:an.current=WS;var B=b(E,C);if(Bm){var Z=0;do{if(Bm=!1,zm=0,Z>=cD)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");Z+=1,Oy=!1,Cr=null,Qr=null,d.updateQueue=null,zc=-1,an.current=Ky,B=b(E,C)}while(Bm)}an.current=$y,d._debugHookTypes=Ao;var re=Cr!==null&&Cr.next!==null;if(dd=Ft,Oi=null,Cr=null,Qr=null,Ct=null,Ao=null,zc=-1,c!==null&&(c.flags&Tt)!==(d.flags&Tt)&&(c.mode&Vi)!==On&&f("Internal React error: Expected static flag was missing. Please notify the React team."),Uy=!1,re)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return B}function hd(){var c=zm!==0;return zm=0,c}function mN(c,d,b){d.updateQueue=c.updateQueue,(d.mode&Cs)!==On?d.flags&=~(Xe|Re|bn|at):d.flags&=~(bn|at),c.lanes=yh(c.lanes,b)}function RS(){if(an.current=$y,Uy){for(var c=Oi.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Uy=!1}dd=Ft,Oi=null,Cr=null,Qr=null,Ao=null,zc=-1,Ct=null,jS=!1,Bm=!1,zm=0}function ql(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?Oi.memoizedState=Qr=c:Qr=Qr.next=c,Qr}function $l(){var c;if(Cr===null){var d=Oi.alternate;d!==null?c=d.memoizedState:c=null}else c=Cr.next;var b;if(Qr===null?b=Oi.memoizedState:b=Qr.next,b!==null)Qr=b,b=Qr.next,Cr=c;else{if(c===null)throw new Error("Rendered more hooks than during the previous render.");Cr=c;var E={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null};Qr===null?Oi.memoizedState=Qr=E:Qr=Qr.next=E}return Qr}function vN(){return{lastEffect:null,stores:null}}function DS(c,d){return typeof d=="function"?d(c):d}function LS(c,d,b){var E=ql(),C;b!==void 0?C=b(d):C=d,E.memoizedState=E.baseState=C;var O={pending:null,interleaved:null,lanes:Ft,dispatch:null,lastRenderedReducer:c,lastRenderedState:C};E.queue=O;var B=O.dispatch=jc.bind(null,Oi,O);return[E.memoizedState,B]}function PS(c,d,b){var E=$l(),C=E.queue;if(C===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");C.lastRenderedReducer=c;var O=Cr,B=O.baseQueue,Z=C.pending;if(Z!==null){if(B!==null){var re=B.next,xe=Z.next;B.next=xe,Z.next=re}O.baseQueue!==B&&f("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),O.baseQueue=B=Z,C.pending=null}if(B!==null){var Ce=B.next,Ze=O.baseState,ct=null,xt=null,Ot=null,zt=Ce;do{var xn=zt.lane;if(_u(dd,xn)){if(Ot!==null){var Tn={lane:kr,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null};Ot=Ot.next=Tn}if(zt.hasEagerState)Ze=zt.eagerState;else{var Zi=zt.action;Ze=c(Ze,Zi)}}else{var jn={lane:xn,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null};Ot===null?(xt=Ot=jn,ct=Ze):Ot=Ot.next=jn,Oi.lanes=Hn(Oi.lanes,xn),Db(xn)}zt=zt.next}while(zt!==null&&zt!==Ce);Ot===null?ct=Ze:Ot.next=xt,To(Ze,E.memoizedState)||cb(),E.memoizedState=Ze,E.baseState=ct,E.baseQueue=Ot,C.lastRenderedState=Ze}var Yi=C.interleaved;if(Yi!==null){var rt=Yi;do{var Mt=rt.lane;Oi.lanes=Hn(Oi.lanes,Mt),Db(Mt),rt=rt.next}while(rt!==Yi)}else B===null&&(C.lanes=Ft);var Ke=C.dispatch;return[E.memoizedState,Ke]}function US(c,d,b){var E=$l(),C=E.queue;if(C===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");C.lastRenderedReducer=c;var O=C.dispatch,B=C.pending,Z=E.memoizedState;if(B!==null){C.pending=null;var re=B.next,xe=re;do{var Ce=xe.action;Z=c(Z,Ce),xe=xe.next}while(xe!==re);To(Z,E.memoizedState)||cb(),E.memoizedState=Z,E.baseQueue===null&&(E.baseState=Z),C.lastRenderedState=Z}return[Z,O]}function $3(c,d,b){}function K3(c,d,b){}function OS(c,d,b){var E=Oi,C=ql(),O,B=Ea();if(B){if(b===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");O=b(),fd||O!==b()&&(f("The result of getServerSnapshot should be cached to avoid an infinite loop"),fd=!0)}else{if(O=d(),!fd){var Z=d();To(O,Z)||(f("The result of getSnapshot should be cached to avoid an infinite loop"),fd=!0)}var re=Ev();if(re===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");cy(re,dd)||Ls(E,d,O)}C.memoizedState=O;var xe={value:O,getSnapshot:d};return C.queue=xe,pd(FS.bind(null,E,xe,c),[c]),E.flags|=bn,Gh(Hi|ma,jh.bind(null,E,xe,O,d),void 0,null),O}function Fy(c,d,b){var E=Oi,C=$l(),O=d();if(!fd){var B=d();To(O,B)||(f("The result of getSnapshot should be cached to avoid an infinite loop"),fd=!0)}var Z=C.memoizedState,re=!To(Z,O);re&&(C.memoizedState=O,cb());var xe=C.queue;if(md(FS.bind(null,E,xe,c),[c]),xe.getSnapshot!==d||re||Qr!==null&&Qr.memoizedState.tag&Hi){E.flags|=bn,Gh(Hi|ma,jh.bind(null,E,xe,O,d),void 0,null);var Ce=Ev();if(Ce===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");cy(Ce,dd)||Ls(E,d,O)}return O}function Ls(c,d,b){c.flags|=Se;var E={getSnapshot:d,value:b},C=Oi.updateQueue;if(C===null)C=vN(),Oi.updateQueue=C,C.stores=[E];else{var O=C.stores;O===null?C.stores=[E]:O.push(E)}}function jh(c,d,b,E){d.value=b,d.getSnapshot=E,gN(d)&&IS(c)}function FS(c,d,b){var E=function(){gN(d)&&IS(c)};return b(E)}function gN(c){var d=c.getSnapshot,b=c.value;try{var E=d();return!To(b,E)}catch{return!0}}function IS(c){na(c,Yn,Ei)}function Hm(c){var d=ql();typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c;var b={pending:null,interleaved:null,lanes:Ft,dispatch:null,lastRenderedReducer:DS,lastRenderedState:c};d.queue=b;var E=b.dispatch=dD.bind(null,Oi,b);return[d.memoizedState,E]}function Iy(c){return PS(DS)}function Vy(c){return US(DS)}function Gh(c,d,b,E){var C={tag:c,create:d,destroy:b,deps:E,next:null},O=Oi.updateQueue;if(O===null)O=vN(),Oi.updateQueue=O,O.lastEffect=C.next=C;else{var B=O.lastEffect;if(B===null)O.lastEffect=C.next=C;else{var Z=B.next;B.next=C,C.next=Z,O.lastEffect=C}}return C}function ky(c){var d=ql();{var b={current:c};return d.memoizedState=b,b}}function By(c){var d=$l();return d.memoizedState}function jm(c,d,b,E){var C=ql(),O=E===void 0?null:E;Oi.flags|=c,C.memoizedState=Gh(Hi|d,b,void 0,O)}function Gm(c,d,b,E){var C=$l(),O=E===void 0?null:E,B=void 0;if(Cr!==null){var Z=Cr.memoizedState;if(B=Z.destroy,O!==null){var re=Z.deps;if(zh(O,re)){C.memoizedState=Gh(d,b,B,O);return}}}Oi.flags|=c,C.memoizedState=Gh(Hi|d,b,B,O)}function pd(c,d){return(Oi.mode&Cs)!==On?jm(Xe|bn|_e,ma,c,d):jm(bn|_e,ma,c,d)}function md(c,d){return Gm(bn,ma,c,d)}function VS(c,d){return jm(at,Bc,c,d)}function zy(c,d){return Gm(at,Bc,c,d)}function kS(c,d){var b=at;return b|=ne,(Oi.mode&Cs)!==On&&(b|=Re),jm(b,Sr,c,d)}function Hy(c,d){return Gm(at,Sr,c,d)}function yN(c,d){if(typeof d=="function"){var b=d,E=c();return b(E),function(){b(null)}}else if(d!=null){var C=d;C.hasOwnProperty("current")||f("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(C).join(", ")+"}");var O=c();return C.current=O,function(){C.current=null}}}function Hc(c,d,b){typeof d!="function"&&f("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",d!==null?typeof d:"null");var E=b!=null?b.concat([c]):null,C=at;return C|=ne,(Oi.mode&Cs)!==On&&(C|=Re),jm(C,Sr,yN.bind(null,d,c),E)}function Wh(c,d,b){typeof d!="function"&&f("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",d!==null?typeof d:"null");var E=b!=null?b.concat([c]):null;return Gm(at,Sr,yN.bind(null,d,c),E)}function Wm(c,d){}var Yh=Wm;function BS(c,d){var b=ql(),E=d===void 0?null:d;return b.memoizedState=[c,E],c}function jy(c,d){var b=$l(),E=d===void 0?null:d,C=b.memoizedState;if(C!==null&&E!==null){var O=C[1];if(zh(E,O))return C[0]}return b.memoizedState=[c,E],c}function Gy(c,d){var b=ql(),E=d===void 0?null:d,C=c();return b.memoizedState=[C,E],C}function Wy(c,d){var b=$l(),E=d===void 0?null:d,C=b.memoizedState;if(C!==null&&E!==null){var O=C[1];if(zh(E,O))return C[0]}var B=c();return b.memoizedState=[B,E],B}function Xh(c){var d=Hm(c),b=d[0],E=d[1];return pd(function(){var C=Ds.transition;Ds.transition={};try{E(c)}finally{Ds.transition=C}},[c]),b}function vd(c){var d=Iy(),b=d[0],E=d[1];return md(function(){var C=Ds.transition;Ds.transition={};try{E(c)}finally{Ds.transition=C}},[c]),b}function Yy(c){var d=Vy(),b=d[0],E=d[1];return md(function(){var C=Ds.transition;Ds.transition={};try{E(c)}finally{Ds.transition=C}},[c]),b}function bN(c,d,b){var E=sl();fa(NR(E,ym)),c(!0);var C=Ds.transition;Ds.transition={};var O=Ds.transition;Ds.transition._updatedFibers=new Set;try{c(!1),d()}finally{if(fa(E),Ds.transition=C,C===null&&O._updatedFibers){var B=O._updatedFibers.size;B>10&&h("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),O._updatedFibers.clear()}}}function qh(){var c=Hm(!1),d=c[0],b=c[1],E=bN.bind(null,b),C=ql();return C.memoizedState=E,[d,E]}function zS(){var c=Iy(),d=c[0],b=$l(),E=b.memoizedState;return[d,E]}function HS(){var c=Vy(),d=c[0],b=$l(),E=b.memoizedState;return[d,E]}var jS=!1;function xN(){return jS}function Xy(){var c=ql(),d=Ev(),b=d.identifierPrefix,E;if(Ea()){var C=eD();E=":"+b+"R"+C;var O=zm++;O>0&&(E+="H"+O.toString(32)),E+=":"}else{var B=uD++;E=":"+b+"r"+B.toString(32)+":"}return c.memoizedState=E,E}function Ym(){var c=$l(),d=c.memoizedState;return d}function jc(c,d,b){typeof arguments[3]=="function"&&f("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var E=Ql(c),C={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null};if(SN(c))_N(d,C);else{$h(c,d,C);var O=Xa(),B=na(c,E,O);B!==null&&qy(B,d,E)}GS(c,E)}function dD(c,d,b){typeof arguments[3]=="function"&&f("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var E=Ql(c),C={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null};if(SN(c))_N(d,C);else{$h(c,d,C);var O=c.alternate;if(c.lanes===Ft&&(O===null||O.lanes===Ft)){var B=d.lastRenderedReducer;if(B!==null){var Z;Z=an.current,an.current=ls;try{var re=d.lastRenderedState,xe=B(re,b);if(C.hasEagerState=!0,C.eagerState=xe,To(xe,re))return}catch{}finally{an.current=Z}}}var Ce=Xa(),Ze=na(c,E,Ce);Ze!==null&&qy(Ze,d,E)}GS(c,E)}function SN(c){var d=c.alternate;return c===Oi||d!==null&&d===Oi}function _N(c,d){Bm=Uy=!0;var b=c.pending;b===null?d.next=d:(d.next=b.next,b.next=d),c.pending=d}function $h(c,d,b,E){if(Rr(c)){var C=d.interleaved;C===null?(b.next=b,tS(d)):(b.next=C.next,C.next=b),d.interleaved=b}else{var O=d.pending;O===null?b.next=b:(b.next=O.next,O.next=b),d.pending=b}}function qy(c,d,b){if(gh(b)){var E=d.lanes;E=bh(E,c.pendingLanes);var C=Hn(E,b);d.lanes=C,Hx(c,C)}}function GS(c,d,b){qx(c,d)}var $y={readContext:Hr,useCallback:Ha,useContext:Ha,useEffect:Ha,useImperativeHandle:Ha,useInsertionEffect:Ha,useLayoutEffect:Ha,useMemo:Ha,useReducer:Ha,useRef:Ha,useState:Ha,useDebugValue:Ha,useDeferredValue:Ha,useTransition:Ha,useMutableSource:Ha,useSyncExternalStore:Ha,useId:Ha,unstable_isNewReconciler:M},WS=null,EN=null,$i=null,Ky=null,ro=null,ls=null,Xm=null;{var Zy=function(){f("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Cn=function(){f("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};WS={readContext:function(c){return Hr(c)},useCallback:function(c,d){return Ct="useCallback",li(),Bh(d),BS(c,d)},useContext:function(c){return Ct="useContext",li(),Hr(c)},useEffect:function(c,d){return Ct="useEffect",li(),Bh(d),pd(c,d)},useImperativeHandle:function(c,d,b){return Ct="useImperativeHandle",li(),Bh(b),Hc(c,d,b)},useInsertionEffect:function(c,d){return Ct="useInsertionEffect",li(),Bh(d),VS(c,d)},useLayoutEffect:function(c,d){return Ct="useLayoutEffect",li(),Bh(d),kS(c,d)},useMemo:function(c,d){Ct="useMemo",li(),Bh(d);var b=an.current;an.current=ro;try{return Gy(c,d)}finally{an.current=b}},useReducer:function(c,d,b){Ct="useReducer",li();var E=an.current;an.current=ro;try{return LS(c,d,b)}finally{an.current=E}},useRef:function(c){return Ct="useRef",li(),ky(c)},useState:function(c){Ct="useState",li();var d=an.current;an.current=ro;try{return Hm(c)}finally{an.current=d}},useDebugValue:function(c,d){return Ct="useDebugValue",li(),void 0},useDeferredValue:function(c){return Ct="useDeferredValue",li(),Xh(c)},useTransition:function(){return Ct="useTransition",li(),qh()},useMutableSource:function(c,d,b){return Ct="useMutableSource",li(),void 0},useSyncExternalStore:function(c,d,b){return Ct="useSyncExternalStore",li(),OS(c,d,b)},useId:function(){return Ct="useId",li(),Xy()},unstable_isNewReconciler:M},EN={readContext:function(c){return Hr(c)},useCallback:function(c,d){return Ct="useCallback",Yt(),BS(c,d)},useContext:function(c){return Ct="useContext",Yt(),Hr(c)},useEffect:function(c,d){return Ct="useEffect",Yt(),pd(c,d)},useImperativeHandle:function(c,d,b){return Ct="useImperativeHandle",Yt(),Hc(c,d,b)},useInsertionEffect:function(c,d){return Ct="useInsertionEffect",Yt(),VS(c,d)},useLayoutEffect:function(c,d){return Ct="useLayoutEffect",Yt(),kS(c,d)},useMemo:function(c,d){Ct="useMemo",Yt();var b=an.current;an.current=ro;try{return Gy(c,d)}finally{an.current=b}},useReducer:function(c,d,b){Ct="useReducer",Yt();var E=an.current;an.current=ro;try{return LS(c,d,b)}finally{an.current=E}},useRef:function(c){return Ct="useRef",Yt(),ky(c)},useState:function(c){Ct="useState",Yt();var d=an.current;an.current=ro;try{return Hm(c)}finally{an.current=d}},useDebugValue:function(c,d){return Ct="useDebugValue",Yt(),void 0},useDeferredValue:function(c){return Ct="useDeferredValue",Yt(),Xh(c)},useTransition:function(){return Ct="useTransition",Yt(),qh()},useMutableSource:function(c,d,b){return Ct="useMutableSource",Yt(),void 0},useSyncExternalStore:function(c,d,b){return Ct="useSyncExternalStore",Yt(),OS(c,d,b)},useId:function(){return Ct="useId",Yt(),Xy()},unstable_isNewReconciler:M},$i={readContext:function(c){return Hr(c)},useCallback:function(c,d){return Ct="useCallback",Yt(),jy(c,d)},useContext:function(c){return Ct="useContext",Yt(),Hr(c)},useEffect:function(c,d){return Ct="useEffect",Yt(),md(c,d)},useImperativeHandle:function(c,d,b){return Ct="useImperativeHandle",Yt(),Wh(c,d,b)},useInsertionEffect:function(c,d){return Ct="useInsertionEffect",Yt(),zy(c,d)},useLayoutEffect:function(c,d){return Ct="useLayoutEffect",Yt(),Hy(c,d)},useMemo:function(c,d){Ct="useMemo",Yt();var b=an.current;an.current=ls;try{return Wy(c,d)}finally{an.current=b}},useReducer:function(c,d,b){Ct="useReducer",Yt();var E=an.current;an.current=ls;try{return PS(c,d,b)}finally{an.current=E}},useRef:function(c){return Ct="useRef",Yt(),By()},useState:function(c){Ct="useState",Yt();var d=an.current;an.current=ls;try{return Iy(c)}finally{an.current=d}},useDebugValue:function(c,d){return Ct="useDebugValue",Yt(),Yh()},useDeferredValue:function(c){return Ct="useDeferredValue",Yt(),vd(c)},useTransition:function(){return Ct="useTransition",Yt(),zS()},useMutableSource:function(c,d,b){return Ct="useMutableSource",Yt(),void 0},useSyncExternalStore:function(c,d,b){return Ct="useSyncExternalStore",Yt(),Fy(c,d)},useId:function(){return Ct="useId",Yt(),Ym()},unstable_isNewReconciler:M},Ky={readContext:function(c){return Hr(c)},useCallback:function(c,d){return Ct="useCallback",Yt(),jy(c,d)},useContext:function(c){return Ct="useContext",Yt(),Hr(c)},useEffect:function(c,d){return Ct="useEffect",Yt(),md(c,d)},useImperativeHandle:function(c,d,b){return Ct="useImperativeHandle",Yt(),Wh(c,d,b)},useInsertionEffect:function(c,d){return Ct="useInsertionEffect",Yt(),zy(c,d)},useLayoutEffect:function(c,d){return Ct="useLayoutEffect",Yt(),Hy(c,d)},useMemo:function(c,d){Ct="useMemo",Yt();var b=an.current;an.current=Xm;try{return Wy(c,d)}finally{an.current=b}},useReducer:function(c,d,b){Ct="useReducer",Yt();var E=an.current;an.current=Xm;try{return US(c,d,b)}finally{an.current=E}},useRef:function(c){return Ct="useRef",Yt(),By()},useState:function(c){Ct="useState",Yt();var d=an.current;an.current=Xm;try{return Vy(c)}finally{an.current=d}},useDebugValue:function(c,d){return Ct="useDebugValue",Yt(),Yh()},useDeferredValue:function(c){return Ct="useDeferredValue",Yt(),Yy(c)},useTransition:function(){return Ct="useTransition",Yt(),HS()},useMutableSource:function(c,d,b){return Ct="useMutableSource",Yt(),void 0},useSyncExternalStore:function(c,d,b){return Ct="useSyncExternalStore",Yt(),Fy(c,d)},useId:function(){return Ct="useId",Yt(),Ym()},unstable_isNewReconciler:M},ro={readContext:function(c){return Zy(),Hr(c)},useCallback:function(c,d){return Ct="useCallback",Cn(),li(),BS(c,d)},useContext:function(c){return Ct="useContext",Cn(),li(),Hr(c)},useEffect:function(c,d){return Ct="useEffect",Cn(),li(),pd(c,d)},useImperativeHandle:function(c,d,b){return Ct="useImperativeHandle",Cn(),li(),Hc(c,d,b)},useInsertionEffect:function(c,d){return Ct="useInsertionEffect",Cn(),li(),VS(c,d)},useLayoutEffect:function(c,d){return Ct="useLayoutEffect",Cn(),li(),kS(c,d)},useMemo:function(c,d){Ct="useMemo",Cn(),li();var b=an.current;an.current=ro;try{return Gy(c,d)}finally{an.current=b}},useReducer:function(c,d,b){Ct="useReducer",Cn(),li();var E=an.current;an.current=ro;try{return LS(c,d,b)}finally{an.current=E}},useRef:function(c){return Ct="useRef",Cn(),li(),ky(c)},useState:function(c){Ct="useState",Cn(),li();var d=an.current;an.current=ro;try{return Hm(c)}finally{an.current=d}},useDebugValue:function(c,d){return Ct="useDebugValue",Cn(),li(),void 0},useDeferredValue:function(c){return Ct="useDeferredValue",Cn(),li(),Xh(c)},useTransition:function(){return Ct="useTransition",Cn(),li(),qh()},useMutableSource:function(c,d,b){return Ct="useMutableSource",Cn(),li(),void 0},useSyncExternalStore:function(c,d,b){return Ct="useSyncExternalStore",Cn(),li(),OS(c,d,b)},useId:function(){return Ct="useId",Cn(),li(),Xy()},unstable_isNewReconciler:M},ls={readContext:function(c){return Zy(),Hr(c)},useCallback:function(c,d){return Ct="useCallback",Cn(),Yt(),jy(c,d)},useContext:function(c){return Ct="useContext",Cn(),Yt(),Hr(c)},useEffect:function(c,d){return Ct="useEffect",Cn(),Yt(),md(c,d)},useImperativeHandle:function(c,d,b){return Ct="useImperativeHandle",Cn(),Yt(),Wh(c,d,b)},useInsertionEffect:function(c,d){return Ct="useInsertionEffect",Cn(),Yt(),zy(c,d)},useLayoutEffect:function(c,d){return Ct="useLayoutEffect",Cn(),Yt(),Hy(c,d)},useMemo:function(c,d){Ct="useMemo",Cn(),Yt();var b=an.current;an.current=ls;try{return Wy(c,d)}finally{an.current=b}},useReducer:function(c,d,b){Ct="useReducer",Cn(),Yt();var E=an.current;an.current=ls;try{return PS(c,d,b)}finally{an.current=E}},useRef:function(c){return Ct="useRef",Cn(),Yt(),By()},useState:function(c){Ct="useState",Cn(),Yt();var d=an.current;an.current=ls;try{return Iy(c)}finally{an.current=d}},useDebugValue:function(c,d){return Ct="useDebugValue",Cn(),Yt(),Yh()},useDeferredValue:function(c){return Ct="useDeferredValue",Cn(),Yt(),vd(c)},useTransition:function(){return Ct="useTransition",Cn(),Yt(),zS()},useMutableSource:function(c,d,b){return Ct="useMutableSource",Cn(),Yt(),void 0},useSyncExternalStore:function(c,d,b){return Ct="useSyncExternalStore",Cn(),Yt(),Fy(c,d)},useId:function(){return Ct="useId",Cn(),Yt(),Ym()},unstable_isNewReconciler:M},Xm={readContext:function(c){return Zy(),Hr(c)},useCallback:function(c,d){return Ct="useCallback",Cn(),Yt(),jy(c,d)},useContext:function(c){return Ct="useContext",Cn(),Yt(),Hr(c)},useEffect:function(c,d){return Ct="useEffect",Cn(),Yt(),md(c,d)},useImperativeHandle:function(c,d,b){return Ct="useImperativeHandle",Cn(),Yt(),Wh(c,d,b)},useInsertionEffect:function(c,d){return Ct="useInsertionEffect",Cn(),Yt(),zy(c,d)},useLayoutEffect:function(c,d){return Ct="useLayoutEffect",Cn(),Yt(),Hy(c,d)},useMemo:function(c,d){Ct="useMemo",Cn(),Yt();var b=an.current;an.current=ls;try{return Wy(c,d)}finally{an.current=b}},useReducer:function(c,d,b){Ct="useReducer",Cn(),Yt();var E=an.current;an.current=ls;try{return US(c,d,b)}finally{an.current=E}},useRef:function(c){return Ct="useRef",Cn(),Yt(),By()},useState:function(c){Ct="useState",Cn(),Yt();var d=an.current;an.current=ls;try{return Vy(c)}finally{an.current=d}},useDebugValue:function(c,d){return Ct="useDebugValue",Cn(),Yt(),Yh()},useDeferredValue:function(c){return Ct="useDeferredValue",Cn(),Yt(),Yy(c)},useTransition:function(){return Ct="useTransition",Cn(),Yt(),HS()},useMutableSource:function(c,d,b){return Ct="useMutableSource",Cn(),Yt(),void 0},useSyncExternalStore:function(c,d,b){return Ct="useSyncExternalStore",Cn(),Yt(),Fy(c,d)},useId:function(){return Ct="useId",Cn(),Yt(),Ym()},unstable_isNewReconciler:M}}var Ro=r.unstable_now,TN=0,gd=-1,Kl=-1,Jy=-1,Qy=!1,eb=!1;function NN(){return Qy}function Ps(){eb=!0}function qm(){Qy=!1,eb=!1}function tb(){Qy=eb,eb=!1}function Pu(){return TN}function YS(){TN=Ro()}function Uu(c){Kl=Ro(),c.actualStartTime<0&&(c.actualStartTime=Ro())}function Gc(c){Kl=-1}function yd(c,d){if(Kl>=0){var b=Ro()-Kl;c.actualDuration+=b,d&&(c.selfBaseDuration=b),Kl=-1}}function Us(c){if(gd>=0){var d=Ro()-gd;gd=-1;for(var b=c.return;b!==null;){switch(b.tag){case I:var E=b.stateNode;E.effectDuration+=d;return;case ve:var C=b.stateNode;C.effectDuration+=d;return}b=b.return}}}function Kh(c){if(Jy>=0){var d=Ro()-Jy;Jy=-1;for(var b=c.return;b!==null;){switch(b.tag){case I:var E=b.stateNode;E!==null&&(E.passiveEffectDuration+=d);return;case ve:var C=b.stateNode;C!==null&&(C.passiveEffectDuration+=d);return}b=b.return}}}function ja(){gd=Ro()}function nb(){Jy=Ro()}function Zh(c){for(var d=c.child;d;)c.actualDuration+=d.actualDuration,d=d.sibling}function $m(c,d){return{value:c,source:d,stack:py(d)}}function MN(c,d){return!0}function XS(c,d){try{var b=MN(c,d);if(b===!1)return;var E=d.value,C=d.source,O=d.stack,B=O!==null?O:"";if(E!=null&&E._suppressLogging){if(c.tag===H)return;console.error(E)}var Z=C?He(C):null,re=Z?"The above error occurred in the <"+Z+"> component:":"The above error occurred in one of your React components:",xe;if(c.tag===I)xe=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var Ce=He(c)||"Anonymous";xe="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+Ce+".")}var Ze=re+`
`+B+`

`+(""+xe);console.error(Ze)}catch(ct){setTimeout(function(){throw ct})}}var hD=typeof WeakMap=="function"?WeakMap:Map;function Km(c,d,b){var E=Uc(Ei,b);E.tag=Mm,E.payload={element:null};var C=d.value;return E.callback=function(){EM(C),XS(c,d)},E}function Jh(c,d,b){var E=Uc(Ei,b);E.tag=Mm;var C=c.type.getDerivedStateFromError;if(typeof C=="function"){var O=d.value;E.payload=function(){return C(O)},E.callback=function(){ao(c),XS(c,d)}}var B=c.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(E.callback=function(){ao(c),XS(c,d),typeof C!="function"&&$D(this);var re=d.value,xe=d.stack;this.componentDidCatch(re,{componentStack:xe!==null?xe:""}),typeof C!="function"&&(Nr(c.lanes,Yn)||f("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",He(c)||"Unknown"))}),E}function qS(c,d,b){var E=c.pingCache,C;if(E===null?(E=c.pingCache=new hD,C=new Set,E.set(d,C)):(C=E.get(d),C===void 0&&(C=new Set,E.set(d,C))),!C.has(b)){C.add(b);var O=I_.bind(null,c,d,b);ol&&Zt(c,b),d.then(O,O)}}function pD(c,d,b,E){var C=c.updateQueue;if(C===null){var O=new Set;O.add(b),c.updateQueue=O}else C.add(b)}function ib(c,d){var b=c.tag;if((c.mode&Vi)===On&&(b===V||b===ge||b===ee)){var E=c.alternate;E?(c.updateQueue=E.updateQueue,c.memoizedState=E.memoizedState,c.lanes=E.lanes):(c.updateQueue=null,c.memoizedState=null)}}function wN(c){var d=c;do{if(d.tag===ce&&lD(d))return d;d=d.return}while(d!==null);return null}function CN(c,d,b,E,C){if((c.mode&Vi)===On){if(c===d)c.flags|=nt;else{if(c.flags|=Rt,b.flags|=yt,b.flags&=~(Dt|de),zn&&_){var O=c.alternate;if(O===null){var B=c.child,Z=B.child;if(Z!==null){var re=Z.memoizedProps.children,xe=fn("hidden",re);Z.pendingProps=xe,Z.memoizedProps=xe}}}if(b.tag===H){var Ce=b.alternate;if(Ce===null)b.tag=ye;else{var Ze=Uc(Ei,Yn);Ze.tag=Xl,Oc(b,Ze)}}b.lanes=Hn(b.lanes,Yn)}return c}return c.flags|=nt,c.lanes=C,c}function mD(c,d,b,E,C){if(b.flags|=de,ol&&Zt(c,C),E!==null&&typeof E=="object"&&typeof E.then=="function"){var O=E;ib(b);var B=wN(d);if(B!==null){B.flags&=~ln,CN(B,d,b,c,C),B.mode&Vi&&qS(c,O,C),pD(B,c,O);return}else{if(!nl(C)){qS(c,O,C),U_();return}var Z=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");E=Z}}else if(Ea()&&b.mode&Vi){nD();var re=wN(d);if(re!==null){(re.flags&nt)===Ee&&(re.flags|=ln),CN(re,d,b,c,C),os(E);return}}xM(E),E=$m(E,b);var xe=d;do{switch(xe.tag){case I:{var Ce=E;xe.flags|=nt;var Ze=qf(C);xe.lanes=Hn(xe.lanes,Ze);var ct=Km(xe,Ce,Ze);nd(xe,ct);return}case H:var xt=E,Ot=xe.type,zt=xe.stateNode;if((xe.flags&Rt)===Ee&&(typeof Ot.getDerivedStateFromError=="function"||zt!==null&&typeof zt.componentDidCatch=="function"&&!Ub(zt))){xe.flags|=nt;var xn=qf(C);xe.lanes=Hn(xe.lanes,xn);var jn=Jh(xe,xt,xn);nd(xe,jn);return}break}xe=xe.return}while(xe!==null)}function vD(){return null}function Zl(c){c.flags|=at}function AN(c){c.flags|=Mn,c.flags|=qt}function RN(c,d){var b=c!==null&&c.child===d.child;if(b)return!0;if((d.flags&We)!==Ee)return!1;for(var E=d.child;E!==null;){if((E.flags&Pt)!==Ee||(E.subtreeFlags&Pt)!==Ee)return!1;E=E.sibling}return!0}var Zm,Jm,rb,Qh;if(xa)Zm=function(c,d,b,E){for(var C=d.child;C!==null;){if(C.tag===j||C.tag===J)Ii(c,C.stateNode);else if(C.tag!==q){if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===d)return;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},Jm=function(c,d){},rb=function(c,d,b,E,C){var O=c.memoizedProps;if(O!==E){var B=d.stateNode,Z=Im(),re=Ol(B,b,O,E,C,Z);d.updateQueue=re,re&&Zl(d)}},Qh=function(c,d,b,E){b!==E&&Zl(d)};else if(zn){Zm=function(c,d,b,E){for(var C=d.child;C!==null;){if(C.tag===j){var O=C.stateNode;if(b&&E){var B=C.memoizedProps,Z=C.type;O=wn(O,Z,B,C)}Ii(c,O)}else if(C.tag===J){var re=C.stateNode;if(b&&E){var xe=C.memoizedProps;re=En(re,xe,C)}Ii(c,re)}else if(C.tag!==q){if(C.tag===De&&C.memoizedState!==null){var Ce=C.child;Ce!==null&&(Ce.return=C),Zm(c,C,!0,!0)}else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C=C,C===d)return;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var ab=function(c,d,b,E){for(var C=d.child;C!==null;){if(C.tag===j){var O=C.stateNode;if(b&&E){var B=C.memoizedProps,Z=C.type;O=wn(O,Z,B,C)}pt(c,O)}else if(C.tag===J){var re=C.stateNode;if(b&&E){var xe=C.memoizedProps;re=En(re,xe,C)}pt(c,re)}else if(C.tag!==q){if(C.tag===De&&C.memoizedState!==null){var Ce=C.child;Ce!==null&&(Ce.return=C),ab(c,C,!0,!0)}else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C=C,C===d)return;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};Jm=function(c,d){var b=d.stateNode,E=RN(c,d);if(!E){var C=b.containerInfo,O=Je(C);ab(O,d,!1,!1),b.pendingChildren=O,Zl(d),jt(C,O)}},rb=function(c,d,b,E,C){var O=c.stateNode,B=c.memoizedProps,Z=RN(c,d);if(Z&&B===E){d.stateNode=O;return}var re=d.stateNode,xe=Im(),Ce=null;if(B!==E&&(Ce=Ol(re,b,B,E,C,xe)),Z&&Ce===null){d.stateNode=O;return}var Ze=Me(O,Ce,b,B,E,d,Z,re);gr(Ze,b,E,C,xe)&&Zl(d),d.stateNode=Ze,Z?Zl(d):Zm(Ze,d,!1,!1)},Qh=function(c,d,b,E){if(b!==E){var C=_S(),O=Im();d.stateNode=bo(E,C,O,d),Zl(d)}else d.stateNode=c.stateNode}}else Jm=function(c,d){},rb=function(c,d,b,E,C){},Qh=function(c,d,b,E){};function bd(c,d){if(!Ea())switch(c.tailMode){case"hidden":{for(var b=c.tail,E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?c.tail=null:E.sibling=null;break}case"collapsed":{for(var C=c.tail,O=null;C!==null;)C.alternate!==null&&(O=C),C=C.sibling;O===null?!d&&c.tail!==null?c.tail.sibling=null:c.tail=null:O.sibling=null;break}}}function ea(c){var d=c.alternate!==null&&c.alternate.child===c.child,b=Ft,E=Ee;if(d){if((c.mode&gi)!==On){for(var re=c.selfBaseDuration,xe=c.child;xe!==null;)b=Hn(b,Hn(xe.lanes,xe.childLanes)),E|=xe.subtreeFlags&Tt,E|=xe.flags&Tt,re+=xe.treeBaseDuration,xe=xe.sibling;c.treeBaseDuration=re}else for(var Ce=c.child;Ce!==null;)b=Hn(b,Hn(Ce.lanes,Ce.childLanes)),E|=Ce.subtreeFlags&Tt,E|=Ce.flags&Tt,Ce.return=c,Ce=Ce.sibling;c.subtreeFlags|=E}else{if((c.mode&gi)!==On){for(var C=c.actualDuration,O=c.selfBaseDuration,B=c.child;B!==null;)b=Hn(b,Hn(B.lanes,B.childLanes)),E|=B.subtreeFlags,E|=B.flags,C+=B.actualDuration,O+=B.treeBaseDuration,B=B.sibling;c.actualDuration=C,c.treeBaseDuration=O}else for(var Z=c.child;Z!==null;)b=Hn(b,Hn(Z.lanes,Z.childLanes)),E|=Z.subtreeFlags,E|=Z.flags,Z.return=c,Z=Z.sibling;c.subtreeFlags|=E}return c.childLanes=b,d}function DN(c,d,b){var E=d.pendingProps;switch(dS(d),d.tag){case P:case le:case ee:case V:case ge:case W:case se:case ve:case te:case Y:return ea(d),null;case H:{var C=d.type;return zl(C)&&ny(d),ea(d),null}case I:{var O=d.stateNode;if(Ih(d),iy(d),CS(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),c===null||c.child===null){var B=Rm(d);if(B)Zl(d);else if(c!==null){var Z=c.memoizedState;(!Z.isDehydrated||(d.flags&ln)!==Ee)&&(d.flags|=dn,Dm())}}return Jm(c,d),ea(d),null}case j:{TS(d);var re=_S(),xe=d.type;if(c!==null&&d.stateNode!=null)rb(c,d,xe,E,re),c.ref!==d.ref&&AN(d);else{if(!E){if(d.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return ea(d),null}var Ce=Im(),Ze=Rm(d);if(Ze)aD(d,re,Ce)&&Zl(d);else{var ct=Oa(xe,E,re,Ce,d);Zm(ct,d,!1,!1),d.stateNode=ct,gr(ct,xe,E,re,Ce)&&Zl(d)}d.ref!==null&&AN(d)}return ea(d),null}case J:{var xt=E;if(c&&d.stateNode!=null){var Ot=c.memoizedProps;Qh(c,d,Ot,xt)}else{if(typeof xt!="string"&&d.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var zt=_S(),xn=Im(),jn=Rm(d);jn?Cm(d)&&Zl(d):d.stateNode=bo(xt,zt,xn,d)}return ea(d),null}case ce:{kh(d);var Tn=d.memoizedState;{if(lN()&&(d.mode&Vi)!==On&&(d.flags&Rt)===Ee)return yS(d),Du(),d.flags|=ln|de|nt,d;if(Tn!==null&&Tn.dehydrated!==null){var Zi=Rm(d);if(c===null){if(!Zi)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(gS(d),ea(d),(d.mode&gi)!==On){var Yi=Tn!==null;if(Yi){var rt=d.child;rt!==null&&(d.treeBaseDuration-=rt.treeBaseDuration)}}return null}else{if(Du(),(d.flags&Rt)===Ee&&(d.memoizedState=null),d.flags|=at,ea(d),(d.mode&gi)!==On){var Mt=Tn!==null;if(Mt){var Ke=d.child;Ke!==null&&(d.treeBaseDuration-=Ke.treeBaseDuration)}}return null}}Dm()}if((d.flags&Rt)!==Ee)return d.lanes=b,(d.mode&gi)!==On&&Zh(d),d;var Gt=Tn!==null,un=!1;if(c===null)Rm(d);else{var sn=c.memoizedState;un=sn!==null}if(Gt&&!un){var Qn=d.child;if(Qn.flags|=Ni,(d.mode&Vi)!==On){var Xn=c===null&&(d.memoizedProps.unstable_avoidThisFallback!==!0||!A);Xn||MS(wo.current,hN)?Lb():U_()}}var Fi=d.updateQueue;if(Fi!==null&&(d.flags|=at),ea(d),(d.mode&gi)!==On&&Gt){var bi=d.child;bi!==null&&(d.treeBaseDuration-=bi.treeBaseDuration)}return null}case q:return Ih(d),Jm(c,d),c===null&&Rn(d.stateNode.containerInfo),ea(d),null;case ae:var er=d.type._context;return Nm(er,d),ea(d),null;case ye:{var ui=d.type;return zl(ui)&&ny(d),ea(d),null}case we:{kh(d);var qn=d.memoizedState;if(qn===null)return ea(d),null;var pr=(d.flags&Rt)!==Ee,ar=qn.rendering;if(ar===null)if(pr)bd(qn,!1);else{var ds=Pb()&&(c===null||(c.flags&Rt)===Ee);if(!ds)for(var ra=d.child;ra!==null;){var hs=km(ra);if(hs!==null){pr=!0,d.flags|=Rt,bd(qn,!1);var ps=hs.updateQueue;return ps!==null&&(d.updateQueue=ps,d.flags|=at),d.subtreeFlags=Ee,sD(d,b),kc(d,wS(wo.current,Vm)),d.child}ra=ra.sibling}qn.tail!==null&&fr()>yv()&&(d.flags|=Rt,pr=!0,bd(qn,!1),d.lanes=GT)}else{if(!pr){var Vs=km(ar);if(Vs!==null){d.flags|=Rt,pr=!0;var Vd=Vs.updateQueue;if(Vd!==null&&(d.updateQueue=Vd,d.flags|=at),bd(qn,!0),qn.tail===null&&qn.tailMode==="hidden"&&!ar.alternate&&!Ea())return ea(d),null}else fr()*2-qn.renderingStartTime>yv()&&b!==Js&&(d.flags|=Rt,pr=!0,bd(qn,!1),d.lanes=GT)}if(qn.isBackwards)ar.sibling=d.child,d.child=ar;else{var hf=qn.last;hf!==null?hf.sibling=ar:d.child=ar,qn.last=ar}}if(qn.tail!==null){var ms=qn.tail;qn.rendering=ms,qn.tail=ms.sibling,qn.renderingStartTime=fr(),ms.sibling=null;var pf=wo.current;return pr?pf=wS(pf,Vm):pf=Vh(pf),kc(d,pf),ms}return ea(d),null}case Oe:break;case De:case st:{Tv(d);var rE=d.memoizedState,aE=rE!==null;if(c!==null){var UM=c.memoizedState,t2=UM!==null;t2!==aE&&!T&&(d.flags|=Ni)}return!aE||(d.mode&Vi)===On?ea(d):Nr(Fs,Js)&&(ea(d),xa&&d.subtreeFlags&(me|at)&&(d.flags|=Ni)),null}case dt:return null;case ze:return null}throw new Error("Unknown unit of work tag ("+d.tag+"). This error is likely caused by a bug in React. Please file an issue.")}var Ou=s.ReactCurrentOwner,us=!1,$S,ep,KS,ZS,sb,xd,JS,Qm;$S={},ep={},KS={},ZS={},sb={},xd=!1,JS={},Qm={};function va(c,d,b,E){c===null?d.child=cN(d,null,b,E):d.child=Fh(d,c.child,b,E)}function ob(c,d,b,E){d.child=Fh(d,c.child,null,E),d.child=Fh(d,null,b,E)}function ev(c,d,b,E,C){if(d.type!==d.elementType){var O=b.propTypes;O&&Jo(O,E,"prop",Be(b))}var B=b.render,Z=d.ref,re,xe;Cu(d,C),Sm(d);{if(Ou.current=d,No(!0),re=Hh(c,d,B,E,Z,C),xe=hd(),d.mode&xr){ha(!0);try{re=Hh(c,d,B,E,Z,C),xe=hd()}finally{ha(!1)}}No(!1)}return $f(),c!==null&&!us?(mN(c,d,C),Fu(c,d,C)):(Ea()&&xe&&od(d),d.flags|=gt,va(c,d,re,C),d.child)}function tp(c,d,b,E,C){if(c===null){var O=b.type;if(nu(O)&&b.compare===null&&b.defaultProps===void 0){var B=O;return B=tu(O),d.tag=ee,d.type=B,r_(d,O),np(c,d,B,E,C)}{var Z=O.propTypes;Z&&Jo(Z,E,"prop",Be(O))}var re=Ov(b.type,null,E,d,d.mode,C);return re.ref=d.ref,re.return=d,d.child=re,re}{var xe=b.type,Ce=xe.propTypes;Ce&&Jo(Ce,E,"prop",Be(xe))}var Ze=c.child,ct=c_(c,C);if(!ct){var xt=Ze.memoizedProps,Ot=b.compare;if(Ot=Ot!==null?Ot:Nh,Ot(xt,E)&&c.ref===d.ref)return Fu(c,d,C)}d.flags|=gt;var zt=df(Ze,E);return zt.ref=d.ref,zt.return=d,d.child=zt,zt}function np(c,d,b,E,C){if(d.type!==d.elementType){var O=d.elementType;if(O.$$typeof===Q){var B=O,Z=B._payload,re=B._init;try{O=re(Z)}catch{O=null}var xe=O&&O.propTypes;xe&&Jo(xe,E,"prop",Be(O))}}if(c!==null){var Ce=c.memoizedProps;if(Nh(Ce,E)&&c.ref===d.ref&&d.type===c.type)if(us=!1,c_(c,C))(c.flags&yt)!==Ee&&(us=!0);else return d.lanes=c.lanes,Fu(c,d,C)}return UN(c,d,b,E,C)}function LN(c,d,b){var E=d.pendingProps,C=E.children,O=c!==null?c.memoizedState:null;if(E.mode==="hidden"||T)if((d.mode&Vi)===On){var B={baseLanes:Ft,cachePool:null};d.memoizedState=B,Dd(d,b)}else if(Nr(b,Js)){var Ze={baseLanes:Ft,cachePool:null};d.memoizedState=Ze;var ct=O!==null?O.baseLanes:b;Dd(d,ct)}else{var Z=null,re;if(O!==null){var xe=O.baseLanes;re=Hn(xe,b)}else re=b;d.lanes=d.childLanes=Js;var Ce={baseLanes:re,cachePool:Z};return d.memoizedState=Ce,d.updateQueue=null,Dd(d,re),null}else{var xt;O!==null?(xt=Hn(O.baseLanes,b),d.memoizedState=null):xt=b,Dd(d,xt)}return va(c,d,C,b),d.child}function QS(c,d,b){var E=d.pendingProps;return va(c,d,E,b),d.child}function e_(c,d,b){var E=d.pendingProps.children;return va(c,d,E,b),d.child}function gD(c,d,b){{d.flags|=at;{var E=d.stateNode;E.effectDuration=0,E.passiveEffectDuration=0}}var C=d.pendingProps,O=C.children;return va(c,d,O,b),d.child}function PN(c,d){var b=d.ref;(c===null&&b!==null||c!==null&&c.ref!==b)&&(d.flags|=Mn,d.flags|=qt)}function UN(c,d,b,E,C){if(d.type!==d.elementType){var O=b.propTypes;O&&Jo(O,E,"prop",Be(b))}var B;{var Z=Qo(d,b,!0);B=ph(d,Z)}var re,xe;Cu(d,C),Sm(d);{if(Ou.current=d,No(!0),re=Hh(c,d,b,E,B,C),xe=hd(),d.mode&xr){ha(!0);try{re=Hh(c,d,b,E,B,C),xe=hd()}finally{ha(!1)}}No(!1)}return $f(),c!==null&&!us?(mN(c,d,C),Fu(c,d,C)):(Ea()&&xe&&od(d),d.flags|=gt,va(c,d,re,C),d.child)}function ON(c,d,b,E,C){{switch(Xb(d)){case!1:{var O=d.stateNode,B=d.type,Z=new B(d.memoizedProps,O.context),re=Z.state;O.updater.enqueueSetState(O,re,null);break}case!0:{d.flags|=Rt,d.flags|=nt;var xe=new Error("Simulated error coming from DevTools"),Ce=qf(C);d.lanes=Hn(d.lanes,Ce);var Ze=Jh(d,$m(xe,d),Ce);nd(d,Ze);break}}if(d.type!==d.elementType){var ct=b.propTypes;ct&&Jo(ct,E,"prop",Be(b))}}var xt;zl(b)?(xt=!0,ca(d)):xt=!1,Cu(d,C);var Ot=d.stateNode,zt;Ot===null?(c!==null&&(c.alternate=null,d.alternate=null,d.flags|=me),Ny(d,b,E),cS(d,b,E,C),zt=!0):c===null?zt=iN(d,b,E,C):zt=JR(c,d,b,E,C);var xn=t_(c,d,b,zt,xt,C);{var jn=d.stateNode;zt&&jn.props!==E&&(xd||f("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",He(d)||"a component"),xd=!0)}return xn}function t_(c,d,b,E,C,O){PN(c,d);var B=(d.flags&Rt)!==Ee;if(!E&&!B)return C&&Ax(d,b,!1),Fu(c,d,O);var Z=d.stateNode;Ou.current=d;var re;if(B&&typeof b.getDerivedStateFromError!="function")re=null,Gc();else{Sm(d);{if(No(!0),re=Z.render(),d.mode&xr){ha(!0);try{Z.render()}finally{ha(!1)}}No(!1)}$f()}return d.flags|=gt,c!==null&&B?ob(c,d,re,O):va(c,d,re,O),d.memoizedState=Z.state,C&&Ax(d,b,!0),d.child}function FN(c){var d=c.stateNode;d.pendingContext?zT(c,d.pendingContext,d.pendingContext!==d.context):d.context&&zT(c,d.context,!1),ES(c,d.containerInfo)}function yD(c,d,b){if(FN(d),c===null)throw new Error("Should have a current fiber. This is a bug in React.");var E=d.pendingProps,C=d.memoizedState,O=C.element;nS(c,d),wm(d,E,null,b);var B=d.memoizedState;d.stateNode;var Z=B.element;if(lr&&C.isDehydrated){var re={element:Z,isDehydrated:!1,cache:B.cache,transitions:B.transitions},xe=d.updateQueue;if(xe.baseState=re,d.memoizedState=re,d.flags&ln){var Ce=new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering.");return IN(c,d,Z,b,Ce)}else if(Z!==O){var Ze=new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering.");return IN(c,d,Z,b,Ze)}else{iD(d);var ct=cN(d,null,Z,b);d.child=ct;for(var xt=ct;xt;)xt.flags=xt.flags&~me|Un,xt=xt.sibling}}else{if(Du(),Z===O)return Fu(c,d,b);va(c,d,Z,b)}return d.child}function IN(c,d,b,E,C){return Du(),os(C),d.flags|=ln,va(c,d,b,E),d.child}function bD(c,d,b){fN(d),c===null&&vS(d);var E=d.type,C=d.pendingProps,O=c!==null?c.memoizedProps:null,B=C.children,Z=Ms(E,C);return Z?B=null:O!==null&&Ms(E,O)&&(d.flags|=Et),PN(c,d),va(c,d,B,b),d.child}function n_(c,d){return c===null&&vS(d),null}function xD(c,d,b,E){c!==null&&(c.alternate=null,d.alternate=null,d.flags|=me);var C=d.pendingProps,O=b,B=O._payload,Z=O._init,re=Z(B);d.type=re;var xe=d.tag=Fo(re),Ce=oi(re,C),Ze;switch(xe){case V:return r_(d,re),d.type=re=tu(re),Ze=UN(null,d,re,Ce,E),Ze;case H:return d.type=re=k_(re),Ze=ON(null,d,re,Ce,E),Ze;case ge:return d.type=re=B_(re),Ze=ev(null,d,re,Ce,E),Ze;case Y:{if(d.type!==d.elementType){var ct=re.propTypes;ct&&Jo(ct,Ce,"prop",Be(re))}return Ze=tp(null,d,re,oi(re.type,Ce),E),Ze}}var xt="";throw re!==null&&typeof re=="object"&&re.$$typeof===Q&&(xt=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+re+". "+("Lazy element type must resolve to a class or function."+xt))}function SD(c,d,b,E,C){c!==null&&(c.alternate=null,d.alternate=null,d.flags|=me),d.tag=H;var O;return zl(b)?(O=!0,ca(d)):O=!1,Cu(d,C),Ny(d,b,E),cS(d,b,E,C),t_(null,d,b,!0,O,C)}function i_(c,d,b,E){c!==null&&(c.alternate=null,d.alternate=null,d.flags|=me);var C=d.pendingProps,O;{var B=Qo(d,b,!1);O=ph(d,B)}Cu(d,E);var Z,re;Sm(d);{if(b.prototype&&typeof b.prototype.render=="function"){var xe=Be(b)||"Unknown";$S[xe]||(f("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",xe,xe),$S[xe]=!0)}d.mode&xr&&eo.recordLegacyContextWarning(d,null),No(!0),Ou.current=d,Z=Hh(null,d,b,C,O,E),re=hd(),No(!1)}if($f(),d.flags|=gt,typeof Z=="object"&&Z!==null&&typeof Z.render=="function"&&Z.$$typeof===void 0){var Ce=Be(b)||"Unknown";ep[Ce]||(f("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",Ce,Ce,Ce),ep[Ce]=!0)}if(typeof Z=="object"&&Z!==null&&typeof Z.render=="function"&&Z.$$typeof===void 0){{var Ze=Be(b)||"Unknown";ep[Ze]||(f("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",Ze,Ze,Ze),ep[Ze]=!0)}d.tag=H,d.memoizedState=null,d.updateQueue=null;var ct=!1;return zl(b)?(ct=!0,ca(d)):ct=!1,d.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Ah(d),nN(d,Z),cS(d,b,C,E),t_(null,d,b,!0,ct,E)}else{if(d.tag=V,d.mode&xr){ha(!0);try{Z=Hh(null,d,b,C,O,E),re=hd()}finally{ha(!1)}}return Ea()&&re&&od(d),va(null,d,Z,E),r_(d,b),d.child}}function r_(c,d){{if(d&&d.childContextTypes&&f("%s(...): childContextTypes cannot be defined on a function component.",d.displayName||d.name||"Component"),c.ref!==null){var b="",E=Kx();E&&(b+=`

Check the render method of \``+E+"`.");var C=E||"",O=c._debugSource;O&&(C=O.fileName+":"+O.lineNumber),sb[C]||(sb[C]=!0,f("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",b))}if(typeof d.getDerivedStateFromProps=="function"){var B=Be(d)||"Unknown";ZS[B]||(f("%s: Function components do not support getDerivedStateFromProps.",B),ZS[B]=!0)}if(typeof d.contextType=="object"&&d.contextType!==null){var Z=Be(d)||"Unknown";KS[Z]||(f("%s: Function components do not support contextType.",Z),KS[Z]=!0)}}}var ip={dehydrated:null,treeContext:null,retryLane:kr};function tv(c){return{baseLanes:c,cachePool:vD()}}function VN(c,d){var b=null;return{baseLanes:Hn(c.baseLanes,d),cachePool:b}}function _D(c,d,b,E){if(d!==null){var C=d.memoizedState;if(C===null)return!1}return MS(c,Vm)}function kN(c,d){return yh(c.childLanes,d)}function BN(c,d,b){var E=d.pendingProps;qb(d)&&(d.flags|=Rt);var C=wo.current,O=!1,B=(d.flags&Rt)!==Ee;if(B||_D(C,c)?(O=!0,d.flags&=~Rt):(c===null||c.memoizedState!==null)&&(C=oD(C,hN)),C=Vh(C),kc(d,C),c===null){vS(d);{var Z=d.memoizedState;if(Z!==null){var re=Z.dehydrated;if(re!==null)return s_(d,re)}}var xe=E.children,Ce=E.fallback;if(O){var Ze=ED(d,xe,Ce,b),ct=d.child;return ct.memoizedState=tv(b),d.memoizedState=ip,Ze}else return lb(d,xe)}else{var xt=c.memoizedState;if(xt!==null){{var Ot=xt.dehydrated;if(Ot!==null)if(B){if(d.flags&ln)return d.flags&=~ln,ub(c,d,b,new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));if(d.memoizedState!==null)return d.child=c.child,d.flags|=Rt,null;var zt=E.children,xn=E.fallback,jn=TD(c,d,zt,xn,b),Tn=d.child;return Tn.memoizedState=tv(b),d.memoizedState=ip,jn}else return ND(c,d,Ot,xt,b)}if(O){var Zi=E.fallback,Yi=E.children,rt=jN(c,d,Yi,Zi,b),Mt=d.child,Ke=c.child.memoizedState;return Mt.memoizedState=Ke===null?tv(b):VN(Ke,b),Mt.childLanes=kN(c,b),d.memoizedState=ip,rt}else{var Gt=E.children,un=HN(c,d,Gt,b);return d.memoizedState=null,un}}else if(O){var sn=E.fallback,Qn=E.children,Xn=jN(c,d,Qn,sn,b),Fi=d.child,bi=c.child.memoizedState;return Fi.memoizedState=bi===null?tv(b):VN(bi,b),Fi.childLanes=kN(c,b),d.memoizedState=ip,Xn}else{var er=E.children,ui=HN(c,d,er,b);return d.memoizedState=null,ui}}}function lb(c,d,b){var E=c.mode,C={mode:"visible",children:d},O=a_(C,E);return O.return=c,c.child=O,O}function ED(c,d,b,E){var C=c.mode,O=c.child,B={mode:"hidden",children:d},Z,re;return(C&Vi)===On&&O!==null?(Z=O,Z.childLanes=Ft,Z.pendingProps=B,c.mode&gi&&(Z.actualDuration=0,Z.actualStartTime=-1,Z.selfBaseDuration=0,Z.treeBaseDuration=0),re=Fd(b,C,E,null)):(Z=a_(B,C),re=Fd(b,C,E,null)),Z.return=c,re.return=c,Z.sibling=re,c.child=Z,re}function a_(c,d,b){return W_(c,d,Ft,null)}function zN(c,d){return df(c,d)}function HN(c,d,b,E){var C=c.child,O=C.sibling,B=zN(C,{mode:"visible",children:b});if((d.mode&Vi)===On&&(B.lanes=E),B.return=d,B.sibling=null,O!==null){var Z=d.deletions;Z===null?(d.deletions=[O],d.flags|=We):Z.push(O)}return d.child=B,B}function jN(c,d,b,E,C){var O=d.mode,B=c.child,Z=B.sibling,re={mode:"hidden",children:b},xe;if((O&Vi)===On&&d.child!==B){var Ce=d.child;xe=Ce,xe.childLanes=Ft,xe.pendingProps=re,d.mode&gi&&(xe.actualDuration=0,xe.actualStartTime=-1,xe.selfBaseDuration=B.selfBaseDuration,xe.treeBaseDuration=B.treeBaseDuration),d.deletions=null}else xe=zN(B,re),xe.subtreeFlags=B.subtreeFlags&Tt;var Ze;return Z!==null?Ze=df(Z,E):(Ze=Fd(E,O,C,null),Ze.flags|=me),Ze.return=d,xe.return=d,xe.sibling=Ze,d.child=xe,Ze}function ub(c,d,b,E){E!==null&&os(E),Fh(d,c.child,null,b);var C=d.pendingProps,O=C.children,B=lb(d,O);return B.flags|=me,d.memoizedState=null,B}function TD(c,d,b,E,C){var O=d.mode,B={mode:"visible",children:b},Z=a_(B,O),re=Fd(E,O,C,null);return re.flags|=me,Z.return=d,re.return=d,Z.sibling=re,d.child=Z,(d.mode&Vi)!==On&&Fh(d,c.child,null,C),re}function s_(c,d,b){return(c.mode&Vi)===On?(f("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),c.lanes=Yn):rr(d)?c.lanes=Hf:c.lanes=Js,null}function ND(c,d,b,E,C){if(tD(),(d.mode&Vi)===On)return ub(c,d,C,null);if(rr(b))return ub(c,d,C,new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."));var O=Nr(C,c.childLanes);if(us||O){var B=Ev();if(B!==null){var Z=YT(B,C);if(Z!==kr&&Z!==E.retryLane){E.retryLane=Z;var re=Ei;na(c,Z,re)}}return U_(),ub(c,d,C,new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."))}else if(Ui(b)){d.flags|=Rt,d.child=c.child;var xe=V_.bind(null,c);return vi(b,xe),null}else{rD(d,b,E.treeContext);var Ce=d.pendingProps,Ze=Ce.children,ct=lb(d,Ze);return ct.flags|=Un,ct}}function GN(c,d,b){c.lanes=Hn(c.lanes,d);var E=c.alternate;E!==null&&(E.lanes=Hn(E.lanes,d)),by(c.return,d,b)}function MD(c,d,b){for(var E=d;E!==null;){if(E.tag===ce){var C=E.memoizedState;C!==null&&GN(E,b,c)}else if(E.tag===we)GN(E,b,c);else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===c)return;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}}function wD(c){for(var d=c,b=null;d!==null;){var E=d.alternate;E!==null&&km(E)===null&&(b=d),d=d.sibling}return b}function CD(c){if(c!==void 0&&c!=="forwards"&&c!=="backwards"&&c!=="together"&&!JS[c])if(JS[c]=!0,typeof c=="string")switch(c.toLowerCase()){case"together":case"forwards":case"backwards":{f('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',c,c.toLowerCase());break}case"forward":case"backward":{f('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',c,c.toLowerCase());break}default:f('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',c);break}else f('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',c)}function AD(c,d){c!==void 0&&!Qm[c]&&(c!=="collapsed"&&c!=="hidden"?(Qm[c]=!0,f('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',c)):d!=="forwards"&&d!=="backwards"&&(Qm[c]=!0,f('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',c)))}function WN(c,d){{var b=Pi(c),E=!b&&typeof Te(c)=="function";if(b||E){var C=b?"array":"iterable";return f("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",C,d,C),!1}}return!0}function RD(c,d){if((d==="forwards"||d==="backwards")&&c!==void 0&&c!==null&&c!==!1)if(Pi(c)){for(var b=0;b<c.length;b++)if(!WN(c[b],b))return}else{var E=Te(c);if(typeof E=="function"){var C=E.call(c);if(C)for(var O=C.next(),B=0;!O.done;O=C.next()){if(!WN(O.value,B))return;B++}}else f('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',d)}}function o_(c,d,b,E,C){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:b,tailMode:C}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=E,O.tail=b,O.tailMode=C)}function l_(c,d,b){var E=d.pendingProps,C=E.revealOrder,O=E.tail,B=E.children;CD(C),AD(O,C),RD(B,C),va(c,d,B,b);var Z=wo.current,re=MS(Z,Vm);if(re)Z=wS(Z,Vm),d.flags|=Rt;else{var xe=c!==null&&(c.flags&Rt)!==Ee;xe&&MD(d,d.child,b),Z=Vh(Z)}if(kc(d,Z),(d.mode&Vi)===On)d.memoizedState=null;else switch(C){case"forwards":{var Ce=wD(d.child),Ze;Ce===null?(Ze=d.child,d.child=null):(Ze=Ce.sibling,Ce.sibling=null),o_(d,!1,Ze,Ce,O);break}case"backwards":{var ct=null,xt=d.child;for(d.child=null;xt!==null;){var Ot=xt.alternate;if(Ot!==null&&km(Ot)===null){d.child=xt;break}var zt=xt.sibling;xt.sibling=ct,ct=xt,xt=zt}o_(d,!0,ct,null,O);break}case"together":{o_(d,!1,null,null,void 0);break}default:d.memoizedState=null}return d.child}function u_(c,d,b){ES(d,d.stateNode.containerInfo);var E=d.pendingProps;return c===null?d.child=Fh(d,null,E,b):va(c,d,E,b),d.child}var YN=!1;function DD(c,d,b){var E=d.type,C=E._context,O=d.pendingProps,B=d.memoizedProps,Z=O.value;{"value"in O||YN||(YN=!0,f("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var re=d.type.propTypes;re&&Jo(re,O,"prop","Context.Provider")}if(tN(d,C,Z),B!==null){var xe=B.value;if(To(xe,Z)){if(B.children===O.children&&!ty())return Fu(c,d,b)}else WR(d,C,b)}var Ce=O.children;return va(c,d,Ce,b),d.child}var nv=!1;function iv(c,d,b){var E=d.type;E._context===void 0?E!==E.Consumer&&(nv||(nv=!0,f("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):E=E._context;var C=d.pendingProps,O=C.children;typeof O!="function"&&f("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Cu(d,b);var B=Hr(E);Sm(d);var Z;return Ou.current=d,No(!0),Z=O(B),No(!1),$f(),d.flags|=gt,va(c,d,Z,b),d.child}function cb(){us=!0}function Fu(c,d,b){return c!==null&&(d.dependencies=c.dependencies),Gc(),Db(d.lanes),Nr(b,d.childLanes)?(SS(c,d),d.child):null}function LD(c,d,b){{var E=d.return;if(E===null)throw new Error("Cannot swap the root fiber.");if(c.alternate=null,d.alternate=null,b.index=d.index,b.sibling=d.sibling,b.return=d.return,b.ref=d.ref,d===E.child)E.child=b;else{var C=E.child;if(C===null)throw new Error("Expected parent to have a child.");for(;C.sibling!==d;)if(C=C.sibling,C===null)throw new Error("Expected to find the previous sibling.");C.sibling=b}var O=E.deletions;return O===null?(E.deletions=[c],E.flags|=We):O.push(c),b.flags|=me,b}}function c_(c,d){var b=c.lanes;return!!Nr(b,d)}function PD(c,d,b){switch(d.tag){case I:FN(d),d.stateNode,Du();break;case j:fN(d);break;case H:{var E=d.type;zl(E)&&ca(d);break}case q:ES(d,d.stateNode.containerInfo);break;case ae:{var C=d.memoizedProps.value,O=d.type._context;tN(d,O,C);break}case ve:{var B=Nr(b,d.childLanes);B&&(d.flags|=at);{var Z=d.stateNode;Z.effectDuration=0,Z.passiveEffectDuration=0}}break;case ce:{var re=d.memoizedState;if(re!==null){if(re.dehydrated!==null)return kc(d,Vh(wo.current)),d.flags|=Rt,null;var xe=d.child,Ce=xe.childLanes;if(Nr(b,Ce))return BN(c,d,b);kc(d,Vh(wo.current));var Ze=Fu(c,d,b);return Ze!==null?Ze.sibling:null}else kc(d,Vh(wo.current));break}case we:{var ct=(c.flags&Rt)!==Ee,xt=Nr(b,d.childLanes);if(ct){if(xt)return l_(c,d,b);d.flags|=Rt}var Ot=d.memoizedState;if(Ot!==null&&(Ot.rendering=null,Ot.tail=null,Ot.lastEffect=null),kc(d,wo.current),xt)break;return null}case De:case st:return d.lanes=Ft,LN(c,d,b)}return Fu(c,d,b)}function XN(c,d,b){if(d._debugNeedsRemount&&c!==null)return LD(c,d,Ov(d.type,d.key,d.pendingProps,d._debugOwner||null,d.mode,d.lanes));if(c!==null){var E=c.memoizedProps,C=d.pendingProps;if(E!==C||ty()||d.type!==c.type)us=!0;else{var O=c_(c,b);if(!O&&(d.flags&Rt)===Ee)return us=!1,PD(c,d,b);(c.flags&yt)!==Ee?us=!0:us=!1}}else if(us=!1,Ea()&&Fc(d)){var B=d.index,Z=QR();fS(d,Z,B)}switch(d.lanes=Ft,d.tag){case P:return i_(c,d,d.type,b);case le:{var re=d.elementType;return xD(c,d,re,b)}case V:{var xe=d.type,Ce=d.pendingProps,Ze=d.elementType===xe?Ce:oi(xe,Ce);return UN(c,d,xe,Ze,b)}case H:{var ct=d.type,xt=d.pendingProps,Ot=d.elementType===ct?xt:oi(ct,xt);return ON(c,d,ct,Ot,b)}case I:return yD(c,d,b);case j:return bD(c,d,b);case J:return n_(c,d);case ce:return BN(c,d,b);case q:return u_(c,d,b);case ge:{var zt=d.type,xn=d.pendingProps,jn=d.elementType===zt?xn:oi(zt,xn);return ev(c,d,zt,jn,b)}case W:return QS(c,d,b);case se:return e_(c,d,b);case ve:return gD(c,d,b);case ae:return DD(c,d,b);case te:return iv(c,d,b);case Y:{var Tn=d.type,Zi=d.pendingProps,Yi=oi(Tn,Zi);if(d.type!==d.elementType){var rt=Tn.propTypes;rt&&Jo(rt,Yi,"prop",Be(Tn))}return Yi=oi(Tn.type,Yi),tp(c,d,Tn,Yi,b)}case ee:return np(c,d,d.type,d.pendingProps,b);case ye:{var Mt=d.type,Ke=d.pendingProps,Gt=d.elementType===Mt?Ke:oi(Mt,Ke);return SD(c,d,Mt,Gt,b)}case we:return l_(c,d,b);case Oe:break;case De:return LN(c,d,b)}throw new Error("Unknown unit of work tag ("+d.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function UD(c,d,b){switch(dS(d),d.tag){case H:{var E=d.type;zl(E)&&ny(d);var C=d.flags;return C&nt?(d.flags=C&~nt|Rt,(d.mode&gi)!==On&&Zh(d),d):null}case I:{Ih(d),iy(d),CS();var O=d.flags;return(O&nt)!==Ee&&(O&Rt)===Ee?(d.flags=O&~nt|Rt,d):null}case j:return TS(d),null;case ce:{kh(d);{var B=d.memoizedState;if(B!==null&&B.dehydrated!==null){if(d.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Du()}}var Z=d.flags;return Z&nt?(d.flags=Z&~nt|Rt,(d.mode&gi)!==On&&Zh(d),d):null}case we:return kh(d),null;case q:return Ih(d),null;case ae:var re=d.type._context;return Nm(re,d),null;case De:case st:return Tv(d),null;case dt:return null;default:return null}}function f_(c,d,b){switch(dS(d),d.tag){case H:{var E=d.type.childContextTypes;E!=null&&ny(d);break}case I:{Ih(d),iy(d),CS();break}case j:{TS(d);break}case q:Ih(d);break;case ce:kh(d);break;case we:kh(d);break;case ae:var C=d.type._context;Nm(C,d);break;case De:case st:Tv(d);break}}function qN(c,d,b,E,C,O,B,Z,re){var xe=Array.prototype.slice.call(arguments,3);try{d.apply(b,xe)}catch(Ce){this.onError(Ce)}}var $N=qN;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var d_=document.createElement("react");$N=function(d,b,E,C,O,B,Z,re,xe){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var Ce=document.createEvent("Event"),Ze=!1,ct=!0,xt=window.event,Ot=Object.getOwnPropertyDescriptor(window,"event");function zt(){d_.removeEventListener(Mt,jn,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=xt)}var xn=Array.prototype.slice.call(arguments,3);function jn(){Ze=!0,zt(),b.apply(E,xn),ct=!1}var Tn,Zi=!1,Yi=!1;function rt(Ke){if(Tn=Ke.error,Zi=!0,Tn===null&&Ke.colno===0&&Ke.lineno===0&&(Yi=!0),Ke.defaultPrevented&&Tn!=null&&typeof Tn=="object")try{Tn._suppressLogging=!0}catch{}}var Mt="react-"+(d||"invokeguardedcallback");if(window.addEventListener("error",rt),d_.addEventListener(Mt,jn,!1),Ce.initEvent(Mt,!1,!1),d_.dispatchEvent(Ce),Ot&&Object.defineProperty(window,"event",Ot),Ze&&ct&&(Zi?Yi&&(Tn=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):Tn=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(Tn)),window.removeEventListener("error",rt),!Ze)return zt(),qN.apply(this,arguments)}}var OD=$N,rv=!1,fb=null,FD={onError:function(c){rv=!0,fb=c}};function KN(c,d,b,E,C,O,B,Z,re){rv=!1,fb=null,OD.apply(FD,arguments)}function ID(){return rv}function ZN(){if(rv){var c=fb;return rv=!1,fb=null,c}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}var JN=null;JN=new Set;var db=!1,Wc=!1,VD=typeof WeakSet=="function"?WeakSet:Set,en=null,rp=null,dl=null;function _r(c){KN(null,function(){throw c}),ZN()}var h_=function(c,d){if(d.props=c.memoizedProps,d.state=c.memoizedState,c.mode&gi)try{ja(),d.componentWillUnmount()}finally{Us(c)}else d.componentWillUnmount()};function ap(c,d){try{Do(Sr,c)}catch(b){_r(b),Wi(c,d,b)}}function av(c,d,b){try{h_(c,b)}catch(E){_r(E),Wi(c,d,E)}}function kD(c,d,b){try{b.componentDidMount()}catch(E){_r(E),Wi(c,d,E)}}function QN(c,d){try{lv(c)}catch(b){_r(b),Wi(c,d,b)}}function hb(c,d){var b=c.ref;if(b!==null)if(typeof b=="function"){var E;try{if(U&&k&&c.mode&gi)try{ja(),E=b(null)}finally{Us(c)}else E=b(null)}catch(C){_r(C),Wi(c,d,C)}typeof E=="function"&&f("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",He(c))}else b.current=null}function Yc(c,d,b){try{b()}catch(E){_r(E),Wi(c,d,E)}}var sv=!1;function eM(c,d){Mi(c.containerInfo),en=d,ov();var b=sv;return sv=!1,b}function ov(){for(;en!==null;){var c=en,d=c.child;(c.subtreeFlags&qe)!==Ee&&d!==null?(Uo(d,c),en=d):Sd()}}function Sd(){for(;en!==null;){var c=en;zr(c);try{Xc(c)}catch(b){_r(b),Wi(c,c.return,b)}pa();var d=c.sibling;if(d!==null){Uo(d,c.return),en=d;return}en=c.return}}function Xc(c){var d=c.alternate,b=c.flags;if((b&dn)!==Ee){switch(zr(c),c.tag){case V:case ge:case ee:break;case H:{if(d!==null){var E=d.memoizedProps,C=d.memoizedState,O=c.stateNode;c.type===c.elementType&&!xd&&(O.props!==c.memoizedProps&&f("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",He(c)||"instance"),O.state!==c.memoizedState&&f("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",He(c)||"instance"));var B=O.getSnapshotBeforeUpdate(c.elementType===c.type?E:oi(c.type,E),C);{var Z=JN;B===void 0&&!Z.has(c.type)&&(Z.add(c.type),f("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",He(c)))}O.__reactInternalSnapshotBeforeUpdate=B}break}case I:{if(xa){var re=c.stateNode;$(re.containerInfo)}break}case j:case J:case q:case ye:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}pa()}}function ta(c,d,b){var E=d.updateQueue,C=E!==null?E.lastEffect:null;if(C!==null){var O=C.next,B=O;do{if((B.tag&c)===c){var Z=B.destroy;B.destroy=void 0,Z!==void 0&&((c&ma)!==Co?FR(d):(c&Sr)!==Co&&ZT(d),Yc(d,b,Z),(c&ma)!==Co?IR():(c&Sr)!==Co&&Yx())}B=B.next}while(B!==O)}}function Do(c,d){var b=d.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var C=E.next,O=C;do{if((O.tag&c)===c){(c&ma)!==Co?KT(d):(c&Sr)!==Co&&VR(d);var B=O.create;O.destroy=B(),(c&ma)!==Co?OR():(c&Sr)!==Co&&kR();{var Z=O.destroy;if(Z!==void 0&&typeof Z!="function"){var re=void 0;(O.tag&Sr)!==Ee?re="useLayoutEffect":(O.tag&Bc)!==Ee?re="useInsertionEffect":re="useEffect";var xe=void 0;Z===null?xe=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof Z.then=="function"?xe=`

It looks like you wrote `+re+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+re+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:xe=" You returned: "+Z,f("%s must not return anything besides a function, which is used for clean-up.%s",re,xe)}}}O=O.next}while(O!==C)}}function p_(c,d){if((d.flags&at)!==Ee)switch(d.tag){case ve:{var b=d.stateNode.passiveEffectDuration,E=d.memoizedProps,C=E.id,O=E.onPostCommit,B=Pu(),Z=d.alternate===null?"mount":"update";NN()&&(Z="nested-update"),typeof O=="function"&&O(C,Z,b,B);var re=d.return;e:for(;re!==null;){switch(re.tag){case I:var xe=re.stateNode;xe.passiveEffectDuration+=b;break e;case ve:var Ce=re.stateNode;Ce.passiveEffectDuration+=b;break e}re=re.return}break}}}function BD(c,d,b,E){if((b.flags&Bt)!==Ee)switch(b.tag){case V:case ge:case ee:{if(!Wc)if(b.mode&gi)try{ja(),Do(Sr|Hi,b)}finally{Us(b)}else Do(Sr|Hi,b);break}case H:{var C=b.stateNode;if(b.flags&at&&!Wc)if(d===null)if(b.type===b.elementType&&!xd&&(C.props!==b.memoizedProps&&f("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",He(b)||"instance"),C.state!==b.memoizedState&&f("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",He(b)||"instance")),b.mode&gi)try{ja(),C.componentDidMount()}finally{Us(b)}else C.componentDidMount();else{var O=b.elementType===b.type?d.memoizedProps:oi(b.type,d.memoizedProps),B=d.memoizedState;if(b.type===b.elementType&&!xd&&(C.props!==b.memoizedProps&&f("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",He(b)||"instance"),C.state!==b.memoizedState&&f("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",He(b)||"instance")),b.mode&gi)try{ja(),C.componentDidUpdate(O,B,C.__reactInternalSnapshotBeforeUpdate)}finally{Us(b)}else C.componentDidUpdate(O,B,C.__reactInternalSnapshotBeforeUpdate)}var Z=b.updateQueue;Z!==null&&(b.type===b.elementType&&!xd&&(C.props!==b.memoizedProps&&f("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",He(b)||"instance"),C.state!==b.memoizedState&&f("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",He(b)||"instance")),iS(b,Z,C));break}case I:{var re=b.updateQueue;if(re!==null){var xe=null;if(b.child!==null)switch(b.child.tag){case j:xe=yo(b.child.stateNode);break;case H:xe=b.child.stateNode;break}iS(b,re,xe)}break}case j:{var Ce=b.stateNode;if(d===null&&b.flags&at){var Ze=b.type,ct=b.memoizedProps;So(Ce,Ze,ct,b)}break}case J:break;case q:break;case ve:{{var xt=b.memoizedProps,Ot=xt.onCommit,zt=xt.onRender,xn=b.stateNode.effectDuration,jn=Pu(),Tn=d===null?"mount":"update";NN()&&(Tn="nested-update"),typeof zt=="function"&&zt(b.memoizedProps.id,Tn,b.actualDuration,b.treeBaseDuration,b.actualStartTime,jn);{typeof Ot=="function"&&Ot(b.memoizedProps.id,Tn,xn,jn),F_(b);var Zi=b.return;e:for(;Zi!==null;){switch(Zi.tag){case I:var Yi=Zi.stateNode;Yi.effectDuration+=xn;break e;case ve:var rt=Zi.stateNode;rt.effectDuration+=xn;break e}Zi=Zi.return}}}break}case ce:{mb(c,b);break}case we:case ye:case Oe:case De:case st:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Wc||b.flags&Mn&&lv(b)}function tM(c){switch(c.tag){case V:case ge:case ee:{if(c.mode&gi)try{ja(),ap(c,c.return)}finally{Us(c)}else ap(c,c.return);break}case H:{var d=c.stateNode;typeof d.componentDidMount=="function"&&kD(c,c.return,d),QN(c,c.return);break}case j:{QN(c,c.return);break}}}function nM(c,d){var b=null;if(xa)for(var E=c;;){if(E.tag===j){if(b===null){b=E;var C=E.stateNode;d?yc(C):kl(E.stateNode,E.memoizedProps)}}else if(E.tag===J){if(b===null){var O=E.stateNode;d?bc(O):Bf(O,E.memoizedProps)}}else if(!((E.tag===De||E.tag===st)&&E.memoizedState!==null&&E!==c)){if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)return;for(;E.sibling===null;){if(E.return===null||E.return===c)return;b===E&&(b=null),E=E.return}b===E&&(b=null),E.sibling.return=E.return,E=E.sibling}}function lv(c){var d=c.ref;if(d!==null){var b=c.stateNode,E;switch(c.tag){case j:E=yo(b);break;default:E=b}if(typeof d=="function"){var C;if(c.mode&gi)try{ja(),C=d(E)}finally{Us(c)}else C=d(E);typeof C=="function"&&f("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",He(c))}else d.hasOwnProperty("current")||f("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",He(c)),d.current=E}}function hl(c){var d=c.ref;if(d!==null)if(typeof d=="function")if(c.mode&gi)try{ja(),d(null)}finally{Us(c)}else d(null);else d.current=null}function pb(c,d,b){switch(_h(d),d.tag){case V:case ge:case Y:case ee:{var E=d.updateQueue;if(E!==null){var C=E.lastEffect;if(C!==null){var O=C.next,B=O;do{var Z=B,re=Z.destroy,xe=Z.tag;re!==void 0&&((xe&Bc)!==Co?Yc(d,b,re):(xe&Sr)!==Co&&(ZT(d),d.mode&gi?(ja(),Yc(d,b,re),Us(d)):Yc(d,b,re),Yx())),B=B.next}while(B!==O)}}return}case H:{hb(d,b);var Ce=d.stateNode;typeof Ce.componentWillUnmount=="function"&&av(d,b,Ce);return}case j:{hb(d,b);return}case q:{xa?v_(c,d,b):zn&&Ga(d);return}case be:return;case Oe:return}}function uv(c,d,b){for(var E=d;;){if(pb(c,E,b),E.child!==null&&(!xa||E.tag!==q)){E.child.return=E,E=E.child;continue}if(E===d)return;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}}function Iu(c){var d=c.alternate;d!==null&&(d.return=null),c.return=null}function Vu(c){var d=c.alternate;d!==null&&(c.alternate=null,Vu(d));{if(c.child=null,c.deletions=null,c.sibling=null,c.tag===j){var b=c.stateNode;b!==null&&ur(b)}c.stateNode=null,c._debugOwner=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}}function Ga(c){if(zn){var d=c.stateNode,b=d.containerInfo,E=Je(b);yn(b,E)}}function Wa(c){if(zn){switch(c.tag){case H:case j:case J:return;case I:case q:{var d=c.stateNode,b=d.containerInfo,E=d.pendingChildren;yn(b,E);return}}throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}function m_(c){for(var d=c.return;d!==null;){if(Os(d))return d;d=d.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function Os(c){return c.tag===j||c.tag===I||c.tag===q}function Jl(c){var d=c;e:for(;;){for(;d.sibling===null;){if(d.return===null||Os(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==j&&d.tag!==J&&d.tag!==be;){if(d.flags&me||d.child===null||d.tag===q)continue e;d.child.return=d,d=d.child}if(!(d.flags&me))return d.stateNode}}function pl(c){if(xa){var d=m_(c);switch(d.tag){case j:{var b=d.stateNode;d.flags&Et&&(Vl(b),d.flags&=~Et);var E=Jl(c);qc(c,E,b);break}case I:case q:{var C=d.stateNode.containerInfo,O=Jl(c);cv(c,O,C);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function cv(c,d,b){var E=c.tag,C=E===j||E===J;if(C){var O=c.stateNode;d?ts(b,O,d):Il(b,O)}else if(E!==q){var B=c.child;if(B!==null){cv(B,d,b);for(var Z=B.sibling;Z!==null;)cv(Z,d,b),Z=Z.sibling}}}function qc(c,d,b){var E=c.tag,C=E===j||E===J;if(C){var O=c.stateNode;d?kf(b,O,d):Fl(b,O)}else if(E!==q){var B=c.child;if(B!==null){qc(B,d,b);for(var Z=B.sibling;Z!==null;)qc(Z,d,b),Z=Z.sibling}}}function v_(c,d,b){for(var E=d,C=!1,O,B;;){if(!C){var Z=E.return;e:for(;;){if(Z===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");var re=Z.stateNode;switch(Z.tag){case j:O=re,B=!1;break e;case I:O=re.containerInfo,B=!0;break e;case q:O=re.containerInfo,B=!0;break e}Z=Z.return}C=!0}if(E.tag===j||E.tag===J)uv(c,E,b),B?Sa(O,E.stateNode):_o(O,E.stateNode);else if(E.tag===be)B?yx(O,E.stateNode):NT(O,E.stateNode);else if(E.tag===q){if(E.child!==null){O=E.stateNode.containerInfo,B=!0,E.child.return=E,E=E.child;continue}}else if(pb(c,E,b),E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)return;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return,E.tag===q&&(C=!1)}E.sibling.return=E.return,E=E.sibling}}function sp(c,d,b){xa?v_(c,d,b):uv(c,d,b),Iu(d)}function op(c,d){if(!xa){switch(d.tag){case V:case ge:case Y:case ee:{if(ta(Bc|Hi,d,d.return),Do(Bc|Hi,d),d.mode&gi)try{ja(),ta(Sr|Hi,d,d.return)}finally{Us(d)}else ta(Sr|Hi,d,d.return);return}case ve:return;case ce:{ml(d),lp(d);return}case we:{lp(d);return}case I:{if(lr&&c!==null){var b=c.memoizedState;if(b.isDehydrated){var E=d.stateNode;TT(E.containerInfo)}}break}case De:case st:return}Wa(d);return}switch(d.tag){case V:case ge:case Y:case ee:{if(ta(Bc|Hi,d,d.return),Do(Bc|Hi,d),d.mode&gi)try{ja(),ta(Sr|Hi,d,d.return)}finally{Us(d)}else ta(Sr|Hi,d,d.return);return}case H:return;case j:{var C=d.stateNode;if(C!=null){var O=d.memoizedProps,B=c!==null?c.memoizedProps:O,Z=d.type,re=d.updateQueue;d.updateQueue=null,re!==null&&Vf(C,re,Z,B,O,d)}return}case J:{if(d.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var xe=d.stateNode,Ce=d.memoizedProps,Ze=c!==null?c.memoizedProps:Ce;If(xe,Ze,Ce);return}case I:{if(lr&&c!==null){var ct=c.memoizedState;if(ct.isDehydrated){var xt=d.stateNode;TT(xt.containerInfo)}}return}case ve:return;case ce:{ml(d),lp(d);return}case we:{lp(d);return}case ye:return}throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function ml(c){c.memoizedState}function mb(c,d){if(lr){var b=d.memoizedState;if(b===null){var E=d.alternate;if(E!==null){var C=E.memoizedState;if(C!==null){var O=C.dehydrated;O!==null&&pR(O)}}}}}function lp(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var b=c.stateNode;b===null&&(b=c.stateNode=new VD),d.forEach(function(E){var C=KD.bind(null,c,E);if(!b.has(E)){if(b.add(E),ol)if(rp!==null&&dl!==null)Zt(dl,rp);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");E.then(C,C)}})}}function iM(c){xa&&Vl(c.stateNode)}function rM(c,d,b){rp=b,dl=c,en=d,vb(c,b),rp=null,dl=null}function vb(c,d){for(;en!==null;){var b=en,E=b.deletions;if(E!==null)for(var C=0;C<E.length;C++){var O=E[C];try{sp(c,O,b)}catch(Z){_r(Z),Wi(O,b,Z)}}var B=b.child;(b.subtreeFlags&Pt)!==Ee&&B!==null?(Uo(B,b),en=B):aM(c,d)}}function aM(c,d){for(;en!==null;){var b=en;zr(b);try{zD(b,c,d)}catch(C){_r(C),Wi(b,b.return,C)}pa();var E=b.sibling;if(E!==null){Uo(E,b.return),en=E;return}en=b.return}}function zD(c,d,b){var E=c.flags;if(E&Et&&iM(c),E&Mn){var C=c.alternate;C!==null&&hl(C)}if(E&Ni)switch(c.tag){case ce:{var O=c.memoizedState,B=O!==null;if(B){var Z=c.alternate,re=Z!==null&&Z.memoizedState!==null;re||P_()}break}case De:{var xe=c.memoizedState,Ce=xe!==null,Ze=c.alternate,ct=Ze!==null&&Ze.memoizedState!==null,xt=c;xa&&nM(xt,Ce);{if(Ce&&!ct&&(xt.mode&Vi)!==On){en=xt;for(var Ot=xt.child;Ot!==null;)en=Ot,g_(Ot),Ot=Ot.sibling}break}}}var zt=E&(me|at|Un);switch(zt){case me:{pl(c),c.flags&=~me;break}case bt:{pl(c),c.flags&=~me;var xn=c.alternate;op(xn,c);break}case Un:{c.flags&=~Un;break}case Ji:{c.flags&=~Un;var jn=c.alternate;op(jn,c);break}case at:{var Tn=c.alternate;op(Tn,c);break}}}function $c(c,d,b){rp=b,dl=d,en=c,fv(c,d,b),rp=null,dl=null}function fv(c,d,b){for(var E=(c.mode&Vi)!==On;en!==null;){var C=en,O=C.child;if(C.tag===De&&E){var B=C.memoizedState!==null,Z=B||db;if(Z){vl(c,d,b);continue}else{var re=C.alternate,xe=re!==null&&re.memoizedState!==null,Ce=xe||Wc,Ze=db,ct=Wc;db=Z,Wc=Ce,Wc&&!ct&&(en=C,sM(C));for(var xt=O;xt!==null;)en=xt,fv(xt,d,b),xt=xt.sibling;en=C,db=Ze,Wc=ct,vl(c,d,b);continue}}(C.subtreeFlags&Bt)!==Ee&&O!==null?(Uo(O,C),en=O):vl(c,d,b)}}function vl(c,d,b){for(;en!==null;){var E=en;if((E.flags&Bt)!==Ee){var C=E.alternate;zr(E);try{BD(d,C,E,b)}catch(B){_r(B),Wi(E,E.return,B)}pa()}if(E===c){en=null;return}var O=E.sibling;if(O!==null){Uo(O,E.return),en=O;return}en=E.return}}function g_(c){for(;en!==null;){var d=en,b=d.child;switch(d.tag){case V:case ge:case Y:case ee:{if(d.mode&gi)try{ja(),ta(Sr,d,d.return)}finally{Us(d)}else ta(Sr,d,d.return);break}case H:{hb(d,d.return);var E=d.stateNode;typeof E.componentWillUnmount=="function"&&av(d,d.return,E);break}case j:{hb(d,d.return);break}case De:{var C=d.memoizedState!==null;if(C){gb(c);continue}break}}b!==null?(b.return=d,en=b):gb(c)}}function gb(c){for(;en!==null;){var d=en;if(d===c){en=null;return}var b=d.sibling;if(b!==null){b.return=d.return,en=b;return}en=d.return}}function sM(c){for(;en!==null;){var d=en,b=d.child;if(d.tag===De){var E=d.memoizedState!==null;if(E){oM(c);continue}}b!==null?(b.return=d,en=b):oM(c)}}function oM(c){for(;en!==null;){var d=en;zr(d);try{tM(d)}catch(E){_r(E),Wi(d,d.return,E)}if(pa(),d===c){en=null;return}var b=d.sibling;if(b!==null){b.return=d.return,en=b;return}en=d.return}}function lM(c,d){en=d,Kc(d,c)}function Kc(c,d){for(;en!==null;){var b=en,E=b.child;(b.subtreeFlags&rn)!==Ee&&E!==null?(Uo(E,b),en=E):up(c,d)}}function up(c,d){for(;en!==null;){var b=en;if((b.flags&bn)!==Ee){zr(b);try{cp(d,b)}catch(C){_r(C),Wi(b,b.return,C)}pa()}if(b===c){en=null;return}var E=b.sibling;if(E!==null){Uo(E,b.return),en=E;return}en=b.return}}function cp(c,d){switch(d.tag){case V:case ge:case ee:{if(d.mode&gi){nb();try{Do(ma|Hi,d)}finally{Kh(d)}}else Do(ma|Hi,d);break}}}function yb(c){en=c,bb()}function bb(){for(;en!==null;){var c=en,d=c.child;if((en.flags&We)!==Ee){var b=c.deletions;if(b!==null){for(var E=0;E<b.length;E++){var C=b[E];en=C,_d(C,c)}{var O=c.alternate;if(O!==null){var B=O.child;if(B!==null){O.child=null;do{var Z=B.sibling;B.sibling=null,B=Z}while(B!==null)}}}en=c}}(c.subtreeFlags&rn)!==Ee&&d!==null?(Uo(d,c),en=d):Lo()}}function Lo(){for(;en!==null;){var c=en;(c.flags&bn)!==Ee&&(zr(c),Po(c),pa());var d=c.sibling;if(d!==null){Uo(d,c.return),en=d;return}en=c.return}}function Po(c){switch(c.tag){case V:case ge:case ee:{c.mode&gi?(nb(),ta(ma|Hi,c,c.return),Kh(c)):ta(ma|Hi,c,c.return);break}}}function _d(c,d){for(;en!==null;){var b=en;zr(b),Bu(b,d),pa();var E=b.child;E!==null?(Uo(E,b),en=E):ku(c)}}function ku(c){for(;en!==null;){var d=en,b=d.sibling,E=d.return;if(Vu(d),d===c){en=null;return}if(b!==null){Uo(b,E),en=b;return}en=E}}function Bu(c,d){switch(c.tag){case V:case ge:case ee:{c.mode&gi?(nb(),ta(ma,c,d),Kh(c)):ta(ma,c,d);break}}}var uM=!1;function Uo(c,d){!uM&&c.return!==d&&(uM=!0,f("Internal React error: Return pointer is inconsistent with parent.")),c.return=d}function HD(c){switch(c.tag){case V:case ge:case ee:{try{Do(Sr|Hi,c)}catch(b){_r(b),Wi(c,c.return,b)}break}case H:{var d=c.stateNode;try{d.componentDidMount()}catch(b){_r(b),Wi(c,c.return,b)}break}}}function Ed(c){switch(c.tag){case V:case ge:case ee:{try{Do(ma|Hi,c)}catch(d){_r(d),Wi(c,c.return,d)}break}}}function cM(c){switch(c.tag){case V:case ge:case ee:{try{ta(Sr|Hi,c,c.return)}catch(b){_r(b),Wi(c,c.return,b)}break}case H:{var d=c.stateNode;typeof d.componentWillUnmount=="function"&&av(c,c.return,d);break}}}function y_(c){switch(c.tag){case V:case ge:case ee:try{ta(ma|Hi,c,c.return)}catch(d){_r(d),Wi(c,c.return,d)}}}var Td=0,xb=1,fp=2,Sb=3,_b=4;if(typeof Symbol=="function"&&Symbol.for){var gl=Symbol.for;Td=gl("selector.component"),xb=gl("selector.has_pseudo_class"),fp=gl("selector.role"),Sb=gl("selector.test_id"),_b=gl("selector.text")}function Ta(c){return{$$typeof:Td,value:c}}function Oo(c){return{$$typeof:xb,value:c}}function yl(c){return{$$typeof:fp,value:c}}function Nd(c){return{$$typeof:_b,value:c}}function Zc(c){return{$$typeof:Sb,value:c}}function b_(c){var d=gc(c);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw new Error("Invalid host root specified. Should be either a React container or a node with a testname attribute.");return d}else{var b=yr(c);if(b===null)throw new Error("Could not find React container within specified host subtree.");return b.stateNode.current}}function Eb(c,d){switch(d.$$typeof){case Td:if(c.type===d.value)return!0;break;case xb:return jD(c,d.value);case fp:if(c.tag===j){var b=c.stateNode;if(ua(b,d.value))return!0}break;case _b:if(c.tag===j||c.tag===J){var E=Ff(c);if(E!==null&&E.indexOf(d.value)>=0)return!0}break;case Sb:if(c.tag===j){var C=c.memoizedProps["data-testname"];if(typeof C=="string"&&C.toLowerCase()===d.value.toLowerCase())return!0}break;default:throw new Error("Invalid selector type specified.")}return!1}function x_(c){switch(c.$$typeof){case Td:var d=Be(c.value)||"Unknown";return"<"+d+">";case xb:return":has("+(x_(c)||"")+")";case fp:return'[role="'+c.value+'"]';case _b:return'"'+c.value+'"';case Sb:return'[data-testname="'+c.value+'"]';default:throw new Error("Invalid selector type specified.")}}function fM(c,d){for(var b=[],E=[c,0],C=0;C<E.length;){var O=E[C++],B=E[C++],Z=d[B];if(!(O.tag===j&&br(O))){for(;Z!=null&&Eb(O,Z);)B++,Z=d[B];if(B===d.length)b.push(O);else for(var re=O.child;re!==null;)E.push(re,B),re=re.sibling}}return b}function jD(c,d){for(var b=[c,0],E=0;E<b.length;){var C=b[E++],O=b[E++],B=d[O];if(!(C.tag===j&&br(C))){for(;B!=null&&Eb(C,B);)O++,B=d[O];if(O===d.length)return!0;for(var Z=C.child;Z!==null;)b.push(Z,O),Z=Z.sibling}}return!1}function dv(c,d){if(!Qa)throw new Error("Test selector API is not supported by this renderer.");for(var b=b_(c),E=fM(b,d),C=[],O=Array.from(E),B=0;B<O.length;){var Z=O[B++];if(Z.tag===j){if(br(Z))continue;C.push(Z.stateNode)}else for(var re=Z.child;re!==null;)O.push(re),re=re.sibling}return C}function dM(c,d){if(!Qa)throw new Error("Test selector API is not supported by this renderer.");for(var b=b_(c),E=0,C=[],O=[b,0],B=0;B<O.length;){var Z=O[B++],re=O[B++],xe=d[re];if(!(Z.tag===j&&br(Z))&&(Eb(Z,xe)&&(C.push(x_(xe)),re++,re>E&&(E=re)),re<d.length))for(var Ce=Z.child;Ce!==null;)O.push(Ce,re),Ce=Ce.sibling}if(E<d.length){for(var Ze=[],ct=E;ct<d.length;ct++)Ze.push(x_(d[ct]));return`findAllNodes was able to match part of the selector:
`+("  "+C.join(" > ")+`

`)+`No matching component was found for:
`+("  "+Ze.join(" > "))}return null}function S_(c,d){if(!Qa)throw new Error("Test selector API is not supported by this renderer.");for(var b=dv(c,d),E=[],C=0;C<b.length;C++)E.push(Bi(b[C]));for(var O=E.length-1;O>0;O--)for(var B=E[O],Z=B.x,re=Z+B.width,xe=B.y,Ce=xe+B.height,Ze=O-1;Ze>=0;Ze--)if(O!==Ze){var ct=E[Ze],xt=ct.x,Ot=xt+ct.width,zt=ct.y,xn=zt+ct.height;if(Z>=xt&&xe>=zt&&re<=Ot&&Ce<=xn){E.splice(O,1);break}else if(Z===xt&&B.width===ct.width&&!(xn<xe)&&!(zt>Ce)){zt>xe&&(ct.height+=zt-xe,ct.y=xe),xn<Ce&&(ct.height=Ce-zt),E.splice(O,1);break}else if(xe===zt&&B.height===ct.height&&!(Ot<Z)&&!(xt>re)){xt>Z&&(ct.width+=xt-Z,ct.x=Z),Ot<re&&(ct.width=re-xt),E.splice(O,1);break}}return E}function hM(c,d){if(!Qa)throw new Error("Test selector API is not supported by this renderer.");for(var b=b_(c),E=fM(b,d),C=Array.from(E),O=0;O<C.length;){var B=C[O++];if(!br(B)){if(B.tag===j){var Z=B.stateNode;if(Ks(Z))return!0}for(var re=B.child;re!==null;)C.push(re),re=re.sibling}}return!1}var hv=[];function __(){Qa&&hv.forEach(function(c){return c()})}function E_(c,d,b,E){if(!Qa)throw new Error("Test selector API is not supported by this renderer.");var C=dv(c,d),O=es(C,b,E),B=O.disconnect,Z=O.observe,re=O.unobserve,xe=function(){var Ce=dv(c,d);C.forEach(function(Ze){Ce.indexOf(Ze)<0&&re(Ze)}),Ce.forEach(function(Ze){C.indexOf(Ze)<0&&Z(Ze)})};return hv.push(xe),{disconnect:function(){var Ce=hv.indexOf(xe);Ce>=0&&hv.splice(Ce,1),B()}}}var T_=s.ReactCurrentActQueue;function GD(c){{var d=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,b=typeof jest<"u";return du&&b&&d!==!1}}function pM(){{var c=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!c&&T_.current!==null&&f("The current testing environment is not configured to support act(...)"),c}}var WD=Math.ceil,N_=s.ReactCurrentDispatcher,Tb=s.ReactCurrentOwner,Ki=s.ReactCurrentBatchConfig,bl=s.ReactCurrentActQueue,Ar=0,Jc=1,Na=2,ji=4,xl=0,pv=1,Md=2,Nb=3,cs=4,mM=5,zu=6,Vn=Ar,jr=null,Gi=null,hr=Ft,Fs=Ft,wd=Sc(Ft),Qi=xl,Qc=null,mv=Ft,Cd=Ft,dp=Ft,Ad=null,Ya=null,vv=0,M_=500,vM=1/0,gv=500;function Hu(){vM=fr()+gv}function yv(){return vM}var bv=!1,Mb=null,Sl=null,ef=!1,ju=null,xv=Ft,Sv=[],w_=50,tf=0,nf=null,C_=50,Rd=0,rf=Ei,_v=Ft;function Ev(){return jr}function Xa(){return(Vn&(Na|ji))!==Ar?fr():(rf!==Ei||(rf=fr()),rf)}function Ql(c){var d=c.mode;if((d&Vi)===On)return Yn;if((Vn&Na)!==Ar&&hr!==Ft)return qf(hr);var b=Em()!==Th;if(b){if(Ki.transition!==null){var E=Ki.transition;E._updatedFibers||(E._updatedFibers=new Set),E._updatedFibers.add(c)}return _v===kr&&(_v=rs()),_v}var C=sl();if(C!==kr)return C;var O=$o();return O}function A_(c){var d=c.mode;return(d&Vi)===On?Yn:kx()}function na(c,d,b){mp();var E=Gu(c,d);return E===null?null:(rl(E,d,b),(Vn&Na)!==Ft&&E===jr?JD(c):(ol&&jx(E,c,d),Ci(c),E===jr&&((Vn&Na)===Ar&&(Cd=Hn(Cd,d)),Qi===cs&&Dr(E,hr)),Gr(E,b),d===Yn&&Vn===Ar&&(c.mode&Vi)===On&&!bl.isBatchingLegacy&&(Hu(),Wl())),E)}function YD(c,d,b){var E=c.current;E.lanes=d,rl(c,d,b),Gr(c,b)}function Gu(c,d){c.lanes=Hn(c.lanes,d);var b=c.alternate;b!==null&&(b.lanes=Hn(b.lanes,d)),b===null&&(c.flags&(me|Un))!==Ee&&_l(c);for(var E=c,C=c.return;C!==null;)C.childLanes=Hn(C.childLanes,d),b=C.alternate,b!==null?b.childLanes=Hn(b.childLanes,d):(C.flags&(me|Un))!==Ee&&_l(c),E=C,C=C.return;if(E.tag===I){var O=E.stateNode;return O}else return null}function Rr(c,d){return jr!==null&&(c.mode&Vi)!==On&&(Vn&Na)===Ar}function Gr(c,d){var b=c.callbackNode;xu(c,d);var E=Ec(c,c===jr?hr:Ft);if(E===Ft){b!==null&&Ud(b),c.callbackNode=null,c.callbackPriority=kr;return}var C=Mc(E),O=c.callbackPriority;if(O===C&&!(bl.current!==null&&b!==Pd)){b==null&&O!==Yn&&f("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}b!=null&&Ud(b);var B;if(C===Yn)c.tag===mh?(bl.isBatchingLegacy!==null&&(bl.didScheduleLegacyUpdate=!0),Eh(gM.bind(null,c))):Dn(gM.bind(null,c)),$s?bl.current!==null?bl.current.push(Va):Ko(function(){Vn===Ar&&Va()}):vp(Kr,Va),B=null;else{var Z;switch(wc(E)){case al:Z=Kr;break;case ym:Z=Qt;break;case xh:Z=as;break;case fy:Z=Eo;break;default:Z=as;break}B=vp(Z,wb.bind(null,c))}c.callbackPriority=C,c.callbackNode=B}function wb(c,d){if(qm(),rf=Ei,_v=Ft,(Vn&(Na|ji))!==Ar)throw new Error("Should not already be working.");var b=c.callbackNode,E=fs();if(E&&c.callbackNode!==b)return null;var C=Ec(c,c===jr?hr:Ft);if(C===Ft)return null;var O=!cy(c,C)&&!ER(c,C)&&!d,B=O?sf(c,C):Mv(c,C);if(B!==xl){if(B===Md){var Z=Su(c);Z!==Ft&&(C=Z,B=R_(c,Z))}if(B===pv){var re=Qc;throw af(c,Ft),Dr(c,C),Gr(c,fr()),re}if(B===zu)Dr(c,C);else{var xe=!cy(c,C),Ce=c.current.alternate;if(xe&&!qD(Ce)){if(B=Mv(c,C),B===Md){var Ze=Su(c);Ze!==Ft&&(C=Ze,B=R_(c,Ze))}if(B===pv){var ct=Qc;throw af(c,Ft),Dr(c,C),Gr(c,fr()),ct}}c.finishedWork=Ce,c.finishedLanes=C,XD(c,B,C)}}return Gr(c,fr()),c.callbackNode===b?wb.bind(null,c):null}function R_(c,d){var b=Ad;if(ul(c)){var E=af(c,d);E.flags|=ln,vu(c.containerInfo)}var C=Mv(c,d);if(C!==Md){var O=Ya;Ya=b,O!==null&&D_(O)}return C}function D_(c){Ya===null?Ya=c:Ya.push.apply(Ya,c)}function XD(c,d,b){switch(d){case xl:case pv:throw new Error("Root did not complete. This is a bug in React.");case Md:{of(c,Ya);break}case Nb:{if(Dr(c,b),Nc(b)&&!uf()){var E=vv+M_-fr();if(E>10){var C=Ec(c,Ft);if(C!==Ft)break;var O=c.suspendedLanes;if(!_u(O,b)){Xa(),zx(c,O);break}c.timeoutHandle=Of(of.bind(null,c,Ya),E);break}}of(c,Ya);break}case cs:{if(Dr(c,b),uy(b))break;if(!uf()){var B=Vx(c,b),Z=B,re=fr()-Z,xe=lf(re)-re;if(xe>10){c.timeoutHandle=Of(of.bind(null,c,Ya),xe);break}}of(c,Ya);break}case mM:{of(c,Ya);break}default:throw new Error("Unknown root exit status.")}}function qD(c){for(var d=c;;){if(d.flags&Se){var b=d.updateQueue;if(b!==null){var E=b.stores;if(E!==null)for(var C=0;C<E.length;C++){var O=E[C],B=O.getSnapshot,Z=O.value;try{if(!To(B(),Z))return!1}catch{return!1}}}}var re=d.child;if(d.subtreeFlags&Se&&re!==null){re.return=d,d=re;continue}if(d===c)return!0;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}return!0}function Dr(c,d){d=yh(d,dp),d=yh(d,Cd),WT(c,d)}function gM(c){if(tb(),(Vn&(Na|ji))!==Ar)throw new Error("Should not already be working.");fs();var d=Ec(c,Ft);if(!Nr(d,Yn))return Gr(c,fr()),null;var b=Mv(c,d);if(c.tag!==mh&&b===Md){var E=Su(c);E!==Ft&&(d=E,b=R_(c,E))}if(b===pv){var C=Qc;throw af(c,Ft),Dr(c,d),Gr(c,fr()),C}if(b===zu)throw new Error("Root did not complete. This is a bug in React.");var O=c.current.alternate;return c.finishedWork=O,c.finishedLanes=d,of(c,Ya),Gr(c,fr()),null}function Cb(c,d){d!==Ft&&(Hx(c,Hn(d,Yn)),Gr(c,fr()),(Vn&(Na|ji))===Ar&&(Hu(),Va()))}function yM(c){var d=sl(),b=Ki.transition;try{return Ki.transition=null,fa(xh),c()}finally{fa(d),Ki.transition=b}}function bM(c,d){var b=Vn;Vn|=Jc;try{return c(d)}finally{Vn=b,Vn===Ar&&!bl.isBatchingLegacy&&(Hu(),Wl())}}function Ab(c,d,b,E,C){var O=sl(),B=Ki.transition;try{return Ki.transition=null,fa(al),c(d,b,E,C)}finally{fa(O),Ki.transition=B,Vn===Ar&&Hu()}}function hp(c){ju!==null&&ju.tag===mh&&(Vn&(Na|ji))===Ar&&fs();var d=Vn;Vn|=Jc;var b=Ki.transition,E=sl();try{return Ki.transition=null,fa(al),c?c():void 0}finally{fa(E),Ki.transition=b,Vn=d,(Vn&(Na|ji))===Ar&&Va()}}function Rb(){return(Vn&(Na|ji))!==Ar}function L_(c){var d=Vn;Vn|=Jc;var b=Ki.transition,E=sl();try{Ki.transition=null,fa(al),c()}finally{fa(E),Ki.transition=b,Vn=d,Vn===Ar&&(Hu(),Va())}}function Dd(c,d){_a(wd,Fs,c),Fs=Hn(Fs,d)}function Tv(c){Fs=wd.current,Fa(wd,c)}function af(c,d){c.finishedWork=null,c.finishedLanes=Ft;var b=c.timeoutHandle;if(b!==qo&&(c.timeoutHandle=qo,qs(b)),Gi!==null)for(var E=Gi.return;E!==null;){var C=E.alternate;f_(C,E),E=E.return}jr=c;var O=df(c.current,null);return Gi=O,hr=Fs=d,Qi=xl,Qc=null,mv=Ft,Cd=Ft,dp=Ft,Ad=null,Ya=null,XR(),eo.discardPendingWarnings(),O}function eu(c,d){do{var b=Gi;try{if(gy(),RS(),pa(),Tb.current=null,b===null||b.return===null){Qi=pv,Qc=d,Gi=null;return}if(U&&b.mode&gi&&yd(b,!0),L)if($f(),d!==null&&typeof d=="object"&&typeof d.then=="function"){var E=d;JT(b,E,hr)}else BR(b,d,hr);mD(c,b.return,b,d,hr),Rv(b)}catch(C){d=C,Gi===b&&b!==null?(b=b.return,Gi=b):b=Gi;continue}return}while(!0)}function Wu(){var c=N_.current;return N_.current=$y,c===null?$y:c}function Nv(c){N_.current=c}function P_(){vv=fr()}function Db(c){mv=Hn(c,mv)}function Lb(){Qi===xl&&(Qi=Nb)}function U_(){(Qi===xl||Qi===Nb||Qi===Md)&&(Qi=cs),jr!==null&&(il(mv)||il(Cd))&&Dr(jr,hr)}function xM(c){Qi!==cs&&(Qi=Md),Ad===null?Ad=[c]:Ad.push(c)}function Pb(){return Qi===xl}function Mv(c,d){var b=Vn;Vn|=Na;var E=Wu();if(jr!==c||hr!==d){if(ol){var C=c.memoizedUpdaters;C.size>0&&(Zt(c,hr),C.clear()),Gx(c,d)}af(c,d)}ni(d);do try{wv();break}catch(O){eu(c,O)}while(!0);if(gy(),Vn=b,Nv(E),Gi!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return dr(),jr=null,hr=Ft,Qi}function wv(){for(;Gi!==null;)Av(Gi)}function sf(c,d){var b=Vn;Vn|=Na;var E=Wu();if(jr!==c||hr!==d){if(ol){var C=c.memoizedUpdaters;C.size>0&&(Zt(c,hr),C.clear()),Gx(c,d)}Hu(),af(c,d)}ni(d);do try{Cv();break}catch(O){eu(c,O)}while(!0);return gy(),Nv(E),Vn=b,Gi!==null?(wi(),xl):(dr(),jr=null,hr=Ft,Qi)}function Cv(){for(;Gi!==null&&!MR();)Av(Gi)}function Av(c){var d=c.alternate;zr(c);var b;(c.mode&gi)!==On?(Uu(c),b=Lr(d,c,Fs),yd(c,!0)):b=Lr(d,c,Fs),pa(),c.memoizedProps=c.pendingProps,b===null?Rv(c):Gi=b,Tb.current=null}function Rv(c){var d=c;do{var b=d.alternate,E=d.return;if((d.flags&de)===Ee){zr(d);var C=void 0;if((d.mode&gi)===On?C=DN(b,d,Fs):(Uu(d),C=DN(b,d,Fs),yd(d,!1)),pa(),C!==null){Gi=C;return}}else{var O=UD(b,d);if(O!==null){O.flags&=Ht,Gi=O;return}if((d.mode&gi)!==On){yd(d,!1);for(var B=d.actualDuration,Z=d.child;Z!==null;)B+=Z.actualDuration,Z=Z.sibling;d.actualDuration=B}if(E!==null)E.flags|=de,E.subtreeFlags=Ee,E.deletions=null;else{Qi=zu,Gi=null;return}}var re=d.sibling;if(re!==null){Gi=re;return}d=E,Gi=d}while(d!==null);Qi===xl&&(Qi=mM)}function of(c,d){var b=sl(),E=Ki.transition;try{Ki.transition=null,fa(al),O_(c,d,b)}finally{Ki.transition=E,fa(b)}return null}function O_(c,d,b){do fs();while(ju!==null);if(ZD(),(Vn&(Na|ji))!==Ar)throw new Error("Should not already be working.");var E=c.finishedWork,C=c.finishedLanes;if(UR(C),E===null)return $T(),null;if(C===Ft&&f("root.finishedLanes should not be empty during a commit. This is a bug in React."),c.finishedWork=null,c.finishedLanes=Ft,E===c.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");c.callbackNode=null,c.callbackPriority=kr;var O=Hn(E.lanes,E.childLanes);TR(c,O),c===jr&&(jr=null,Gi=null,hr=Ft),((E.subtreeFlags&rn)!==Ee||(E.flags&rn)!==Ee)&&(ef||(ef=!0,vp(as,function(){return fs(),null})));var B=(E.subtreeFlags&(qe|Pt|Bt|rn))!==Ee,Z=(E.flags&(qe|Pt|Bt|rn))!==Ee;if(B||Z){var re=Ki.transition;Ki.transition=null;var xe=sl();fa(al);var Ce=Vn;Vn|=ji,Tb.current=null,eM(c,E),YS(),rM(c,E,C),ir(c.containerInfo),c.current=E,zR(C),$c(E,c,C),HR(),wR(),Vn=Ce,fa(xe),Ki.transition=re}else c.current=E,YS();var Ze=ef;if(ef&&(ef=!1,ju=c,xv=C),O=c.pendingLanes,O===Ft&&(Sl=null),Ze||Dv(c.current,!1),qT(E.stateNode,b),ol&&c.memoizedUpdaters.clear(),__(),Gr(c,fr()),d!==null)for(var ct=c.onRecoverableError,xt=0;xt<d.length;xt++){var Ot=d[xt];ct(Ot)}if(bv){bv=!1;var zt=Mb;throw Mb=null,zt}return Nr(xv,Yn)&&c.tag!==mh&&fs(),O=c.pendingLanes,Nr(O,Yn)?(Ps(),c===nf?tf++:(tf=0,nf=c)):tf=0,Va(),$T(),null}function fs(){if(ju!==null){var c=wc(xv),d=dy(xh,c),b=Ki.transition,E=sl();try{return Ki.transition=null,fa(d),SM()}finally{fa(E),Ki.transition=b}}return!1}function F_(c){Sv.push(c),ef||(ef=!0,vp(as,function(){return fs(),null}))}function SM(){if(ju===null)return!1;var c=ju,d=xv;if(ju=null,xv=Ft,(Vn&(Na|ji))!==Ar)throw new Error("Cannot flush passive effects while already rendering.");Xx(d);var b=Vn;Vn|=ji,yb(c.current),lM(c,c.current);{var E=Sv;Sv=[];for(var C=0;C<E.length;C++){var O=E[C];p_(c,O)}}Sn(),Dv(c.current,!0),Vn=b,Va(),Rd=ju===null?0:Rd+1,xm(c);{var B=c.current.stateNode;B.effectDuration=0,B.passiveEffectDuration=0}return!0}function Ub(c){return Sl!==null&&Sl.has(c)}function $D(c){Sl===null?Sl=new Set([c]):Sl.add(c)}function _M(c){bv||(bv=!0,Mb=c)}var EM=_M;function pp(c,d,b){var E=$m(b,d),C=Km(c,E,Yn);Oc(c,C);var O=Xa(),B=Gu(c,Yn);B!==null&&(rl(B,Yn,O),Gr(B,O))}function Wi(c,d,b){if(c.tag===I){pp(c,c,b);return}var E=null;for(E=d;E!==null;){if(E.tag===I){pp(E,c,b);return}else if(E.tag===H){var C=E.type,O=E.stateNode;if(typeof C.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&!Ub(O)){var B=$m(b,c),Z=Jh(E,B,Yn);Oc(E,Z);var re=Xa(),xe=Gu(E,Yn);xe!==null&&(rl(xe,Yn,re),Gr(xe,re));return}}E=E.return}f(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,b)}function I_(c,d,b){var E=c.pingCache;E!==null&&E.delete(d);var C=Xa();zx(c,b),ia(c),jr===c&&_u(hr,b)&&(Qi===cs||Qi===Nb&&Nc(hr)&&fr()-vv<M_?af(c,Ft):dp=Hn(dp,b)),Gr(c,C)}function Ld(c,d){d===kr&&(d=A_(c));var b=Xa(),E=Gu(c,d);E!==null&&(rl(E,d,b),Gr(E,b))}function V_(c){var d=c.memoizedState,b=kr;d!==null&&(b=d.retryLane),Ld(c,b)}function KD(c,d){var b=kr,E;switch(c.tag){case ce:E=c.stateNode;var C=c.memoizedState;C!==null&&(b=C.retryLane);break;case we:E=c.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}E!==null&&E.delete(d),Ld(c,b)}function lf(c){return c<120?120:c<480?480:c<1080?1080:c<1920?1920:c<3e3?3e3:c<4320?4320:WD(c/1960)*1960}function mp(){if(tf>w_)throw tf=0,nf=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Rd>C_&&(Rd=0,f("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function ZD(){eo.flushLegacyContextWarning(),eo.flushPendingUnsafeLifecycleWarnings()}function Dv(c,d){zr(c),Ma(c,Re,cM),d&&Ma(c,Xe,y_),Ma(c,Re,HD),d&&Ma(c,Xe,Ed),pa()}function Ma(c,d,b){for(var E=c,C=null;E!==null;){var O=E.subtreeFlags&d;E!==C&&E.child!==null&&O!==Ee?E=E.child:((E.flags&d)!==Ee&&b(E),E.sibling!==null?E=E.sibling:E=C=E.return)}}var Er=null;function _l(c){{if((Vn&Na)!==Ar||!(c.mode&Vi))return;var d=c.tag;if(d!==P&&d!==I&&d!==H&&d!==V&&d!==ge&&d!==Y&&d!==ee)return;var b=He(c)||"ReactComponent";if(Er!==null){if(Er.has(b))return;Er.add(b)}else Er=new Set([b]);var E=As;try{zr(c),f("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{E?zr(c):pa()}}}var Lr;{var wa=null;Lr=function(c,d,b){var E=Iv(wa,d);try{return XN(c,d,b)}catch(O){if(O!==null&&typeof O=="object"&&typeof O.then=="function")throw O;if(gy(),RS(),f_(c,d),Iv(d,E),d.mode&gi&&Uu(d),KN(null,XN,null,c,d,b),ID()){var C=ZN();typeof C=="object"&&C!==null&&C._suppressLogging&&typeof O=="object"&&O!==null&&!O._suppressLogging&&(O._suppressLogging=!0)}throw O}}}var Ob=!1,Lv;Lv=new Set;function JD(c){if(Kf&&!xN())switch(c.tag){case V:case ge:case ee:{var d=Gi&&He(Gi)||"Unknown",b=d;if(!Lv.has(b)){Lv.add(b);var E=He(c)||"Unknown";f("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",E,d,d)}break}case H:{Ob||(f("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Ob=!0);break}}}function Zt(c,d){if(ol){var b=c.memoizedUpdaters;b.forEach(function(E){jx(c,E,d)})}}var Pd={};function vp(c,d){{var b=bl.current;return b!==null?(b.push(d),Pd):XT(c,d)}}function Ud(c){if(c!==Pd)return Wx(c)}function uf(){return bl.current!==null}function Ci(c){{if(c.mode&Vi){if(!pM())return}else if(!GD()||Vn!==Ar||c.tag!==V&&c.tag!==ge&&c.tag!==ee)return;if(bl.current===null){var d=As;try{zr(c),f(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,He(c))}finally{d?zr(c):pa()}}}}function ia(c){c.tag!==mh&&pM()&&bl.current===null&&f(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}var Ai=null,Yu=null,Pv=function(c){Ai=c};function tu(c){{if(Ai===null)return c;var d=Ai(c);return d===void 0?c:d.current}}function k_(c){return tu(c)}function B_(c){{if(Ai===null)return c;var d=Ai(c);if(d===void 0){if(c!=null&&typeof c.render=="function"){var b=tu(c.render);if(c.render!==b){var E={$$typeof:it,render:b};return c.displayName!==void 0&&(E.displayName=c.displayName),E}}return c}return d.current}}function At(c,d){{if(Ai===null)return!1;var b=c.elementType,E=d.type,C=!1,O=typeof E=="object"&&E!==null?E.$$typeof:null;switch(c.tag){case H:{typeof E=="function"&&(C=!0);break}case V:{(typeof E=="function"||O===Q)&&(C=!0);break}case ge:{(O===it||O===Q)&&(C=!0);break}case Y:case ee:{(O===Lt||O===Q)&&(C=!0);break}default:return!1}if(C){var B=Ai(b);if(B!==void 0&&B===Ai(E))return!0}return!1}}function ao(c){{if(Ai===null||typeof WeakSet!="function")return;Yu===null&&(Yu=new WeakSet),Yu.add(c)}}var cf=function(c,d){{if(Ai===null)return;var b=d.staleFamilies,E=d.updatedFamilies;fs(),hp(function(){mi(c.current,E,b)})}},z_=function(c,d){{if(c.context!==ns)return;fs(),hp(function(){jb(d,c,null,null)})}};function mi(c,d,b){{var E=c.alternate,C=c.child,O=c.sibling,B=c.tag,Z=c.type,re=null;switch(B){case V:case ee:case H:re=Z;break;case ge:re=Z.render;break}if(Ai===null)throw new Error("Expected resolveFamily to be set during hot reload.");var xe=!1,Ce=!1;if(re!==null){var Ze=Ai(re);Ze!==void 0&&(b.has(Ze)?Ce=!0:d.has(Ze)&&(B===H?Ce=!0:xe=!0))}Yu!==null&&(Yu.has(c)||E!==null&&Yu.has(E))&&(Ce=!0),Ce&&(c._debugNeedsRemount=!0),(Ce||xe)&&na(c,Yn,Ei),C!==null&&!Ce&&mi(C,d,b),O!==null&&mi(O,d,b)}}var $t=function(c,d){{var b=new Set,E=new Set(d.map(function(C){return C.current}));return ff(c.current,E,b),b}};function ff(c,d,b){{var E=c.child,C=c.sibling,O=c.tag,B=c.type,Z=null;switch(O){case V:case ee:case H:Z=B;break;case ge:Z=B.render;break}var re=!1;Z!==null&&d.has(Z)&&(re=!0),re?QD(c,b):E!==null&&ff(E,d,b),C!==null&&ff(C,d,b)}}function QD(c,d){{var b=qa(c,d);if(b)return;for(var E=c;;){switch(E.tag){case j:d.add(E.stateNode);return;case q:d.add(E.stateNode.containerInfo);return;case I:d.add(E.stateNode.containerInfo);return}if(E.return===null)throw new Error("Expected to reach root first.");E=E.return}}}function qa(c,d){for(var b=c,E=!1;;){if(b.tag===j)E=!0,d.add(b.stateNode);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===c)return E;for(;b.sibling===null;){if(b.return===null||b.return===c)return E;b=b.return}b.sibling.return=b.return,b=b.sibling}return!1}var Uv;{Uv=!1;try{var Od=Object.preventExtensions({})}catch{Uv=!0}}function gp(c,d,b,E){this.tag=c,this.key=b,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=d,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=E,this.flags=Ee,this.subtreeFlags=Ee,this.deletions=null,this.lanes=Ft,this.childLanes=Ft,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!Uv&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var Is=function(c,d,b,E){return new gp(c,d,b,E)};function Fb(c){var d=c.prototype;return!!(d&&d.isReactComponent)}function nu(c){return typeof c=="function"&&!Fb(c)&&c.defaultProps===void 0}function Fo(c){if(typeof c=="function")return Fb(c)?H:V;if(c!=null){var d=c.$$typeof;if(d===it)return ge;if(d===Lt)return Y}return P}function df(c,d){var b=c.alternate;b===null?(b=Is(c.tag,d,c.key,c.mode),b.elementType=c.elementType,b.type=c.type,b.stateNode=c.stateNode,b._debugSource=c._debugSource,b._debugOwner=c._debugOwner,b._debugHookTypes=c._debugHookTypes,b.alternate=c,c.alternate=b):(b.pendingProps=d,b.type=c.type,b.flags=Ee,b.subtreeFlags=Ee,b.deletions=null,b.actualDuration=0,b.actualStartTime=-1),b.flags=c.flags&Tt,b.childLanes=c.childLanes,b.lanes=c.lanes,b.child=c.child,b.memoizedProps=c.memoizedProps,b.memoizedState=c.memoizedState,b.updateQueue=c.updateQueue;var E=c.dependencies;switch(b.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},b.sibling=c.sibling,b.index=c.index,b.ref=c.ref,b.selfBaseDuration=c.selfBaseDuration,b.treeBaseDuration=c.treeBaseDuration,b._debugNeedsRemount=c._debugNeedsRemount,b.tag){case P:case V:case ee:b.type=tu(c.type);break;case H:b.type=k_(c.type);break;case ge:b.type=B_(c.type);break}return b}function H_(c,d){c.flags&=Tt|me;var b=c.alternate;if(b===null)c.childLanes=Ft,c.lanes=d,c.child=null,c.subtreeFlags=Ee,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null,c.selfBaseDuration=0,c.treeBaseDuration=0;else{c.childLanes=b.childLanes,c.lanes=b.lanes,c.child=b.child,c.subtreeFlags=Ee,c.deletions=null,c.memoizedProps=b.memoizedProps,c.memoizedState=b.memoizedState,c.updateQueue=b.updateQueue,c.type=b.type;var E=b.dependencies;c.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},c.selfBaseDuration=b.selfBaseDuration,c.treeBaseDuration=b.treeBaseDuration}return c}function j_(c,d,b){var E;return c===HT?(E=Vi,d===!0&&(E|=xr,E|=Cs)):E=On,ol&&(E|=gi),Is(I,null,null,E)}function Ov(c,d,b,E,C,O){var B=P,Z=c;if(typeof c=="function")Fb(c)?(B=H,Z=k_(Z)):Z=tu(Z);else if(typeof c=="string")B=j;else e:switch(c){case Le:return Fd(b.children,C,O,d);case je:B=se,C|=xr,(C&Vi)!==On&&(C|=Cs);break;case Ve:return Z3(b,C,O,d);case vt:return G_(b,C,O,d);case Ye:return Ib(b,C,O,d);case ut:return W_(b,C,O,d);case Ue:case K:case Qe:case Nt:case Ne:default:{if(typeof c=="object"&&c!==null)switch(c.$$typeof){case ft:B=ae;break e;case Ge:B=te;break e;case it:B=ge,Z=B_(Z);break e;case Lt:B=Y;break e;case Q:B=le,Z=null;break e}var re="";{(c===void 0||typeof c=="object"&&c!==null&&Object.keys(c).length===0)&&(re+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var xe=E?He(E):null;xe&&(re+=`

Check the render method of \``+xe+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(c==null?c:typeof c)+"."+re))}}var Ce=Is(B,b,d,C);return Ce.elementType=c,Ce.type=Z,Ce.lanes=O,Ce._debugOwner=E,Ce}function Fv(c,d,b){var E=null;E=c._owner;var C=c.type,O=c.key,B=c.props,Z=Ov(C,O,B,E,d,b);return Z._debugSource=c._source,Z._debugOwner=c._owner,Z}function Fd(c,d,b,E){var C=Is(W,c,E,d);return C.lanes=b,C}function Z3(c,d,b,E){typeof c.id!="string"&&f('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof c.id);var C=Is(ve,c,E,d|gi);return C.elementType=Ve,C.lanes=b,C.stateNode={effectDuration:0,passiveEffectDuration:0},C}function G_(c,d,b,E){var C=Is(ce,c,E,d);return C.elementType=vt,C.lanes=b,C}function Ib(c,d,b,E){var C=Is(we,c,E,d);return C.elementType=Ye,C.lanes=b,C}function W_(c,d,b,E){var C=Is(De,c,E,d);C.elementType=ut,C.lanes=b;var O={};return C.stateNode=O,C}function Vb(c,d,b){var E=Is(J,c,null,d);return E.lanes=b,E}function TM(){var c=Is(j,null,null,On);return c.elementType="DELETED",c}function NM(c){var d=Is(be,null,null,On);return d.stateNode=c,d}function kb(c,d,b){var E=c.children!==null?c.children:[],C=Is(q,E,c.key,d);return C.lanes=b,C.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},C}function Iv(c,d){return c===null&&(c=Is(P,null,null,On)),c.tag=d.tag,c.key=d.key,c.elementType=d.elementType,c.type=d.type,c.stateNode=d.stateNode,c.return=d.return,c.child=d.child,c.sibling=d.sibling,c.index=d.index,c.ref=d.ref,c.pendingProps=d.pendingProps,c.memoizedProps=d.memoizedProps,c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.dependencies=d.dependencies,c.mode=d.mode,c.flags=d.flags,c.subtreeFlags=d.subtreeFlags,c.deletions=d.deletions,c.lanes=d.lanes,c.childLanes=d.childLanes,c.alternate=d.alternate,c.actualDuration=d.actualDuration,c.actualStartTime=d.actualStartTime,c.selfBaseDuration=d.selfBaseDuration,c.treeBaseDuration=d.treeBaseDuration,c._debugSource=d._debugSource,c._debugOwner=d._debugOwner,c._debugNeedsRemount=d._debugNeedsRemount,c._debugHookTypes=d._debugHookTypes,c}function Y_(c,d,b,E,C){this.tag=d,this.containerInfo=c,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=qo,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=kr,this.eventTimes=Bx(Ft),this.expirationTimes=Bx(Ei),this.pendingLanes=Ft,this.suspendedLanes=Ft,this.pingedLanes=Ft,this.expiredLanes=Ft,this.mutableReadLanes=Ft,this.finishedLanes=Ft,this.entangledLanes=Ft,this.entanglements=Bx(Ft),this.identifierPrefix=E,this.onRecoverableError=C,lr&&(this.mutableSourceEagerHydrationData=null),this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var O=this.pendingUpdatersLaneMap=[],B=0;B<Rx;B++)O.push(new Set)}switch(d){case HT:this._debugRootType=b?"hydrateRoot()":"createRoot()";break;case mh:this._debugRootType=b?"hydrate()":"render()";break}}function Bb(c,d,b,E,C,O,B,Z,re,xe){var Ce=new Y_(c,d,b,Z,re),Ze=j_(d,O);Ce.current=Ze,Ze.stateNode=Ce;{var ct={element:E,isDehydrated:b,cache:null,transitions:null};Ze.memoizedState=ct}return Ah(Ze),Ce}var Vv="18.0.0-fc46dba67-20220329";function X_(c,d,b){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return to(E),{$$typeof:$e,key:E==null?null:""+E,children:c,containerInfo:d,implementation:b}}var yp,Id;yp=!1,Id={};function kv(c){if(!c)return ns;var d=y(c),b=xR(d);if(d.tag===H){var E=d.type;if(zl(E))return Cx(d,E,b)}return b}function zb(c){var d=y(c);if(d===void 0){if(typeof c.render=="function")throw new Error("Unable to find node on an unmounted component.");var b=Object.keys(c).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+b)}var E=vr(d);return E===null?null:E.stateNode}function Bv(c,d){{var b=y(c);if(b===void 0){if(typeof c.render=="function")throw new Error("Unable to find node on an unmounted component.");var E=Object.keys(c).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+E)}var C=vr(b);if(C===null)return null;if(C.mode&xr){var O=He(b)||"Component";if(!Id[O]){Id[O]=!0;var B=As;try{zr(C),b.mode&xr?f("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",d,d,O):f("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",d,d,O)}finally{B?zr(B):pa()}}}return C.stateNode}}function q_(c,d,b,E,C,O,B,Z){var re=!1,xe=null;return Bb(c,d,re,xe,b,E,C,O,B)}function Hb(c,d,b,E,C,O,B,Z,re,xe){var Ce=!0,Ze=Bb(b,E,Ce,c,C,O,B,Z,re);Ze.context=kv(null);var ct=Ze.current,xt=Xa(),Ot=Ql(ct),zt=Uc(xt,Ot);return zt.callback=d??null,Oc(ct,zt),YD(Ze,Ot,xt),Ze}function jb(c,d,b,E){DR(d,c);var C=d.current,O=Xa(),B=Ql(C);Gl(B);var Z=kv(b);d.context===null?d.context=Z:d.pendingContext=Z,Kf&&As!==null&&!yp&&(yp=!0,f(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,He(As)||"Unknown"));var re=Uc(O,B);re.payload={element:c},E=E===void 0?null:E,E!==null&&(typeof E!="function"&&f("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",E),re.callback=E),Oc(C,re);var xe=na(C,B,O);return xe!==null&&Rh(xe,C,B),B}function Gb(c){var d=c.current;if(!d.child)return null;switch(d.child.tag){case j:return yo(d.child.stateNode);default:return d.child.stateNode}}function MM(c){switch(c.tag){case I:var d=c.stateNode;if(ul(d)){var b=Tc(d);Cb(d,b)}break;case ce:var E=Xa();hp(function(){return na(c,Yn,E)});var C=Yn;bp(c,C);break}}function Wb(c,d){var b=c.memoizedState;b!==null&&b.dehydrated!==null&&(b.retryLane=Eu(b.retryLane,d))}function bp(c,d){Wb(c,d);var b=c.alternate;b&&Wb(b,d)}function e2(c){if(c.tag===ce){var d=Xa(),b=mm;na(c,b,d),bp(c,b)}}function Yb(c){if(c.tag===ce){var d=Xa(),b=Ql(c);na(c,b,d),bp(c,b)}}function $_(c){var d=Fn(c);return d===null?null:d.stateNode}var zv=function(c){return null};function Xb(c){return zv(c)}var Hv=function(c){return!1};function qb(c){return Hv(c)}var K_=null,Z_=null,J_=null,wM=null,$b=null,Q_=null,eE=null,tE=null,CM=null;{var Kb=function(c,d,b){var E=d[b],C=Pi(c)?c.slice():v({},c);return b+1===d.length?(Pi(C)?C.splice(E,1):delete C[E],C):(C[E]=Kb(c[E],d,b+1),C)},jv=function(c,d){return Kb(c,d,0)},AM=function(c,d,b,E){var C=d[E],O=Pi(c)?c.slice():v({},c);if(E+1===d.length){var B=b[E];O[B]=O[C],Pi(O)?O.splice(C,1):delete O[C]}else O[C]=AM(c[C],d,b,E+1);return O},RM=function(c,d,b){if(d.length!==b.length){h("copyWithRename() expects paths of the same length");return}else for(var E=0;E<b.length-1;E++)if(d[E]!==b[E]){h("copyWithRename() expects paths to be the same except for the deepest key");return}return AM(c,d,b,0)},nE=function(c,d,b,E){if(b>=d.length)return E;var C=d[b],O=Pi(c)?c.slice():v({},c);return O[C]=nE(c[C],d,b+1,E),O},iE=function(c,d,b){return nE(c,d,0,b)},Zb=function(c,d){for(var b=c.memoizedState;b!==null&&d>0;)b=b.next,d--;return b};K_=function(c,d,b,E){var C=Zb(c,d);if(C!==null){var O=iE(C.memoizedState,b,E);C.memoizedState=O,C.baseState=O,c.memoizedProps=v({},c.memoizedProps),na(c,Yn,Ei)}},Z_=function(c,d,b){var E=Zb(c,d);if(E!==null){var C=jv(E.memoizedState,b);E.memoizedState=C,E.baseState=C,c.memoizedProps=v({},c.memoizedProps),na(c,Yn,Ei)}},J_=function(c,d,b,E){var C=Zb(c,d);if(C!==null){var O=RM(C.memoizedState,b,E);C.memoizedState=O,C.baseState=O,c.memoizedProps=v({},c.memoizedProps),na(c,Yn,Ei)}},wM=function(c,d,b){c.pendingProps=iE(c.memoizedProps,d,b),c.alternate&&(c.alternate.pendingProps=c.pendingProps),na(c,Yn,Ei)},$b=function(c,d){c.pendingProps=jv(c.memoizedProps,d),c.alternate&&(c.alternate.pendingProps=c.pendingProps),na(c,Yn,Ei)},Q_=function(c,d,b){c.pendingProps=RM(c.memoizedProps,d,b),c.alternate&&(c.alternate.pendingProps=c.pendingProps),na(c,Yn,Ei)},eE=function(c){na(c,Yn,Ei)},tE=function(c){zv=c},CM=function(c){Hv=c}}function DM(c){var d=vr(c);return d===null?null:d.stateNode}function Jb(c){return null}function LM(){return As}function PM(c){var d=c.findFiberByHostInstance,b=s.ReactCurrentDispatcher;return RR({bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:K_,overrideHookStateDeletePath:Z_,overrideHookStateRenamePath:J_,overrideProps:wM,overridePropsDeletePath:$b,overridePropsRenamePath:Q_,setErrorHandler:tE,setSuspenseHandler:CM,scheduleUpdate:eE,currentDispatcherRef:b,findHostInstanceByFiber:DM,findFiberByHostInstance:d||Jb,findHostInstancesForRefresh:$t,scheduleRefresh:cf,scheduleRoot:z_,setRefreshHandler:Pv,getCurrentFiber:LM,reconcilerVersion:Vv})}return t.attemptContinuousHydration=e2,t.attemptHydrationAtCurrentPriority=Yb,t.attemptSynchronousHydration=MM,t.batchedUpdates=bM,t.createComponentSelector=Ta,t.createContainer=q_,t.createHasPseudoClassSelector=Oo,t.createHydrationContainer=Hb,t.createPortal=X_,t.createRoleSelector=yl,t.createTestNameSelector=Zc,t.createTextSelector=Nd,t.deferredUpdates=yM,t.discreteUpdates=Ab,t.findAllNodes=dv,t.findBoundingRects=S_,t.findHostInstance=zb,t.findHostInstanceWithNoPortals=$_,t.findHostInstanceWithWarning=Bv,t.flushControlled=L_,t.flushPassiveEffects=fs,t.flushSync=hp,t.focusWithin=hM,t.getCurrentUpdatePriority=sl,t.getFindAllNodesFailureDescription=dM,t.getPublicRootInstance=Gb,t.injectIntoDevTools=PM,t.isAlreadyRendering=Rb,t.observeVisibleRects=E_,t.registerMutableSourceForHydration=pN,t.runWithPriority=da,t.shouldError=Xb,t.shouldSuspend=qb,t.updateContainer=jb,t};var Cse=VG.exports;IG.exports=Cse;var Ase=IG.exports;const Rse=u4(Ase);var kG={exports:{}},BG={};/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,t=!1,i=5;function r(ue,Te){var ke=ue.length;ue.push(Te),u(ue,Te,ke)}function s(ue){return ue.length===0?null:ue[0]}function l(ue){if(ue.length===0)return null;var Te=ue[0],ke=ue.pop();return ke!==Te&&(ue[0]=ke,h(ue,ke,0)),Te}function u(ue,Te,ke){for(var Ae=ke;Ae>0;){var Be=Ae-1>>>1,pe=ue[Be];if(f(pe,Te)>0)ue[Be]=Te,ue[Ae]=pe,Ae=Be;else return}}function h(ue,Te,ke){for(var Ae=ke,Be=ue.length,pe=Be>>>1;Ae<pe;){var Pe=(Ae+1)*2-1,He=ue[Pe],Ee=Pe+1,gt=ue[Ee];if(f(He,Te)<0)Ee<Be&&f(gt,He)<0?(ue[Ae]=gt,ue[Ee]=Te,Ae=Ee):(ue[Ae]=He,ue[Pe]=Te,Ae=Pe);else if(Ee<Be&&f(gt,Te)<0)ue[Ae]=gt,ue[Ee]=Te,Ae=Ee;else return}}function f(ue,Te){var ke=ue.sortIndex-Te.sortIndex;return ke!==0?ke:ue.id-Te.id}var p=1,v=2,y=3,x=4,_=5;function M(ue,Te){}var N=typeof performance=="object"&&typeof performance.now=="function";if(N){var T=performance;n.unstable_now=function(){return T.now()}}else{var A=Date,w=A.now();n.unstable_now=function(){return A.now()-w}}var L=1073741823,U=-1,k=250,V=5e3,H=1e4,P=L,I=[],q=[],j=1,J=null,W=y,se=!1,te=!1,ae=!1,ge=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ue){for(var Te=s(q);Te!==null;){if(Te.callback===null)l(q);else if(Te.startTime<=ue)l(q),Te.sortIndex=Te.expirationTime,r(I,Te);else return;Te=s(q)}}function ee(ue){if(ae=!1,Y(ue),!te)if(s(I)!==null)te=!0,ut(le);else{var Te=s(q);Te!==null&&Ue(ee,Te.startTime-ue)}}function le(ue,Te){te=!1,ae&&(ae=!1,Qe()),se=!0;var ke=W;try{var Ae;if(!t)return ye(ue,Te)}finally{J=null,W=ke,se=!1}}function ye(ue,Te){var ke=Te;for(Y(ke),J=s(I);J!==null&&!e&&!(J.expirationTime>ke&&(!ue||it()));){var Ae=J.callback;if(typeof Ae=="function"){J.callback=null,W=J.priorityLevel;var Be=J.expirationTime<=ke,pe=Ae(Be);ke=n.unstable_now(),typeof pe=="function"?J.callback=pe:J===s(I)&&l(I),Y(ke)}else l(I);J=s(I)}if(J!==null)return!0;var Pe=s(q);return Pe!==null&&Ue(ee,Pe.startTime-ke),!1}function be(ue,Te){switch(ue){case p:case v:case y:case x:case _:break;default:ue=y}var ke=W;W=ue;try{return Te()}finally{W=ke}}function we(ue){var Te;switch(W){case p:case v:case y:Te=y;break;default:Te=W;break}var ke=W;W=Te;try{return ue()}finally{W=ke}}function Oe(ue){var Te=W;return function(){var ke=W;W=Te;try{return ue.apply(this,arguments)}finally{W=ke}}}function De(ue,Te,ke){var Ae=n.unstable_now(),Be;if(typeof ke=="object"&&ke!==null){var pe=ke.delay;typeof pe=="number"&&pe>0?Be=Ae+pe:Be=Ae}else Be=Ae;var Pe;switch(ue){case p:Pe=U;break;case v:Pe=k;break;case _:Pe=P;break;case x:Pe=H;break;case y:default:Pe=V;break}var He=Be+Pe,Ee={id:j++,callback:Te,priorityLevel:ue,startTime:Be,expirationTime:He,sortIndex:-1};return Be>Ae?(Ee.sortIndex=Be,r(q,Ee),s(I)===null&&Ee===s(q)&&(ae?Qe():ae=!0,Ue(ee,Be-Ae))):(Ee.sortIndex=He,r(I,Ee),!te&&!se&&(te=!0,ut(le))),Ee}function st(){}function dt(){!te&&!se&&(te=!0,ut(le))}function ze(){return s(I)}function ie(ue){ue.callback=null}function $e(){return W}var Le=!1,je=null,Ve=-1,ft=i,Ge=-1;function it(){var ue=n.unstable_now()-Ge;return!(ue<ft)}function vt(){}function Ye(ue){if(ue<0||ue>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}ue>0?ft=Math.floor(1e3/ue):ft=i}var Lt=function(){if(je!==null){var ue=n.unstable_now();Ge=ue;var Te=!0,ke=!0;try{ke=je(Te,ue)}finally{ke?Q():(Le=!1,je=null)}}else Le=!1},Q;if(typeof ce=="function")Q=function(){ce(Lt)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Ne=K.port2;K.port1.onmessage=Lt,Q=function(){Ne.postMessage(null)}}else Q=function(){ge(Lt,0)};function ut(ue){je=ue,Le||(Le=!0,Q())}function Ue(ue,Te){Ve=ge(function(){ue(n.unstable_now())},Te)}function Qe(){ve(Ve),Ve=-1}var Nt=vt,ht=null;n.unstable_IdlePriority=_,n.unstable_ImmediatePriority=p,n.unstable_LowPriority=x,n.unstable_NormalPriority=y,n.unstable_Profiling=ht,n.unstable_UserBlockingPriority=v,n.unstable_cancelCallback=ie,n.unstable_continueExecution=dt,n.unstable_forceFrameRate=Ye,n.unstable_getCurrentPriorityLevel=$e,n.unstable_getFirstCallbackNode=ze,n.unstable_next=we,n.unstable_pauseExecution=st,n.unstable_requestPaint=Nt,n.unstable_runWithPriority=be,n.unstable_scheduleCallback=De,n.unstable_shouldYield=it,n.unstable_wrapCallback=Oe,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(BG);kG.exports=BG;var YB=kG.exports;const A3={},Dse=n=>void Object.assign(A3,n);function Lse(n,e){function t(p,{args:v=[],attach:y,...x},_){let M=`${p[0].toUpperCase()}${p.slice(1)}`,N;if(p==="primitive"){if(x.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const T=x.object;N=U0(T,{type:p,root:_,attach:y,primitive:!0})}else{const T=A3[M];if(!T)throw new Error(`R3F: ${M} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(v))throw new Error("R3F: The args prop must be an array!");N=U0(new T(...v),{type:p,root:_,attach:y,memoizedProps:{args:v}})}return N.__r3f.attach===void 0&&(N.isBufferGeometry?N.__r3f.attach="geometry":N.isMaterial&&(N.__r3f.attach="material")),M!=="inject"&&fP(N,x),N}function i(p,v){let y=!1;if(v){var x,_;(x=v.__r3f)!=null&&x.attach?cP(p,v,v.__r3f.attach):v.isObject3D&&p.isObject3D&&(p.add(v),y=!0),y||(_=p.__r3f)==null||_.objects.push(v),v.__r3f||U0(v,{}),v.__r3f.parent=p,YU(v),O0(v)}}function r(p,v,y){let x=!1;if(v){var _,M;if((_=v.__r3f)!=null&&_.attach)cP(p,v,v.__r3f.attach);else if(v.isObject3D&&p.isObject3D){v.parent=p,v.dispatchEvent({type:"added"}),p.dispatchEvent({type:"childadded",child:v});const N=p.children.filter(A=>A!==v),T=N.indexOf(y);p.children=[...N.slice(0,T),v,...N.slice(T)],x=!0}x||(M=p.__r3f)==null||M.objects.push(v),v.__r3f||U0(v,{}),v.__r3f.parent=p,YU(v),O0(v)}}function s(p,v,y=!1){p&&[...p].forEach(x=>l(v,x,y))}function l(p,v,y){if(v){var x,_,M;if(v.__r3f&&(v.__r3f.parent=null),(x=p.__r3f)!=null&&x.objects&&(p.__r3f.objects=p.__r3f.objects.filter(L=>L!==v)),(_=v.__r3f)!=null&&_.attach)ZB(p,v,v.__r3f.attach);else if(v.isObject3D&&p.isObject3D){var N;p.remove(v),(N=v.__r3f)!=null&&N.root&&Bse(AC(v),v)}const A=(M=v.__r3f)==null?void 0:M.primitive,w=!A&&(y===void 0?v.dispose!==null:y);if(!A){var T;s((T=v.__r3f)==null?void 0:T.objects,v,w),s(v.children,v,w)}if(delete v.__r3f,w&&v.dispose&&v.type!=="Scene"){const L=()=>{try{v.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?YB.unstable_scheduleCallback(YB.unstable_IdlePriority,L):L()}O0(p)}}function u(p,v,y,x){var _;const M=(_=p.__r3f)==null?void 0:_.parent;if(!M)return;const N=t(v,y,p.__r3f.root);if(p.children){for(const T of p.children)T.__r3f&&i(N,T);p.children=p.children.filter(T=>!T.__r3f)}p.__r3f.objects.forEach(T=>i(N,T)),p.__r3f.objects=[],p.__r3f.autoRemovedBeforeAppend||l(M,p),N.parent&&(N.__r3f.autoRemovedBeforeAppend=!0),i(M,N),N.raycast&&N.__r3f.eventCount&&AC(N).getState().internal.interaction.push(N),[x,x.alternate].forEach(T=>{T!==null&&(T.stateNode=N,T.ref&&(typeof T.ref=="function"?T.ref(N):T.ref.current=N))})}const h=()=>{};return{reconciler:Rse({createInstance:t,removeChild:l,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(p,v)=>{if(!v)return;const y=p.getState().scene;y.__r3f&&(y.__r3f.root=p,i(y,v))},removeChildFromContainer:(p,v)=>{v&&l(p.getState().scene,v)},insertInContainerBefore:(p,v,y)=>{if(!v||!y)return;const x=p.getState().scene;x.__r3f&&r(x,v,y)},getRootHostContext:()=>null,getChildHostContext:p=>p,finalizeInitialChildren(p){var v;return!!((v=p==null?void 0:p.__r3f)!=null?v:{}).handlers},prepareUpdate(p,v,y,x){var _;if(((_=p==null?void 0:p.__r3f)!=null?_:{}).primitive&&x.object&&x.object!==p)return[!0];{const{args:N=[],children:T,...A}=x,{args:w=[],children:L,...U}=y;if(!Array.isArray(N))throw new Error("R3F: the args prop must be an array!");if(N.some((V,H)=>V!==w[H]))return[!0];const k=XG(p,A,U,!0);return k.changes.length?[!1,k]:null}},commitUpdate(p,[v,y],x,_,M,N){v?u(p,x,M,N):fP(p,y)},commitMount(p,v,y,x){var _;const M=(_=p.__r3f)!=null?_:{};p.raycast&&M.handlers&&M.eventCount&&AC(p).getState().internal.interaction.push(p)},getPublicInstance:p=>p,prepareForCommit:()=>null,preparePortalMount:p=>U0(p.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(p){var v;const{attach:y,parent:x}=(v=p.__r3f)!=null?v:{};y&&x&&ZB(x,p,y),p.isObject3D&&(p.visible=!1),O0(p)},unhideInstance(p,v){var y;const{attach:x,parent:_}=(y=p.__r3f)!=null?y:{};x&&_&&cP(_,p,x),(p.isObject3D&&v.visible==null||v.visible)&&(p.visible=!0),O0(p)},createTextInstance:h,hideTextInstance:h,unhideTextInstance:h,getCurrentEventPriority:()=>e?e():W0.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&mr.fun(performance.now)?performance.now:mr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:mr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:mr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:fP}}var XB,qB;const uP=n=>"colorSpace"in n||"outputColorSpace"in n,zG=()=>{var n;return(n=A3.ColorManagement)!=null?n:null},HG=n=>n&&n.isOrthographicCamera,Pse=n=>n&&n.hasOwnProperty("current"),bT=typeof window<"u"&&((XB=window.document)!=null&&XB.createElement||((qB=window.navigator)==null?void 0:qB.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function jG(n){const e=G.useRef(n);return bT(()=>void(e.current=n),[n]),e}function Use({set:n}){return bT(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}let GG=class extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};GG.getDerivedStateFromError=()=>({error:!0});const WG="__default",$B=new Map,Ose=n=>n&&!!n.memoized&&!!n.changes;function YG(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const BE=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function AC(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const mr={obj:n=>n===Object(n)&&!mr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(mr.str(n)||mr.num(n)||mr.boo(n))return n===e;const s=mr.obj(n);if(s&&i==="reference")return n===e;const l=mr.arr(n);if(l&&t==="reference")return n===e;if((l||s)&&n===e)return!0;let u;for(u in n)if(!(u in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(u in r?e:n)if(!mr.equ(n[u],e[u],{strict:r,objects:"reference"}))return!1}else for(u in r?e:n)if(n[u]!==e[u])return!1;if(mr.und(u)){if(l&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Fse(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function U0(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function WU(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,l)=>s[l],n),{target:t,key:r}}else return{target:t,key:e}}const KB=/-\d+$/;function cP(n,e,t){if(mr.str(t)){if(KB.test(t)){const s=t.replace(KB,""),{target:l,key:u}=WU(n,s);Array.isArray(l[u])||(l[u]=[])}const{target:i,key:r}=WU(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function ZB(n,e,t){var i,r;if(mr.str(t)){const{target:s,key:l}=WU(n,t),u=e.__r3f.previousAttach;u===void 0?delete s[l]:s[l]=u}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function XG(n,{children:e,key:t,ref:i,...r},{children:s,key:l,ref:u,...h}={},f=!1){const p=n.__r3f,v=Object.entries(r),y=[];if(f){const _=Object.keys(h);for(let M=0;M<_.length;M++)r.hasOwnProperty(_[M])||v.unshift([_[M],WG+"remove"])}v.forEach(([_,M])=>{var N;if((N=n.__r3f)!=null&&N.primitive&&_==="object"||mr.equ(M,h[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return y.push([_,M,!0,[]]);let T=[];_.includes("-")&&(T=_.split("-")),y.push([_,M,!1,T]);for(const A in r){const w=r[A];A.startsWith(`${_}-`)&&y.push([A,w,!1,A.split("-")])}});const x={...r};return p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.args&&(x.args=p.memoizedProps.args),p!=null&&p.memoizedProps&&p!=null&&p.memoizedProps.attach&&(x.attach=p.memoizedProps.attach),{memoized:x,changes:y}}const Ise=typeof process<"u"&&!0;function fP(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:l,changes:u}=Ose(e)?e:XG(n,e),h=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let y=0;y<u.length;y++){let[x,_,M,N]=u[y];if(uP(n)){const L="srgb",U="srgb-linear";x==="encoding"?(x="colorSpace",_=_===3001?L:U):x==="outputEncoding"&&(x="outputColorSpace",_=_===3001?L:U)}let T=n,A=T[x];if(N.length&&(A=N.reduce((w,L)=>w[L],n),!(A&&A.set))){const[w,...L]=N.reverse();T=L.reverse().reduce((U,k)=>U[k],n),x=w}if(_===WG+"remove")if(T.constructor){let w=$B.get(T.constructor);w||(w=new T.constructor,$B.set(T.constructor,w)),_=w[x]}else _=0;if(M&&i)_?i.handlers[x]=_:delete i.handlers[x],i.eventCount=Object.keys(i.handlers).length;else if(A&&A.set&&(A.copy||A instanceof Ag)){if(Array.isArray(_))A.fromArray?A.fromArray(_):A.set(..._);else if(A.copy&&_&&_.constructor&&(Ise?A.constructor.name===_.constructor.name:A.constructor===_.constructor))A.copy(_);else if(_!==void 0){var f;const w=(f=A)==null?void 0:f.isColor;!w&&A.setScalar?A.setScalar(_):A instanceof Ag&&_ instanceof Ag?A.mask=_.mask:A.set(_),!zG()&&s&&!s.linear&&w&&A.convertSRGBToLinear()}}else{var p;if(T[x]=_,(p=T[x])!=null&&p.isTexture&&T[x].format===Ho&&T[x].type===Cf&&s){const w=T[x];uP(w)&&uP(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}}O0(n)}if(i&&i.parent&&n.raycast&&h!==i.eventCount){const y=AC(n).getState().internal,x=y.interaction.indexOf(n);x>-1&&y.interaction.splice(x,1),i.eventCount&&y.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(t=n.__r3f)!=null&&t.parent&&YU(n),n}function O0(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function YU(n){n.onUpdate==null||n.onUpdate(n)}function Vse(n,e){n.manual||(HG(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function nC(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function kse(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return W0.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return W0.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return W0.ContinuousEventPriority;default:return W0.DefaultEventPriority}}function qG(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Bse(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{qG(t.capturedMap,e,i,r)})}function zse(n){function e(h){const{internal:f}=n.getState(),p=h.offsetX-f.initialClick[0],v=h.offsetY-f.initialClick[1];return Math.round(Math.sqrt(p*p+v*v))}function t(h){return h.filter(f=>["Move","Over","Enter","Out","Leave"].some(p=>{var v;return(v=f.__r3f)==null?void 0:v.handlers["onPointer"+p]}))}function i(h,f){const p=n.getState(),v=new Set,y=[],x=f?f(p.internal.interaction):p.internal.interaction;for(let T=0;T<x.length;T++){const A=BE(x[T]);A&&(A.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(h,p);function _(T){const A=BE(T);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var w;A.events.compute==null||A.events.compute(h,A,(w=A.previousRoot)==null?void 0:w.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(T,!0):[]}let M=x.flatMap(_).sort((T,A)=>{const w=BE(T.object),L=BE(A.object);return!w||!L?T.distance-A.distance:L.events.priority-w.events.priority||T.distance-A.distance}).filter(T=>{const A=nC(T);return v.has(A)?!1:(v.add(A),!0)});p.events.filter&&(M=p.events.filter(M,p));for(const T of M){let A=T.object;for(;A;){var N;(N=A.__r3f)!=null&&N.eventCount&&y.push({...T,eventObject:A}),A=A.parent}}if("pointerId"in h&&p.internal.capturedMap.has(h.pointerId))for(let T of p.internal.capturedMap.get(h.pointerId).values())v.has(nC(T.intersection))||y.push(T.intersection);return y}function r(h,f,p,v){const y=n.getState();if(h.length){const x={stopped:!1};for(const _ of h){const M=BE(_.object)||y,{raycaster:N,pointer:T,camera:A,internal:w}=M,L=new fe(T.x,T.y,0).unproject(A),U=I=>{var q,j;return(q=(j=w.capturedMap.get(I))==null?void 0:j.has(_.eventObject))!=null?q:!1},k=I=>{const q={intersection:_,target:f.target};w.capturedMap.has(I)?w.capturedMap.get(I).set(_.eventObject,q):w.capturedMap.set(I,new Map([[_.eventObject,q]])),f.target.setPointerCapture(I)},V=I=>{const q=w.capturedMap.get(I);q&&qG(w.capturedMap,_.eventObject,q,I)};let H={};for(let I in f){let q=f[I];typeof q!="function"&&(H[I]=q)}let P={..._,...H,pointer:T,intersections:h,stopped:x.stopped,delta:p,unprojectedPoint:L,ray:N.ray,camera:A,stopPropagation(){const I="pointerId"in f&&w.capturedMap.get(f.pointerId);if((!I||I.has(_.eventObject))&&(P.stopped=x.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(q=>q.eventObject===_.eventObject))){const q=h.slice(0,h.indexOf(_));s([...q,_])}},target:{hasPointerCapture:U,setPointerCapture:k,releasePointerCapture:V},currentTarget:{hasPointerCapture:U,setPointerCapture:k,releasePointerCapture:V},nativeEvent:f};if(v(P),x.stopped===!0)break}}return h}function s(h){const{internal:f}=n.getState();for(const p of f.hovered.values())if(!h.length||!h.find(v=>v.object===p.object&&v.index===p.index&&v.instanceId===p.instanceId)){const y=p.eventObject.__r3f,x=y==null?void 0:y.handlers;if(f.hovered.delete(nC(p)),y!=null&&y.eventCount){const _={...p,intersections:h};x.onPointerOut==null||x.onPointerOut(_),x.onPointerLeave==null||x.onPointerLeave(_)}}}function l(h,f){for(let p=0;p<f.length;p++){const v=f[p].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:p}=n.getState();"pointerId"in f&&p.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(f.pointerId)&&(p.capturedMap.delete(f.pointerId),s([]))})}}return function(p){const{onPointerMissed:v,internal:y}=n.getState();y.lastEvent.current=p;const x=h==="onPointerMove",_=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",N=i(p,x?t:void 0),T=_?e(p):0;h==="onPointerDown"&&(y.initialClick=[p.offsetX,p.offsetY],y.initialHits=N.map(w=>w.eventObject)),_&&!N.length&&T<=2&&(l(p,y.interaction),v&&v(p)),x&&s(N);function A(w){const L=w.eventObject,U=L.__r3f,k=U==null?void 0:U.handlers;if(U!=null&&U.eventCount)if(x){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const V=nC(w),H=y.hovered.get(V);H?H.stopped&&w.stopPropagation():(y.hovered.set(V,w),k.onPointerOver==null||k.onPointerOver(w),k.onPointerEnter==null||k.onPointerEnter(w))}k.onPointerMove==null||k.onPointerMove(w)}else{const V=k[h];V?(!_||y.initialHits.includes(L))&&(l(p,y.interaction.filter(H=>!y.initialHits.includes(H))),V(w)):_&&y.initialHits.includes(L)&&l(p,y.interaction.filter(H=>!y.initialHits.includes(H)))}}r(N,p,T,A)}}return{handlePointer:u}}const $G=n=>!!(n!=null&&n.render),KG=G.createContext(null),Hse=(n,e)=>{const t=Sse((u,h)=>{const f=new fe,p=new fe,v=new fe;function y(T=h().camera,A=p,w=h().size){const{width:L,height:U,top:k,left:V}=w,H=L/U;A.isVector3?v.copy(A):v.set(...A);const P=T.getWorldPosition(f).distanceTo(v);if(HG(T))return{width:L/T.zoom,height:U/T.zoom,top:k,left:V,factor:1,distance:P,aspect:H};{const I=T.fov*Math.PI/180,q=2*Math.tan(I/2)*P,j=q*(L/U);return{width:j,height:q,top:k,left:V,factor:L/j,distance:P,aspect:H}}}let x;const _=T=>u(A=>({performance:{...A.performance,current:T}})),M=new wt;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(T=1)=>n(h(),T),advance:(T,A)=>e(T,A,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new N3,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const T=h();x&&clearTimeout(x),T.performance.current!==T.performance.min&&_(T.performance.min),x=setTimeout(()=>_(h().performance.max),T.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:T=>u(A=>({...A,events:{...A.events,...T}})),setSize:(T,A,w,L,U)=>{const k=h().camera,V={width:T,height:A,top:L||0,left:U||0,updateStyle:w};u(H=>({size:V,viewport:{...H.viewport,...y(k,p,V)}}))},setDpr:T=>u(A=>{const w=YG(T);return{viewport:{...A.viewport,dpr:w,initialDpr:A.viewport.initialDpr||w}}}),setFrameloop:(T="always")=>{const A=h().clock;A.stop(),A.elapsedTime=0,T!=="never"&&(A.start(),A.elapsedTime=0),u(()=>({frameloop:T}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(T,A,w)=>{const L=h().internal;return L.priority=L.priority+(A>0?1:0),L.subscribers.push({ref:T,priority:A,store:w}),L.subscribers=L.subscribers.sort((U,k)=>U.priority-k.priority),()=>{const U=h().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(A>0?1:0),U.subscribers=U.subscribers.filter(k=>k.ref!==T))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,l=i.camera;return t.subscribe(()=>{const{camera:u,size:h,viewport:f,gl:p,set:v}=t.getState();if(h.width!==r.width||h.height!==r.height||f.dpr!==s){var y;r=h,s=f.dpr,Vse(u,h),p.setPixelRatio(f.dpr);const x=(y=h.updateStyle)!=null?y:typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(h.width,h.height,x)}u!==l&&(l=u,v(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>n(u)),t};let iC,jse=new Set,Gse=new Set,Wse=new Set;function dP(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function zE(n,e){switch(n){case"before":return dP(jse,e);case"after":return dP(Gse,e);case"tail":return dP(Wse,e)}}let hP,pP;function mP(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),hP=e.internal.subscribers,iC=0;iC<hP.length;iC++)pP=hP[iC],pP.ref.current(pP.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Yse(n){let e=!1,t=!1,i,r,s;function l(f){r=requestAnimationFrame(l),e=!0,i=0,zE("before",f),t=!0;for(const v of n.values()){var p;s=v.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((p=s.gl.xr)!=null&&p.isPresenting)&&(i+=mP(f,s))}if(t=!1,zE("after",f),i===0)return zE("tail",f),e=!1,cancelAnimationFrame(r)}function u(f,p=1){var v;if(!f)return n.forEach(y=>u(y.store.getState(),p));(v=f.gl.xr)!=null&&v.isPresenting||!f.internal.active||f.frameloop==="never"||(p>1?f.internal.frames=Math.min(60,f.internal.frames+p):t?f.internal.frames=2:f.internal.frames=1,e||(e=!0,requestAnimationFrame(l)))}function h(f,p=!0,v,y){if(p&&zE("before",f),v)mP(f,v,y);else for(const x of n.values())mP(f,x.store.getState());p&&zE("after",f)}return{loop:l,invalidate:u,advance:h}}function ZG(){const n=G.useContext(KG);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function lu(n=t=>t,e){return ZG()(n,e)}function im(n,e=0){const t=ZG(),i=t.getState().internal.subscribe,r=jG(n);return bT(()=>i(r,e,t),[e,i,t]),null}const nx=new Map,{invalidate:JB,advance:QB}=Yse(nx),{reconciler:nA,applyProps:A0}=Lse(nx,kse),R0={objects:"shallow",strict:!1},Xse=(n,e)=>{const t=typeof n=="function"?n(e):n;return $G(t)?t:new o3({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function qse(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:l,updateStyle:u=t}=e;return{width:i,height:r,top:s,left:l,updateStyle:u}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:l}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:l,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function $se(n){const e=nx.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Hse(JB,QB),l=t||nA.createContainer(s,W0.ConcurrentRoot,null,!1,null,"",r,null);e||nx.set(n,{fiber:l,store:s});let u,h=!1,f;return{configure(p={}){let{gl:v,size:y,scene:x,events:_,onCreated:M,shadows:N=!1,linear:T=!1,flat:A=!1,legacy:w=!1,orthographic:L=!1,frameloop:U="always",dpr:k=[1,2],performance:V,raycaster:H,camera:P,onPointerMissed:I}=p,q=s.getState(),j=q.gl;q.gl||q.set({gl:j=Xse(v,n)});let J=q.raycaster;J||q.set({raycaster:J=new LG});const{params:W,...se}=H||{};if(mr.equ(se,J,R0)||A0(J,{...se}),mr.equ(W,J.params,R0)||A0(J,{params:{...J.params,...W}}),!q.camera||q.camera===f&&!mr.equ(f,P,R0)){f=P;const ce=P instanceof hT,Y=ce?P:L?new Af(0,0,0,0,.1,1e3):new Or(75,0,.1,1e3);ce||(Y.position.z=5,P&&(A0(Y,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(Y.manual=!0,Y.updateProjectionMatrix())),!q.camera&&!(P!=null&&P.rotation)&&Y.lookAt(0,0,0)),q.set({camera:Y}),J.camera=Y}if(!q.scene){let ce;x!=null&&x.isScene?ce=x:(ce=new l3,x&&A0(ce,x)),q.set({scene:U0(ce)})}if(!q.xr){var te;const ce=(le,ye)=>{const be=s.getState();be.frameloop!=="never"&&QB(le,!0,be,ye)},Y=()=>{const le=s.getState();le.gl.xr.enabled=le.gl.xr.isPresenting,le.gl.xr.setAnimationLoop(le.gl.xr.isPresenting?ce:null),le.gl.xr.isPresenting||JB(le)},ee={connect(){const le=s.getState().gl;le.xr.addEventListener("sessionstart",Y),le.xr.addEventListener("sessionend",Y)},disconnect(){const le=s.getState().gl;le.xr.removeEventListener("sessionstart",Y),le.xr.removeEventListener("sessionend",Y)}};typeof((te=j.xr)==null?void 0:te.addEventListener)=="function"&&ee.connect(),q.set({xr:ee})}if(j.shadowMap){const ce=j.shadowMap.enabled,Y=j.shadowMap.type;if(j.shadowMap.enabled=!!N,mr.boo(N))j.shadowMap.type=n1;else if(mr.str(N)){var ae;const ee={basic:MH,percentage:MA,soft:n1,variance:nc};j.shadowMap.type=(ae=ee[N])!=null?ae:n1}else mr.obj(N)&&Object.assign(j.shadowMap,N);(ce!==j.shadowMap.enabled||Y!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const ge=zG();ge&&("enabled"in ge?ge.enabled=!w:"legacyMode"in ge&&(ge.legacyMode=w)),h||A0(j,{outputEncoding:T?3e3:3001,toneMapping:A?wf:GO}),q.legacy!==w&&q.set(()=>({legacy:w})),q.linear!==T&&q.set(()=>({linear:T})),q.flat!==A&&q.set(()=>({flat:A})),v&&!mr.fun(v)&&!$G(v)&&!mr.equ(v,j,R0)&&A0(j,v),_&&!q.events.handlers&&q.set({events:_(s)});const ve=qse(n,y);return mr.equ(ve,q.size,R0)||q.setSize(ve.width,ve.height,ve.updateStyle,ve.top,ve.left),k&&q.viewport.dpr!==YG(k)&&q.setDpr(k),q.frameloop!==U&&q.setFrameloop(U),q.onPointerMissed||q.set({onPointerMissed:I}),V&&!mr.equ(V,q.performance,R0)&&q.set(ce=>({performance:{...ce.performance,...V}})),u=M,h=!0,this},render(p){return h||this.configure(),nA.updateContainer(ic.jsx(Kse,{store:s,children:p,onCreated:u,rootElement:n}),l,null,()=>{}),s},unmount(){JG(n)}}}function Kse({store:n,children:e,onCreated:t,rootElement:i}){return bT(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ic.jsx(KG.Provider,{value:n,children:e})}function JG(n,e){const t=nx.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),nA.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,l,u,h;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(l=s.renderLists)==null||l.dispose==null||l.dispose(),(u=r.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=r.gl)!=null&&h.xr&&r.xr.disconnect(),Fse(r),nx.delete(n),e&&e(n)}catch{}},500)})}}nA.injectIntoDevTools({bundleType:1,rendererPackageName:"@react-three/fiber",version:G.version});const vP={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Zse(n){const{handlePointer:e}=zse(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(vP).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(l=>({events:{...l.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([l,u])=>{const[h,f]=vP[l];t.addEventListener(h,u,{passive:f})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,l])=>{if(i&&i.connected instanceof HTMLElement){const[u]=vP[s];i.connected.removeEventListener(u,l)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function ez(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function Jse({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,l]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),h=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,p=G.useRef(!1);G.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[v,y,x]=G.useMemo(()=>{const T=()=>{if(!u.current.element)return;const{left:A,top:w,width:L,height:U,bottom:k,right:V,x:H,y:P}=u.current.element.getBoundingClientRect(),I={left:A,top:w,width:L,height:U,bottom:k,right:V,x:H,y:P};u.current.element instanceof HTMLElement&&i&&(I.height=u.current.element.offsetHeight,I.width=u.current.element.offsetWidth),Object.freeze(I),p.current&&!noe(u.current.lastBounds,I)&&l(u.current.lastBounds=I)};return[T,f?ez(T,f):T,h?ez(T,h):T]},[l,i,h,f]);function _(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(T=>T.removeEventListener("scroll",x,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function M(){u.current.element&&(u.current.resizeObserver=new r(x),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(T=>T.addEventListener("scroll",x,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const N=T=>{!T||T===u.current.element||(_(),u.current.element=T,u.current.scrollContainers=QG(T),M())};return eoe(x,!!e),Qse(y),G.useEffect(()=>{_(),M()},[e,x,y]),G.useEffect(()=>_,[]),[N,s,v]}function Qse(n){G.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function eoe(n,e){G.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function QG(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...QG(n.parentElement)]}const toe=["x","y","top","bottom","left","right","width","height"],noe=(n,e)=>toe.every(t=>n[t]===e[t]);var ioe=Object.defineProperty,roe=Object.defineProperties,aoe=Object.getOwnPropertyDescriptors,tz=Object.getOwnPropertySymbols,soe=Object.prototype.hasOwnProperty,ooe=Object.prototype.propertyIsEnumerable,nz=(n,e,t)=>e in n?ioe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,iz=(n,e)=>{for(var t in e||(e={}))soe.call(e,t)&&nz(n,t,e[t]);if(tz)for(var t of tz(e))ooe.call(e,t)&&nz(n,t,e[t]);return n},loe=(n,e)=>roe(n,aoe(e)),rz,az;typeof window<"u"&&((rz=window.document)!=null&&rz.createElement||((az=window.navigator)==null?void 0:az.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function e6(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=e6(i,e,t);if(r)return r;i=e?null:i.sibling}}function t6(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const sz=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=sz;return}return sz.apply(this,arguments)};const R3=t6(G.createContext(null));class n6 extends G.Component{render(){return G.createElement(R3.Provider,{value:this._reactInternals},this.props.children)}}function uoe(){const n=G.useContext(R3);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=e6(i,!1,s=>{let l=s.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(r)return r}},[n,e])}function coe(){const n=uoe(),[e]=G.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==R3&&!e.has(r)&&e.set(r,G.useContext(t6(r)))}t=t.return}return e}function foe(){const n=coe();return G.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>G.createElement(e,null,G.createElement(t.Provider,loe(iz({},i),{value:n.get(t)}))),e=>G.createElement(n6,iz({},e))),[n])}const doe=G.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:l=Zse,eventSource:u,eventPrefix:h,shadows:f,linear:p,flat:v,legacy:y,orthographic:x,frameloop:_,dpr:M,performance:N,raycaster:T,camera:A,scene:w,onPointerMissed:L,onCreated:U,...k},V){G.useMemo(()=>Dse(yse),[]);const H=foe(),[P,I]=Jse({scroll:!0,debounce:{scroll:50,resize:0},...i}),q=G.useRef(null),j=G.useRef(null);G.useImperativeHandle(V,()=>q.current);const J=jG(L),[W,se]=G.useState(!1),[te,ae]=G.useState(!1);if(W)throw W;if(te)throw te;const ge=G.useRef(null);bT(()=>{const ce=q.current;I.width>0&&I.height>0&&ce&&(ge.current||(ge.current=$se(ce)),ge.current.configure({gl:s,events:l,shadows:f,linear:p,flat:v,legacy:y,orthographic:x,frameloop:_,dpr:M,performance:N,raycaster:T,camera:A,scene:w,size:I,onPointerMissed:(...Y)=>J.current==null?void 0:J.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(u?Pse(u)?u.current:u:j.current),h&&Y.setEvents({compute:(ee,le)=>{const ye=ee[h+"X"],be=ee[h+"Y"];le.pointer.set(ye/le.size.width*2-1,-(be/le.size.height)*2+1),le.raycaster.setFromCamera(le.pointer,le.camera)}}),U==null||U(Y)}}),ge.current.render(ic.jsx(H,{children:ic.jsx(GG,{set:ae,children:ic.jsx(G.Suspense,{fallback:ic.jsx(Use,{set:se}),children:e??null})})})))}),G.useEffect(()=>{const ce=q.current;if(ce)return()=>JG(ce)},[]);const ve=u?"none":"auto";return ic.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ve,...r},...k,children:ic.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:ic.jsx("canvas",{ref:q,style:{display:"block"},children:t})})})}),hoe=G.forwardRef(function(e,t){return ic.jsx(n6,{children:ic.jsx(doe,{...e,ref:t})})});function Ul(){return Ul=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ul.apply(null,arguments)}const xT=new fe,D3=new fe,poe=new fe,oz=new wt;function moe(n,e,t){const i=xT.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function voe(n,e){const t=xT.setFromMatrixPosition(n.matrixWorld),i=D3.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(poe);return r.angleTo(s)>Math.PI/2}function goe(n,e,t,i){const r=xT.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),oz.set(s.x,s.y),t.setFromCamera(oz,e);const l=t.intersectObjects(i,!0);if(l.length){const u=l[0].distance;return r.distanceTo(t.ray.origin)<u}return!0}function yoe(n,e){if(e instanceof Af)return e.zoom;if(e instanceof Or){const t=xT.setFromMatrixPosition(n.matrixWorld),i=D3.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function boe(n,e,t){if(e instanceof Or||e instanceof Af){const i=xT.setFromMatrixPosition(n.matrixWorld),r=D3.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),l=(t[1]-t[0])/(e.far-e.near),u=t[1]-l*e.far;return Math.round(l*s+u)}}const XU=n=>Math.abs(n)<1e-10?0:n;function i6(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=XU(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const xoe=(n=>e=>i6(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Soe=(n=>(e,t)=>i6(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function _oe(n){return n&&typeof n=="object"&&"current"in n}const lz=G.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:l,portal:u,distanceFactor:h,sprite:f=!1,transform:p=!1,occlude:v,onOcclude:y,castShadow:x,receiveShadow:_,material:M,geometry:N,zIndexRange:T=[16777271,0],calculatePosition:A=moe,as:w="div",wrapperClass:L,pointerEvents:U="auto",...k},V)=>{const{gl:H,camera:P,scene:I,size:q,raycaster:j,events:J,viewport:W}=lu(),[se]=G.useState(()=>document.createElement(w)),te=G.useRef(),ae=G.useRef(null),ge=G.useRef(0),ve=G.useRef([0,0]),ce=G.useRef(null),Y=G.useRef(null),ee=(u==null?void 0:u.current)||J.connected||H.domElement.parentNode,le=G.useRef(null),ye=G.useRef(!1),be=G.useMemo(()=>v&&v!=="blending"||Array.isArray(v)&&v.length&&_oe(v[0]),[v]);G.useLayoutEffect(()=>{const dt=H.domElement;v&&v==="blending"?(dt.style.zIndex=`${Math.floor(T[0]/2)}`,dt.style.position="absolute",dt.style.pointerEvents="none"):(dt.style.zIndex=null,dt.style.position=null,dt.style.pointerEvents=null)},[v]),G.useLayoutEffect(()=>{if(ae.current){const dt=te.current=v4(se);if(I.updateMatrixWorld(),p)se.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ze=A(ae.current,P,q);se.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ze[0]}px,${ze[1]}px,0);transform-origin:0 0;`}return ee&&(r?ee.prepend(se):ee.appendChild(se)),()=>{ee&&ee.removeChild(se),dt.unmount()}}},[ee,p]),G.useLayoutEffect(()=>{L&&(se.className=L)},[L]);const we=G.useMemo(()=>p?{position:"absolute",top:0,left:0,width:q.width,height:q.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...l&&{top:-q.height/2,left:-q.width/2,width:q.width,height:q.height},...t},[t,s,l,q,p]),Oe=G.useMemo(()=>({position:"absolute",pointerEvents:U}),[U]);G.useLayoutEffect(()=>{if(ye.current=!1,p){var dt;(dt=te.current)==null||dt.render(G.createElement("div",{ref:ce,style:we},G.createElement("div",{ref:Y,style:Oe},G.createElement("div",{ref:V,className:i,style:t,children:n}))))}else{var ze;(ze=te.current)==null||ze.render(G.createElement("div",{ref:V,style:we,className:i,children:n}))}});const De=G.useRef(!0);im(dt=>{if(ae.current){P.updateMatrixWorld(),ae.current.updateWorldMatrix(!0,!1);const ze=p?ve.current:A(ae.current,P,q);if(p||Math.abs(ge.current-P.zoom)>e||Math.abs(ve.current[0]-ze[0])>e||Math.abs(ve.current[1]-ze[1])>e){const ie=voe(ae.current,P);let $e=!1;be&&(Array.isArray(v)?$e=v.map(ft=>ft.current):v!=="blending"&&($e=[I]));const Le=De.current;if($e){const ft=goe(ae.current,P,j,$e);De.current=ft&&!ie}else De.current=!ie;Le!==De.current&&(y?y(!De.current):se.style.display=De.current?"block":"none");const je=Math.floor(T[0]/2),Ve=v?be?[T[0],je]:[je-1,0]:T;if(se.style.zIndex=`${boe(ae.current,P,Ve)}`,p){const[ft,Ge]=[q.width/2,q.height/2],it=P.projectionMatrix.elements[5]*Ge,{isOrthographicCamera:vt,top:Ye,left:Lt,bottom:Q,right:K}=P,Ne=xoe(P.matrixWorldInverse),ut=vt?`scale(${it})translate(${XU(-(K+Lt)/2)}px,${XU((Ye+Q)/2)}px)`:`translateZ(${it}px)`;let Ue=ae.current.matrixWorld;f&&(Ue=P.matrixWorldInverse.clone().transpose().copyPosition(Ue).scale(ae.current.scale),Ue.elements[3]=Ue.elements[7]=Ue.elements[11]=0,Ue.elements[15]=1),se.style.width=q.width+"px",se.style.height=q.height+"px",se.style.perspective=vt?"":`${it}px`,ce.current&&Y.current&&(ce.current.style.transform=`${ut}${Ne}translate(${ft}px,${Ge}px)`,Y.current.style.transform=Soe(Ue,1/((h||10)/400)))}else{const ft=h===void 0?1:yoe(ae.current,P)*h;se.style.transform=`translate3d(${ze[0]}px,${ze[1]}px,0) scale(${ft})`}ve.current=ze,ge.current=P.zoom}}if(!be&&le.current&&!ye.current)if(p){if(ce.current){const ze=ce.current.children[0];if(ze!=null&&ze.clientWidth&&ze!=null&&ze.clientHeight){const{isOrthographicCamera:ie}=P;if(ie||N)k.scale&&(Array.isArray(k.scale)?k.scale instanceof fe?le.current.scale.copy(k.scale.clone().divideScalar(1)):le.current.scale.set(1/k.scale[0],1/k.scale[1],1/k.scale[2]):le.current.scale.setScalar(1/k.scale));else{const $e=(h||10)/400,Le=ze.clientWidth*$e,je=ze.clientHeight*$e;le.current.scale.set(Le,je,1)}ye.current=!0}}}else{const ze=se.children[0];if(ze!=null&&ze.clientWidth&&ze!=null&&ze.clientHeight){const ie=1/W.factor,$e=ze.clientWidth*ie,Le=ze.clientHeight*ie;le.current.scale.set($e,Le,1),ye.current=!0}le.current.lookAt(dt.camera.position)}});const st=G.useMemo(()=>({vertexShader:p?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[p]);return G.createElement("group",Ul({},k,{ref:ae}),v&&!be&&G.createElement("mesh",{castShadow:x,receiveShadow:_,ref:le},N||G.createElement("planeGeometry",null),M||G.createElement("shaderMaterial",{side:Cl,vertexShader:st.vertexShader,fragmentShader:st.fragmentShader})))});var L3=_T(),$n=n=>ST(n,L3),P3=_T();$n.write=n=>ST(n,P3);var rR=_T();$n.onStart=n=>ST(n,rR);var U3=_T();$n.onFrame=n=>ST(n,U3);var O3=_T();$n.onFinish=n=>ST(n,O3);var q0=[];$n.setTimeout=(n,e)=>{const t=$n.now()+e,i=()=>{const s=q0.findIndex(l=>l.cancel==i);~s&&q0.splice(s,1),Vp-=~s?1:0},r={time:t,handler:n,cancel:i};return q0.splice(r6(t),0,r),Vp+=1,a6(),r};var r6=n=>~(~q0.findIndex(e=>e.time>n)||~q0.length);$n.cancel=n=>{rR.delete(n),U3.delete(n),O3.delete(n),L3.delete(n),P3.delete(n)};$n.sync=n=>{qU=!0,$n.batchedUpdates(n),qU=!1};$n.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...r){e=r,$n.onStart(t)}return i.handler=n,i.cancel=()=>{rR.delete(t),e=null},i};var F3=typeof window<"u"?window.requestAnimationFrame:()=>{};$n.use=n=>F3=n;$n.now=typeof performance<"u"?()=>performance.now():Date.now;$n.batchedUpdates=n=>n();$n.catch=console.error;$n.frameLoop="always";$n.advance=()=>{$n.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):o6()};var Ip=-1,Vp=0,qU=!1;function ST(n,e){qU?(e.delete(n),n(0)):(e.add(n),a6())}function a6(){Ip<0&&(Ip=0,$n.frameLoop!=="demand"&&F3(s6))}function Eoe(){Ip=-1}function s6(){~Ip&&(F3(s6),$n.batchedUpdates(o6))}function o6(){const n=Ip;Ip=$n.now();const e=r6(Ip);if(e&&(l6(q0.splice(0,e),t=>t.handler()),Vp-=e),!Vp){Eoe();return}rR.flush(),L3.flush(n?Math.min(64,Ip-n):16.667),U3.flush(),P3.flush(),O3.flush()}function _T(){let n=new Set,e=n;return{add(t){Vp+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return Vp-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,Vp-=e.size,l6(e,i=>i(t)&&n.add(i)),Vp+=n.size,e=n)}}}function l6(n,e){n.forEach(t=>{try{e(t)}catch(i){$n.catch(i)}})}var Toe=Object.defineProperty,Noe=(n,e)=>{for(var t in e)Toe(n,t,{get:e[t],enumerable:!0})},dc={};Noe(dc,{assign:()=>woe,colors:()=>Gp,createStringInterpolator:()=>V3,skipAnimation:()=>c6,to:()=>u6,willAdvance:()=>k3});function $U(){}var Moe=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Xt={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Zd(n,e){if(Xt.arr(n)){if(!Xt.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var xi=(n,e)=>n.forEach(e);function Lf(n,e,t){if(Xt.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(const i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}var Dl=n=>Xt.und(n)?[]:Xt.arr(n)?n:[n];function l1(n,e){if(n.size){const t=Array.from(n);n.clear(),xi(t,e)}}var ZE=(n,...e)=>l1(n,t=>t(...e)),I3=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),V3,u6,Gp=null,c6=!1,k3=$U,woe=n=>{n.to&&(u6=n.to),n.now&&($n.now=n.now),n.colors!==void 0&&(Gp=n.colors),n.skipAnimation!=null&&(c6=n.skipAnimation),n.createStringInterpolator&&(V3=n.createStringInterpolator),n.requestAnimationFrame&&$n.use(n.requestAnimationFrame),n.batchedUpdates&&($n.batchedUpdates=n.batchedUpdates),n.willAdvance&&(k3=n.willAdvance),n.frameLoop&&($n.frameLoop=n.frameLoop)},u1=new Set,cu=[],gP=[],iA=0,aR={get idle(){return!u1.size&&!cu.length},start(n){iA>n.priority?(u1.add(n),$n.onStart(Coe)):(f6(n),$n(KU))},advance:KU,sort(n){if(iA)$n.onFrame(()=>aR.sort(n));else{const e=cu.indexOf(n);~e&&(cu.splice(e,1),d6(n))}},clear(){cu=[],u1.clear()}};function Coe(){u1.forEach(f6),u1.clear(),$n(KU)}function f6(n){cu.includes(n)||d6(n)}function d6(n){cu.splice(Aoe(cu,e=>e.priority>n.priority),0,n)}function KU(n){const e=gP;for(let t=0;t<cu.length;t++){const i=cu[t];iA=i.priority,i.idle||(k3(i),i.advance(n),i.idle||e.push(i))}return iA=0,gP=cu,gP.length=0,cu=e,cu.length>0}function Aoe(n,e){const t=n.findIndex(e);return t<0?n.length:t}var Roe=(n,e,t)=>Math.min(Math.max(t,n),e),Doe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},sc="[-+]?\\d*\\.?\\d+",rA=sc+"%";function sR(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var Loe=new RegExp("rgb"+sR(sc,sc,sc)),Poe=new RegExp("rgba"+sR(sc,sc,sc,sc)),Uoe=new RegExp("hsl"+sR(sc,rA,rA)),Ooe=new RegExp("hsla"+sR(sc,rA,rA,sc)),Foe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ioe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Voe=/^#([0-9a-fA-F]{6})$/,koe=/^#([0-9a-fA-F]{8})$/;function Boe(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=Voe.exec(n))?parseInt(e[1]+"ff",16)>>>0:Gp&&Gp[n]!==void 0?Gp[n]:(e=Loe.exec(n))?(D0(e[1])<<24|D0(e[2])<<16|D0(e[3])<<8|255)>>>0:(e=Poe.exec(n))?(D0(e[1])<<24|D0(e[2])<<16|D0(e[3])<<8|fz(e[4]))>>>0:(e=Foe.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=koe.exec(n))?parseInt(e[1],16)>>>0:(e=Ioe.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Uoe.exec(n))?(uz(cz(e[1]),rC(e[2]),rC(e[3]))|255)>>>0:(e=Ooe.exec(n))?(uz(cz(e[1]),rC(e[2]),rC(e[3]))|fz(e[4]))>>>0:null}function yP(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function uz(n,e,t){const i=t<.5?t*(1+e):t+e-t*e,r=2*t-i,s=yP(r,i,n+1/3),l=yP(r,i,n),u=yP(r,i,n-1/3);return Math.round(s*255)<<24|Math.round(l*255)<<16|Math.round(u*255)<<8}function D0(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function cz(n){return(parseFloat(n)%360+360)%360/360}function fz(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function rC(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function dz(n){let e=Boe(n);if(e===null)return n;e=e||0;const t=(e&4278190080)>>>24,i=(e&16711680)>>>16,r=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${i}, ${r}, ${s})`}var W1=(n,e,t)=>{if(Xt.fun(n))return n;if(Xt.arr(n))return W1({range:n,output:e,extrapolate:t});if(Xt.str(n.output[0]))return V3(n);const i=n,r=i.output,s=i.range||[0,1],l=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",h=i.easing||(f=>f);return f=>{const p=Hoe(f,s);return zoe(f,s[p],s[p+1],r[p],r[p+1],h,l,u,i.map)}};function zoe(n,e,t,i,r,s,l,u,h){let f=h?h(n):n;if(f<e){if(l==="identity")return f;l==="clamp"&&(f=e)}if(f>t){if(u==="identity")return f;u==="clamp"&&(f=t)}return i===r?i:e===t?n<=e?i:r:(e===-1/0?f=-f:t===1/0?f=f-e:f=(f-e)/(t-e),f=s(f),i===-1/0?f=-f:r===1/0?f=f+i:f=f*(r-i)+i,f)}function Hoe(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var joe=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const i=t*n,r=e==="end"?Math.floor(i):Math.ceil(i);return Roe(0,1,r/n)},aA=1.70158,aC=aA*1.525,hz=aA+1,pz=2*Math.PI/3,mz=2*Math.PI/4.5,sC=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,Goe={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>hz*n*n*n-aA*n*n,easeOutBack:n=>1+hz*Math.pow(n-1,3)+aA*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((aC+1)*2*n-aC)/2:(Math.pow(2*n-2,2)*((aC+1)*(n*2-2)+aC)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*pz),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*pz)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*mz))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*mz)/2+1,easeInBounce:n=>1-sC(1-n),easeOutBounce:sC,easeInOutBounce:n=>n<.5?(1-sC(1-2*n))/2:(1+sC(2*n-1))/2,steps:joe},Y1=Symbol.for("FluidValue.get"),ix=Symbol.for("FluidValue.observers"),uu=n=>!!(n&&n[Y1]),Bo=n=>n&&n[Y1]?n[Y1]():n,vz=n=>n[ix]||null;function Woe(n,e){n.eventObserved?n.eventObserved(e):n(e)}function X1(n,e){const t=n[ix];t&&t.forEach(i=>{Woe(i,e)})}var h6=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");Yoe(this,n)}},Yoe=(n,e)=>p6(n,Y1,e);function px(n,e){if(n[Y1]){let t=n[ix];t||p6(n,ix,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function q1(n,e){const t=n[ix];if(t&&t.has(e)){const i=t.size-1;i?t.delete(e):n[ix]=null,n.observerRemoved&&n.observerRemoved(i,e)}}var p6=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),RC=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Xoe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,gz=new RegExp(`(${RC.source})(%|[a-z]+)`,"i"),qoe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,oR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,m6=n=>{const[e,t]=$oe(n);if(!e||I3())return n;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(t&&t.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r||n}else{if(t&&oR.test(t))return m6(t);if(t)return t}return n},$oe=n=>{const e=oR.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]},bP,Koe=(n,e,t,i,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${r})`,v6=n=>{bP||(bP=Gp?new RegExp(`(${Object.keys(Gp).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(s=>Bo(s).replace(oR,m6).replace(Xoe,dz).replace(bP,dz)),t=e.map(s=>s.match(RC).map(Number)),r=t[0].map((s,l)=>t.map(u=>{if(!(l in u))throw Error('The arity of each "output" value must be equal');return u[l]})).map(s=>W1({...n,output:s}));return s=>{var h;const l=!gz.test(e[0])&&((h=e.find(f=>gz.test(f)))==null?void 0:h.replace(RC,""));let u=0;return e[0].replace(RC,()=>`${r[u++](s)}${l||""}`).replace(qoe,Koe)}},B3="react-spring: ",g6=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${B3}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},Zoe=g6(console.warn);function Joe(){Zoe(`${B3}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Qoe=g6(console.warn);function ele(){Qoe(`${B3}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function lR(n){return Xt.str(n)&&(n[0]=="#"||/\d/.test(n)||!I3()&&oR.test(n)||n in(Gp||{}))}var z3=I3()?G.useEffect:G.useLayoutEffect,tle=()=>{const n=G.useRef(!1);return z3(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function y6(){const n=G.useState()[1],e=tle();return()=>{e.current&&n(Math.random())}}function nle(n,e){const[t]=G.useState(()=>({inputs:e,result:n()})),i=G.useRef(),r=i.current;let s=r;return s?e&&s.inputs&&ile(e,s.inputs)||(s={inputs:e,result:n()}):s=t,G.useEffect(()=>{i.current=s,r==t&&(t.inputs=t.result=void 0)},[s]),s.result}function ile(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var b6=n=>G.useEffect(n,rle),rle=[];function yz(n){const e=G.useRef();return G.useEffect(()=>{e.current=n}),e.current}var $1=Symbol.for("Animated:node"),ale=n=>!!n&&n[$1]===n,_f=n=>n&&n[$1],H3=(n,e)=>Moe(n,$1,e),uR=n=>n&&n[$1]&&n[$1].getPayload(),x6=class{constructor(){H3(this,this)}getPayload(){return this.payload||[]}},ET=class extends x6{constructor(n){super(),this._value=n,this.done=!0,this.durationProgress=0,Xt.num(this._value)&&(this.lastPosition=this._value)}static create(n){return new ET(n)}getPayload(){return[this]}getValue(){return this._value}setValue(n,e){return Xt.num(n)&&(this.lastPosition=n,e&&(n=Math.round(n/e)*e,this.done&&(this.lastPosition=n))),this._value===n?!1:(this._value=n,!0)}reset(){const{done:n}=this;this.done=!1,Xt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,n&&(this.lastVelocity=null),this.v0=null)}},K1=class extends ET{constructor(n){super(0),this._string=null,this._toString=W1({output:[n,n]})}static create(n){return new K1(n)}getValue(){const n=this._string;return n??(this._string=this._toString(this._value))}setValue(n){if(Xt.str(n)){if(n==this._string)return!1;this._string=n,this._value=1}else if(super.setValue(n))this._string=null;else return!1;return!0}reset(n){n&&(this._toString=W1({output:[this.getValue(),n]})),this._value=0,super.reset()}},sA={dependencies:null},cR=class extends x6{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const e={};return Lf(this.source,(t,i)=>{ale(t)?e[i]=t.getValue(n):uu(t)?e[i]=Bo(t):n||(e[i]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&xi(this.payload,n=>n.reset())}_makePayload(n){if(n){const e=new Set;return Lf(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){sA.dependencies&&uu(n)&&sA.dependencies.add(n);const e=uR(n);e&&xi(e,t=>this.add(t))}},S6=class extends cR{constructor(n){super(n)}static create(n){return new S6(n)}getValue(){return this.source.map(n=>n.getValue())}setValue(n){const e=this.getPayload();return n.length==e.length?e.map((t,i)=>t.setValue(n[i])).some(Boolean):(super.setValue(n.map(sle)),!0)}};function sle(n){return(lR(n)?K1:ET).create(n)}function ZU(n){const e=_f(n);return e?e.constructor:Xt.arr(n)?S6:lR(n)?K1:ET}var bz=(n,e)=>{const t=!Xt.fun(n)||n.prototype&&n.prototype.isReactComponent;return G.forwardRef((i,r)=>{const s=G.useRef(null),l=t&&G.useCallback(_=>{s.current=ule(r,_)},[r]),[u,h]=lle(i,e),f=y6(),p=()=>{const _=s.current;if(t&&!_)return;(_?e.applyAnimatedValues(_,u.getValue(!0)):!1)===!1&&f()},v=new ole(p,h),y=G.useRef();z3(()=>(y.current=v,xi(h,_=>px(_,v)),()=>{y.current&&(xi(y.current.deps,_=>q1(_,y.current)),$n.cancel(y.current.update))})),G.useEffect(p,[]),b6(()=>()=>{const _=y.current;xi(_.deps,M=>q1(M,_))});const x=e.getComponentProps(u.getValue());return G.createElement(n,{...x,ref:l})})},ole=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&$n.write(this.update)}};function lle(n,e){const t=new Set;return sA.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new cR(n),sA.dependencies=null,[n,t]}function ule(n,e){return n&&(Xt.fun(n)?n(e):n.current=e),e}var xz=Symbol.for("AnimatedComponent"),cle=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new cR(r),getComponentProps:i=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},s=l=>{const u=Sz(l)||"Anonymous";return Xt.str(l)?l=s[l]||(s[l]=bz(l,r)):l=l[xz]||(l[xz]=bz(l,r)),l.displayName=`Animated(${u})`,l};return Lf(n,(l,u)=>{Xt.arr(n)&&(u=Sz(l)),s[u]=s(l)}),{animated:s}},Sz=n=>Xt.str(n)?n:n&&Xt.str(n.displayName)?n.displayName:Xt.fun(n)&&n.name||null;function yg(n,...e){return Xt.fun(n)?n(...e):n}var c1=(n,e)=>n===!0||!!(e&&n&&(Xt.fun(n)?n(e):Dl(n).includes(e))),_6=(n,e)=>Xt.obj(n)?e&&n[e]:n,E6=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,fle=n=>n,j3=(n,e=fle)=>{let t=dle;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));const i={};for(const r of t){const s=e(n[r],r);Xt.und(s)||(i[r]=s)}return i},dle=["config","onProps","onStart","onChange","onPause","onResume","onRest"],hle={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ple(n){const e={};let t=0;if(Lf(n,(i,r)=>{hle[r]||(e[r]=i,t++)}),t)return e}function T6(n){const e=ple(n);if(e){const t={to:e};return Lf(n,(i,r)=>r in e||(t[r]=i)),t}return{...n}}function Z1(n){return n=Bo(n),Xt.arr(n)?n.map(Z1):lR(n)?dc.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function mle(n){for(const e in n)return!0;return!1}function JU(n){return Xt.fun(n)||Xt.arr(n)&&Xt.obj(n[0])}function vle(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function gle(n,e){var t;e&&n.ref!==e&&((t=n.ref)==null||t.delete(n),e.add(n),n.ref=e)}var yle={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},QU={...yle.default,mass:1,damping:1,easing:Goe.linear,clamp:!1},ble=class{constructor(){this.velocity=0,Object.assign(this,QU)}};function xle(n,e,t){t&&(t={...t},_z(t,e),e={...t,...e}),_z(n,e),Object.assign(n,e);for(const l in QU)n[l]==null&&(n[l]=QU[l]);let{frequency:i,damping:r}=n;const{mass:s}=n;return Xt.und(i)||(i<.01&&(i=.01),r<0&&(r=0),n.tension=Math.pow(2*Math.PI/i,2)*s,n.friction=4*Math.PI*r*s/i),n}function _z(n,e){if(!Xt.und(e.decay))n.duration=void 0;else{const t=!Xt.und(e.tension)||!Xt.und(e.friction);(t||!Xt.und(e.frequency)||!Xt.und(e.damping)||!Xt.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}var Ez=[],Sle=class{constructor(){this.changed=!1,this.values=Ez,this.toValues=null,this.fromValues=Ez,this.config=new ble,this.immediate=!1}};function N6(n,{key:e,props:t,defaultProps:i,state:r,actions:s}){return new Promise((l,u)=>{let h,f,p=c1(t.cancel??(i==null?void 0:i.cancel),e);if(p)x();else{Xt.und(t.pause)||(r.paused=c1(t.pause,e));let _=i==null?void 0:i.pause;_!==!0&&(_=r.paused||c1(_,e)),h=yg(t.delay||0,e),_?(r.resumeQueue.add(y),s.pause()):(s.resume(),y())}function v(){r.resumeQueue.add(y),r.timeouts.delete(f),f.cancel(),h=f.time-$n.now()}function y(){h>0&&!dc.skipAnimation?(r.delayed=!0,f=$n.setTimeout(x,h),r.pauseQueue.add(v),r.timeouts.add(f)):x()}function x(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(v),r.timeouts.delete(f),n<=(r.cancelId||0)&&(p=!0);try{s.start({...t,callId:n,cancel:p},l)}catch(_){u(_)}}})}var G3=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?$0(n.get()):e.every(t=>t.noop)?M6(n.get()):ac(n.get(),e.every(t=>t.finished)),M6=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),ac=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),$0=n=>({value:n,cancelled:!0,finished:!1});function w6(n,e,t,i){const{callId:r,parentId:s,onRest:l}=e,{asyncTo:u,promise:h}=t;return!s&&n===u&&!e.reset?h:t.promise=(async()=>{t.asyncId=r,t.asyncTo=n;const f=j3(e,(N,T)=>T==="onRest"?void 0:N);let p,v;const y=new Promise((N,T)=>(p=N,v=T)),x=N=>{const T=r<=(t.cancelId||0)&&$0(i)||r!==t.asyncId&&ac(i,!1);if(T)throw N.result=T,v(N),N},_=(N,T)=>{const A=new Tz,w=new Nz;return(async()=>{if(dc.skipAnimation)throw J1(t),w.result=ac(i,!1),v(w),w;x(A);const L=Xt.obj(N)?{...N}:{...T,to:N};L.parentId=r,Lf(f,(k,V)=>{Xt.und(L[V])&&(L[V]=k)});const U=await i.start(L);return x(A),t.paused&&await new Promise(k=>{t.resumeQueue.add(k)}),U})()};let M;if(dc.skipAnimation)return J1(t),ac(i,!1);try{let N;Xt.arr(n)?N=(async T=>{for(const A of T)await _(A)})(n):N=Promise.resolve(n(_,i.stop.bind(i))),await Promise.all([N.then(p),y]),M=ac(i.get(),!0,!1)}catch(N){if(N instanceof Tz)M=N.result;else if(N instanceof Nz)M=N.result;else throw N}finally{r==t.asyncId&&(t.asyncId=s,t.asyncTo=s?u:void 0,t.promise=s?h:void 0)}return Xt.fun(l)&&$n.batchedUpdates(()=>{l(M,i,i.item)}),M})()}function J1(n,e){l1(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}var Tz=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Nz=class extends Error{constructor(){super("SkipAnimationSignal")}},eO=n=>n instanceof W3,_le=1,W3=class extends h6{constructor(){super(...arguments),this.id=_le++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=_f(this);return n&&n.getValue()}to(...n){return dc.to(this,n)}interpolate(...n){return Joe(),dc.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,e=!1){X1(this,{type:"change",parent:this,value:n,idle:e})}_onPriorityChange(n){this.idle||aR.sort(this),X1(this,{type:"priority",parent:this,priority:n})}},Vg=Symbol.for("SpringPhase"),C6=1,tO=2,nO=4,xP=n=>(n[Vg]&C6)>0,Lp=n=>(n[Vg]&tO)>0,HE=n=>(n[Vg]&nO)>0,Mz=(n,e)=>e?n[Vg]|=tO|C6:n[Vg]&=~tO,wz=(n,e)=>e?n[Vg]|=nO:n[Vg]&=~nO,Ele=class extends W3{constructor(n,e){if(super(),this.animation=new Sle,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Xt.und(n)||!Xt.und(e)){const t=Xt.obj(n)?{...n}:{...e,from:n};Xt.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(Lp(this)||this._state.asyncTo)||HE(this)}get goal(){return Bo(this.animation.to)}get velocity(){const n=_f(this);return n instanceof ET?n.lastVelocity||0:n.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return xP(this)}get isAnimating(){return Lp(this)}get isPaused(){return HE(this)}get isDelayed(){return this._state.delayed}advance(n){let e=!0,t=!1;const i=this.animation;let{toValues:r}=i;const{config:s}=i,l=uR(i.to);!l&&uu(i.to)&&(r=Dl(Bo(i.to))),i.values.forEach((f,p)=>{if(f.done)return;const v=f.constructor==K1?1:l?l[p].lastPosition:r[p];let y=i.immediate,x=v;if(!y){if(x=f.lastPosition,s.tension<=0){f.done=!0;return}let _=f.elapsedTime+=n;const M=i.fromValues[p],N=f.v0!=null?f.v0:f.v0=Xt.arr(s.velocity)?s.velocity[p]:s.velocity;let T;const A=s.precision||(M==v?.005:Math.min(1,Math.abs(v-M)*.001));if(Xt.und(s.duration))if(s.decay){const w=s.decay===!0?.998:s.decay,L=Math.exp(-(1-w)*_);x=M+N/(1-w)*(1-L),y=Math.abs(f.lastPosition-x)<=A,T=N*L}else{T=f.lastVelocity==null?N:f.lastVelocity;const w=s.restVelocity||A/10,L=s.clamp?0:s.bounce,U=!Xt.und(L),k=M==v?f.v0>0:M<v;let V,H=!1;const P=1,I=Math.ceil(n/P);for(let q=0;q<I&&(V=Math.abs(T)>w,!(!V&&(y=Math.abs(v-x)<=A,y)));++q){U&&(H=x==v||x>v==k,H&&(T=-T*L,x=v));const j=-s.tension*1e-6*(x-v),J=-s.friction*.001*T,W=(j+J)/s.mass;T=T+W*P,x=x+T*P}}else{let w=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,f.durationProgress>0&&(f.elapsedTime=s.duration*f.durationProgress,_=f.elapsedTime+=n)),w=(s.progress||0)+_/this._memoizedDuration,w=w>1?1:w<0?0:w,f.durationProgress=w),x=M+s.easing(w)*(v-M),T=(x-f.lastPosition)/n,y=w==1}f.lastVelocity=T,Number.isNaN(x)&&(console.warn("Got NaN while animating:",this),y=!0)}l&&!l[p].done&&(y=!1),y?f.done=!0:e=!1,f.setValue(x,s.round)&&(t=!0)});const u=_f(this),h=u.getValue();if(e){const f=Bo(i.to);(h!==f||t)&&!s.decay?(u.setValue(f),this._onChange(f)):t&&s.decay&&this._onChange(h),this._stop()}else t&&this._onChange(h)}set(n){return $n.batchedUpdates(()=>{this._stop(),this._focus(n),this._set(n)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Lp(this)){const{to:n,config:e}=this.animation;$n.batchedUpdates(()=>{this._onStart(),e.decay||this._set(n,!1),this._stop()})}return this}update(n){return(this.queue||(this.queue=[])).push(n),this}start(n,e){let t;return Xt.und(n)?(t=this.queue||[],this.queue=[]):t=[Xt.obj(n)?n:{...e,to:n}],Promise.all(t.map(i=>this._update(i))).then(i=>G3(this,i))}stop(n){const{to:e}=this.animation;return this._focus(this.get()),J1(this._state,n&&this._lastCallId),$n.batchedUpdates(()=>this._stop(e,n)),this}reset(){this._update({reset:!0})}eventObserved(n){n.type=="change"?this._start():n.type=="priority"&&(this.priority=n.priority+1)}_prepareNode(n){const e=this.key||"";let{to:t,from:i}=n;t=Xt.obj(t)?t[e]:t,(t==null||JU(t))&&(t=void 0),i=Xt.obj(i)?i[e]:i,i==null&&(i=void 0);const r={to:t,from:i};return xP(this)||(n.reverse&&([t,i]=[i,t]),i=Bo(i),Xt.und(i)?_f(this)||this._set(t):this._set(i)),r}_update({...n},e){const{key:t,defaultProps:i}=this;n.default&&Object.assign(i,j3(n,(l,u)=>/^on/.test(u)?_6(l,t):l)),Az(this,n,"onProps"),GE(this,"onProps",n,this);const r=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return N6(++this._lastCallId,{key:t,props:n,defaultProps:i,state:s,actions:{pause:()=>{HE(this)||(wz(this,!0),ZE(s.pauseQueue),GE(this,"onPause",ac(this,jE(this,this.animation.to)),this))},resume:()=>{HE(this)&&(wz(this,!1),Lp(this)&&this._resume(),ZE(s.resumeQueue),GE(this,"onResume",ac(this,jE(this,this.animation.to)),this))},start:this._merge.bind(this,r)}}).then(l=>{if(n.loop&&l.finished&&!(e&&l.noop)){const u=A6(n);if(u)return this._update(u,!0)}return l})}_merge(n,e,t){if(e.cancel)return this.stop(!0),t($0(this));const i=!Xt.und(n.to),r=!Xt.und(n.from);if(i||r)if(e.callId>this._lastToId)this._lastToId=e.callId;else return t($0(this));const{key:s,defaultProps:l,animation:u}=this,{to:h,from:f}=u;let{to:p=h,from:v=f}=n;r&&!i&&(!e.default||Xt.und(p))&&(p=v),e.reverse&&([p,v]=[v,p]);const y=!Zd(v,f);y&&(u.from=v),v=Bo(v);const x=!Zd(p,h);x&&this._focus(p);const _=JU(e.to),{config:M}=u,{decay:N,velocity:T}=M;(i||r)&&(M.velocity=0),e.config&&!_&&xle(M,yg(e.config,s),e.config!==l.config?yg(l.config,s):void 0);let A=_f(this);if(!A||Xt.und(p))return t(ac(this,!0));const w=Xt.und(e.reset)?r&&!e.default:!Xt.und(v)&&c1(e.reset,s),L=w?v:this.get(),U=Z1(p),k=Xt.num(U)||Xt.arr(U)||lR(U),V=!_&&(!k||c1(l.immediate||e.immediate,s));if(x){const q=ZU(p);if(q!==A.constructor)if(V)A=this._set(U);else throw Error(`Cannot animate between ${A.constructor.name} and ${q.name}, as the "to" prop suggests`)}const H=A.constructor;let P=uu(p),I=!1;if(!P){const q=w||!xP(this)&&y;(x||q)&&(I=Zd(Z1(L),U),P=!I),(!Zd(u.immediate,V)&&!V||!Zd(M.decay,N)||!Zd(M.velocity,T))&&(P=!0)}if(I&&Lp(this)&&(u.changed&&!w?P=!0:P||this._stop(h)),!_&&((P||uu(h))&&(u.values=A.getPayload(),u.toValues=uu(p)?null:H==K1?[1]:Dl(U)),u.immediate!=V&&(u.immediate=V,!V&&!w&&this._set(h)),P)){const{onRest:q}=u;xi(Nle,J=>Az(this,e,J));const j=ac(this,jE(this,h));ZE(this._pendingCalls,j),this._pendingCalls.add(t),u.changed&&$n.batchedUpdates(()=>{var J;u.changed=!w,q==null||q(j,this),w?yg(l.onRest,j):(J=u.onStart)==null||J.call(u,j,this)})}w&&this._set(L),_?t(w6(e.to,e,this._state,this)):P?this._start():Lp(this)&&!x?this._pendingCalls.add(t):t(M6(L))}_focus(n){const e=this.animation;n!==e.to&&(vz(this)&&this._detach(),e.to=n,vz(this)&&this._attach())}_attach(){let n=0;const{to:e}=this.animation;uu(e)&&(px(e,this),eO(e)&&(n=e.priority+1)),this.priority=n}_detach(){const{to:n}=this.animation;uu(n)&&q1(n,this)}_set(n,e=!0){const t=Bo(n);if(!Xt.und(t)){const i=_f(this);if(!i||!Zd(t,i.getValue())){const r=ZU(t);!i||i.constructor!=r?H3(this,r.create(t)):i.setValue(t),i&&$n.batchedUpdates(()=>{this._onChange(t,e)})}}return _f(this)}_onStart(){const n=this.animation;n.changed||(n.changed=!0,GE(this,"onStart",ac(this,jE(this,n.to)),this))}_onChange(n,e){e||(this._onStart(),yg(this.animation.onChange,n,this)),yg(this.defaultProps.onChange,n,this),super._onChange(n,e)}_start(){const n=this.animation;_f(this).reset(Bo(n.to)),n.immediate||(n.fromValues=n.values.map(e=>e.lastPosition)),Lp(this)||(Mz(this,!0),HE(this)||this._resume())}_resume(){dc.skipAnimation?this.finish():aR.start(this)}_stop(n,e){if(Lp(this)){Mz(this,!1);const t=this.animation;xi(t.values,r=>{r.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),X1(this,{type:"idle",parent:this});const i=e?$0(this.get()):ac(this.get(),jE(this,n??t.to));ZE(this._pendingCalls,i),t.changed&&(t.changed=!1,GE(this,"onRest",i,this))}}};function jE(n,e){const t=Z1(e),i=Z1(n.get());return Zd(i,t)}function A6(n,e=n.loop,t=n.to){const i=yg(e);if(i){const r=i!==!0&&T6(i),s=(r||n).reverse,l=!r||r.reset;return Q1({...n,loop:e,default:!1,pause:void 0,to:!s||JU(t)?t:void 0,from:l?n.from:void 0,reset:l,...r})}}function Q1(n){const{to:e,from:t}=n=T6(n),i=new Set;return Xt.obj(e)&&Cz(e,i),Xt.obj(t)&&Cz(t,i),n.keys=i.size?Array.from(i):null,n}function Tle(n){const e=Q1(n);return Xt.und(e.default)&&(e.default=j3(e)),e}function Cz(n,e){Lf(n,(t,i)=>t!=null&&e.add(i))}var Nle=["onStart","onRest","onChange","onPause","onResume"];function Az(n,e,t){n.animation[t]=e[t]!==E6(e,t)?_6(e[t],n.key):void 0}function GE(n,e,...t){var i,r,s,l;(r=(i=n.animation)[e])==null||r.call(i,...t),(l=(s=n.defaultProps)[e])==null||l.call(s,...t)}var Mle=["onStart","onChange","onRest"],wle=1,Cle=class{constructor(n,e){this.id=wle++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){const n={};return this.each((e,t)=>n[t]=e.get()),n}set(n){for(const e in n){const t=n[e];Xt.und(t)||this.springs[e].set(t)}}update(n){return n&&this.queue.push(Q1(n)),this}start(n){let{queue:e}=this;return n?e=Dl(n).map(Q1):this.queue=[],this._flush?this._flush(this,e):(U6(this,e),iO(this,e))}stop(n,e){if(n!==!!n&&(e=n),e){const t=this.springs;xi(Dl(e),i=>t[i].stop(!!n))}else J1(this._state,this._lastAsyncId),this.each(t=>t.stop(!!n));return this}pause(n){if(Xt.und(n))this.start({pause:!0});else{const e=this.springs;xi(Dl(n),t=>e[t].pause())}return this}resume(n){if(Xt.und(n))this.start({pause:!1});else{const e=this.springs;xi(Dl(n),t=>e[t].resume())}return this}each(n){Lf(this.springs,n)}_onFrame(){const{onStart:n,onChange:e,onRest:t}=this._events,i=this._active.size>0,r=this._changed.size>0;(i&&!this._started||r&&!this._started)&&(this._started=!0,l1(n,([u,h])=>{h.value=this.get(),u(h,this,this._item)}));const s=!i&&this._started,l=r||s&&t.size?this.get():null;r&&e.size&&l1(e,([u,h])=>{h.value=l,u(h,this,this._item)}),s&&(this._started=!1,l1(t,([u,h])=>{h.value=l,u(h,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;$n.onFrame(this._onFrame)}};function iO(n,e){return Promise.all(e.map(t=>R6(n,t))).then(t=>G3(n,t))}async function R6(n,e,t){const{keys:i,to:r,from:s,loop:l,onRest:u,onResolve:h}=e,f=Xt.obj(e.default)&&e.default;l&&(e.loop=!1),r===!1&&(e.to=null),s===!1&&(e.from=null);const p=Xt.arr(r)||Xt.fun(r)?r:void 0;p?(e.to=void 0,e.onRest=void 0,f&&(f.onRest=void 0)):xi(Mle,M=>{const N=e[M];if(Xt.fun(N)){const T=n._events[M];e[M]=({finished:A,cancelled:w})=>{const L=T.get(N);L?(A||(L.finished=!1),w&&(L.cancelled=!0)):T.set(N,{value:null,finished:A||!1,cancelled:w||!1})},f&&(f[M]=e[M])}});const v=n._state;e.pause===!v.paused?(v.paused=e.pause,ZE(e.pause?v.pauseQueue:v.resumeQueue)):v.paused&&(e.pause=!0);const y=(i||Object.keys(n.springs)).map(M=>n.springs[M].start(e)),x=e.cancel===!0||E6(e,"cancel")===!0;(p||x&&v.asyncId)&&y.push(N6(++n._lastAsyncId,{props:e,state:v,actions:{pause:$U,resume:$U,start(M,N){x?(J1(v,n._lastAsyncId),N($0(n))):(M.onRest=u,N(w6(p,M,v,n)))}}})),v.paused&&await new Promise(M=>{v.resumeQueue.add(M)});const _=G3(n,await Promise.all(y));if(l&&_.finished&&!(t&&_.noop)){const M=A6(e,l,r);if(M)return U6(n,[M]),R6(n,M,!0)}return h&&$n.batchedUpdates(()=>h(_,n,n.item)),_}function Rz(n,e){const t={...n.springs};return e&&xi(Dl(e),i=>{Xt.und(i.keys)&&(i=Q1(i)),Xt.obj(i.to)||(i={...i,to:void 0}),P6(t,i,r=>L6(r))}),D6(n,t),t}function D6(n,e){Lf(e,(t,i)=>{n.springs[i]||(n.springs[i]=t,px(t,n))})}function L6(n,e){const t=new Ele;return t.key=n,e&&px(t,e),t}function P6(n,e,t){e.keys&&xi(e.keys,i=>{(n[i]||(n[i]=t(i)))._prepareNode(e)})}function U6(n,e){xi(e,t=>{P6(n.springs,t,i=>L6(i,n))})}var fR=({children:n,...e})=>{const t=G.useContext(oA),i=e.pause||!!t.pause,r=e.immediate||!!t.immediate;e=nle(()=>({pause:i,immediate:r}),[i,r]);const{Provider:s}=oA;return G.createElement(s,{value:e},n)},oA=Ale(fR,{});fR.Provider=oA.Provider;fR.Consumer=oA.Consumer;function Ale(n,e){return Object.assign(n,G.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}var Rle=()=>{const n=[],e=function(i){ele();const r=[];return xi(n,(s,l)=>{if(Xt.und(i))r.push(s.start());else{const u=t(i,s,l);u&&r.push(s.start(u))}}),r};e.current=n,e.add=function(i){n.includes(i)||n.push(i)},e.delete=function(i){const r=n.indexOf(i);~r&&n.splice(r,1)},e.pause=function(){return xi(n,i=>i.pause(...arguments)),this},e.resume=function(){return xi(n,i=>i.resume(...arguments)),this},e.set=function(i){xi(n,(r,s)=>{const l=Xt.fun(i)?i(s,r):i;l&&r.set(l)})},e.start=function(i){const r=[];return xi(n,(s,l)=>{if(Xt.und(i))r.push(s.start());else{const u=this._getProps(i,s,l);u&&r.push(s.start(u))}}),r},e.stop=function(){return xi(n,i=>i.stop(...arguments)),this},e.update=function(i){return xi(n,(r,s)=>r.update(this._getProps(i,r,s))),this};const t=function(i,r,s){return Xt.fun(i)?i(s,r):i};return e._getProps=t,e};function Dle(n,e,t){const i=Xt.fun(e)&&e;i&&!t&&(t=[]);const r=G.useMemo(()=>i||arguments.length==3?Rle():void 0,[]),s=G.useRef(0),l=y6(),u=G.useMemo(()=>({ctrls:[],queue:[],flush(T,A){const w=Rz(T,A);return s.current>0&&!u.queue.length&&!Object.keys(w).some(U=>!T.springs[U])?iO(T,A):new Promise(U=>{D6(T,w),u.queue.push(()=>{U(iO(T,A))}),l()})}}),[]),h=G.useRef([...u.ctrls]),f=[],p=yz(n)||0;G.useMemo(()=>{xi(h.current.slice(n,p),T=>{vle(T,r),T.stop(!0)}),h.current.length=n,v(p,n)},[n]),G.useMemo(()=>{v(0,Math.min(p,n))},t);function v(T,A){for(let w=T;w<A;w++){const L=h.current[w]||(h.current[w]=new Cle(null,u.flush)),U=i?i(w,L):e[w];U&&(f[w]=Tle(U))}}const y=h.current.map((T,A)=>Rz(T,f[A])),x=G.useContext(fR),_=yz(x),M=x!==_&&mle(x);z3(()=>{s.current++,u.ctrls=h.current;const{queue:T}=u;T.length&&(u.queue=[],xi(T,A=>A())),xi(h.current,(A,w)=>{r==null||r.add(A),M&&A.start({default:x});const L=f[w];L&&(gle(A,L.ref),A.ref?A.queue.push(L):A.start(L))})}),b6(()=>()=>{xi(u.ctrls,T=>T.stop(!0))});const N=y.map(T=>({...T}));return r?[N,r]:N}function Lle(n,e){const t=Xt.fun(n),[[i],r]=Dle(1,t?n:[n],t?e||[]:e);return t||arguments.length==2?[i,r]:i}var Ple=class extends W3{constructor(n,e){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=W1(...e);const t=this._get(),i=ZU(t);H3(this,i.create(t))}advance(n){const e=this._get(),t=this.get();Zd(e,t)||(_f(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&Dz(this._active)&&SP(this)}_get(){const n=Xt.arr(this.source)?this.source.map(Bo):Dl(Bo(this.source));return this.calc(...n)}_start(){this.idle&&!Dz(this._active)&&(this.idle=!1,xi(uR(this),n=>{n.done=!1}),dc.skipAnimation?($n.batchedUpdates(()=>this.advance()),SP(this)):aR.start(this))}_attach(){let n=1;xi(Dl(this.source),e=>{uu(e)&&px(e,this),eO(e)&&(e.idle||this._active.add(e),n=Math.max(n,e.priority+1))}),this.priority=n,this._start()}_detach(){xi(Dl(this.source),n=>{uu(n)&&q1(n,this)}),this._active.clear(),SP(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=Dl(this.source).reduce((e,t)=>Math.max(e,(eO(t)?t.priority:0)+1),0))}};function Ule(n){return n.idle!==!1}function Dz(n){return!n.size||Array.from(n).every(Ule)}function SP(n){n.idle||(n.idle=!0,xi(uR(n),e=>{e.done=!0}),X1(n,{type:"idle",parent:n}))}dc.assign({createStringInterpolator:v6,to:(n,e)=>new Ple(n,e)});const O6=(()=>parseInt(ux.replace(/\D+/g,"")))(),F6=O6>=125?"uv1":"uv2";var Ole=Object.defineProperty,Fle=(n,e,t)=>e in n?Ole(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ile=(n,e,t)=>(Fle(n,typeof e!="symbol"?e+"":e,t),t);class Vle{constructor(){Ile(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,l=r.length;s<l;s++)r[s].call(this,e);e.target=null}}}var kle=Object.defineProperty,Ble=(n,e,t)=>e in n?kle(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,An=(n,e,t)=>(Ble(n,typeof e!="symbol"?e+"":e,t),t);const oC=new jg,Lz=new Jd,zle=Math.cos(70*(Math.PI/180)),Pz=(n,e)=>(n%e+e)%e;let Hle=class extends Vle{constructor(e,t){super(),An(this,"object"),An(this,"domElement"),An(this,"enabled",!0),An(this,"target",new fe),An(this,"minDistance",0),An(this,"maxDistance",1/0),An(this,"minZoom",0),An(this,"maxZoom",1/0),An(this,"minPolarAngle",0),An(this,"maxPolarAngle",Math.PI),An(this,"minAzimuthAngle",-1/0),An(this,"maxAzimuthAngle",1/0),An(this,"enableDamping",!1),An(this,"dampingFactor",.05),An(this,"enableZoom",!0),An(this,"zoomSpeed",1),An(this,"enableRotate",!0),An(this,"rotateSpeed",1),An(this,"enablePan",!0),An(this,"panSpeed",1),An(this,"screenSpacePanning",!0),An(this,"keyPanSpeed",7),An(this,"zoomToCursor",!1),An(this,"autoRotate",!1),An(this,"autoRotateSpeed",2),An(this,"reverseOrbit",!1),An(this,"reverseHorizontalOrbit",!1),An(this,"reverseVerticalOrbit",!1),An(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),An(this,"mouseButtons",{LEFT:dg.ROTATE,MIDDLE:dg.DOLLY,RIGHT:dg.PAN}),An(this,"touches",{ONE:hg.ROTATE,TWO:hg.DOLLY_PAN}),An(this,"target0"),An(this,"position0"),An(this,"zoom0"),An(this,"_domElementKeyEvents",null),An(this,"getPolarAngle"),An(this,"getAzimuthalAngle"),An(this,"setPolarAngle"),An(this,"setAzimuthalAngle"),An(this,"getDistance"),An(this,"getZoomScale"),An(this,"listenToKeyEvents"),An(this,"stopListenToKeyEvents"),An(this,"saveState"),An(this,"reset"),An(this,"update"),An(this,"connect"),An(this,"dispose"),An(this,"dollyIn"),An(this,"dollyOut"),An(this,"getScale"),An(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>p.phi,this.getAzimuthalAngle=()=>p.theta,this.setPolarAngle=pe=>{let Pe=Pz(pe,2*Math.PI),He=p.phi;He<0&&(He+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let Ee=Math.abs(Pe-He);2*Math.PI-Ee<Ee&&(Pe<He?Pe+=2*Math.PI:He+=2*Math.PI),v.phi=Pe-He,i.update()},this.setAzimuthalAngle=pe=>{let Pe=Pz(pe,2*Math.PI),He=p.theta;He<0&&(He+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let Ee=Math.abs(Pe-He);2*Math.PI-Ee<Ee&&(Pe<He?Pe+=2*Math.PI:He+=2*Math.PI),v.theta=Pe-He,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=pe=>{pe.addEventListener("keydown",Qe),this._domElementKeyEvents=pe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Qe),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),h=u.NONE},this.update=(()=>{const pe=new fe,Pe=new fe(0,1,0),He=new Ws().setFromUnitVectors(e.up,Pe),Ee=He.clone().invert(),gt=new fe,me=new Ws,at=2*Math.PI;return function(){const We=i.object.position;He.setFromUnitVectors(e.up,Pe),Ee.copy(He).invert(),pe.copy(We).sub(i.target),pe.applyQuaternion(He),p.setFromVector3(pe),i.autoRotate&&h===u.NONE&&W(j()),i.enableDamping?(p.theta+=v.theta*i.dampingFactor,p.phi+=v.phi*i.dampingFactor):(p.theta+=v.theta,p.phi+=v.phi);let Et=i.minAzimuthAngle,Vt=i.maxAzimuthAngle;isFinite(Et)&&isFinite(Vt)&&(Et<-Math.PI?Et+=at:Et>Math.PI&&(Et-=at),Vt<-Math.PI?Vt+=at:Vt>Math.PI&&(Vt-=at),Et<=Vt?p.theta=Math.max(Et,Math.min(Vt,p.theta)):p.theta=p.theta>(Et+Vt)/2?Math.max(Et,p.theta):Math.min(Vt,p.theta)),p.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,p.phi)),p.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(x,i.dampingFactor):i.target.add(x),i.zoomToCursor&&P||i.object.isOrthographicCamera?p.radius=le(p.radius):p.radius=le(p.radius*y),pe.setFromSpherical(p),pe.applyQuaternion(Ee),We.copy(i.target).add(pe),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(v.theta*=1-i.dampingFactor,v.phi*=1-i.dampingFactor,x.multiplyScalar(1-i.dampingFactor)):(v.set(0,0,0),x.set(0,0,0));let Rt=!1;if(i.zoomToCursor&&P){let ln=null;if(i.object instanceof Or&&i.object.isPerspectiveCamera){const Mn=pe.length();ln=le(Mn*y);const dn=Mn-ln;i.object.position.addScaledVector(V,dn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Mn=new fe(H.x,H.y,0);Mn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix(),Rt=!0;const dn=new fe(H.x,H.y,0);dn.unproject(i.object),i.object.position.sub(dn).add(Mn),i.object.updateMatrixWorld(),ln=pe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;ln!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(ln).add(i.object.position):(oC.origin.copy(i.object.position),oC.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(oC.direction))<zle?e.lookAt(i.target):(Lz.setFromNormalAndCoplanarPoint(i.object.up,i.target),oC.intersectPlane(Lz,i.target))))}else i.object instanceof Af&&i.object.isOrthographicCamera&&(Rt=y!==1,Rt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix()));return y=1,P=!1,Rt||gt.distanceToSquared(i.object.position)>f||8*(1-me.dot(i.object.quaternion))>f?(i.dispatchEvent(r),gt.copy(i.object.position),me.copy(i.object.quaternion),Rt=!1,!0):!1}})(),this.connect=pe=>{i.domElement=pe,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",ue),i.domElement.addEventListener("pointerdown",Lt),i.domElement.addEventListener("pointercancel",K),i.domElement.addEventListener("wheel",Ue)},this.dispose=()=>{var pe,Pe,He,Ee,gt,me;i.domElement&&(i.domElement.style.touchAction="auto"),(pe=i.domElement)==null||pe.removeEventListener("contextmenu",ue),(Pe=i.domElement)==null||Pe.removeEventListener("pointerdown",Lt),(He=i.domElement)==null||He.removeEventListener("pointercancel",K),(Ee=i.domElement)==null||Ee.removeEventListener("wheel",Ue),(gt=i.domElement)==null||gt.ownerDocument.removeEventListener("pointermove",Q),(me=i.domElement)==null||me.ownerDocument.removeEventListener("pointerup",K),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Qe)};const i=this,r={type:"change"},s={type:"start"},l={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=u.NONE;const f=1e-6,p=new GU,v=new GU;let y=1;const x=new fe,_=new wt,M=new wt,N=new wt,T=new wt,A=new wt,w=new wt,L=new wt,U=new wt,k=new wt,V=new fe,H=new wt;let P=!1;const I=[],q={};function j(){return 2*Math.PI/60/60*i.autoRotateSpeed}function J(){return Math.pow(.95,i.zoomSpeed)}function W(pe){i.reverseOrbit||i.reverseHorizontalOrbit?v.theta+=pe:v.theta-=pe}function se(pe){i.reverseOrbit||i.reverseVerticalOrbit?v.phi+=pe:v.phi-=pe}const te=(()=>{const pe=new fe;return function(He,Ee){pe.setFromMatrixColumn(Ee,0),pe.multiplyScalar(-He),x.add(pe)}})(),ae=(()=>{const pe=new fe;return function(He,Ee){i.screenSpacePanning===!0?pe.setFromMatrixColumn(Ee,1):(pe.setFromMatrixColumn(Ee,0),pe.crossVectors(i.object.up,pe)),pe.multiplyScalar(He),x.add(pe)}})(),ge=(()=>{const pe=new fe;return function(He,Ee){const gt=i.domElement;if(gt&&i.object instanceof Or&&i.object.isPerspectiveCamera){const me=i.object.position;pe.copy(me).sub(i.target);let at=pe.length();at*=Math.tan(i.object.fov/2*Math.PI/180),te(2*He*at/gt.clientHeight,i.object.matrix),ae(2*Ee*at/gt.clientHeight,i.object.matrix)}else gt&&i.object instanceof Af&&i.object.isOrthographicCamera?(te(He*(i.object.right-i.object.left)/i.object.zoom/gt.clientWidth,i.object.matrix),ae(Ee*(i.object.top-i.object.bottom)/i.object.zoom/gt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ve(pe){i.object instanceof Or&&i.object.isPerspectiveCamera||i.object instanceof Af&&i.object.isOrthographicCamera?y=pe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ce(pe){ve(y/pe)}function Y(pe){ve(y*pe)}function ee(pe){if(!i.zoomToCursor||!i.domElement)return;P=!0;const Pe=i.domElement.getBoundingClientRect(),He=pe.clientX-Pe.left,Ee=pe.clientY-Pe.top,gt=Pe.width,me=Pe.height;H.x=He/gt*2-1,H.y=-(Ee/me)*2+1,V.set(H.x,H.y,1).unproject(i.object).sub(i.object.position).normalize()}function le(pe){return Math.max(i.minDistance,Math.min(i.maxDistance,pe))}function ye(pe){_.set(pe.clientX,pe.clientY)}function be(pe){ee(pe),L.set(pe.clientX,pe.clientY)}function we(pe){T.set(pe.clientX,pe.clientY)}function Oe(pe){M.set(pe.clientX,pe.clientY),N.subVectors(M,_).multiplyScalar(i.rotateSpeed);const Pe=i.domElement;Pe&&(W(2*Math.PI*N.x/Pe.clientHeight),se(2*Math.PI*N.y/Pe.clientHeight)),_.copy(M),i.update()}function De(pe){U.set(pe.clientX,pe.clientY),k.subVectors(U,L),k.y>0?ce(J()):k.y<0&&Y(J()),L.copy(U),i.update()}function st(pe){A.set(pe.clientX,pe.clientY),w.subVectors(A,T).multiplyScalar(i.panSpeed),ge(w.x,w.y),T.copy(A),i.update()}function dt(pe){ee(pe),pe.deltaY<0?Y(J()):pe.deltaY>0&&ce(J()),i.update()}function ze(pe){let Pe=!1;switch(pe.code){case i.keys.UP:ge(0,i.keyPanSpeed),Pe=!0;break;case i.keys.BOTTOM:ge(0,-i.keyPanSpeed),Pe=!0;break;case i.keys.LEFT:ge(i.keyPanSpeed,0),Pe=!0;break;case i.keys.RIGHT:ge(-i.keyPanSpeed,0),Pe=!0;break}Pe&&(pe.preventDefault(),i.update())}function ie(){if(I.length==1)_.set(I[0].pageX,I[0].pageY);else{const pe=.5*(I[0].pageX+I[1].pageX),Pe=.5*(I[0].pageY+I[1].pageY);_.set(pe,Pe)}}function $e(){if(I.length==1)T.set(I[0].pageX,I[0].pageY);else{const pe=.5*(I[0].pageX+I[1].pageX),Pe=.5*(I[0].pageY+I[1].pageY);T.set(pe,Pe)}}function Le(){const pe=I[0].pageX-I[1].pageX,Pe=I[0].pageY-I[1].pageY,He=Math.sqrt(pe*pe+Pe*Pe);L.set(0,He)}function je(){i.enableZoom&&Le(),i.enablePan&&$e()}function Ve(){i.enableZoom&&Le(),i.enableRotate&&ie()}function ft(pe){if(I.length==1)M.set(pe.pageX,pe.pageY);else{const He=Be(pe),Ee=.5*(pe.pageX+He.x),gt=.5*(pe.pageY+He.y);M.set(Ee,gt)}N.subVectors(M,_).multiplyScalar(i.rotateSpeed);const Pe=i.domElement;Pe&&(W(2*Math.PI*N.x/Pe.clientHeight),se(2*Math.PI*N.y/Pe.clientHeight)),_.copy(M)}function Ge(pe){if(I.length==1)A.set(pe.pageX,pe.pageY);else{const Pe=Be(pe),He=.5*(pe.pageX+Pe.x),Ee=.5*(pe.pageY+Pe.y);A.set(He,Ee)}w.subVectors(A,T).multiplyScalar(i.panSpeed),ge(w.x,w.y),T.copy(A)}function it(pe){const Pe=Be(pe),He=pe.pageX-Pe.x,Ee=pe.pageY-Pe.y,gt=Math.sqrt(He*He+Ee*Ee);U.set(0,gt),k.set(0,Math.pow(U.y/L.y,i.zoomSpeed)),ce(k.y),L.copy(U)}function vt(pe){i.enableZoom&&it(pe),i.enablePan&&Ge(pe)}function Ye(pe){i.enableZoom&&it(pe),i.enableRotate&&ft(pe)}function Lt(pe){var Pe,He;i.enabled!==!1&&(I.length===0&&((Pe=i.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",Q),(He=i.domElement)==null||He.ownerDocument.addEventListener("pointerup",K)),Te(pe),pe.pointerType==="touch"?Nt(pe):Ne(pe))}function Q(pe){i.enabled!==!1&&(pe.pointerType==="touch"?ht(pe):ut(pe))}function K(pe){var Pe,He,Ee;ke(pe),I.length===0&&((Pe=i.domElement)==null||Pe.releasePointerCapture(pe.pointerId),(He=i.domElement)==null||He.ownerDocument.removeEventListener("pointermove",Q),(Ee=i.domElement)==null||Ee.ownerDocument.removeEventListener("pointerup",K)),i.dispatchEvent(l),h=u.NONE}function Ne(pe){let Pe;switch(pe.button){case 0:Pe=i.mouseButtons.LEFT;break;case 1:Pe=i.mouseButtons.MIDDLE;break;case 2:Pe=i.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case dg.DOLLY:if(i.enableZoom===!1)return;be(pe),h=u.DOLLY;break;case dg.ROTATE:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(i.enablePan===!1)return;we(pe),h=u.PAN}else{if(i.enableRotate===!1)return;ye(pe),h=u.ROTATE}break;case dg.PAN:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(i.enableRotate===!1)return;ye(pe),h=u.ROTATE}else{if(i.enablePan===!1)return;we(pe),h=u.PAN}break;default:h=u.NONE}h!==u.NONE&&i.dispatchEvent(s)}function ut(pe){if(i.enabled!==!1)switch(h){case u.ROTATE:if(i.enableRotate===!1)return;Oe(pe);break;case u.DOLLY:if(i.enableZoom===!1)return;De(pe);break;case u.PAN:if(i.enablePan===!1)return;st(pe);break}}function Ue(pe){i.enabled===!1||i.enableZoom===!1||h!==u.NONE&&h!==u.ROTATE||(pe.preventDefault(),i.dispatchEvent(s),dt(pe),i.dispatchEvent(l))}function Qe(pe){i.enabled===!1||i.enablePan===!1||ze(pe)}function Nt(pe){switch(Ae(pe),I.length){case 1:switch(i.touches.ONE){case hg.ROTATE:if(i.enableRotate===!1)return;ie(),h=u.TOUCH_ROTATE;break;case hg.PAN:if(i.enablePan===!1)return;$e(),h=u.TOUCH_PAN;break;default:h=u.NONE}break;case 2:switch(i.touches.TWO){case hg.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;je(),h=u.TOUCH_DOLLY_PAN;break;case hg.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ve(),h=u.TOUCH_DOLLY_ROTATE;break;default:h=u.NONE}break;default:h=u.NONE}h!==u.NONE&&i.dispatchEvent(s)}function ht(pe){switch(Ae(pe),h){case u.TOUCH_ROTATE:if(i.enableRotate===!1)return;ft(pe),i.update();break;case u.TOUCH_PAN:if(i.enablePan===!1)return;Ge(pe),i.update();break;case u.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;vt(pe),i.update();break;case u.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ye(pe),i.update();break;default:h=u.NONE}}function ue(pe){i.enabled!==!1&&pe.preventDefault()}function Te(pe){I.push(pe)}function ke(pe){delete q[pe.pointerId];for(let Pe=0;Pe<I.length;Pe++)if(I[Pe].pointerId==pe.pointerId){I.splice(Pe,1);return}}function Ae(pe){let Pe=q[pe.pointerId];Pe===void 0&&(Pe=new wt,q[pe.pointerId]=Pe),Pe.set(pe.pageX,pe.pageY)}function Be(pe){const Pe=pe.pointerId===I[0].pointerId?I[1]:I[0];return q[Pe.pointerId]}this.dollyIn=(pe=J())=>{Y(pe),i.update()},this.dollyOut=(pe=J())=>{ce(pe),i.update()},this.getScale=()=>y,this.setScale=pe=>{ve(pe),i.update()},this.getZoomScale=()=>J(),t!==void 0&&this.connect(t),this.update()}};const Uz=new vo,lC=new fe;class Y3 extends iR{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new vn(e,3)),this.setAttribute("uv",new vn(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,i=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),i.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new tA(t,6,1);return this.setAttribute("instanceStart",new Rl(i,3,0)),this.setAttribute("instanceEnd",new Rl(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,t=3){let i;e instanceof Float32Array?i=e:Array.isArray(e)&&(i=new Float32Array(e));const r=new tA(i,t*2,1);return this.setAttribute("instanceColorStart",new Rl(r,t,0)),this.setAttribute("instanceColorEnd",new Rl(r,t,t)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new g3(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vo);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),Uz.setFromBufferAttribute(t),this.boundingBox.union(Uz))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yo),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let s=0,l=e.count;s<l;s++)lC.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(lC)),lC.fromBufferAttribute(t,s),r=Math.max(r,i.distanceToSquared(lC));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class I6 extends Y3{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,i=new Float32Array(2*t);for(let r=0;r<t;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setPositions(i),this}setColors(e,t=3){const i=e.length-t,r=new Float32Array(2*i);if(t===3)for(let s=0;s<i;s+=t)r[2*s]=e[s],r[2*s+1]=e[s+1],r[2*s+2]=e[s+2],r[2*s+3]=e[s+3],r[2*s+4]=e[s+4],r[2*s+5]=e[s+5];else for(let s=0;s<i;s+=t)r[2*s]=e[s],r[2*s+1]=e[s+1],r[2*s+2]=e[s+2],r[2*s+3]=e[s+3],r[2*s+4]=e[s+4],r[2*s+5]=e[s+5],r[2*s+6]=e[s+6],r[2*s+7]=e[s+7];return super.setColors(r,t),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class X3 extends fc{constructor(e){super({type:"LineMaterial",uniforms:F1.clone(F1.merge([Kt.common,Kt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new wt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${O6>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(t){!!t!="USE_DASH"in this.defines&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(t){!!t!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const _P=new hi,Oz=new fe,Fz=new fe,_s=new hi,Es=new hi,bf=new hi,EP=new fe,TP=new Bn,Ns=new PG,Iz=new fe,uC=new vo,cC=new Yo,xf=new hi;let Ef,Dg;function Vz(n,e,t){return xf.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),xf.multiplyScalar(1/xf.w),xf.x=Dg/t.width,xf.y=Dg/t.height,xf.applyMatrix4(n.projectionMatrixInverse),xf.multiplyScalar(1/xf.w),Math.abs(Math.max(xf.x,xf.y))}function jle(n,e){const t=n.matrixWorld,i=n.geometry,r=i.attributes.instanceStart,s=i.attributes.instanceEnd,l=Math.min(i.instanceCount,r.count);for(let u=0,h=l;u<h;u++){Ns.start.fromBufferAttribute(r,u),Ns.end.fromBufferAttribute(s,u),Ns.applyMatrix4(t);const f=new fe,p=new fe;Ef.distanceSqToSegment(Ns.start,Ns.end,p,f),p.distanceTo(f)<Dg*.5&&e.push({point:p,pointOnLine:f,distance:Ef.origin.distanceTo(p),object:n,face:null,faceIndex:u,uv:null,[F6]:null})}}function Gle(n,e,t){const i=e.projectionMatrix,s=n.material.resolution,l=n.matrixWorld,u=n.geometry,h=u.attributes.instanceStart,f=u.attributes.instanceEnd,p=Math.min(u.instanceCount,h.count),v=-e.near;Ef.at(1,bf),bf.w=1,bf.applyMatrix4(e.matrixWorldInverse),bf.applyMatrix4(i),bf.multiplyScalar(1/bf.w),bf.x*=s.x/2,bf.y*=s.y/2,bf.z=0,EP.copy(bf),TP.multiplyMatrices(e.matrixWorldInverse,l);for(let y=0,x=p;y<x;y++){if(_s.fromBufferAttribute(h,y),Es.fromBufferAttribute(f,y),_s.w=1,Es.w=1,_s.applyMatrix4(TP),Es.applyMatrix4(TP),_s.z>v&&Es.z>v)continue;if(_s.z>v){const w=_s.z-Es.z,L=(_s.z-v)/w;_s.lerp(Es,L)}else if(Es.z>v){const w=Es.z-_s.z,L=(Es.z-v)/w;Es.lerp(_s,L)}_s.applyMatrix4(i),Es.applyMatrix4(i),_s.multiplyScalar(1/_s.w),Es.multiplyScalar(1/Es.w),_s.x*=s.x/2,_s.y*=s.y/2,Es.x*=s.x/2,Es.y*=s.y/2,Ns.start.copy(_s),Ns.start.z=0,Ns.end.copy(Es),Ns.end.z=0;const M=Ns.closestPointToPointParameter(EP,!0);Ns.at(M,Iz);const N=Mj.lerp(_s.z,Es.z,M),T=N>=-1&&N<=1,A=EP.distanceTo(Iz)<Dg*.5;if(T&&A){Ns.start.fromBufferAttribute(h,y),Ns.end.fromBufferAttribute(f,y),Ns.start.applyMatrix4(l),Ns.end.applyMatrix4(l);const w=new fe,L=new fe;Ef.distanceSqToSegment(Ns.start,Ns.end,L,w),t.push({point:L,pointOnLine:w,distance:Ef.origin.distanceTo(L),object:n,face:null,faceIndex:y,uv:null,[F6]:null})}}}class V6 extends la{constructor(e=new Y3,t=new X3({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,i=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let l=0,u=0,h=t.count;l<h;l++,u+=2)Oz.fromBufferAttribute(t,l),Fz.fromBufferAttribute(i,l),r[u]=u===0?0:r[u-1],r[u+1]=r[u]+Oz.distanceTo(Fz);const s=new tA(r,2,1);return e.setAttribute("instanceDistanceStart",new Rl(s,1,0)),e.setAttribute("instanceDistanceEnd",new Rl(s,1,1)),this}raycast(e,t){const i=this.material.worldUnits,r=e.camera;r===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Ef=e.ray;const l=this.matrixWorld,u=this.geometry,h=this.material;Dg=h.linewidth+s,u.boundingSphere===null&&u.computeBoundingSphere(),cC.copy(u.boundingSphere).applyMatrix4(l);let f;if(i)f=Dg*.5;else{const v=Math.max(r.near,cC.distanceToPoint(Ef.origin));f=Vz(r,v,h.resolution)}if(cC.radius+=f,Ef.intersectsSphere(cC)===!1)return;u.boundingBox===null&&u.computeBoundingBox(),uC.copy(u.boundingBox).applyMatrix4(l);let p;if(i)p=Dg*.5;else{const v=Math.max(r.near,uC.distanceToPoint(Ef.origin));p=Vz(r,v,h.resolution)}uC.expandByScalar(p),Ef.intersectsBox(uC)!==!1&&(i?jle(this,t):Gle(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(_P),this.material.uniforms.resolution.value.set(_P.z,_P.w))}}class Wle extends V6{constructor(e=new I6,t=new X3({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const Yle=G.forwardRef(function({points:e,color:t=16777215,vertexColors:i,linewidth:r,lineWidth:s,segments:l,dashed:u,...h},f){var p,v;const y=lu(T=>T.size),x=G.useMemo(()=>l?new V6:new Wle,[l]),[_]=G.useState(()=>new X3),M=(i==null||(p=i[0])==null?void 0:p.length)===4?4:3,N=G.useMemo(()=>{const T=l?new Y3:new I6,A=e.map(w=>{const L=Array.isArray(w);return w instanceof fe||w instanceof hi?[w.x,w.y,w.z]:w instanceof wt?[w.x,w.y,0]:L&&w.length===3?[w[0],w[1],w[2]]:L&&w.length===2?[w[0],w[1],0]:w});if(T.setPositions(A.flat()),i){t=16777215;const w=i.map(L=>L instanceof Jt?L.toArray():L);T.setColors(w.flat(),M)}return T},[e,l,i,M]);return G.useLayoutEffect(()=>{x.computeLineDistances()},[e,x]),G.useLayoutEffect(()=>{u?_.defines.USE_DASH="":delete _.defines.USE_DASH,_.needsUpdate=!0},[u,_]),G.useEffect(()=>()=>{N.dispose(),_.dispose()},[N]),G.createElement("primitive",Ul({object:x,ref:f},h),G.createElement("primitive",{object:N,attach:"geometry"}),G.createElement("primitive",Ul({object:_,attach:"material",color:t,vertexColors:!!i,resolution:[y.width,y.height],linewidth:(v=r??s)!==null&&v!==void 0?v:1,dashed:u,transparent:M===4},h)))});function Xle(){var n=Object.create(null);function e(r,s){var l=r.id,u=r.name,h=r.dependencies;h===void 0&&(h=[]);var f=r.init;f===void 0&&(f=function(){});var p=r.getTransferables;if(p===void 0&&(p=null),!n[l])try{h=h.map(function(y){return y&&y.isWorkerModule&&(e(y,function(x){if(x instanceof Error)throw x}),y=n[y.id].value),y}),f=i("<"+u+">.init",f),p&&(p=i("<"+u+">.getTransferables",p));var v=null;typeof f=="function"?v=f.apply(void 0,h):console.error("worker module init function failed to rehydrate"),n[l]={id:l,value:v,getTransferables:p},s(v)}catch(y){y&&y.noLog||console.error(y),s(y)}}function t(r,s){var l,u=r.id,h=r.args;(!n[u]||typeof n[u].value!="function")&&s(new Error("Worker module "+u+": not found or its 'init' did not return a function"));try{var f=(l=n[u]).value.apply(l,h);f&&typeof f.then=="function"?f.then(p,function(v){return s(v instanceof Error?v:new Error(""+v))}):p(f)}catch(v){s(v)}function p(v){try{var y=n[u].getTransferables&&n[u].getTransferables(v);(!y||!Array.isArray(y)||!y.length)&&(y=void 0),s(v,y)}catch(x){console.error(x),s(x)}}}function i(r,s){var l=void 0;self.troikaDefine=function(h){return l=h};var u=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(u)}catch(h){console.error(h)}return URL.revokeObjectURL(u),delete self.troikaDefine,l}self.addEventListener("message",function(r){var s=r.data,l=s.messageId,u=s.action,h=s.data;try{u==="registerModule"&&e(h,function(f){f instanceof Error?postMessage({messageId:l,success:!1,error:f.message}):postMessage({messageId:l,success:!0,result:{isCallable:typeof f=="function"}})}),u==="callModule"&&t(h,function(f,p){f instanceof Error?postMessage({messageId:l,success:!1,error:f.message}):postMessage({messageId:l,success:!0,result:f},p||void 0)})}catch(f){postMessage({messageId:l,success:!1,error:f.stack})}})}function qle(n){var e=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,i=n.init;t=Array.isArray(t)?t.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var r=Promise.all(t).then(function(s){return i.apply(null,s)});return e._getInitResult=function(){return r},r},e}var k6=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return k6=function(){return n},n},$le=0,Kle=0,NP=!1,f1=Object.create(null),d1=Object.create(null),rO=Object.create(null);function mx(n){if((!n||typeof n.init!="function")&&!NP)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,i=n.getTransferables,r=n.workerId,s=qle(n);r==null&&(r="#default");var l="workerModule"+ ++$le,u=n.name||l,h=null;e=e&&e.map(function(p){return typeof p=="function"&&!p.workerModuleData&&(NP=!0,p=mx({workerId:r,name:"<"+u+"> function dependency: "+p.name,init:`function(){return (
`+DC(p)+`
)}`}),NP=!1),p&&p.workerModuleData&&(p=p.workerModuleData),p});function f(){for(var p=[],v=arguments.length;v--;)p[v]=arguments[v];if(!k6())return s.apply(void 0,p);if(!h){h=kz(r,"registerModule",f.workerModuleData);var y=function(){h=null,d1[r].delete(y)};(d1[r]||(d1[r]=new Set)).add(y)}return h.then(function(x){var _=x.isCallable;if(_)return kz(r,"callModule",{id:l,args:p});throw new Error("Worker module function was called but `init` did not return a callable function")})}return f.workerModuleData={isWorkerModule:!0,id:l,name:u,dependencies:e,init:DC(t),getTransferables:i&&DC(i)},f.onMainThread=s,f}function Zle(n){d1[n]&&d1[n].forEach(function(e){e()}),f1[n]&&(f1[n].terminate(),delete f1[n])}function DC(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Jle(n){var e=f1[n];if(!e){var t=DC(Xle);e=f1[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,s=r.messageId,l=rO[s];if(!l)throw new Error("WorkerModule response with empty or unknown messageId");delete rO[s],l(r)}}return e}function kz(n,e,t){return new Promise(function(i,r){var s=++Kle;rO[s]=function(l){l.success?i(l.result):r(new Error("Error in worker "+e+" call: "+l.error))},Jle(n).postMessage({messageId:s,action:e,data:t})})}function B6(){var n=function(e){function t(ve,ce,Y,ee,le,ye,be,we){var Oe=1-be;we.x=Oe*Oe*ve+2*Oe*be*Y+be*be*le,we.y=Oe*Oe*ce+2*Oe*be*ee+be*be*ye}function i(ve,ce,Y,ee,le,ye,be,we,Oe,De){var st=1-Oe;De.x=st*st*st*ve+3*st*st*Oe*Y+3*st*Oe*Oe*le+Oe*Oe*Oe*be,De.y=st*st*st*ce+3*st*st*Oe*ee+3*st*Oe*Oe*ye+Oe*Oe*Oe*we}function r(ve,ce){for(var Y=/([MLQCZ])([^MLQCZ]*)/g,ee,le,ye,be,we;ee=Y.exec(ve);){var Oe=ee[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(De){return parseFloat(De)});switch(ee[1]){case"M":be=le=Oe[0],we=ye=Oe[1];break;case"L":(Oe[0]!==be||Oe[1]!==we)&&ce("L",be,we,be=Oe[0],we=Oe[1]);break;case"Q":{ce("Q",be,we,be=Oe[2],we=Oe[3],Oe[0],Oe[1]);break}case"C":{ce("C",be,we,be=Oe[4],we=Oe[5],Oe[0],Oe[1],Oe[2],Oe[3]);break}case"Z":(be!==le||we!==ye)&&ce("L",be,we,le,ye);break}}}function s(ve,ce,Y){Y===void 0&&(Y=16);var ee={x:0,y:0};r(ve,function(le,ye,be,we,Oe,De,st,dt,ze){switch(le){case"L":ce(ye,be,we,Oe);break;case"Q":{for(var ie=ye,$e=be,Le=1;Le<Y;Le++)t(ye,be,De,st,we,Oe,Le/(Y-1),ee),ce(ie,$e,ee.x,ee.y),ie=ee.x,$e=ee.y;break}case"C":{for(var je=ye,Ve=be,ft=1;ft<Y;ft++)i(ye,be,De,st,dt,ze,we,Oe,ft/(Y-1),ee),ce(je,Ve,ee.x,ee.y),je=ee.x,Ve=ee.y;break}}})}var l="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",u="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",h=new WeakMap,f={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function p(ve,ce){var Y=ve.getContext?ve.getContext("webgl",f):ve,ee=h.get(Y);if(!ee){let je=function(Ye){var Lt=ye[Ye];if(!Lt&&(Lt=ye[Ye]=Y.getExtension(Ye),!Lt))throw new Error(Ye+" not supported");return Lt},Ve=function(Ye,Lt){var Q=Y.createShader(Lt);return Y.shaderSource(Q,Ye),Y.compileShader(Q),Q},ft=function(Ye,Lt,Q,K){if(!be[Ye]){var Ne={},ut={},Ue=Y.createProgram();Y.attachShader(Ue,Ve(Lt,Y.VERTEX_SHADER)),Y.attachShader(Ue,Ve(Q,Y.FRAGMENT_SHADER)),Y.linkProgram(Ue),be[Ye]={program:Ue,transaction:function(Nt){Y.useProgram(Ue),Nt({setUniform:function(ue,Te){for(var ke=[],Ae=arguments.length-2;Ae-- >0;)ke[Ae]=arguments[Ae+2];var Be=ut[Te]||(ut[Te]=Y.getUniformLocation(Ue,Te));Y["uniform"+ue].apply(Y,[Be].concat(ke))},setAttribute:function(ue,Te,ke,Ae,Be){var pe=Ne[ue];pe||(pe=Ne[ue]={buf:Y.createBuffer(),loc:Y.getAttribLocation(Ue,ue),data:null}),Y.bindBuffer(Y.ARRAY_BUFFER,pe.buf),Y.vertexAttribPointer(pe.loc,Te,Y.FLOAT,!1,0,0),Y.enableVertexAttribArray(pe.loc),le?Y.vertexAttribDivisor(pe.loc,Ae):je("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(pe.loc,Ae),Be!==pe.data&&(Y.bufferData(Y.ARRAY_BUFFER,Be,ke),pe.data=Be)}})}}}be[Ye].transaction(K)},Ge=function(Ye,Lt){Oe++;try{Y.activeTexture(Y.TEXTURE0+Oe);var Q=we[Ye];Q||(Q=we[Ye]=Y.createTexture(),Y.bindTexture(Y.TEXTURE_2D,Q),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.NEAREST),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.NEAREST)),Y.bindTexture(Y.TEXTURE_2D,Q),Lt(Q,Oe)}finally{Oe--}},it=function(Ye,Lt,Q){var K=Y.createFramebuffer();De.push(K),Y.bindFramebuffer(Y.FRAMEBUFFER,K),Y.activeTexture(Y.TEXTURE0+Lt),Y.bindTexture(Y.TEXTURE_2D,Ye),Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Ye,0);try{Q(K)}finally{Y.deleteFramebuffer(K),Y.bindFramebuffer(Y.FRAMEBUFFER,De[--De.length-1]||null)}},vt=function(){ye={},be={},we={},Oe=-1,De.length=0};var st=je,dt=Ve,ze=ft,ie=Ge,$e=it,Le=vt,le=typeof WebGL2RenderingContext<"u"&&Y instanceof WebGL2RenderingContext,ye={},be={},we={},Oe=-1,De=[];Y.canvas.addEventListener("webglcontextlost",function(Ye){vt(),Ye.preventDefault()},!1),h.set(Y,ee={gl:Y,isWebGL2:le,getExtension:je,withProgram:ft,withTexture:Ge,withTextureFramebuffer:it,handleContextLoss:vt})}ce(ee)}function v(ve,ce,Y,ee,le,ye,be,we){be===void 0&&(be=15),we===void 0&&(we=null),p(ve,function(Oe){var De=Oe.gl,st=Oe.withProgram,dt=Oe.withTexture;dt("copy",function(ze,ie){De.texImage2D(De.TEXTURE_2D,0,De.RGBA,le,ye,0,De.RGBA,De.UNSIGNED_BYTE,ce),st("copy",l,u,function($e){var Le=$e.setUniform,je=$e.setAttribute;je("aUV",2,De.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Le("1i","image",ie),De.bindFramebuffer(De.FRAMEBUFFER,we||null),De.disable(De.BLEND),De.colorMask(be&8,be&4,be&2,be&1),De.viewport(Y,ee,le,ye),De.scissor(Y,ee,le,ye),De.drawArrays(De.TRIANGLES,0,3)})})})}function y(ve,ce,Y){var ee=ve.width,le=ve.height;p(ve,function(ye){var be=ye.gl,we=new Uint8Array(ee*le*4);be.readPixels(0,0,ee,le,be.RGBA,be.UNSIGNED_BYTE,we),ve.width=ce,ve.height=Y,v(be,we,0,0,ee,le)})}var x=Object.freeze({__proto__:null,withWebGLContext:p,renderImageData:v,resizeWebGLCanvasWithoutClearing:y});function _(ve,ce,Y,ee,le,ye){ye===void 0&&(ye=1);var be=new Uint8Array(ve*ce),we=ee[2]-ee[0],Oe=ee[3]-ee[1],De=[];s(Y,function(je,Ve,ft,Ge){De.push({x1:je,y1:Ve,x2:ft,y2:Ge,minX:Math.min(je,ft),minY:Math.min(Ve,Ge),maxX:Math.max(je,ft),maxY:Math.max(Ve,Ge)})}),De.sort(function(je,Ve){return je.maxX-Ve.maxX});for(var st=0;st<ve;st++)for(var dt=0;dt<ce;dt++){var ze=$e(ee[0]+we*(st+.5)/ve,ee[1]+Oe*(dt+.5)/ce),ie=Math.pow(1-Math.abs(ze)/le,ye)/2;ze<0&&(ie=1-ie),ie=Math.max(0,Math.min(255,Math.round(ie*255))),be[dt*ve+st]=ie}return be;function $e(je,Ve){for(var ft=1/0,Ge=1/0,it=De.length;it--;){var vt=De[it];if(vt.maxX+Ge<=je)break;if(je+Ge>vt.minX&&Ve-Ge<vt.maxY&&Ve+Ge>vt.minY){var Ye=T(je,Ve,vt.x1,vt.y1,vt.x2,vt.y2);Ye<ft&&(ft=Ye,Ge=Math.sqrt(ft))}}return Le(je,Ve)&&(Ge=-Ge),Ge}function Le(je,Ve){for(var ft=0,Ge=De.length;Ge--;){var it=De[Ge];if(it.maxX<=je)break;var vt=it.y1>Ve!=it.y2>Ve&&je<(it.x2-it.x1)*(Ve-it.y1)/(it.y2-it.y1)+it.x1;vt&&(ft+=it.y1<it.y2?1:-1)}return ft!==0}}function M(ve,ce,Y,ee,le,ye,be,we,Oe,De){ye===void 0&&(ye=1),we===void 0&&(we=0),Oe===void 0&&(Oe=0),De===void 0&&(De=0),N(ve,ce,Y,ee,le,ye,be,null,we,Oe,De)}function N(ve,ce,Y,ee,le,ye,be,we,Oe,De,st){ye===void 0&&(ye=1),Oe===void 0&&(Oe=0),De===void 0&&(De=0),st===void 0&&(st=0);for(var dt=_(ve,ce,Y,ee,le,ye),ze=new Uint8Array(dt.length*4),ie=0;ie<dt.length;ie++)ze[ie*4+st]=dt[ie];v(be,ze,Oe,De,ve,ce,1<<3-st,we)}function T(ve,ce,Y,ee,le,ye){var be=le-Y,we=ye-ee,Oe=be*be+we*we,De=Oe?Math.max(0,Math.min(1,((ve-Y)*be+(ce-ee)*we)/Oe)):0,st=ve-(Y+De*be),dt=ce-(ee+De*we);return st*st+dt*dt}var A=Object.freeze({__proto__:null,generate:_,generateIntoCanvas:M,generateIntoFramebuffer:N}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",L="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",U="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",k=new Float32Array([0,0,2,0,0,2]),V=null,H=!1,P={},I=new WeakMap;function q(ve){if(!H&&!se(ve))throw new Error("WebGL generation not supported")}function j(ve,ce,Y,ee,le,ye,be){if(ye===void 0&&(ye=1),be===void 0&&(be=null),!be&&(be=V,!be)){var we=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!we)throw new Error("OffscreenCanvas or DOM canvas not supported");be=V=we.getContext("webgl",{depth:!1})}q(be);var Oe=new Uint8Array(ve*ce*4);p(be,function(ze){var ie=ze.gl,$e=ze.withTexture,Le=ze.withTextureFramebuffer;$e("readable",function(je,Ve){ie.texImage2D(ie.TEXTURE_2D,0,ie.RGBA,ve,ce,0,ie.RGBA,ie.UNSIGNED_BYTE,null),Le(je,Ve,function(ft){W(ve,ce,Y,ee,le,ye,ie,ft,0,0,0),ie.readPixels(0,0,ve,ce,ie.RGBA,ie.UNSIGNED_BYTE,Oe)})})});for(var De=new Uint8Array(ve*ce),st=0,dt=0;st<Oe.length;st+=4)De[dt++]=Oe[st];return De}function J(ve,ce,Y,ee,le,ye,be,we,Oe,De){ye===void 0&&(ye=1),we===void 0&&(we=0),Oe===void 0&&(Oe=0),De===void 0&&(De=0),W(ve,ce,Y,ee,le,ye,be,null,we,Oe,De)}function W(ve,ce,Y,ee,le,ye,be,we,Oe,De,st){ye===void 0&&(ye=1),Oe===void 0&&(Oe=0),De===void 0&&(De=0),st===void 0&&(st=0),q(be);var dt=[];s(Y,function(ze,ie,$e,Le){dt.push(ze,ie,$e,Le)}),dt=new Float32Array(dt),p(be,function(ze){var ie=ze.gl,$e=ze.isWebGL2,Le=ze.getExtension,je=ze.withProgram,Ve=ze.withTexture,ft=ze.withTextureFramebuffer,Ge=ze.handleContextLoss;if(Ve("rawDistances",function(it,vt){(ve!==it._lastWidth||ce!==it._lastHeight)&&ie.texImage2D(ie.TEXTURE_2D,0,ie.RGBA,it._lastWidth=ve,it._lastHeight=ce,0,ie.RGBA,ie.UNSIGNED_BYTE,null),je("main",w,L,function(Ye){var Lt=Ye.setAttribute,Q=Ye.setUniform,K=!$e&&Le("ANGLE_instanced_arrays"),Ne=!$e&&Le("EXT_blend_minmax");Lt("aUV",2,ie.STATIC_DRAW,0,k),Lt("aLineSegment",4,ie.DYNAMIC_DRAW,1,dt),Q.apply(void 0,["4f","uGlyphBounds"].concat(ee)),Q("1f","uMaxDistance",le),Q("1f","uExponent",ye),ft(it,vt,function(ut){ie.enable(ie.BLEND),ie.colorMask(!0,!0,!0,!0),ie.viewport(0,0,ve,ce),ie.scissor(0,0,ve,ce),ie.blendFunc(ie.ONE,ie.ONE),ie.blendEquationSeparate(ie.FUNC_ADD,$e?ie.MAX:Ne.MAX_EXT),ie.clear(ie.COLOR_BUFFER_BIT),$e?ie.drawArraysInstanced(ie.TRIANGLES,0,3,dt.length/4):K.drawArraysInstancedANGLE(ie.TRIANGLES,0,3,dt.length/4)})}),je("post",l,U,function(Ye){Ye.setAttribute("aUV",2,ie.STATIC_DRAW,0,k),Ye.setUniform("1i","tex",vt),ie.bindFramebuffer(ie.FRAMEBUFFER,we),ie.disable(ie.BLEND),ie.colorMask(st===0,st===1,st===2,st===3),ie.viewport(Oe,De,ve,ce),ie.scissor(Oe,De,ve,ce),ie.drawArrays(ie.TRIANGLES,0,3)})}),ie.isContextLost())throw Ge(),new Error("webgl context lost")})}function se(ve){var ce=!ve||ve===V?P:ve.canvas||ve,Y=I.get(ce);if(Y===void 0){H=!0;var ee=null;try{var le=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ye=j(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,ve);Y=ye&&le.length===ye.length&&ye.every(function(be,we){return be===le[we]}),Y||(ee="bad trial run results",console.info(le,ye))}catch(be){Y=!1,ee=be.message}ee&&console.warn("WebGL SDF generation not supported:",ee),H=!1,I.set(ce,Y)}return Y}var te=Object.freeze({__proto__:null,generate:j,generateIntoCanvas:J,generateIntoFramebuffer:W,isSupported:se});function ae(ve,ce,Y,ee,le,ye){le===void 0&&(le=Math.max(ee[2]-ee[0],ee[3]-ee[1])/2),ye===void 0&&(ye=1);try{return j.apply(te,arguments)}catch(be){return console.info("WebGL SDF generation failed, falling back to JS",be),_.apply(A,arguments)}}function ge(ve,ce,Y,ee,le,ye,be,we,Oe,De){le===void 0&&(le=Math.max(ee[2]-ee[0],ee[3]-ee[1])/2),ye===void 0&&(ye=1),we===void 0&&(we=0),Oe===void 0&&(Oe=0),De===void 0&&(De=0);try{return J.apply(te,arguments)}catch(st){return console.info("WebGL SDF generation failed, falling back to JS",st),M.apply(A,arguments)}}return e.forEachPathCommand=r,e.generate=ae,e.generateIntoCanvas=ge,e.javascript=A,e.pathToLineSegments=s,e.webgl=te,e.webglUtils=x,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function Qle(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(t).forEach(function(Ge,it){i[Ge]=1<<it+1,r[i[Ge]]=Ge}),Object.freeze(i);var s=i.LRI|i.RLI|i.FSI,l=i.L|i.R|i.AL,u=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,h=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,f=i.S|i.WS|i.B|s|i.PDI|h,p=null;function v(){if(!p){p=new Map;var Ge=function(vt){if(t.hasOwnProperty(vt)){var Ye=0;t[vt].split(",").forEach(function(Lt){var Q=Lt.split("+"),K=Q[0],Ne=Q[1];K=parseInt(K,36),Ne=Ne?parseInt(Ne,36):0,p.set(Ye+=K,i[vt]);for(var ut=0;ut<Ne;ut++)p.set(++Ye,i[vt])})}};for(var it in t)Ge(it)}}function y(Ge){return v(),p.get(Ge.codePointAt(0))||i.L}function x(Ge){return r[y(Ge)]}var _={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function M(Ge,it){var vt=36,Ye=0,Lt=new Map,Q=it&&new Map,K;return Ge.split(",").forEach(function Ne(ut){if(ut.indexOf("+")!==-1)for(var Ue=+ut;Ue--;)Ne(K);else{K=ut;var Qe=ut.split(">"),Nt=Qe[0],ht=Qe[1];Nt=String.fromCodePoint(Ye+=parseInt(Nt,vt)),ht=String.fromCodePoint(Ye+=parseInt(ht,vt)),Lt.set(Nt,ht),it&&Q.set(ht,Nt)}}),{map:Lt,reverseMap:Q}}var N,T,A;function w(){if(!N){var Ge=M(_.pairs,!0),it=Ge.map,vt=Ge.reverseMap;N=it,T=vt,A=M(_.canonical,!1).map}}function L(Ge){return w(),N.get(Ge)||null}function U(Ge){return w(),T.get(Ge)||null}function k(Ge){return w(),A.get(Ge)||null}var V=i.L,H=i.R,P=i.EN,I=i.ES,q=i.ET,j=i.AN,J=i.CS,W=i.B,se=i.S,te=i.ON,ae=i.BN,ge=i.NSM,ve=i.AL,ce=i.LRO,Y=i.RLO,ee=i.LRE,le=i.RLE,ye=i.PDF,be=i.LRI,we=i.RLI,Oe=i.FSI,De=i.PDI;function st(Ge,it){for(var vt=125,Ye=new Uint32Array(Ge.length),Lt=0;Lt<Ge.length;Lt++)Ye[Lt]=y(Ge[Lt]);var Q=new Map;function K(En,Gn){var Wn=Ye[En];Ye[En]=Gn,Q.set(Wn,Q.get(Wn)-1),Wn&u&&Q.set(u,Q.get(u)-1),Q.set(Gn,(Q.get(Gn)||0)+1),Gn&u&&Q.set(u,(Q.get(u)||0)+1)}for(var Ne=new Uint8Array(Ge.length),ut=new Map,Ue=[],Qe=null,Nt=0;Nt<Ge.length;Nt++)Qe||Ue.push(Qe={start:Nt,end:Ge.length-1,level:it==="rtl"?1:it==="ltr"?0:fn(Nt,!1)}),Ye[Nt]&W&&(Qe.end=Nt,Qe=null);for(var ht=le|ee|Y|ce|s|De|ye|W,ue=function(En){return En+(En&1?1:2)},Te=function(En){return En+(En&1?2:1)},ke=0;ke<Ue.length;ke++){Qe=Ue[ke];var Ae=[{_level:Qe.level,_override:0,_isolate:0}],Be=void 0,pe=0,Pe=0,He=0;Q.clear();for(var Ee=Qe.start;Ee<=Qe.end;Ee++){var gt=Ye[Ee];if(Be=Ae[Ae.length-1],Q.set(gt,(Q.get(gt)||0)+1),gt&u&&Q.set(u,(Q.get(u)||0)+1),gt&ht)if(gt&(le|ee)){Ne[Ee]=Be._level;var me=(gt===le?Te:ue)(Be._level);me<=vt&&!pe&&!Pe?Ae.push({_level:me,_override:0,_isolate:0}):pe||Pe++}else if(gt&(Y|ce)){Ne[Ee]=Be._level;var at=(gt===Y?Te:ue)(Be._level);at<=vt&&!pe&&!Pe?Ae.push({_level:at,_override:gt&Y?H:V,_isolate:0}):pe||Pe++}else if(gt&s){gt&Oe&&(gt=fn(Ee+1,!0)===1?we:be),Ne[Ee]=Be._level,Be._override&&K(Ee,Be._override);var bt=(gt===we?Te:ue)(Be._level);bt<=vt&&pe===0&&Pe===0?(He++,Ae.push({_level:bt,_override:0,_isolate:1,_isolInitIndex:Ee})):pe++}else if(gt&De){if(pe>0)pe--;else if(He>0){for(Pe=0;!Ae[Ae.length-1]._isolate;)Ae.pop();var We=Ae[Ae.length-1]._isolInitIndex;We!=null&&(ut.set(We,Ee),ut.set(Ee,We)),Ae.pop(),He--}Be=Ae[Ae.length-1],Ne[Ee]=Be._level,Be._override&&K(Ee,Be._override)}else gt&ye?(pe===0&&(Pe>0?Pe--:!Be._isolate&&Ae.length>1&&(Ae.pop(),Be=Ae[Ae.length-1])),Ne[Ee]=Be._level):gt&W&&(Ne[Ee]=Qe.level);else Ne[Ee]=Be._level,Be._override&&gt!==ae&&K(Ee,Be._override)}for(var Et=[],Vt=null,Rt=Qe.start;Rt<=Qe.end;Rt++){var ln=Ye[Rt];if(!(ln&h)){var Mn=Ne[Rt],dn=ln&s,bn=ln===De;Vt&&Mn===Vt._level?(Vt._end=Rt,Vt._endsWithIsolInit=dn):Et.push(Vt={_start:Rt,_end:Rt,_level:Mn,_startsWithPDI:bn,_endsWithIsolInit:dn})}}for(var Un=[],Ji=0;Ji<Et.length;Ji++){var Ni=Et[Ji];if(!Ni._startsWithPDI||Ni._startsWithPDI&&!ut.has(Ni._start)){for(var Se=[Vt=Ni],Dt=void 0;Vt&&Vt._endsWithIsolInit&&(Dt=ut.get(Vt._end))!=null;)for(var Ht=Ji+1;Ht<Et.length;Ht++)if(Et[Ht]._start===Dt){Se.push(Vt=Et[Ht]);break}for(var de=[],nt=0;nt<Se.length;nt++)for(var yt=Se[nt],kt=yt._start;kt<=yt._end;kt++)de.push(kt);for(var qt=Ne[de[0]],ne=Qe.level,_e=de[0]-1;_e>=0;_e--)if(!(Ye[_e]&h)){ne=Ne[_e];break}var Re=de[de.length-1],Xe=Ne[Re],qe=Qe.level;if(!(Ye[Re]&s)){for(var Pt=Re+1;Pt<=Qe.end;Pt++)if(!(Ye[Pt]&h)){qe=Ne[Pt];break}}Un.push({_seqIndices:de,_sosType:Math.max(ne,qt)%2?H:V,_eosType:Math.max(qe,Xe)%2?H:V})}}for(var Bt=0;Bt<Un.length;Bt++){var rn=Un[Bt],Tt=rn._seqIndices,hn=rn._sosType,mn=rn._eosType,Wt=Ne[Tt[0]]&1?H:V;if(Q.get(ge))for(var ai=0;ai<Tt.length;ai++){var qi=Tt[ai];if(Ye[qi]&ge){for(var Di=hn,vr=ai-1;vr>=0;vr--)if(!(Ye[Tt[vr]]&h)){Di=Ye[Tt[vr]];break}K(qi,Di&(s|De)?te:Di)}}if(Q.get(P))for(var pi=0;pi<Tt.length;pi++){var Fn=Tt[pi];if(Ye[Fn]&P)for(var Za=pi-1;Za>=-1;Za--){var Li=Za===-1?hn:Ye[Tt[Za]];if(Li&l){Li===ve&&K(Fn,j);break}}}if(Q.get(ve))for(var Pi=0;Pi<Tt.length;Pi++){var yo=Tt[Pi];Ye[yo]&ve&&K(yo,H)}if(Q.get(I)||Q.get(J))for(var Ja=1;Ja<Tt.length-1;Ja++){var Xs=Tt[Ja];if(Ye[Xs]&(I|J)){for(var Mi=0,ir=0,Oa=Ja-1;Oa>=0&&(Mi=Ye[Tt[Oa]],!!(Mi&h));Oa--);for(var Ii=Ja+1;Ii<Tt.length&&(ir=Ye[Tt[Ii]],!!(ir&h));Ii++);Mi===ir&&(Ye[Xs]===I?Mi===P:Mi&(P|j))&&K(Xs,Mi)}}if(Q.get(P))for(var gr=0;gr<Tt.length;gr++){var Ol=Tt[gr];if(Ye[Ol]&P){for(var Ms=gr-1;Ms>=0&&Ye[Tt[Ms]]&(q|h);Ms--)K(Tt[Ms],P);for(gr++;gr<Tt.length&&Ye[Tt[gr]]&(q|h|P);gr++)Ye[Tt[gr]]!==P&&K(Tt[gr],P)}}if(Q.get(q)||Q.get(I)||Q.get(J))for(var bo=0;bo<Tt.length;bo++){var Of=Tt[bo];if(Ye[Of]&(q|I|J)){K(Of,te);for(var qs=bo-1;qs>=0&&Ye[Tt[qs]]&h;qs--)K(Tt[qs],te);for(var qo=bo+1;qo<Tt.length&&Ye[Tt[qo]]&h;qo++)K(Tt[qo],te)}}if(Q.get(P))for(var xo=0,du=hn;xo<Tt.length;xo++){var xa=Tt[xo],zn=Ye[xa];zn&P?du===V&&K(xa,V):zn&l&&(du=zn)}if(Q.get(u)){var lr=H|P|j,gc=lr|V,Rn=[];{for(var $o=[],ur=0;ur<Tt.length;ur++)if(Ye[Tt[ur]]&u){var $s=Ge[Tt[ur]],Ko=void 0;if(L($s)!==null)if($o.length<63)$o.push({char:$s,seqIndex:ur});else break;else if((Ko=U($s))!==null)for(var Qa=$o.length-1;Qa>=0;Qa--){var yr=$o[Qa].char;if(yr===Ko||yr===U(k($s))||L(k(yr))===$s){Rn.push([$o[Qa].seqIndex,ur]),$o.length=Qa;break}}}Rn.sort(function(En,Gn){return En[0]-Gn[0]})}for(var Bi=0;Bi<Rn.length;Bi++){for(var Ff=Rn[Bi],br=Ff[0],ua=Ff[1],Ks=!1,es=0,Fl=br+1;Fl<ua;Fl++){var Il=Tt[Fl];if(Ye[Il]&gc){Ks=!0;var If=Ye[Il]&lr?H:V;if(If===Wt){es=If;break}}}if(Ks&&!es){es=hn;for(var So=br-1;So>=0;So--){var Vf=Tt[So];if(Ye[Vf]&gc){var kf=Ye[Vf]&lr?H:V;kf!==Wt?es=kf:es=Wt;break}}}if(es){if(Ye[Tt[br]]=Ye[Tt[ua]]=es,es!==Wt){for(var ts=br+1;ts<Tt.length;ts++)if(!(Ye[Tt[ts]]&h)){y(Ge[Tt[ts]])&ge&&(Ye[Tt[ts]]=es);break}}if(es!==Wt){for(var _o=ua+1;_o<Tt.length;_o++)if(!(Ye[Tt[_o]]&h)){y(Ge[Tt[_o]])&ge&&(Ye[Tt[_o]]=es);break}}}}for(var Sa=0;Sa<Tt.length;Sa++)if(Ye[Tt[Sa]]&u){for(var Vl=Sa,yc=Sa,bc=hn,kl=Sa-1;kl>=0;kl--)if(Ye[Tt[kl]]&h)Vl=kl;else{bc=Ye[Tt[kl]]&lr?H:V;break}for(var Bf=mn,$=Sa+1;$<Tt.length;$++)if(Ye[Tt[$]]&(u|h))yc=$;else{Bf=Ye[Tt[$]]&lr?H:V;break}for(var Me=Vl;Me<=yc;Me++)Ye[Tt[Me]]=bc===Bf?bc:Wt;Sa=yc}}}for(var Je=Qe.start;Je<=Qe.end;Je++){var pt=Ne[Je],jt=Ye[Je];if(pt&1?jt&(V|P|j)&&Ne[Je]++:jt&H?Ne[Je]++:jt&(j|P)&&(Ne[Je]+=2),jt&h&&(Ne[Je]=Je===0?Qe.level:Ne[Je-1]),Je===Qe.end||y(Ge[Je])&(se|W))for(var yn=Je;yn>=0&&y(Ge[yn])&f;yn--)Ne[yn]=Qe.level}}return{levels:Ne,paragraphs:Ue};function fn(En,Gn){for(var Wn=En;Wn<Ge.length;Wn++){var si=Ye[Wn];if(si&(H|ve))return 1;if(si&(W|V)||Gn&&si===De)return 0;if(si&s){var Ui=wn(Wn);Wn=Ui===-1?Ge.length:Ui}}return 0}function wn(En){for(var Gn=1,Wn=En+1;Wn<Ge.length;Wn++){var si=Ye[Wn];if(si&W)break;if(si&De){if(--Gn===0)return Wn}else si&s&&Gn++}return-1}}var dt="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ze;function ie(){if(!ze){var Ge=M(dt,!0),it=Ge.map,vt=Ge.reverseMap;vt.forEach(function(Ye,Lt){it.set(Lt,Ye)}),ze=it}}function $e(Ge){return ie(),ze.get(Ge)||null}function Le(Ge,it,vt,Ye){var Lt=Ge.length;vt=Math.max(0,vt==null?0:+vt),Ye=Math.min(Lt-1,Ye==null?Lt-1:+Ye);for(var Q=new Map,K=vt;K<=Ye;K++)if(it[K]&1){var Ne=$e(Ge[K]);Ne!==null&&Q.set(K,Ne)}return Q}function je(Ge,it,vt,Ye){var Lt=Ge.length;vt=Math.max(0,vt==null?0:+vt),Ye=Math.min(Lt-1,Ye==null?Lt-1:+Ye);var Q=[];return it.paragraphs.forEach(function(K){var Ne=Math.max(vt,K.start),ut=Math.min(Ye,K.end);if(Ne<ut){for(var Ue=it.levels.slice(Ne,ut+1),Qe=ut;Qe>=Ne&&y(Ge[Qe])&f;Qe--)Ue[Qe]=K.level;for(var Nt=K.level,ht=1/0,ue=0;ue<Ue.length;ue++){var Te=Ue[ue];Te>Nt&&(Nt=Te),Te<ht&&(ht=Te|1)}for(var ke=Nt;ke>=ht;ke--)for(var Ae=0;Ae<Ue.length;Ae++)if(Ue[Ae]>=ke){for(var Be=Ae;Ae+1<Ue.length&&Ue[Ae+1]>=ke;)Ae++;Ae>Be&&Q.push([Be+Ne,Ae+Ne])}}}),Q}function Ve(Ge,it,vt,Ye){var Lt=ft(Ge,it,vt,Ye),Q=[].concat(Ge);return Lt.forEach(function(K,Ne){Q[Ne]=(it.levels[K]&1?$e(Ge[K]):null)||Ge[K]}),Q.join("")}function ft(Ge,it,vt,Ye){for(var Lt=je(Ge,it,vt,Ye),Q=[],K=0;K<Ge.length;K++)Q[K]=K;return Lt.forEach(function(Ne){for(var ut=Ne[0],Ue=Ne[1],Qe=Q.slice(ut,Ue+1),Nt=Qe.length;Nt--;)Q[Ue-Nt]=Qe[Nt]}),Q}return e.closingToOpeningBracket=U,e.getBidiCharType=y,e.getBidiCharTypeName=x,e.getCanonicalBracket=k,e.getEmbeddingLevels=st,e.getMirroredCharacter=$e,e.getMirroredCharactersMap=Le,e.getReorderSegments=je,e.getReorderedIndices=ft,e.getReorderedString=Ve,e.openingToClosingBracket=L,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const z6=/\bvoid\s+main\s*\(\s*\)\s*{/g;function aO(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(i,r){let s=Kn[r];return s?aO(s):i}return n.replace(e,t)}const Ts=[];for(let n=0;n<256;n++)Ts[n]=(n<16?"0":"")+n.toString(16);function eue(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ts[n&255]+Ts[n>>8&255]+Ts[n>>16&255]+Ts[n>>24&255]+"-"+Ts[e&255]+Ts[e>>8&255]+"-"+Ts[e>>16&15|64]+Ts[e>>24&255]+"-"+Ts[t&63|128]+Ts[t>>8&255]+"-"+Ts[t>>16&255]+Ts[t>>24&255]+Ts[i&255]+Ts[i>>8&255]+Ts[i>>16&255]+Ts[i>>24&255]).toUpperCase()}const og=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let i=arguments[e];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},tue=Date.now(),Bz=new WeakMap,zz=new Map;let nue=1e10;function sO(n,e){const t=sue(e);let i=Bz.get(n);if(i||Bz.set(n,i=Object.create(null)),i[t])return new i[t];const r=`_onBeforeCompile${t}`,s=function(f,p){n.onBeforeCompile.call(this,f,p);const v=this.customProgramCacheKey()+"|"+f.vertexShader+"|"+f.fragmentShader;let y=zz[v];if(!y){const x=iue(this,f,e,t);y=zz[v]=x}f.vertexShader=y.vertexShader,f.fragmentShader=y.fragmentShader,og(f.uniforms,this.uniforms),e.timeUniform&&(f.uniforms[e.timeUniform]={get value(){return Date.now()-tue}}),this[r]&&this[r](f)},l=function(){return u(e.chained?n:n.clone())},u=function(f){const p=Object.create(f,h);return Object.defineProperty(p,"baseMaterial",{value:n}),Object.defineProperty(p,"id",{value:nue++}),p.uuid=eue(),p.uniforms=og({},f.uniforms,e.uniforms),p.defines=og({},f.defines,e.defines),p.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",p.extensions=og({},f.extensions,e.extensions),p._listeners=void 0,p},h={constructor:{value:l},isDerivedMaterial:{value:!0},type:{get:()=>n.type,set:f=>{n.type=f}},isDerivedFrom:{writable:!0,configurable:!0,value:function(f){const p=this.baseMaterial;return f===p||p.isDerivedMaterial&&p.isDerivedFrom(f)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(f){this[r]=f}},copy:{writable:!0,configurable:!0,value:function(f){return n.copy.call(this,f),!n.isShaderMaterial&&!n.isDerivedMaterial&&(og(this.extensions,f.extensions),og(this.defines,f.defines),og(this.uniforms,F1.clone(f.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const f=new n.constructor;return u(f).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let f=this._depthMaterial;return f||(f=this._depthMaterial=sO(n.isDerivedMaterial?n.getDepthMaterial():new UA({depthPacking:e3}),e),f.defines.IS_DEPTH_MATERIAL="",f.uniforms=this.uniforms),f}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let f=this._distanceMaterial;return f||(f=this._distanceMaterial=sO(n.isDerivedMaterial?n.getDistanceMaterial():new OA,e),f.defines.IS_DISTANCE_MATERIAL="",f.uniforms=this.uniforms),f}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:f,_distanceMaterial:p}=this;f&&f.dispose(),p&&p.dispose(),n.dispose.call(this)}}};return i[t]=l,new l}function iue(n,{vertexShader:e,fragmentShader:t},i,r){let{vertexDefs:s,vertexMainIntro:l,vertexMainOutro:u,vertexTransform:h,fragmentDefs:f,fragmentMainIntro:p,fragmentMainOutro:v,fragmentColorTransform:y,customRewriter:x,timeUniform:_}=i;if(s=s||"",l=l||"",u=u||"",f=f||"",p=p||"",v=v||"",(h||x)&&(e=aO(e)),(y||x)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=aO(t)),x){let M=x({vertexShader:e,fragmentShader:t});e=M.vertexShader,t=M.fragmentShader}if(y){let M=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,N=>(M.push(N),"")),v=`${y}
${M.join(`
`)}
${v}`}if(_){const M=`
uniform float ${_};
`;s=M+s,f=M+f}return h&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,s=`${s}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${h}
}
`,l=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${l}
`,e=e.replace(/\b(position|normal|uv)\b/g,(M,N,T,A)=>/\battribute\s+vec[23]\s+$/.test(A.substr(0,T))?N:`troika_${N}_${r}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=Hz(e,r,s,l,u),t=Hz(t,r,f,p,v),{vertexShader:e,fragmentShader:t}}function Hz(n,e,t,i,r){return(i||r||t)&&(n=n.replace(z6,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),n}function rue(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let aue=0;const jz=new Map;function sue(n){const e=JSON.stringify(n,rue);let t=jz.get(e);return t==null&&jz.set(e,t=++aue),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function oue(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(r){var s=e._bin,l=new Uint8Array(r);if(s.readASCII(l,0,4)=="ttcf"){var u=4;s.readUshort(l,u),u+=2,s.readUshort(l,u),u+=2;var h=s.readUint(l,u);u+=4;for(var f=[],p=0;p<h;p++){var v=s.readUint(l,u);u+=4,f.push(e._readFont(l,v))}return f}return[e._readFont(l,0)]},_readFont:function(r,s){var l=e._bin,u=s;l.readFixed(r,s),s+=4;var h=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2,l.readUshort(r,s),s+=2,l.readUshort(r,s),s+=2;for(var f=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],p={_data:r,_offset:u},v={},y=0;y<h;y++){var x=l.readASCII(r,s,4);s+=4,l.readUint(r,s),s+=4;var _=l.readUint(r,s);s+=4;var M=l.readUint(r,s);s+=4,v[x]={offset:_,length:M}}for(y=0;y<f.length;y++){var N=f[y];v[N]&&(p[N.trim()]=e[N.trim()].parse(r,v[N].offset,v[N].length,p))}return p},_tabOffset:function(r,s,l){for(var u=e._bin,h=u.readUshort(r,l+4),f=l+12,p=0;p<h;p++){var v=u.readASCII(r,f,4);f+=4,u.readUint(r,f),f+=4;var y=u.readUint(r,f);if(f+=4,u.readUint(r,f),f+=4,v==s)return y}return 0}};e._bin={readFixed:function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<8|r[s+3])/65540},readF2dot14:function(r,s){return e._bin.readShort(r,s)/16384},readInt:function(r,s){return e._bin._view(r).getInt32(s)},readInt8:function(r,s){return e._bin._view(r).getInt8(s)},readShort:function(r,s){return e._bin._view(r).getInt16(s)},readUshort:function(r,s){return e._bin._view(r).getUint16(s)},readUshorts:function(r,s,l){for(var u=[],h=0;h<l;h++)u.push(e._bin.readUshort(r,s+2*h));return u},readUint:function(r,s){return e._bin._view(r).getUint32(s)},readUint64:function(r,s){return 4294967296*e._bin.readUint(r,s)+e._bin.readUint(r,s+4)},readASCII:function(r,s,l){for(var u="",h=0;h<l;h++)u+=String.fromCharCode(r[s+h]);return u},readUnicode:function(r,s,l){for(var u="",h=0;h<l;h++){var f=r[s++]<<8|r[s++];u+=String.fromCharCode(f)}return u},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,s,l){var u=e._bin._tdec;return u&&s==0&&l==r.length?u.decode(r):e._bin.readASCII(r,s,l)},readBytes:function(r,s,l){for(var u=[],h=0;h<l;h++)u.push(r[s+h]);return u},readASCIIArray:function(r,s,l){for(var u=[],h=0;h<l;h++)u.push(String.fromCharCode(r[s+h]));return u},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,s,l,u,h){var f=e._bin,p={},v=s;f.readFixed(r,s),s+=4;var y=f.readUshort(r,s);s+=2;var x=f.readUshort(r,s);s+=2;var _=f.readUshort(r,s);return s+=2,p.scriptList=e._lctf.readScriptList(r,v+y),p.featureList=e._lctf.readFeatureList(r,v+x),p.lookupList=e._lctf.readLookupList(r,v+_,h),p},e._lctf.readLookupList=function(r,s,l){var u=e._bin,h=s,f=[],p=u.readUshort(r,s);s+=2;for(var v=0;v<p;v++){var y=u.readUshort(r,s);s+=2;var x=e._lctf.readLookupTable(r,h+y,l);f.push(x)}return f},e._lctf.readLookupTable=function(r,s,l){var u=e._bin,h=s,f={tabs:[]};f.ltype=u.readUshort(r,s),s+=2,f.flag=u.readUshort(r,s),s+=2;var p=u.readUshort(r,s);s+=2;for(var v=f.ltype,y=0;y<p;y++){var x=u.readUshort(r,s);s+=2;var _=l(r,v,h+x,f);f.tabs.push(_)}return f},e._lctf.numOfOnes=function(r){for(var s=0,l=0;l<32;l++)r>>>l&1&&s++;return s},e._lctf.readClassDef=function(r,s){var l=e._bin,u=[],h=l.readUshort(r,s);if(s+=2,h==1){var f=l.readUshort(r,s);s+=2;var p=l.readUshort(r,s);s+=2;for(var v=0;v<p;v++)u.push(f+v),u.push(f+v),u.push(l.readUshort(r,s)),s+=2}if(h==2){var y=l.readUshort(r,s);for(s+=2,v=0;v<y;v++)u.push(l.readUshort(r,s)),s+=2,u.push(l.readUshort(r,s)),s+=2,u.push(l.readUshort(r,s)),s+=2}return u},e._lctf.getInterval=function(r,s){for(var l=0;l<r.length;l+=3){var u=r[l],h=r[l+1];if(r[l+2],u<=s&&s<=h)return l}return-1},e._lctf.readCoverage=function(r,s){var l=e._bin,u={};u.fmt=l.readUshort(r,s),s+=2;var h=l.readUshort(r,s);return s+=2,u.fmt==1&&(u.tab=l.readUshorts(r,s,h)),u.fmt==2&&(u.tab=l.readUshorts(r,s,3*h)),u},e._lctf.coverageIndex=function(r,s){var l=r.tab;if(r.fmt==1)return l.indexOf(s);if(r.fmt==2){var u=e._lctf.getInterval(l,s);if(u!=-1)return l[u+2]+(s-l[u])}return-1},e._lctf.readFeatureList=function(r,s){var l=e._bin,u=s,h=[],f=l.readUshort(r,s);s+=2;for(var p=0;p<f;p++){var v=l.readASCII(r,s,4);s+=4;var y=l.readUshort(r,s);s+=2;var x=e._lctf.readFeatureTable(r,u+y);x.tag=v.trim(),h.push(x)}return h},e._lctf.readFeatureTable=function(r,s){var l=e._bin,u=s,h={},f=l.readUshort(r,s);s+=2,f>0&&(h.featureParams=u+f);var p=l.readUshort(r,s);s+=2,h.tab=[];for(var v=0;v<p;v++)h.tab.push(l.readUshort(r,s+2*v));return h},e._lctf.readScriptList=function(r,s){var l=e._bin,u=s,h={},f=l.readUshort(r,s);s+=2;for(var p=0;p<f;p++){var v=l.readASCII(r,s,4);s+=4;var y=l.readUshort(r,s);s+=2,h[v.trim()]=e._lctf.readScriptTable(r,u+y)}return h},e._lctf.readScriptTable=function(r,s){var l=e._bin,u=s,h={},f=l.readUshort(r,s);s+=2,f>0&&(h.default=e._lctf.readLangSysTable(r,u+f));var p=l.readUshort(r,s);s+=2;for(var v=0;v<p;v++){var y=l.readASCII(r,s,4);s+=4;var x=l.readUshort(r,s);s+=2,h[y.trim()]=e._lctf.readLangSysTable(r,u+x)}return h},e._lctf.readLangSysTable=function(r,s){var l=e._bin,u={};l.readUshort(r,s),s+=2,u.reqFeature=l.readUshort(r,s),s+=2;var h=l.readUshort(r,s);return s+=2,u.features=l.readUshorts(r,s,h),u},e.CFF={},e.CFF.parse=function(r,s,l){var u=e._bin;(r=new Uint8Array(r.buffer,s,l))[s=0],r[++s],r[++s],r[++s],s++;var h=[];s=e.CFF.readIndex(r,s,h);for(var f=[],p=0;p<h.length-1;p++)f.push(u.readASCII(r,s+h[p],h[p+1]-h[p]));s+=h[h.length-1];var v=[];s=e.CFF.readIndex(r,s,v);var y=[];for(p=0;p<v.length-1;p++)y.push(e.CFF.readDict(r,s+v[p],s+v[p+1]));s+=v[v.length-1];var x=y[0],_=[];s=e.CFF.readIndex(r,s,_);var M=[];for(p=0;p<_.length-1;p++)M.push(u.readASCII(r,s+_[p],_[p+1]-_[p]));if(s+=_[_.length-1],e.CFF.readSubrs(r,s,x),x.CharStrings){s=x.CharStrings,_=[],s=e.CFF.readIndex(r,s,_);var N=[];for(p=0;p<_.length-1;p++)N.push(u.readBytes(r,s+_[p],_[p+1]-_[p]));x.CharStrings=N}if(x.ROS){s=x.FDArray;var T=[];for(s=e.CFF.readIndex(r,s,T),x.FDArray=[],p=0;p<T.length-1;p++){var A=e.CFF.readDict(r,s+T[p],s+T[p+1]);e.CFF._readFDict(r,A,M),x.FDArray.push(A)}s+=T[T.length-1],s=x.FDSelect,x.FDSelect=[];var w=r[s];if(s++,w!=3)throw w;var L=u.readUshort(r,s);for(s+=2,p=0;p<L+1;p++)x.FDSelect.push(u.readUshort(r,s),r[s+2]),s+=3}return x.Encoding&&(x.Encoding=e.CFF.readEncoding(r,x.Encoding,x.CharStrings.length)),x.charset&&(x.charset=e.CFF.readCharset(r,x.charset,x.CharStrings.length)),e.CFF._readFDict(r,x,M),x},e.CFF._readFDict=function(r,s,l){var u;for(var h in s.Private&&(u=s.Private[1],s.Private=e.CFF.readDict(r,u,u+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(r,u+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(h)!=-1&&(s[h]=l[s[h]-426+35])},e.CFF.readSubrs=function(r,s,l){var u=e._bin,h=[];s=e.CFF.readIndex(r,s,h);var f,p=h.length;f=p<1240?107:p<33900?1131:32768,l.Bias=f,l.Subrs=[];for(var v=0;v<h.length-1;v++)l.Subrs.push(u.readBytes(r,s+h[v],h[v+1]-h[v]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,s){for(var l=0;l<r.charset.length;l++)if(r.charset[l]==s)return l;return-1},e.CFF.glyphBySE=function(r,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[s])},e.CFF.readEncoding=function(r,s,l){e._bin;var u=[".notdef"],h=r[s];if(s++,h!=0)throw"error: unknown encoding format: "+h;var f=r[s];s++;for(var p=0;p<f;p++)u.push(r[s+p]);return u},e.CFF.readCharset=function(r,s,l){var u=e._bin,h=[".notdef"],f=r[s];if(s++,f==0)for(var p=0;p<l;p++){var v=u.readUshort(r,s);s+=2,h.push(v)}else{if(f!=1&&f!=2)throw"error: format: "+f;for(;h.length<l;){v=u.readUshort(r,s),s+=2;var y=0;for(f==1?(y=r[s],s++):(y=u.readUshort(r,s),s+=2),p=0;p<=y;p++)h.push(v),v++}}return h},e.CFF.readIndex=function(r,s,l){var u=e._bin,h=u.readUshort(r,s)+1,f=r[s+=2];if(s++,f==1)for(var p=0;p<h;p++)l.push(r[s+p]);else if(f==2)for(p=0;p<h;p++)l.push(u.readUshort(r,s+2*p));else if(f==3)for(p=0;p<h;p++)l.push(16777215&u.readUint(r,s+3*p-1));else if(h!=1)throw"unsupported offset size: "+f+", count: "+h;return(s+=h*f)-1},e.CFF.getCharString=function(r,s,l){var u=e._bin,h=r[s],f=r[s+1];r[s+2],r[s+3],r[s+4];var p=1,v=null,y=null;h<=20&&(v=h,p=1),h==12&&(v=100*h+f,p=2),21<=h&&h<=27&&(v=h,p=1),h==28&&(y=u.readShort(r,s+1),p=3),29<=h&&h<=31&&(v=h,p=1),32<=h&&h<=246&&(y=h-139,p=1),247<=h&&h<=250&&(y=256*(h-247)+f+108,p=2),251<=h&&h<=254&&(y=256*-(h-251)-f-108,p=2),h==255&&(y=u.readInt(r,s+1)/65535,p=5),l.val=y??"o"+v,l.size=p},e.CFF.readCharString=function(r,s,l){for(var u=s+l,h=e._bin,f=[];s<u;){var p=r[s],v=r[s+1];r[s+2],r[s+3],r[s+4];var y=1,x=null,_=null;p<=20&&(x=p,y=1),p==12&&(x=100*p+v,y=2),p!=19&&p!=20||(x=p,y=2),21<=p&&p<=27&&(x=p,y=1),p==28&&(_=h.readShort(r,s+1),y=3),29<=p&&p<=31&&(x=p,y=1),32<=p&&p<=246&&(_=p-139,y=1),247<=p&&p<=250&&(_=256*(p-247)+v+108,y=2),251<=p&&p<=254&&(_=256*-(p-251)-v-108,y=2),p==255&&(_=h.readInt(r,s+1)/65535,y=5),f.push(_??"o"+x),s+=y}return f},e.CFF.readDict=function(r,s,l){for(var u=e._bin,h={},f=[];s<l;){var p=r[s],v=r[s+1];r[s+2],r[s+3],r[s+4];var y=1,x=null,_=null;if(p==28&&(_=u.readShort(r,s+1),y=3),p==29&&(_=u.readInt(r,s+1),y=5),32<=p&&p<=246&&(_=p-139,y=1),247<=p&&p<=250&&(_=256*(p-247)+v+108,y=2),251<=p&&p<=254&&(_=256*-(p-251)-v-108,y=2),p==255)throw _=u.readInt(r,s+1)/65535,y=5,"unknown number";if(p==30){var M=[];for(y=1;;){var N=r[s+y];y++;var T=N>>4,A=15&N;if(T!=15&&M.push(T),A!=15&&M.push(A),A==15)break}for(var w="",L=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],U=0;U<M.length;U++)w+=L[M[U]];_=parseFloat(w)}p<=21&&(x=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][p],y=1,p==12&&(x=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][v],y=2)),x!=null?(h[x]=f.length==1?f[0]:f,f=[]):f.push(_),s+=y}return h},e.cmap={},e.cmap.parse=function(r,s,l){r=new Uint8Array(r.buffer,s,l),s=0;var u=e._bin,h={};u.readUshort(r,s),s+=2;var f=u.readUshort(r,s);s+=2;var p=[];h.tables=[];for(var v=0;v<f;v++){var y=u.readUshort(r,s);s+=2;var x=u.readUshort(r,s);s+=2;var _=u.readUint(r,s);s+=4;var M="p"+y+"e"+x,N=p.indexOf(_);if(N==-1){var T;N=h.tables.length,p.push(_);var A=u.readUshort(r,_);A==0?T=e.cmap.parse0(r,_):A==4?T=e.cmap.parse4(r,_):A==6?T=e.cmap.parse6(r,_):A==12?T=e.cmap.parse12(r,_):console.debug("unknown format: "+A,y,x,_),h.tables.push(T)}if(h[M]!=null)throw"multiple tables for one platform+encoding";h[M]=N}return h},e.cmap.parse0=function(r,s){var l=e._bin,u={};u.format=l.readUshort(r,s),s+=2;var h=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2,u.map=[];for(var f=0;f<h-6;f++)u.map.push(r[s+f]);return u},e.cmap.parse4=function(r,s){var l=e._bin,u=s,h={};h.format=l.readUshort(r,s),s+=2;var f=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2;var p=l.readUshort(r,s);s+=2;var v=p/2;h.searchRange=l.readUshort(r,s),s+=2,h.entrySelector=l.readUshort(r,s),s+=2,h.rangeShift=l.readUshort(r,s),s+=2,h.endCount=l.readUshorts(r,s,v),s+=2*v,s+=2,h.startCount=l.readUshorts(r,s,v),s+=2*v,h.idDelta=[];for(var y=0;y<v;y++)h.idDelta.push(l.readShort(r,s)),s+=2;for(h.idRangeOffset=l.readUshorts(r,s,v),s+=2*v,h.glyphIdArray=[];s<u+f;)h.glyphIdArray.push(l.readUshort(r,s)),s+=2;return h},e.cmap.parse6=function(r,s){var l=e._bin,u={};u.format=l.readUshort(r,s),s+=2,l.readUshort(r,s),s+=2,l.readUshort(r,s),s+=2,u.firstCode=l.readUshort(r,s),s+=2;var h=l.readUshort(r,s);s+=2,u.glyphIdArray=[];for(var f=0;f<h;f++)u.glyphIdArray.push(l.readUshort(r,s)),s+=2;return u},e.cmap.parse12=function(r,s){var l=e._bin,u={};u.format=l.readUshort(r,s),s+=2,s+=2,l.readUint(r,s),s+=4,l.readUint(r,s),s+=4;var h=l.readUint(r,s);s+=4,u.groups=[];for(var f=0;f<h;f++){var p=s+12*f,v=l.readUint(r,p+0),y=l.readUint(r,p+4),x=l.readUint(r,p+8);u.groups.push([v,y,x])}return u},e.glyf={},e.glyf.parse=function(r,s,l,u){for(var h=[],f=0;f<u.maxp.numGlyphs;f++)h.push(null);return h},e.glyf._parseGlyf=function(r,s){var l=e._bin,u=r._data,h=e._tabOffset(u,"glyf",r._offset)+r.loca[s];if(r.loca[s]==r.loca[s+1])return null;var f={};if(f.noc=l.readShort(u,h),h+=2,f.xMin=l.readShort(u,h),h+=2,f.yMin=l.readShort(u,h),h+=2,f.xMax=l.readShort(u,h),h+=2,f.yMax=l.readShort(u,h),h+=2,f.xMin>=f.xMax||f.yMin>=f.yMax)return null;if(f.noc>0){f.endPts=[];for(var p=0;p<f.noc;p++)f.endPts.push(l.readUshort(u,h)),h+=2;var v=l.readUshort(u,h);if(h+=2,u.length-h<v)return null;f.instructions=l.readBytes(u,h,v),h+=v;var y=f.endPts[f.noc-1]+1;for(f.flags=[],p=0;p<y;p++){var x=u[h];if(h++,f.flags.push(x),(8&x)!=0){var _=u[h];h++;for(var M=0;M<_;M++)f.flags.push(x),p++}}for(f.xs=[],p=0;p<y;p++){var N=(2&f.flags[p])!=0,T=(16&f.flags[p])!=0;N?(f.xs.push(T?u[h]:-u[h]),h++):T?f.xs.push(0):(f.xs.push(l.readShort(u,h)),h+=2)}for(f.ys=[],p=0;p<y;p++)N=(4&f.flags[p])!=0,T=(32&f.flags[p])!=0,N?(f.ys.push(T?u[h]:-u[h]),h++):T?f.ys.push(0):(f.ys.push(l.readShort(u,h)),h+=2);var A=0,w=0;for(p=0;p<y;p++)A+=f.xs[p],w+=f.ys[p],f.xs[p]=A,f.ys[p]=w}else{var L;f.parts=[];do{L=l.readUshort(u,h),h+=2;var U={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(f.parts.push(U),U.glyphIndex=l.readUshort(u,h),h+=2,1&L){var k=l.readShort(u,h);h+=2;var V=l.readShort(u,h);h+=2}else k=l.readInt8(u,h),h++,V=l.readInt8(u,h),h++;2&L?(U.m.tx=k,U.m.ty=V):(U.p1=k,U.p2=V),8&L?(U.m.a=U.m.d=l.readF2dot14(u,h),h+=2):64&L?(U.m.a=l.readF2dot14(u,h),h+=2,U.m.d=l.readF2dot14(u,h),h+=2):128&L&&(U.m.a=l.readF2dot14(u,h),h+=2,U.m.b=l.readF2dot14(u,h),h+=2,U.m.c=l.readF2dot14(u,h),h+=2,U.m.d=l.readF2dot14(u,h),h+=2)}while(32&L);if(256&L){var H=l.readUshort(u,h);for(h+=2,f.instr=[],p=0;p<H;p++)f.instr.push(u[h]),h++}}return f},e.GDEF={},e.GDEF.parse=function(r,s,l,u){var h=s;s+=4;var f=e._bin.readUshort(r,s);return{glyphClassDef:f===0?null:e._lctf.readClassDef(r,h+f)}},e.GPOS={},e.GPOS.parse=function(r,s,l,u){return e._lctf.parse(r,s,l,u,e.GPOS.subt)},e.GPOS.subt=function(r,s,l,u){var h=e._bin,f=l,p={};if(p.fmt=h.readUshort(r,l),l+=2,s==1||s==2||s==3||s==7||s==8&&p.fmt<=2){var v=h.readUshort(r,l);l+=2,p.coverage=e._lctf.readCoverage(r,v+f)}if(s==1&&p.fmt==1){var y=h.readUshort(r,l);l+=2,y!=0&&(p.pos=e.GPOS.readValueRecord(r,l,y))}else if(s==2&&p.fmt>=1&&p.fmt<=2){y=h.readUshort(r,l),l+=2;var x=h.readUshort(r,l);l+=2;var _=e._lctf.numOfOnes(y),M=e._lctf.numOfOnes(x);if(p.fmt==1){p.pairsets=[];var N=h.readUshort(r,l);l+=2;for(var T=0;T<N;T++){var A=f+h.readUshort(r,l);l+=2;var w=h.readUshort(r,A);A+=2;for(var L=[],U=0;U<w;U++){var k=h.readUshort(r,A);A+=2,y!=0&&(j=e.GPOS.readValueRecord(r,A,y),A+=2*_),x!=0&&(J=e.GPOS.readValueRecord(r,A,x),A+=2*M),L.push({gid2:k,val1:j,val2:J})}p.pairsets.push(L)}}if(p.fmt==2){var V=h.readUshort(r,l);l+=2;var H=h.readUshort(r,l);l+=2;var P=h.readUshort(r,l);l+=2;var I=h.readUshort(r,l);for(l+=2,p.classDef1=e._lctf.readClassDef(r,f+V),p.classDef2=e._lctf.readClassDef(r,f+H),p.matrix=[],T=0;T<P;T++){var q=[];for(U=0;U<I;U++){var j=null,J=null;y!=0&&(j=e.GPOS.readValueRecord(r,l,y),l+=2*_),x!=0&&(J=e.GPOS.readValueRecord(r,l,x),l+=2*M),q.push({val1:j,val2:J})}p.matrix.push(q)}}}else if(s==4&&p.fmt==1)p.markCoverage=e._lctf.readCoverage(r,h.readUshort(r,l)+f),p.baseCoverage=e._lctf.readCoverage(r,h.readUshort(r,l+2)+f),p.markClassCount=h.readUshort(r,l+4),p.markArray=e.GPOS.readMarkArray(r,h.readUshort(r,l+6)+f),p.baseArray=e.GPOS.readBaseArray(r,h.readUshort(r,l+8)+f,p.markClassCount);else if(s==6&&p.fmt==1)p.mark1Coverage=e._lctf.readCoverage(r,h.readUshort(r,l)+f),p.mark2Coverage=e._lctf.readCoverage(r,h.readUshort(r,l+2)+f),p.markClassCount=h.readUshort(r,l+4),p.mark1Array=e.GPOS.readMarkArray(r,h.readUshort(r,l+6)+f),p.mark2Array=e.GPOS.readBaseArray(r,h.readUshort(r,l+8)+f,p.markClassCount);else{if(s==9&&p.fmt==1){var W=h.readUshort(r,l);l+=2;var se=h.readUint(r,l);if(l+=4,u.ltype==9)u.ltype=W;else if(u.ltype!=W)throw"invalid extension substitution";return e.GPOS.subt(r,u.ltype,f+se)}console.debug("unsupported GPOS table LookupType",s,"format",p.fmt)}return p},e.GPOS.readValueRecord=function(r,s,l){var u=e._bin,h=[];return h.push(1&l?u.readShort(r,s):0),s+=1&l?2:0,h.push(2&l?u.readShort(r,s):0),s+=2&l?2:0,h.push(4&l?u.readShort(r,s):0),s+=4&l?2:0,h.push(8&l?u.readShort(r,s):0),s+=8&l?2:0,h},e.GPOS.readBaseArray=function(r,s,l){var u=e._bin,h=[],f=s,p=u.readUshort(r,s);s+=2;for(var v=0;v<p;v++){for(var y=[],x=0;x<l;x++)y.push(e.GPOS.readAnchorRecord(r,f+u.readUshort(r,s))),s+=2;h.push(y)}return h},e.GPOS.readMarkArray=function(r,s){var l=e._bin,u=[],h=s,f=l.readUshort(r,s);s+=2;for(var p=0;p<f;p++){var v=e.GPOS.readAnchorRecord(r,l.readUshort(r,s+2)+h);v.markClass=l.readUshort(r,s),u.push(v),s+=4}return u},e.GPOS.readAnchorRecord=function(r,s){var l=e._bin,u={};return u.fmt=l.readUshort(r,s),u.x=l.readShort(r,s+2),u.y=l.readShort(r,s+4),u},e.GSUB={},e.GSUB.parse=function(r,s,l,u){return e._lctf.parse(r,s,l,u,e.GSUB.subt)},e.GSUB.subt=function(r,s,l,u){var h=e._bin,f=l,p={};if(p.fmt=h.readUshort(r,l),l+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&p.fmt<=2||s==6&&p.fmt<=2){var v=h.readUshort(r,l);l+=2,p.coverage=e._lctf.readCoverage(r,f+v)}if(s==1&&p.fmt>=1&&p.fmt<=2){if(p.fmt==1)p.delta=h.readShort(r,l),l+=2;else if(p.fmt==2){var y=h.readUshort(r,l);l+=2,p.newg=h.readUshorts(r,l,y),l+=2*p.newg.length}}else if(s==2&&p.fmt==1){y=h.readUshort(r,l),l+=2,p.seqs=[];for(var x=0;x<y;x++){var _=h.readUshort(r,l)+f;l+=2;var M=h.readUshort(r,_);p.seqs.push(h.readUshorts(r,_+2,M))}}else if(s==4)for(p.vals=[],y=h.readUshort(r,l),l+=2,x=0;x<y;x++){var N=h.readUshort(r,l);l+=2,p.vals.push(e.GSUB.readLigatureSet(r,f+N))}else if(s==5&&p.fmt==2){if(p.fmt==2){var T=h.readUshort(r,l);l+=2,p.cDef=e._lctf.readClassDef(r,f+T),p.scset=[];var A=h.readUshort(r,l);for(l+=2,x=0;x<A;x++){var w=h.readUshort(r,l);l+=2,p.scset.push(w==0?null:e.GSUB.readSubClassSet(r,f+w))}}}else if(s==6&&p.fmt==3){if(p.fmt==3){for(x=0;x<3;x++){y=h.readUshort(r,l),l+=2;for(var L=[],U=0;U<y;U++)L.push(e._lctf.readCoverage(r,f+h.readUshort(r,l+2*U)));l+=2*y,x==0&&(p.backCvg=L),x==1&&(p.inptCvg=L),x==2&&(p.ahedCvg=L)}y=h.readUshort(r,l),l+=2,p.lookupRec=e.GSUB.readSubstLookupRecords(r,l,y)}}else{if(s==7&&p.fmt==1){var k=h.readUshort(r,l);l+=2;var V=h.readUint(r,l);if(l+=4,u.ltype==9)u.ltype=k;else if(u.ltype!=k)throw"invalid extension substitution";return e.GSUB.subt(r,u.ltype,f+V)}console.debug("unsupported GSUB table LookupType",s,"format",p.fmt)}return p},e.GSUB.readSubClassSet=function(r,s){var l=e._bin.readUshort,u=s,h=[],f=l(r,s);s+=2;for(var p=0;p<f;p++){var v=l(r,s);s+=2,h.push(e.GSUB.readSubClassRule(r,u+v))}return h},e.GSUB.readSubClassRule=function(r,s){var l=e._bin.readUshort,u={},h=l(r,s),f=l(r,s+=2);s+=2,u.input=[];for(var p=0;p<h-1;p++)u.input.push(l(r,s)),s+=2;return u.substLookupRecords=e.GSUB.readSubstLookupRecords(r,s,f),u},e.GSUB.readSubstLookupRecords=function(r,s,l){for(var u=e._bin.readUshort,h=[],f=0;f<l;f++)h.push(u(r,s),u(r,s+2)),s+=4;return h},e.GSUB.readChainSubClassSet=function(r,s){var l=e._bin,u=s,h=[],f=l.readUshort(r,s);s+=2;for(var p=0;p<f;p++){var v=l.readUshort(r,s);s+=2,h.push(e.GSUB.readChainSubClassRule(r,u+v))}return h},e.GSUB.readChainSubClassRule=function(r,s){for(var l=e._bin,u={},h=["backtrack","input","lookahead"],f=0;f<h.length;f++){var p=l.readUshort(r,s);s+=2,f==1&&p--,u[h[f]]=l.readUshorts(r,s,p),s+=2*u[h[f]].length}return p=l.readUshort(r,s),s+=2,u.subst=l.readUshorts(r,s,2*p),s+=2*u.subst.length,u},e.GSUB.readLigatureSet=function(r,s){var l=e._bin,u=s,h=[],f=l.readUshort(r,s);s+=2;for(var p=0;p<f;p++){var v=l.readUshort(r,s);s+=2,h.push(e.GSUB.readLigature(r,u+v))}return h},e.GSUB.readLigature=function(r,s){var l=e._bin,u={chain:[]};u.nglyph=l.readUshort(r,s),s+=2;var h=l.readUshort(r,s);s+=2;for(var f=0;f<h-1;f++)u.chain.push(l.readUshort(r,s)),s+=2;return u},e.head={},e.head.parse=function(r,s,l){var u=e._bin,h={};return u.readFixed(r,s),s+=4,h.fontRevision=u.readFixed(r,s),s+=4,u.readUint(r,s),s+=4,u.readUint(r,s),s+=4,h.flags=u.readUshort(r,s),s+=2,h.unitsPerEm=u.readUshort(r,s),s+=2,h.created=u.readUint64(r,s),s+=8,h.modified=u.readUint64(r,s),s+=8,h.xMin=u.readShort(r,s),s+=2,h.yMin=u.readShort(r,s),s+=2,h.xMax=u.readShort(r,s),s+=2,h.yMax=u.readShort(r,s),s+=2,h.macStyle=u.readUshort(r,s),s+=2,h.lowestRecPPEM=u.readUshort(r,s),s+=2,h.fontDirectionHint=u.readShort(r,s),s+=2,h.indexToLocFormat=u.readShort(r,s),s+=2,h.glyphDataFormat=u.readShort(r,s),s+=2,h},e.hhea={},e.hhea.parse=function(r,s,l){var u=e._bin,h={};return u.readFixed(r,s),s+=4,h.ascender=u.readShort(r,s),s+=2,h.descender=u.readShort(r,s),s+=2,h.lineGap=u.readShort(r,s),s+=2,h.advanceWidthMax=u.readUshort(r,s),s+=2,h.minLeftSideBearing=u.readShort(r,s),s+=2,h.minRightSideBearing=u.readShort(r,s),s+=2,h.xMaxExtent=u.readShort(r,s),s+=2,h.caretSlopeRise=u.readShort(r,s),s+=2,h.caretSlopeRun=u.readShort(r,s),s+=2,h.caretOffset=u.readShort(r,s),s+=2,s+=8,h.metricDataFormat=u.readShort(r,s),s+=2,h.numberOfHMetrics=u.readUshort(r,s),s+=2,h},e.hmtx={},e.hmtx.parse=function(r,s,l,u){for(var h=e._bin,f={aWidth:[],lsBearing:[]},p=0,v=0,y=0;y<u.maxp.numGlyphs;y++)y<u.hhea.numberOfHMetrics&&(p=h.readUshort(r,s),s+=2,v=h.readShort(r,s),s+=2),f.aWidth.push(p),f.lsBearing.push(v);return f},e.kern={},e.kern.parse=function(r,s,l,u){var h=e._bin,f=h.readUshort(r,s);if(s+=2,f==1)return e.kern.parseV1(r,s-2,l,u);var p=h.readUshort(r,s);s+=2;for(var v={glyph1:[],rval:[]},y=0;y<p;y++){s+=2,l=h.readUshort(r,s),s+=2;var x=h.readUshort(r,s);s+=2;var _=x>>>8;if((_&=15)!=0)throw"unknown kern table format: "+_;s=e.kern.readFormat0(r,s,v)}return v},e.kern.parseV1=function(r,s,l,u){var h=e._bin;h.readFixed(r,s),s+=4;var f=h.readUint(r,s);s+=4;for(var p={glyph1:[],rval:[]},v=0;v<f;v++){h.readUint(r,s),s+=4;var y=h.readUshort(r,s);s+=2,h.readUshort(r,s),s+=2;var x=y>>>8;if((x&=15)!=0)throw"unknown kern table format: "+x;s=e.kern.readFormat0(r,s,p)}return p},e.kern.readFormat0=function(r,s,l){var u=e._bin,h=-1,f=u.readUshort(r,s);s+=2,u.readUshort(r,s),s+=2,u.readUshort(r,s),s+=2,u.readUshort(r,s),s+=2;for(var p=0;p<f;p++){var v=u.readUshort(r,s);s+=2;var y=u.readUshort(r,s);s+=2;var x=u.readShort(r,s);s+=2,v!=h&&(l.glyph1.push(v),l.rval.push({glyph2:[],vals:[]}));var _=l.rval[l.rval.length-1];_.glyph2.push(y),_.vals.push(x),h=v}return s},e.loca={},e.loca.parse=function(r,s,l,u){var h=e._bin,f=[],p=u.head.indexToLocFormat,v=u.maxp.numGlyphs+1;if(p==0)for(var y=0;y<v;y++)f.push(h.readUshort(r,s+(y<<1))<<1);if(p==1)for(y=0;y<v;y++)f.push(h.readUint(r,s+(y<<2)));return f},e.maxp={},e.maxp.parse=function(r,s,l){var u=e._bin,h={},f=u.readUint(r,s);return s+=4,h.numGlyphs=u.readUshort(r,s),s+=2,f==65536&&(h.maxPoints=u.readUshort(r,s),s+=2,h.maxContours=u.readUshort(r,s),s+=2,h.maxCompositePoints=u.readUshort(r,s),s+=2,h.maxCompositeContours=u.readUshort(r,s),s+=2,h.maxZones=u.readUshort(r,s),s+=2,h.maxTwilightPoints=u.readUshort(r,s),s+=2,h.maxStorage=u.readUshort(r,s),s+=2,h.maxFunctionDefs=u.readUshort(r,s),s+=2,h.maxInstructionDefs=u.readUshort(r,s),s+=2,h.maxStackElements=u.readUshort(r,s),s+=2,h.maxSizeOfInstructions=u.readUshort(r,s),s+=2,h.maxComponentElements=u.readUshort(r,s),s+=2,h.maxComponentDepth=u.readUshort(r,s),s+=2),h},e.name={},e.name.parse=function(r,s,l){var u=e._bin,h={};u.readUshort(r,s),s+=2;var f=u.readUshort(r,s);s+=2,u.readUshort(r,s);for(var p,v=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],y=s+=2,x=0;x<f;x++){var _=u.readUshort(r,s);s+=2;var M=u.readUshort(r,s);s+=2;var N=u.readUshort(r,s);s+=2;var T=u.readUshort(r,s);s+=2;var A=u.readUshort(r,s);s+=2;var w=u.readUshort(r,s);s+=2;var L,U=v[T],k=y+12*f+w;if(_==0)L=u.readUnicode(r,k,A/2);else if(_==3&&M==0)L=u.readUnicode(r,k,A/2);else if(M==0)L=u.readASCII(r,k,A);else if(M==1)L=u.readUnicode(r,k,A/2);else if(M==3)L=u.readUnicode(r,k,A/2);else{if(_!=1)throw"unknown encoding "+M+", platformID: "+_;L=u.readASCII(r,k,A),console.debug("reading unknown MAC encoding "+M+" as ASCII")}var V="p"+_+","+N.toString(16);h[V]==null&&(h[V]={}),h[V][U!==void 0?U:T]=L,h[V]._lang=N}for(var H in h)if(h[H].postScriptName!=null&&h[H]._lang==1033)return h[H];for(var H in h)if(h[H].postScriptName!=null&&h[H]._lang==0)return h[H];for(var H in h)if(h[H].postScriptName!=null&&h[H]._lang==3084)return h[H];for(var H in h)if(h[H].postScriptName!=null)return h[H];for(var H in h){p=H;break}return console.debug("returning name table with languageID "+h[p]._lang),h[p]},e["OS/2"]={},e["OS/2"].parse=function(r,s,l){var u=e._bin.readUshort(r,s);s+=2;var h={};if(u==0)e["OS/2"].version0(r,s,h);else if(u==1)e["OS/2"].version1(r,s,h);else if(u==2||u==3||u==4)e["OS/2"].version2(r,s,h);else{if(u!=5)throw"unknown OS/2 table version: "+u;e["OS/2"].version5(r,s,h)}return h},e["OS/2"].version0=function(r,s,l){var u=e._bin;return l.xAvgCharWidth=u.readShort(r,s),s+=2,l.usWeightClass=u.readUshort(r,s),s+=2,l.usWidthClass=u.readUshort(r,s),s+=2,l.fsType=u.readUshort(r,s),s+=2,l.ySubscriptXSize=u.readShort(r,s),s+=2,l.ySubscriptYSize=u.readShort(r,s),s+=2,l.ySubscriptXOffset=u.readShort(r,s),s+=2,l.ySubscriptYOffset=u.readShort(r,s),s+=2,l.ySuperscriptXSize=u.readShort(r,s),s+=2,l.ySuperscriptYSize=u.readShort(r,s),s+=2,l.ySuperscriptXOffset=u.readShort(r,s),s+=2,l.ySuperscriptYOffset=u.readShort(r,s),s+=2,l.yStrikeoutSize=u.readShort(r,s),s+=2,l.yStrikeoutPosition=u.readShort(r,s),s+=2,l.sFamilyClass=u.readShort(r,s),s+=2,l.panose=u.readBytes(r,s,10),s+=10,l.ulUnicodeRange1=u.readUint(r,s),s+=4,l.ulUnicodeRange2=u.readUint(r,s),s+=4,l.ulUnicodeRange3=u.readUint(r,s),s+=4,l.ulUnicodeRange4=u.readUint(r,s),s+=4,l.achVendID=[u.readInt8(r,s),u.readInt8(r,s+1),u.readInt8(r,s+2),u.readInt8(r,s+3)],s+=4,l.fsSelection=u.readUshort(r,s),s+=2,l.usFirstCharIndex=u.readUshort(r,s),s+=2,l.usLastCharIndex=u.readUshort(r,s),s+=2,l.sTypoAscender=u.readShort(r,s),s+=2,l.sTypoDescender=u.readShort(r,s),s+=2,l.sTypoLineGap=u.readShort(r,s),s+=2,l.usWinAscent=u.readUshort(r,s),s+=2,l.usWinDescent=u.readUshort(r,s),s+=2},e["OS/2"].version1=function(r,s,l){var u=e._bin;return s=e["OS/2"].version0(r,s,l),l.ulCodePageRange1=u.readUint(r,s),s+=4,l.ulCodePageRange2=u.readUint(r,s),s+=4},e["OS/2"].version2=function(r,s,l){var u=e._bin;return s=e["OS/2"].version1(r,s,l),l.sxHeight=u.readShort(r,s),s+=2,l.sCapHeight=u.readShort(r,s),s+=2,l.usDefault=u.readUshort(r,s),s+=2,l.usBreak=u.readUshort(r,s),s+=2,l.usMaxContext=u.readUshort(r,s),s+=2},e["OS/2"].version5=function(r,s,l){var u=e._bin;return s=e["OS/2"].version2(r,s,l),l.usLowerOpticalPointSize=u.readUshort(r,s),s+=2,l.usUpperOpticalPointSize=u.readUshort(r,s),s+=2},e.post={},e.post.parse=function(r,s,l){var u=e._bin,h={};return h.version=u.readFixed(r,s),s+=4,h.italicAngle=u.readFixed(r,s),s+=4,h.underlinePosition=u.readShort(r,s),s+=2,h.underlineThickness=u.readShort(r,s),s+=2,h},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,s){var l=r.cmap,u=-1;if(l.p0e4!=null?u=l.p0e4:l.p3e1!=null?u=l.p3e1:l.p1e0!=null?u=l.p1e0:l.p0e3!=null&&(u=l.p0e3),u==-1)throw"no familiar platform and encoding!";var h=l.tables[u];if(h.format==0)return s>=h.map.length?0:h.map[s];if(h.format==4){for(var f=-1,p=0;p<h.endCount.length;p++)if(s<=h.endCount[p]){f=p;break}return f==-1||h.startCount[f]>s?0:65535&(h.idRangeOffset[f]!=0?h.glyphIdArray[s-h.startCount[f]+(h.idRangeOffset[f]>>1)-(h.idRangeOffset.length-f)]:s+h.idDelta[f])}if(h.format==12){if(s>h.groups[h.groups.length-1][1])return 0;for(p=0;p<h.groups.length;p++){var v=h.groups[p];if(v[0]<=s&&s<=v[1])return v[2]+(s-v[0])}return 0}throw"unknown cmap table format "+h.format},e.U.glyphToPath=function(r,s){var l={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[s]){var u=r.SVG.entries[s];return u==null?l:(typeof u=="string"&&(u=e.SVG.toPath(u),r.SVG.entries[s]=u),u)}if(r.CFF){var h={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},f=r.CFF,p=r.CFF.Private;if(f.ROS){for(var v=0;f.FDSelect[v+2]<=s;)v+=2;p=f.FDArray[f.FDSelect[v+1]].Private}e.U._drawCFF(r.CFF.CharStrings[s],h,f,p,l)}else r.glyf&&e.U._drawGlyf(s,r,l);return l},e.U._drawGlyf=function(r,s,l){var u=s.glyf[r];u==null&&(u=s.glyf[r]=e.glyf._parseGlyf(s,r)),u!=null&&(u.noc>-1?e.U._simpleGlyph(u,l):e.U._compoGlyph(u,s,l))},e.U._simpleGlyph=function(r,s){for(var l=0;l<r.noc;l++){for(var u=l==0?0:r.endPts[l-1]+1,h=r.endPts[l],f=u;f<=h;f++){var p=f==u?h:f-1,v=f==h?u:f+1,y=1&r.flags[f],x=1&r.flags[p],_=1&r.flags[v],M=r.xs[f],N=r.ys[f];if(f==u)if(y){if(!x){e.U.P.moveTo(s,M,N);continue}e.U.P.moveTo(s,r.xs[p],r.ys[p])}else x?e.U.P.moveTo(s,r.xs[p],r.ys[p]):e.U.P.moveTo(s,(r.xs[p]+M)/2,(r.ys[p]+N)/2);y?x&&e.U.P.lineTo(s,M,N):_?e.U.P.qcurveTo(s,M,N,r.xs[v],r.ys[v]):e.U.P.qcurveTo(s,M,N,(M+r.xs[v])/2,(N+r.ys[v])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(r,s,l){for(var u=0;u<r.parts.length;u++){var h={cmds:[],crds:[]},f=r.parts[u];e.U._drawGlyf(f.glyphIndex,s,h);for(var p=f.m,v=0;v<h.crds.length;v+=2){var y=h.crds[v],x=h.crds[v+1];l.crds.push(y*p.a+x*p.b+p.tx),l.crds.push(y*p.c+x*p.d+p.ty)}for(v=0;v<h.cmds.length;v++)l.cmds.push(h.cmds[v])}},e.U._getGlyphClass=function(r,s){var l=e._lctf.getInterval(s,r);return l==-1?0:s[l+2]},e.U._applySubs=function(r,s,l,u){for(var h=r.length-s-1,f=0;f<l.tabs.length;f++)if(l.tabs[f]!=null){var p,v=l.tabs[f];if(!v.coverage||(p=e._lctf.coverageIndex(v.coverage,r[s]))!=-1){if(l.ltype==1)r[s],v.fmt==1?r[s]=r[s]+v.delta:r[s]=v.newg[p];else if(l.ltype==4)for(var y=v.vals[p],x=0;x<y.length;x++){var _=y[x],M=_.chain.length;if(!(M>h)){for(var N=!0,T=0,A=0;A<M;A++){for(;r[s+T+(1+A)]==-1;)T++;_.chain[A]!=r[s+T+(1+A)]&&(N=!1)}if(N){for(r[s]=_.nglyph,A=0;A<M+T;A++)r[s+A+1]=-1;break}}}else if(l.ltype==5&&v.fmt==2)for(var w=e._lctf.getInterval(v.cDef,r[s]),L=v.cDef[w+2],U=v.scset[L],k=0;k<U.length;k++){var V=U[k],H=V.input;if(!(H.length>h)){for(N=!0,A=0;A<H.length;A++){var P=e._lctf.getInterval(v.cDef,r[s+1+A]);if(w==-1&&v.cDef[P+2]!=H[A]){N=!1;break}}if(N){var I=V.substLookupRecords;for(x=0;x<I.length;x+=2)I[x],I[x+1]}}}else if(l.ltype==6&&v.fmt==3){if(!e.U._glsCovered(r,v.backCvg,s-v.backCvg.length)||!e.U._glsCovered(r,v.inptCvg,s)||!e.U._glsCovered(r,v.ahedCvg,s+v.inptCvg.length))continue;var q=v.lookupRec;for(k=0;k<q.length;k+=2){w=q[k];var j=u[q[k+1]];e.U._applySubs(r,s+w,j,u)}}}}},e.U._glsCovered=function(r,s,l){for(var u=0;u<s.length;u++)if(e._lctf.coverageIndex(s[u],r[l+u])==-1)return!1;return!0},e.U.glyphsToPath=function(r,s,l){for(var u={cmds:[],crds:[]},h=0,f=0;f<s.length;f++){var p=s[f];if(p!=-1){for(var v=f<s.length-1&&s[f+1]!=-1?s[f+1]:0,y=e.U.glyphToPath(r,p),x=0;x<y.crds.length;x+=2)u.crds.push(y.crds[x]+h),u.crds.push(y.crds[x+1]);for(l&&u.cmds.push(l),x=0;x<y.cmds.length;x++)u.cmds.push(y.cmds[x]);l&&u.cmds.push("X"),h+=r.hmtx.aWidth[p],f<s.length-1&&(h+=e.U.getPairAdjustment(r,p,v))}}return u},e.U.P={},e.U.P.moveTo=function(r,s,l){r.cmds.push("M"),r.crds.push(s,l)},e.U.P.lineTo=function(r,s,l){r.cmds.push("L"),r.crds.push(s,l)},e.U.P.curveTo=function(r,s,l,u,h,f,p){r.cmds.push("C"),r.crds.push(s,l,u,h,f,p)},e.U.P.qcurveTo=function(r,s,l,u,h){r.cmds.push("Q"),r.crds.push(s,l,u,h)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,s,l,u,h){for(var f=s.stack,p=s.nStems,v=s.haveWidth,y=s.width,x=s.open,_=0,M=s.x,N=s.y,T=0,A=0,w=0,L=0,U=0,k=0,V=0,H=0,P=0,I=0,q={val:0,size:0};_<r.length;){e.CFF.getCharString(r,_,q);var j=q.val;if(_+=q.size,j=="o1"||j=="o18")f.length%2!=0&&!v&&(y=f.shift()+u.nominalWidthX),p+=f.length>>1,f.length=0,v=!0;else if(j=="o3"||j=="o23")f.length%2!=0&&!v&&(y=f.shift()+u.nominalWidthX),p+=f.length>>1,f.length=0,v=!0;else if(j=="o4")f.length>1&&!v&&(y=f.shift()+u.nominalWidthX,v=!0),x&&e.U.P.closePath(h),N+=f.pop(),e.U.P.moveTo(h,M,N),x=!0;else if(j=="o5")for(;f.length>0;)M+=f.shift(),N+=f.shift(),e.U.P.lineTo(h,M,N);else if(j=="o6"||j=="o7")for(var J=f.length,W=j=="o6",se=0;se<J;se++){var te=f.shift();W?M+=te:N+=te,W=!W,e.U.P.lineTo(h,M,N)}else if(j=="o8"||j=="o24"){J=f.length;for(var ae=0;ae+6<=J;)T=M+f.shift(),A=N+f.shift(),w=T+f.shift(),L=A+f.shift(),M=w+f.shift(),N=L+f.shift(),e.U.P.curveTo(h,T,A,w,L,M,N),ae+=6;j=="o24"&&(M+=f.shift(),N+=f.shift(),e.U.P.lineTo(h,M,N))}else{if(j=="o11")break;if(j=="o1234"||j=="o1235"||j=="o1236"||j=="o1237")j=="o1234"&&(A=N,w=(T=M+f.shift())+f.shift(),I=L=A+f.shift(),k=L,H=N,M=(V=(U=(P=w+f.shift())+f.shift())+f.shift())+f.shift(),e.U.P.curveTo(h,T,A,w,L,P,I),e.U.P.curveTo(h,U,k,V,H,M,N)),j=="o1235"&&(T=M+f.shift(),A=N+f.shift(),w=T+f.shift(),L=A+f.shift(),P=w+f.shift(),I=L+f.shift(),U=P+f.shift(),k=I+f.shift(),V=U+f.shift(),H=k+f.shift(),M=V+f.shift(),N=H+f.shift(),f.shift(),e.U.P.curveTo(h,T,A,w,L,P,I),e.U.P.curveTo(h,U,k,V,H,M,N)),j=="o1236"&&(T=M+f.shift(),A=N+f.shift(),w=T+f.shift(),I=L=A+f.shift(),k=L,V=(U=(P=w+f.shift())+f.shift())+f.shift(),H=k+f.shift(),M=V+f.shift(),e.U.P.curveTo(h,T,A,w,L,P,I),e.U.P.curveTo(h,U,k,V,H,M,N)),j=="o1237"&&(T=M+f.shift(),A=N+f.shift(),w=T+f.shift(),L=A+f.shift(),P=w+f.shift(),I=L+f.shift(),U=P+f.shift(),k=I+f.shift(),V=U+f.shift(),H=k+f.shift(),Math.abs(V-M)>Math.abs(H-N)?M=V+f.shift():N=H+f.shift(),e.U.P.curveTo(h,T,A,w,L,P,I),e.U.P.curveTo(h,U,k,V,H,M,N));else if(j=="o14"){if(f.length>0&&!v&&(y=f.shift()+l.nominalWidthX,v=!0),f.length==4){var ge=f.shift(),ve=f.shift(),ce=f.shift(),Y=f.shift(),ee=e.CFF.glyphBySE(l,ce),le=e.CFF.glyphBySE(l,Y);e.U._drawCFF(l.CharStrings[ee],s,l,u,h),s.x=ge,s.y=ve,e.U._drawCFF(l.CharStrings[le],s,l,u,h)}x&&(e.U.P.closePath(h),x=!1)}else if(j=="o19"||j=="o20")f.length%2!=0&&!v&&(y=f.shift()+u.nominalWidthX),p+=f.length>>1,f.length=0,v=!0,_+=p+7>>3;else if(j=="o21")f.length>2&&!v&&(y=f.shift()+u.nominalWidthX,v=!0),N+=f.pop(),M+=f.pop(),x&&e.U.P.closePath(h),e.U.P.moveTo(h,M,N),x=!0;else if(j=="o22")f.length>1&&!v&&(y=f.shift()+u.nominalWidthX,v=!0),M+=f.pop(),x&&e.U.P.closePath(h),e.U.P.moveTo(h,M,N),x=!0;else if(j=="o25"){for(;f.length>6;)M+=f.shift(),N+=f.shift(),e.U.P.lineTo(h,M,N);T=M+f.shift(),A=N+f.shift(),w=T+f.shift(),L=A+f.shift(),M=w+f.shift(),N=L+f.shift(),e.U.P.curveTo(h,T,A,w,L,M,N)}else if(j=="o26")for(f.length%2&&(M+=f.shift());f.length>0;)T=M,A=N+f.shift(),M=w=T+f.shift(),N=(L=A+f.shift())+f.shift(),e.U.P.curveTo(h,T,A,w,L,M,N);else if(j=="o27")for(f.length%2&&(N+=f.shift());f.length>0;)A=N,w=(T=M+f.shift())+f.shift(),L=A+f.shift(),M=w+f.shift(),N=L,e.U.P.curveTo(h,T,A,w,L,M,N);else if(j=="o10"||j=="o29"){var ye=j=="o10"?u:l;if(f.length==0)console.debug("error: empty stack");else{var be=f.pop(),we=ye.Subrs[be+ye.Bias];s.x=M,s.y=N,s.nStems=p,s.haveWidth=v,s.width=y,s.open=x,e.U._drawCFF(we,s,l,u,h),M=s.x,N=s.y,p=s.nStems,v=s.haveWidth,y=s.width,x=s.open}}else if(j=="o30"||j=="o31"){var Oe=f.length,De=(ae=0,j=="o31");for(ae+=Oe-(J=-3&Oe);ae<J;)De?(A=N,w=(T=M+f.shift())+f.shift(),N=(L=A+f.shift())+f.shift(),J-ae==5?(M=w+f.shift(),ae++):M=w,De=!1):(T=M,A=N+f.shift(),w=T+f.shift(),L=A+f.shift(),M=w+f.shift(),J-ae==5?(N=L+f.shift(),ae++):N=L,De=!0),e.U.P.curveTo(h,T,A,w,L,M,N),ae+=4}else{if((j+"").charAt(0)=="o")throw console.debug("Unknown operation: "+j,r),j;f.push(j)}}}s.x=M,s.y=N,s.nStems=p,s.haveWidth=v,s.width=y,s.open=x};var t=e,i={Typr:t};return n.Typr=t,n.default=i,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function lue(){return function(n){var e=Uint8Array,t=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(j,J){for(var W=new t(31),se=0;se<31;++se)W[se]=J+=1<<j[se-1];var te=new i(W[30]);for(se=1;se<30;++se)for(var ae=W[se];ae<W[se+1];++ae)te[ae]=ae-W[se]<<5|se;return[W,te]},h=u(r,2),f=h[0],p=h[1];f[28]=258,p[258]=28;for(var v=u(s,0)[0],y=new t(32768),x=0;x<32768;++x){var _=(43690&x)>>>1|(21845&x)<<1;_=(61680&(_=(52428&_)>>>2|(13107&_)<<2))>>>4|(3855&_)<<4,y[x]=((65280&_)>>>8|(255&_)<<8)>>>1}var M=function(j,J,W){for(var se=j.length,te=0,ae=new t(J);te<se;++te)++ae[j[te]-1];var ge,ve=new t(J);for(te=0;te<J;++te)ve[te]=ve[te-1]+ae[te-1]<<1;if(W){ge=new t(1<<J);var ce=15-J;for(te=0;te<se;++te)if(j[te])for(var Y=te<<4|j[te],ee=J-j[te],le=ve[j[te]-1]++<<ee,ye=le|(1<<ee)-1;le<=ye;++le)ge[y[le]>>>ce]=Y}else for(ge=new t(se),te=0;te<se;++te)j[te]&&(ge[te]=y[ve[j[te]-1]++]>>>15-j[te]);return ge},N=new e(288);for(x=0;x<144;++x)N[x]=8;for(x=144;x<256;++x)N[x]=9;for(x=256;x<280;++x)N[x]=7;for(x=280;x<288;++x)N[x]=8;var T=new e(32);for(x=0;x<32;++x)T[x]=5;var A=M(N,9,1),w=M(T,5,1),L=function(j){for(var J=j[0],W=1;W<j.length;++W)j[W]>J&&(J=j[W]);return J},U=function(j,J,W){var se=J/8|0;return(j[se]|j[se+1]<<8)>>(7&J)&W},k=function(j,J){var W=J/8|0;return(j[W]|j[W+1]<<8|j[W+2]<<16)>>(7&J)},V=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],H=function(j,J,W){var se=new Error(J||V[j]);if(se.code=j,Error.captureStackTrace&&Error.captureStackTrace(se,H),!W)throw se;return se},P=function(j,J,W){var se=j.length;if(!se||W&&!W.l&&se<5)return J||new e(0);var te=!J||W,ae=!W||W.i;W||(W={}),J||(J=new e(3*se));var ge,ve=function(Be){var pe=J.length;if(Be>pe){var Pe=new e(Math.max(2*pe,Be));Pe.set(J),J=Pe}},ce=W.f||0,Y=W.p||0,ee=W.b||0,le=W.l,ye=W.d,be=W.m,we=W.n,Oe=8*se;do{if(!le){W.f=ce=U(j,Y,1);var De=U(j,Y+1,3);if(Y+=3,!De){var st=j[(vt=((ge=Y)/8|0)+(7&ge&&1)+4)-4]|j[vt-3]<<8,dt=vt+st;if(dt>se){ae&&H(0);break}te&&ve(ee+st),J.set(j.subarray(vt,dt),ee),W.b=ee+=st,W.p=Y=8*dt;continue}if(De==1)le=A,ye=w,be=9,we=5;else if(De==2){var ze=U(j,Y,31)+257,ie=U(j,Y+10,15)+4,$e=ze+U(j,Y+5,31)+1;Y+=14;for(var Le=new e($e),je=new e(19),Ve=0;Ve<ie;++Ve)je[l[Ve]]=U(j,Y+3*Ve,7);Y+=3*ie;var ft=L(je),Ge=(1<<ft)-1,it=M(je,ft,1);for(Ve=0;Ve<$e;){var vt,Ye=it[U(j,Y,Ge)];if(Y+=15&Ye,(vt=Ye>>>4)<16)Le[Ve++]=vt;else{var Lt=0,Q=0;for(vt==16?(Q=3+U(j,Y,3),Y+=2,Lt=Le[Ve-1]):vt==17?(Q=3+U(j,Y,7),Y+=3):vt==18&&(Q=11+U(j,Y,127),Y+=7);Q--;)Le[Ve++]=Lt}}var K=Le.subarray(0,ze),Ne=Le.subarray(ze);be=L(K),we=L(Ne),le=M(K,be,1),ye=M(Ne,we,1)}else H(1);if(Y>Oe){ae&&H(0);break}}te&&ve(ee+131072);for(var ut=(1<<be)-1,Ue=(1<<we)-1,Qe=Y;;Qe=Y){var Nt=(Lt=le[k(j,Y)&ut])>>>4;if((Y+=15&Lt)>Oe){ae&&H(0);break}if(Lt||H(2),Nt<256)J[ee++]=Nt;else{if(Nt==256){Qe=Y,le=null;break}var ht=Nt-254;if(Nt>264){var ue=r[Ve=Nt-257];ht=U(j,Y,(1<<ue)-1)+f[Ve],Y+=ue}var Te=ye[k(j,Y)&Ue],ke=Te>>>4;if(Te||H(3),Y+=15&Te,Ne=v[ke],ke>3&&(ue=s[ke],Ne+=k(j,Y)&(1<<ue)-1,Y+=ue),Y>Oe){ae&&H(0);break}te&&ve(ee+131072);for(var Ae=ee+ht;ee<Ae;ee+=4)J[ee]=J[ee-Ne],J[ee+1]=J[ee+1-Ne],J[ee+2]=J[ee+2-Ne],J[ee+3]=J[ee+3-Ne];ee=Ae}}W.l=le,W.p=Qe,W.b=ee,le&&(ce=1,W.m=be,W.d=ye,W.n=we)}while(!ce);return ee==J.length?J:function(Be,pe,Pe){(pe==null||pe<0)&&(pe=0),(Pe==null||Pe>Be.length)&&(Pe=Be.length);var He=new(Be instanceof t?t:Be instanceof i?i:e)(Pe-pe);return He.set(Be.subarray(pe,Pe)),He}(J,0,ee)},I=new e(0),q=typeof TextDecoder<"u"&&new TextDecoder;try{q.decode(I,{stream:!0})}catch{}return n.convert_streams=function(j){var J=new DataView(j),W=0;function se(){var ze=J.getUint16(W);return W+=2,ze}function te(){var ze=J.getUint32(W);return W+=4,ze}function ae(ze){st.setUint16(dt,ze),dt+=2}function ge(ze){st.setUint32(dt,ze),dt+=4}for(var ve={signature:te(),flavor:te(),length:te(),numTables:se(),reserved:se(),totalSfntSize:te(),majorVersion:se(),minorVersion:se(),metaOffset:te(),metaLength:te(),metaOrigLength:te(),privOffset:te(),privLength:te()},ce=0;Math.pow(2,ce)<=ve.numTables;)ce++;ce--;for(var Y=16*Math.pow(2,ce),ee=16*ve.numTables-Y,le=12,ye=[],be=0;be<ve.numTables;be++)ye.push({tag:te(),offset:te(),compLength:te(),origLength:te(),origChecksum:te()}),le+=16;var we,Oe=new Uint8Array(12+16*ye.length+ye.reduce(function(ze,ie){return ze+ie.origLength+4},0)),De=Oe.buffer,st=new DataView(De),dt=0;return ge(ve.flavor),ae(ve.numTables),ae(Y),ae(ce),ae(ee),ye.forEach(function(ze){ge(ze.tag),ge(ze.origChecksum),ge(le),ge(ze.origLength),ze.outOffset=le,(le+=ze.origLength)%4!=0&&(le+=4-le%4)}),ye.forEach(function(ze){var ie,$e=j.slice(ze.offset,ze.offset+ze.compLength);if(ze.compLength!=ze.origLength){var Le=new Uint8Array(ze.origLength);ie=new Uint8Array($e,2),P(ie,Le)}else Le=new Uint8Array($e);Oe.set(Le,ze.outOffset);var je=0;(le=ze.outOffset+ze.origLength)%4!=0&&(je=4-le%4),Oe.set(new Uint8Array(je).buffer,ze.outOffset+ze.origLength),we=le+je}),De.slice(0,we)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function uue(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,s=2,l=4,u=8,h=16,f=32;let p;function v(V){if(!p){const H={R:s,L:r,D:l,C:h,U:f,T:u};p=new Map;for(let P in i){let I=0;i[P].split(",").forEach(q=>{let[j,J]=q.split("+");j=parseInt(j,36),J=J?parseInt(J,36):0,p.set(I+=j,H[P]);for(let W=J;W--;)p.set(++I,H[P])})}}return p.get(V)||f}const y=1,x=2,_=3,M=4,N=[null,"isol","init","fina","medi"];function T(V){const H=new Uint8Array(V.length);let P=f,I=y,q=-1;for(let j=0;j<V.length;j++){const J=V.codePointAt(j);let W=v(J)|0,se=y;W&u||(P&(r|l|h)?W&(s|l|h)?(se=_,(I===y||I===_)&&H[q]++):W&(r|f)&&(I===x||I===M)&&H[q]--:P&(s|f)&&(I===x||I===M)&&H[q]--,I=H[j]=se,P=W,q=j,J>65535&&j++)}return H}function A(V,H){const P=[];for(let q=0;q<H.length;q++){const j=H.codePointAt(q);j>65535&&q++,P.push(n.U.codeToGlyph(V,j))}const I=V.GSUB;if(I){const{lookupList:q,featureList:j}=I;let J;const W=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,se=[];j.forEach(te=>{if(W.test(te.tag))for(let ae=0;ae<te.tab.length;ae++){if(se[te.tab[ae]])continue;se[te.tab[ae]]=!0;const ge=q[te.tab[ae]],ve=/^(isol|init|fina|medi)$/.test(te.tag);ve&&!J&&(J=T(H));for(let ce=0;ce<P.length;ce++)(!J||!ve||N[J[ce]]===te.tag)&&n.U._applySubs(P,ce,ge,q)}})}return P}function w(V,H){const P=new Int16Array(H.length*3);let I=0;for(;I<H.length;I++){const W=H[I];if(W===-1)continue;P[I*3+2]=V.hmtx.aWidth[W];const se=V.GPOS;if(se){const te=se.lookupList;for(let ae=0;ae<te.length;ae++){const ge=te[ae];for(let ve=0;ve<ge.tabs.length;ve++){const ce=ge.tabs[ve];if(ge.ltype===1){if(n._lctf.coverageIndex(ce.coverage,W)!==-1&&ce.pos){J(ce.pos,I);break}}else if(ge.ltype===2){let Y=null,ee=q();if(ee!==-1){const le=n._lctf.coverageIndex(ce.coverage,H[ee]);if(le!==-1){if(ce.fmt===1){const ye=ce.pairsets[le];for(let be=0;be<ye.length;be++)ye[be].gid2===W&&(Y=ye[be])}else if(ce.fmt===2){const ye=n.U._getGlyphClass(H[ee],ce.classDef1),be=n.U._getGlyphClass(W,ce.classDef2);Y=ce.matrix[ye][be]}if(Y){Y.val1&&J(Y.val1,ee),Y.val2&&J(Y.val2,I);break}}}}else if(ge.ltype===4){const Y=n._lctf.coverageIndex(ce.markCoverage,W);if(Y!==-1){const ee=q(j),le=ee===-1?-1:n._lctf.coverageIndex(ce.baseCoverage,H[ee]);if(le!==-1){const ye=ce.markArray[Y],be=ce.baseArray[le][ye.markClass];P[I*3]=be.x-ye.x+P[ee*3]-P[ee*3+2],P[I*3+1]=be.y-ye.y+P[ee*3+1];break}}}else if(ge.ltype===6){const Y=n._lctf.coverageIndex(ce.mark1Coverage,W);if(Y!==-1){const ee=q();if(ee!==-1){const le=H[ee];if(L(V,le)===3){const ye=n._lctf.coverageIndex(ce.mark2Coverage,le);if(ye!==-1){const be=ce.mark1Array[Y],we=ce.mark2Array[ye][be.markClass];P[I*3]=we.x-be.x+P[ee*3]-P[ee*3+2],P[I*3+1]=we.y-be.y+P[ee*3+1];break}}}}}}}}else if(V.kern&&!V.cff){const te=q();if(te!==-1){const ae=V.kern.glyph1.indexOf(H[te]);if(ae!==-1){const ge=V.kern.rval[ae].glyph2.indexOf(W);ge!==-1&&(P[te*3+2]+=V.kern.rval[ae].vals[ge])}}}}return P;function q(W){for(let se=I-1;se>=0;se--)if(H[se]!==-1&&(!W||W(H[se])))return se;return-1}function j(W){return L(V,W)===1}function J(W,se){for(let te=0;te<3;te++)P[se*3+te]+=W[te]||0}}function L(V,H){const P=V.GDEF&&V.GDEF.glyphClassDef;return P?n.U._getGlyphClass(H,P):0}function U(...V){for(let H=0;H<V.length;H++)if(typeof V[H]=="number")return V[H]}function k(V){const H=Object.create(null),P=V["OS/2"],I=V.hhea,q=V.head.unitsPerEm,j=U(P&&P.sTypoAscender,I&&I.ascender,q),J={unitsPerEm:q,ascender:j,descender:U(P&&P.sTypoDescender,I&&I.descender,0),capHeight:U(P&&P.sCapHeight,j),xHeight:U(P&&P.sxHeight,j),lineGap:U(P&&P.sTypoLineGap,I&&I.lineGap),supportsCodePoint(W){return n.U.codeToGlyph(V,W)>0},forEachGlyph(W,se,te,ae){let ge=0;const ve=1/J.unitsPerEm*se,ce=A(V,W);let Y=0;const ee=w(V,ce);return ce.forEach((le,ye)=>{if(le!==-1){let be=H[le];if(!be){const{cmds:we,crds:Oe}=n.U.glyphToPath(V,le);let De="",st=0;for(let Le=0,je=we.length;Le<je;Le++){const Ve=t[we[Le]];De+=we[Le];for(let ft=1;ft<=Ve;ft++)De+=(ft>1?",":"")+Oe[st++]}let dt,ze,ie,$e;if(Oe.length){dt=ze=1/0,ie=$e=-1/0;for(let Le=0,je=Oe.length;Le<je;Le+=2){let Ve=Oe[Le],ft=Oe[Le+1];Ve<dt&&(dt=Ve),ft<ze&&(ze=ft),Ve>ie&&(ie=Ve),ft>$e&&($e=ft)}}else dt=ie=ze=$e=0;be=H[le]={index:le,advanceWidth:V.hmtx.aWidth[le],xMin:dt,yMin:ze,xMax:ie,yMax:$e,path:De}}ae.call(null,be,ge+ee[ye*3]*ve,ee[ye*3+1]*ve,Y),ge+=ee[ye*3+2]*ve,te&&(ge+=te*se)}Y+=W.codePointAt(Y)>65535?2:1}),ge}};return J}return function(H){const P=new Uint8Array(H,0,4),I=n._bin.readASCII(P,0,4);if(I==="wOFF")H=e(H);else if(I==="wOF2")throw new Error("woff2 fonts not supported");return k(n.parse(H)[0])}}const cue=mx({name:"Typr Font Parser",dependencies:[oue,lue,uue],init(n,e,t){const i=n(),r=e();return t(i,r)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function fue(){return function(n){var e=function(){this.buckets=new Map};e.prototype.add=function(w){var L=w>>5;this.buckets.set(L,(this.buckets.get(L)||0)|1<<(31&w))},e.prototype.has=function(w){var L=this.buckets.get(w>>5);return L!==void 0&&(L&1<<(31&w))!=0},e.prototype.serialize=function(){var w=[];return this.buckets.forEach(function(L,U){w.push((+U).toString(36)+":"+L.toString(36))}),w.join(",")},e.prototype.deserialize=function(w){var L=this;this.buckets.clear(),w.split(",").forEach(function(U){var k=U.split(":");L.buckets.set(parseInt(k[0],36),parseInt(k[1],36))})};var t=Math.pow(2,8),i=t-1,r=~i;function s(w){var L=function(k){return k&r}(w).toString(16),U=function(k){return(k&r)+t-1}(w).toString(16);return"codepoint-index/plane"+(w>>16)+"/"+L+"-"+U+".json"}function l(w,L){var U=w&i,k=L.codePointAt(U/6|0);return((k=(k||48)-48)&1<<U%6)!=0}function u(w,L){var U;(U=w,U.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(k){return k.split("-").map(function(V){return parseInt(V.trim(),16)})})).forEach(function(k){var V=k[0],H=k[1];H===void 0&&(H=V),L(V,H)})}function h(w,L){u(w,function(U,k){for(var V=U;V<=k;V++)L(V)})}var f={},p={},v=new WeakMap,y="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function x(w){var L=v.get(w);return L||(L=new e,h(w.ranges,function(U){return L.add(U)}),v.set(w,L)),L}var _,M=new Map;function N(w,L,U){return w[L]?L:w[U]?U:function(k){for(var V in k)return V}(w)}function T(w,L){var U=L;if(!w.includes(U)){U=1/0;for(var k=0;k<w.length;k++)Math.abs(w[k]-L)<Math.abs(U-L)&&(U=w[k])}return U}function A(w){return _||(_=new Set,h("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(L){_.add(L)})),_.has(w)}return n.CodePointSet=e,n.clearCache=function(){f={},p={}},n.getFontsForString=function(w,L){L===void 0&&(L={});var U,k=L.lang;k===void 0&&(k=/\p{Script=Hangul}/u.test(U=w)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(U)?"ja":"en");var V=L.category;V===void 0&&(V="sans-serif");var H=L.style;H===void 0&&(H="normal");var P=L.weight;P===void 0&&(P=400);var I=(L.dataUrl||y).replace(/\/$/g,""),q=new Map,j=new Uint8Array(w.length),J={},W={},se=new Array(w.length),te=new Map,ae=!1;function ge(Y){var ee=M.get(Y);return ee||(ee=fetch(I+"/"+Y).then(function(le){if(!le.ok)throw new Error(le.statusText);return le.json().then(function(ye){if(!Array.isArray(ye)||ye[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ye[0]);return ye[1]})}).catch(function(le){if(I!==y)return ae||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+I+'", trying default CDN. '+le.message),ae=!0),I=y,M.delete(Y),ge(Y);throw le}),M.set(Y,ee)),ee}for(var ve=function(Y){var ee=w.codePointAt(Y),le=s(ee);se[Y]=le,f[le]||te.has(le)||te.set(le,ge(le).then(function(ye){f[le]=ye})),ee>65535&&(Y++,ce=Y)},ce=0;ce<w.length;ce++)ve(ce);return Promise.all(te.values()).then(function(){te.clear();for(var Y=function(le){var ye=w.codePointAt(le),be=null,we=f[se[le]],Oe=void 0;for(var De in we){var st=W[De];if(st===void 0&&(st=W[De]=new RegExp(De).test(k||"en")),st){for(var dt in Oe=De,we[De])if(l(ye,we[De][dt])){be=dt;break}break}}if(!be){e:for(var ze in we)if(ze!==Oe){for(var ie in we[ze])if(l(ye,we[ze][ie])){be=ie;break e}}}be||(console.debug("No font coverage for U+"+ye.toString(16)),be="latin"),se[le]=be,p[be]||te.has(be)||te.set(be,ge("font-meta/"+be+".json").then(function($e){p[be]=$e})),ye>65535&&(le++,ee=le)},ee=0;ee<w.length;ee++)Y(ee);return Promise.all(te.values())}).then(function(){for(var Y,ee=null,le=0;le<w.length;le++){var ye=w.codePointAt(le);if(ee&&(A(ye)||x(ee).has(ye)))j[le]=j[le-1];else{ee=p[se[le]];var be=J[ee.id];if(!be){var we=ee.typeforms,Oe=N(we,V,"sans-serif"),De=N(we[Oe],H,"normal"),st=T((Y=we[Oe])===null||Y===void 0?void 0:Y[De],P);be=J[ee.id]=I+"/font-files/"+ee.id+"/"+Oe+"."+De+"."+st+".woff"}var dt=q.get(be);dt==null&&(dt=q.size,q.set(be,dt)),j[le]=dt}ye>65535&&(le++,j[le]=j[le-1])}return{fontUrls:Array.from(q.keys()),chars:j}})},Object.defineProperty(n,"__esModule",{value:!0}),n}({})}function due(n,e){const t=Object.create(null),i=Object.create(null);function r(l,u){const h=f=>{console.error(`Failure loading font ${l}`,f)};try{const f=new XMLHttpRequest;f.open("get",l,!0),f.responseType="arraybuffer",f.onload=function(){if(f.status>=400)h(new Error(f.statusText));else if(f.status>0)try{const p=n(f.response);p.src=l,u(p)}catch(p){h(p)}},f.onerror=h,f.send()}catch(f){h(f)}}function s(l,u){let h=t[l];h?u(h):i[l]?i[l].push(u):(i[l]=[u],r(l,f=>{f.src=l,t[l]=f,i[l].forEach(p=>p(f)),delete i[l]}))}return function(l,u,{lang:h,fonts:f=[],style:p="normal",weight:v="normal",unicodeFontsURL:y}={}){const x=new Uint8Array(l.length),_=[];l.length||A();const M=new Map,N=[];if(p!=="italic"&&(p="normal"),typeof v!="number"&&(v=v==="bold"?700:400),f&&!Array.isArray(f)&&(f=[f]),f=f.slice().filter(L=>!L.lang||L.lang.test(h)).reverse(),f.length){let V=0;(function H(P=0){for(let I=P,q=l.length;I<q;I++){const j=l.codePointAt(I);if(V===1&&_[x[I-1]].supportsCodePoint(j)||I>0&&/\s/.test(l[I]))x[I]=x[I-1],V===2&&(N[N.length-1][1]=I);else for(let J=x[I],W=f.length;J<=W;J++)if(J===W){const se=V===2?N[N.length-1]:N[N.length]=[I,I];se[1]=I,V=2}else{x[I]=J;const{src:se,unicodeRange:te}=f[J];if(!te||w(j,te)){const ae=t[se];if(!ae){s(se,()=>{H(I)});return}if(ae.supportsCodePoint(j)){let ge=M.get(ae);typeof ge!="number"&&(ge=_.length,_.push(ae),M.set(ae,ge)),x[I]=ge,V=1;break}}}j>65535&&I+1<q&&(x[I+1]=x[I],I++,V===2&&(N[N.length-1][1]=I))}T()})()}else N.push([0,l.length-1]),T();function T(){if(N.length){const L=N.map(U=>l.substring(U[0],U[1]+1)).join(`
`);e.getFontsForString(L,{lang:h||void 0,style:p,weight:v,dataUrl:y}).then(({fontUrls:U,chars:k})=>{const V=_.length;let H=0;N.forEach(I=>{for(let q=0,j=I[1]-I[0];q<=j;q++)x[I[0]+q]=k[H++]+V;H++});let P=0;U.forEach((I,q)=>{s(I,j=>{_[q+V]=j,++P===U.length&&A()})})})}else A()}function A(){u({chars:x,fonts:_})}function w(L,U){for(let k=0;k<U.length;k++){const[V,H=V]=U[k];if(V<=L&&L<=H)return!0}return!1}}}const hue=mx({name:"FontResolver",dependencies:[due,cue,fue],init(n,e,t){return n(e,t())}});function pue(n,e){const i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",s=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function l({text:_,lang:M,fonts:N,style:T,weight:A,preResolvedFonts:w,unicodeFontsURL:L},U){const k=({chars:V,fonts:H})=>{let P,I;const q=[];for(let j=0;j<V.length;j++)V[j]!==I?(I=V[j],q.push(P={start:j,end:j,fontObj:H[V[j]]})):P.end=j;U(q)};w?k(w):n(_,k,{lang:M,fonts:N,style:T,weight:A,unicodeFontsURL:L})}function u({text:_="",font:M,lang:N,sdfGlyphSize:T=64,fontSize:A=400,fontWeight:w=1,fontStyle:L="normal",letterSpacing:U=0,lineHeight:k="normal",maxWidth:V=1/0,direction:H,textAlign:P="left",textIndent:I=0,whiteSpace:q="normal",overflowWrap:j="normal",anchorX:J=0,anchorY:W=0,metricsOnly:se=!1,unicodeFontsURL:te,preResolvedFonts:ae=null,includeCaretPositions:ge=!1,chunkedBoundsSize:ve=8192,colorRanges:ce=null},Y){const ee=v(),le={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),A=+A,U=+U,V=+V,k=k||"normal",I=+I,l({text:_,lang:N,style:L,weight:w,fonts:typeof M=="string"?[{src:M}]:M,unicodeFontsURL:te,preResolvedFonts:ae},ye=>{le.fontLoad=v()-ee;const be=isFinite(V);let we=null,Oe=null,De=null,st=null,dt=null,ze=null,ie=null,$e=null,Le=0,je=0,Ve=q!=="nowrap";const ft=new Map,Ge=v();let it=I,vt=0,Ye=new y;const Lt=[Ye];ye.forEach(Ue=>{const{fontObj:Qe}=Ue,{ascender:Nt,descender:ht,unitsPerEm:ue,lineGap:Te,capHeight:ke,xHeight:Ae}=Qe;let Be=ft.get(Qe);if(!Be){const gt=A/ue,me=k==="normal"?(Nt-ht+Te)*gt:k*A,at=(me-(Nt-ht)*gt)/2,bt=Math.min(me,(Nt-ht)*gt),We=(Nt+ht)/2*gt+bt/2;Be={index:ft.size,src:Qe.src,fontObj:Qe,fontSizeMult:gt,unitsPerEm:ue,ascender:Nt*gt,descender:ht*gt,capHeight:ke*gt,xHeight:Ae*gt,lineHeight:me,baseline:-at-Nt*gt,caretTop:We,caretBottom:We-bt},ft.set(Qe,Be)}const{fontSizeMult:pe}=Be,Pe=_.slice(Ue.start,Ue.end+1);let He,Ee;Qe.forEachGlyph(Pe,A,U,(gt,me,at,bt)=>{me+=vt,bt+=Ue.start,He=me,Ee=gt;const We=_.charAt(bt),Et=gt.advanceWidth*pe,Vt=Ye.count;let Rt;if("isEmpty"in gt||(gt.isWhitespace=!!We&&new RegExp(r).test(We),gt.canBreakAfter=!!We&&s.test(We),gt.isEmpty=gt.xMin===gt.xMax||gt.yMin===gt.yMax||i.test(We)),!gt.isWhitespace&&!gt.isEmpty&&je++,Ve&&be&&!gt.isWhitespace&&me+Et+it>V&&Vt){if(Ye.glyphAt(Vt-1).glyphObj.canBreakAfter)Rt=new y,it=-me;else for(let Mn=Vt;Mn--;)if(Mn===0&&j==="break-word"){Rt=new y,it=-me;break}else if(Ye.glyphAt(Mn).glyphObj.canBreakAfter){Rt=Ye.splitAt(Mn+1);const dn=Rt.glyphAt(0).x;it-=dn;for(let bn=Rt.count;bn--;)Rt.glyphAt(bn).x-=dn;break}Rt&&(Ye.isSoftWrapped=!0,Ye=Rt,Lt.push(Ye),Le=V)}let ln=Ye.glyphAt(Ye.count);ln.glyphObj=gt,ln.x=me+it,ln.y=at,ln.width=Et,ln.charIndex=bt,ln.fontData=Be,We===`
`&&(Ye=new y,Lt.push(Ye),it=-(me+Et+U*A)+I)}),vt=He+Ee.advanceWidth*pe+U*A});let Q=0;Lt.forEach(Ue=>{let Qe=!0;for(let Nt=Ue.count;Nt--;){const ht=Ue.glyphAt(Nt);Qe&&!ht.glyphObj.isWhitespace&&(Ue.width=ht.x+ht.width,Ue.width>Le&&(Le=Ue.width),Qe=!1);let{lineHeight:ue,capHeight:Te,xHeight:ke,baseline:Ae}=ht.fontData;ue>Ue.lineHeight&&(Ue.lineHeight=ue);const Be=Ae-Ue.baseline;Be<0&&(Ue.baseline+=Be,Ue.cap+=Be,Ue.ex+=Be),Ue.cap=Math.max(Ue.cap,Ue.baseline+Te),Ue.ex=Math.max(Ue.ex,Ue.baseline+ke)}Ue.baseline-=Q,Ue.cap-=Q,Ue.ex-=Q,Q+=Ue.lineHeight});let K=0,Ne=0;if(J&&(typeof J=="number"?K=-J:typeof J=="string"&&(K=-Le*(J==="left"?0:J==="center"?.5:J==="right"?1:f(J)))),W&&(typeof W=="number"?Ne=-W:typeof W=="string"&&(Ne=W==="top"?0:W==="top-baseline"?-Lt[0].baseline:W==="top-cap"?-Lt[0].cap:W==="top-ex"?-Lt[0].ex:W==="middle"?Q/2:W==="bottom"?Q:W==="bottom-baseline"?-Lt[Lt.length-1].baseline:f(W)*Q)),!se){const Ue=e.getEmbeddingLevels(_,H);we=new Uint16Array(je),Oe=new Uint8Array(je),De=new Float32Array(je*2),st={},ie=[1/0,1/0,-1/0,-1/0],$e=[],ge&&(ze=new Float32Array(_.length*4)),ce&&(dt=new Uint8Array(je*3));let Qe=0,Nt=-1,ht=-1,ue,Te;if(Lt.forEach((ke,Ae)=>{let{count:Be,width:pe}=ke;if(Be>0){let Pe=0;for(let bt=Be;bt--&&ke.glyphAt(bt).glyphObj.isWhitespace;)Pe++;let He=0,Ee=0;if(P==="center")He=(Le-pe)/2;else if(P==="right")He=Le-pe;else if(P==="justify"&&ke.isSoftWrapped){let bt=0;for(let We=Be-Pe;We--;)ke.glyphAt(We).glyphObj.isWhitespace&&bt++;Ee=(Le-pe)/bt}if(Ee||He){let bt=0;for(let We=0;We<Be;We++){let Et=ke.glyphAt(We);const Vt=Et.glyphObj;Et.x+=He+bt,Ee!==0&&Vt.isWhitespace&&We<Be-Pe&&(bt+=Ee,Et.width+=Ee)}}const gt=e.getReorderSegments(_,Ue,ke.glyphAt(0).charIndex,ke.glyphAt(ke.count-1).charIndex);for(let bt=0;bt<gt.length;bt++){const[We,Et]=gt[bt];let Vt=1/0,Rt=-1/0;for(let ln=0;ln<Be;ln++)if(ke.glyphAt(ln).charIndex>=We){let Mn=ln,dn=ln;for(;dn<Be;dn++){let bn=ke.glyphAt(dn);if(bn.charIndex>Et)break;dn<Be-Pe&&(Vt=Math.min(Vt,bn.x),Rt=Math.max(Rt,bn.x+bn.width))}for(let bn=Mn;bn<dn;bn++){const Un=ke.glyphAt(bn);Un.x=Rt-(Un.x+Un.width-Vt)}break}}let me;const at=bt=>me=bt;for(let bt=0;bt<Be;bt++){const We=ke.glyphAt(bt);me=We.glyphObj;const Et=me.index,Vt=Ue.levels[We.charIndex]&1;if(Vt){const Rt=e.getMirroredCharacter(_[We.charIndex]);Rt&&We.fontData.fontObj.forEachGlyph(Rt,0,0,at)}if(ge){const{charIndex:Rt,fontData:ln}=We,Mn=We.x+K,dn=We.x+We.width+K;ze[Rt*4]=Vt?dn:Mn,ze[Rt*4+1]=Vt?Mn:dn,ze[Rt*4+2]=ke.baseline+ln.caretBottom+Ne,ze[Rt*4+3]=ke.baseline+ln.caretTop+Ne;const bn=Rt-Nt;bn>1&&p(ze,Nt,bn),Nt=Rt}if(ce){const{charIndex:Rt}=We;for(;Rt>ht;)ht++,ce.hasOwnProperty(ht)&&(Te=ce[ht])}if(!me.isWhitespace&&!me.isEmpty){const Rt=Qe++,{fontSizeMult:ln,src:Mn,index:dn}=We.fontData,bn=st[Mn]||(st[Mn]={});bn[Et]||(bn[Et]={path:me.path,pathBounds:[me.xMin,me.yMin,me.xMax,me.yMax]});const Un=We.x+K,Ji=We.y+ke.baseline+Ne;De[Rt*2]=Un,De[Rt*2+1]=Ji;const Ni=Un+me.xMin*ln,Se=Ji+me.yMin*ln,Dt=Un+me.xMax*ln,Ht=Ji+me.yMax*ln;Ni<ie[0]&&(ie[0]=Ni),Se<ie[1]&&(ie[1]=Se),Dt>ie[2]&&(ie[2]=Dt),Ht>ie[3]&&(ie[3]=Ht),Rt%ve===0&&(ue={start:Rt,end:Rt,rect:[1/0,1/0,-1/0,-1/0]},$e.push(ue)),ue.end++;const de=ue.rect;if(Ni<de[0]&&(de[0]=Ni),Se<de[1]&&(de[1]=Se),Dt>de[2]&&(de[2]=Dt),Ht>de[3]&&(de[3]=Ht),we[Rt]=Et,Oe[Rt]=dn,ce){const nt=Rt*3;dt[nt]=Te>>16&255,dt[nt+1]=Te>>8&255,dt[nt+2]=Te&255}}}}}),ze){const ke=_.length-Nt;ke>1&&p(ze,Nt,ke)}}const ut=[];ft.forEach(({index:Ue,src:Qe,unitsPerEm:Nt,ascender:ht,descender:ue,lineHeight:Te,capHeight:ke,xHeight:Ae})=>{ut[Ue]={src:Qe,unitsPerEm:Nt,ascender:ht,descender:ue,lineHeight:Te,capHeight:ke,xHeight:Ae}}),le.typesetting=v()-Ge,Y({glyphIds:we,glyphFontIndices:Oe,glyphPositions:De,glyphData:st,fontData:ut,caretPositions:ze,glyphColors:dt,chunkedBounds:$e,fontSize:A,topBaseline:Ne+Lt[0].baseline,blockBounds:[K,Ne-Q,K+Le,Ne],visibleBounds:ie,timings:le})})}function h(_,M){u({..._,metricsOnly:!0},N=>{const[T,A,w,L]=N.blockBounds;M({width:w-T,height:L-A})})}function f(_){let M=_.match(/^([\d.]+)%$/),N=M?parseFloat(M[1]):NaN;return isNaN(N)?0:N/100}function p(_,M,N){const T=_[M*4],A=_[M*4+1],w=_[M*4+2],L=_[M*4+3],U=(A-T)/N;for(let k=0;k<N;k++){const V=(M+k)*4;_[V]=T+U*k,_[V+1]=T+U*(k+1),_[V+2]=w,_[V+3]=L}}function v(){return(self.performance||Date).now()}function y(){this.data=[]}const x=["glyphObj","x","y","width","charIndex","fontData"];return y.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/x.length)},glyphAt(_){let M=y.flyweight;return M.data=this.data,M.index=_,M},splitAt(_){let M=new y;return M.data=this.data.splice(_*x.length),M}},y.flyweight=x.reduce((_,M,N,T)=>(Object.defineProperty(_,M,{get(){return this.data[this.index*x.length+N]},set(A){this.data[this.index*x.length+N]=A}}),_),{data:null,index:0}),{typeset:u,measure:h}}const Lg=()=>(self.performance||Date).now(),dR=B6();let Gz;function mue(n,e,t,i,r,s,l,u,h,f,p=!0){return p?gue(n,e,t,i,r,s,l,u,h,f).then(null,v=>(Gz||(console.warn("WebGL SDF generation failed, falling back to JS",v),Gz=!0),Yz(n,e,t,i,r,s,l,u,h,f))):Yz(n,e,t,i,r,s,l,u,h,f)}const LC=[],vue=5;let oO=0;function H6(){const n=Lg();for(;LC.length&&Lg()-n<vue;)LC.shift()();oO=LC.length?setTimeout(H6,0):0}const gue=(...n)=>new Promise((e,t)=>{LC.push(()=>{const i=Lg();try{dR.webgl.generateIntoCanvas(...n),e({timing:Lg()-i})}catch(r){t(r)}}),oO||(oO=setTimeout(H6,0))}),yue=4,bue=2e3,Wz={};let xue=0;function Yz(n,e,t,i,r,s,l,u,h,f){const p="TroikaTextSDFGenerator_JS_"+xue++%yue;let v=Wz[p];return v||(v=Wz[p]={workerModule:mx({name:p,workerId:p,dependencies:[B6,Lg],init(y,x){const _=y().javascript.generate;return function(...M){const N=x();return{textureData:_(...M),timing:x()-N}}},getTransferables(y){return[y.textureData.buffer]}}),requests:0,idleTimer:null}),v.requests++,clearTimeout(v.idleTimer),v.workerModule(n,e,t,i,r,s).then(({textureData:y,timing:x})=>{const _=Lg(),M=new Uint8Array(y.length*4);for(let N=0;N<y.length;N++)M[N*4+f]=y[N];return dR.webglUtils.renderImageData(l,M,u,h,n,e,1<<3-f),x+=Lg()-_,--v.requests===0&&(v.idleTimer=setTimeout(()=>{Zle(p)},bue)),{timing:x}})}function Sue(n){n._warm||(dR.webgl.isSupported(n),n._warm=!0)}const _ue=dR.webglUtils.resizeWebGLCanvasWithoutClearing,F0={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},Eue=new Jt;function L0(){return(self.performance||Date).now()}const Xz=Object.create(null);function j6(n,e){n=Mue({},n);const t=L0(),{defaultFontURL:i}=F0,r=[];if(i&&r.push({label:"default",src:qz(i)}),n.font&&r.push({label:"user",src:qz(n.font)}),n.font=r,n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||F0.sdfGlyphSize,n.unicodeFontsURL=n.unicodeFontsURL||F0.unicodeFontsURL,n.colorRanges!=null){let x={};for(let _ in n.colorRanges)if(n.colorRanges.hasOwnProperty(_)){let M=n.colorRanges[_];typeof M!="number"&&(M=Eue.set(M).getHex()),x[_]=M}n.colorRanges=x}Object.freeze(n);const{textureWidth:s,sdfExponent:l}=F0,{sdfGlyphSize:u}=n,h=s/u*4;let f=Xz[u];if(!f){const x=document.createElement("canvas");x.width=s,x.height=u*256/h,f=Xz[u]={glyphCount:0,sdfGlyphSize:u,sdfCanvas:x,sdfTexture:new $r(x,void 0,void 0,void 0,Ur,Ur),contextLost:!1,glyphsByFont:new Map},f.sdfTexture.generateMipmaps=!1,Tue(f)}const{sdfTexture:p,sdfCanvas:v}=f;Y6(n).then(x=>{const{glyphIds:_,glyphFontIndices:M,fontData:N,glyphPositions:T,fontSize:A,timings:w}=x,L=[],U=new Float32Array(_.length*4);let k=0,V=0;const H=L0(),P=N.map(W=>{let se=f.glyphsByFont.get(W.src);return se||f.glyphsByFont.set(W.src,se=new Map),se});_.forEach((W,se)=>{const te=M[se],{src:ae,unitsPerEm:ge}=N[te];let ve=P[te].get(W);if(!ve){const{path:ye,pathBounds:be}=x.glyphData[ae][W],we=Math.max(be[2]-be[0],be[3]-be[1])/u*(F0.sdfMargin*u+.5),Oe=f.glyphCount++,De=[be[0]-we,be[1]-we,be[2]+we,be[3]+we];P[te].set(W,ve={path:ye,atlasIndex:Oe,sdfViewBox:De}),L.push(ve)}const{sdfViewBox:ce}=ve,Y=T[V++],ee=T[V++],le=A/ge;U[k++]=Y+ce[0]*le,U[k++]=ee+ce[1]*le,U[k++]=Y+ce[2]*le,U[k++]=ee+ce[3]*le,_[se]=ve.atlasIndex}),w.quads=(w.quads||0)+(L0()-H);const I=L0();w.sdf={};const q=v.height,j=Math.ceil(f.glyphCount/h),J=Math.pow(2,Math.ceil(Math.log2(j*u)));J>q&&(console.info(`Increasing SDF texture size ${q}->${J}`),_ue(v,s,J),p.dispose()),Promise.all(L.map(W=>G6(W,f,n.gpuAccelerateSDF).then(({timing:se})=>{w.sdf[W.atlasIndex]=se}))).then(()=>{L.length&&!f.contextLost&&(W6(f),p.needsUpdate=!0),w.sdfTotal=L0()-I,w.total=L0()-t,e(Object.freeze({parameters:n,sdfTexture:p,sdfGlyphSize:u,sdfExponent:l,glyphBounds:U,glyphAtlasIndices:_,glyphColors:x.glyphColors,caretPositions:x.caretPositions,chunkedBounds:x.chunkedBounds,ascender:x.ascender,descender:x.descender,lineHeight:x.lineHeight,capHeight:x.capHeight,xHeight:x.xHeight,topBaseline:x.topBaseline,blockBounds:x.blockBounds,visibleBounds:x.visibleBounds,timings:x.timings}))})}),Promise.resolve().then(()=>{f.contextLost||Sue(v)})}function G6({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:i,sdfCanvas:r,contextLost:s},l){if(s)return Promise.resolve({timing:-1});const{textureWidth:u,sdfExponent:h}=F0,f=Math.max(t[2]-t[0],t[3]-t[1]),p=Math.floor(e/4),v=p%(u/i)*i,y=Math.floor(p/(u/i))*i,x=e%4;return mue(i,i,n,t,f,h,r,v,y,x,l)}function Tue(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const i=[];n.glyphsByFont.forEach(r=>{r.forEach(s=>{i.push(G6(s,n,!0))})}),Promise.all(i).then(()=>{W6(n),n.sdfTexture.needsUpdate=!0})})}function Nue({font:n,characters:e,sdfGlyphSize:t},i){let r=Array.isArray(e)?e.join(`
`):""+e;j6({font:n,sdfGlyphSize:t,text:r},i)}function Mue(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let fC;function qz(n){return fC||(fC=typeof document>"u"?{}:document.createElement("a")),fC.href=n,fC.href}function W6(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:i,height:r}=e,s=n.sdfCanvas.getContext("webgl");let l=t.image.data;(!l||l.length!==i*r*4)&&(l=new Uint8Array(i*r*4),t.image={width:i,height:r,data:l},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,i,r,s.RGBA,s.UNSIGNED_BYTE,l)}}const wue=mx({name:"Typesetter",dependencies:[pue,hue,Qle],init(n,e,t){return n(e,t())}}),Y6=mx({name:"Typesetter",dependencies:[wue],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[];for(let t in n)n[t]&&n[t].buffer&&e.push(n[t].buffer);return e}});Y6.onMainThread;const $z={};function Cue(n){let e=$z[n];return e||(e=$z[n]=new em(1,1,n,n).translate(.5,.5,0)),e}const Aue="aTroikaGlyphBounds",Kz="aTroikaGlyphIndex",Rue="aTroikaGlyphColor";class Due extends iR{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Yo,this.boundingBox=new vo}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=Cue(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=t.attributes[i].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,i,r,s){this.updateAttributeData(Aue,e,4),this.updateAttributeData(Kz,t,1),this.updateAttributeData(Rue,s,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:i}=this;if(t){const{PI:r,floor:s,min:l,max:u,sin:h,cos:f}=Math,p=r/2,v=r*2,y=Math.abs(t),x=e[0]/y,_=e[2]/y,M=s((x+p)/v)!==s((_+p)/v)?-y:l(h(x)*y,h(_)*y),N=s((x-p)/v)!==s((_-p)/v)?y:u(h(x)*y,h(_)*y),T=s((x+r)/v)!==s((_+r)/v)?y*2:u(y-f(x)*y,y-f(_)*y);i.min.set(M,e[1],t<0?-T:0),i.max.set(N,e[3],t<0?0:T)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(Kz).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){t=i[r].end;let s=i[r].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,i){const r=this.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(this.setAttribute(e,new Og(t,i)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}}const Lue=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Pue=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Uue=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Oue=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Fue(n){const e=sO(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new wt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new hi(0,0,0,0)},uTroikaClipRect:{value:new hi(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new wt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Jt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new ei},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Lue,vertexTransform:Pue,fragmentDefs:Uue,fragmentColorTransform:Oue,customRewriter({vertexShader:t,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(z6,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:i}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const q3=new fh({color:16777215,side:Cl,transparent:!0}),Zz=8421504,Jz=new Bn,dC=new fe,MP=new fe,WE=[],Iue=new fe,wP="+x+y";function Qz(n){return Array.isArray(n)?n[0]:n}let X6=()=>{const n=new la(new em(1,1),q3);return X6=()=>n,n},q6=()=>{const n=new la(new em(1,1,32,1),q3);return q6=()=>n,n};const Vue={type:"syncstart"},kue={type:"synccomplete"},$6=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Bue=$6.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let K6=class extends la{constructor(){const e=new Due;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Zz,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=wP,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Vue),j6({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(kue),e&&e()})))}onBeforeRender(e,t,i,r,s,l){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Fue(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=q3.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function i(){t.removeEventListener("dispose",i),e.dispose()})),this.hasOutline()){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Qz(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return Qz(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:u,blockBounds:h}=r;i.uTroikaSDFTexture.value=u,i.uTroikaSDFTextureSize.value.set(u.image.width,u.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(h),i.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let f=0,p=0,v=0,y,x,_,M=0,N=0;if(t){let{outlineWidth:A,outlineOffsetX:w,outlineOffsetY:L,outlineBlur:U,outlineOpacity:k}=this;f=this._parsePercent(A)||0,p=Math.max(0,this._parsePercent(U)||0),y=k,M=this._parsePercent(w)||0,N=this._parsePercent(L)||0}else v=Math.max(0,this._parsePercent(this.strokeWidth)||0),v&&(_=this.strokeColor,i.uTroikaStrokeColor.value.set(_??Zz),x=this.strokeOpacity,x==null&&(x=1)),y=this.fillOpacity;i.uTroikaEdgeOffset.value=f,i.uTroikaPositionOffset.value.set(M,N),i.uTroikaBlurRadius.value=p,i.uTroikaStrokeWidth.value=v,i.uTroikaStrokeOpacity.value=x,i.uTroikaFillOpacity.value=y??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let T=this.clipRect;if(T&&Array.isArray(T)&&T.length===4)i.uTroikaClipRect.value.fromArray(T);else{const A=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(h[0]-A,h[1]-A,h[2]+A,h[3]+A)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const u=e.hasOwnProperty("color")?e.color:e.color=new Jt;(s!==u._input||typeof s=="object")&&u.set(u._input=s)}let l=this.orientation||wP;if(l!==e._orientation){let u=i.uTroikaOrient.value;l=l.replace(/[^-+xyz]/g,"");let h=l!==wP&&l.match(/^([-+])([xyz])([-+])([xyz])$/);if(h){let[,f,p,v,y]=h;dC.set(0,0,0)[p]=f==="-"?1:-1,MP.set(0,0,0)[y]=v==="-"?-1:1,Jz.lookAt(Iue,dC.cross(MP),MP),u.setFromMatrix4(Jz)}else u.identity();e._orientation=l}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),i=t?parseFloat(t[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new wt){t.copy(e);const i=this.curveRadius;return i&&(t.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),t}worldPositionToTextCoords(e,t=new wt){return dC.copy(e),this.localPositionToTextCoords(this.worldToLocal(dC),t)}raycast(e,t){const{textRenderInfo:i,curveRadius:r}=this;if(i){const s=i.blockBounds,l=r?q6():X6(),u=l.geometry,{position:h,uv:f}=u.attributes;for(let p=0;p<f.count;p++){let v=s[0]+f.getX(p)*(s[2]-s[0]);const y=s[1]+f.getY(p)*(s[3]-s[1]);let x=0;r&&(x=r-Math.cos(v/r)*r,v=Math.sin(v/r)*r),h.setXYZ(p,v,y,x)}u.boundingSphere=this.geometry.boundingSphere,u.boundingBox=this.geometry.boundingBox,l.matrixWorld=this.matrixWorld,l.material.side=this.material.side,WE.length=0,l.raycast(e,WE);for(let p=0;p<WE.length;p++)WE[p].object=this,t.push(WE[p])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Bue.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};$6.forEach(n=>{const e="_private_"+n;Object.defineProperty(K6.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new vo;new Jt;const lO=G.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:i,fontSize:r=1,children:s,characters:l,onSync:u,...h},f)=>{const p=lu(({invalidate:_})=>_),[v]=G.useState(()=>new K6),[y,x]=G.useMemo(()=>{const _=[];let M="";return G.Children.forEach(s,N=>{typeof N=="string"||typeof N=="number"?M+=N:_.push(N)}),[_,M]},[s]);return Nse(()=>new Promise(_=>Nue({font:i,characters:l},_)),["troika-text",i,l]),G.useLayoutEffect(()=>void v.sync(()=>{p(),u&&u(v)})),G.useEffect(()=>()=>v.dispose(),[v]),G.createElement("primitive",Ul({object:v,ref:f,font:i,text:x,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:n},h),y)}),zue=()=>parseInt(ux.replace(/\D+/g,"")),Z6=zue(),Hue=G.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:l,onStart:u,onEnd:h,...f},p)=>{const v=lu(k=>k.invalidate),y=lu(k=>k.camera),x=lu(k=>k.gl),_=lu(k=>k.events),M=lu(k=>k.setEvents),N=lu(k=>k.set),T=lu(k=>k.get),A=lu(k=>k.performance),w=e||y,L=i||_.connected||x.domElement,U=G.useMemo(()=>new Hle(w),[w]);return im(()=>{U.enabled&&U.update()},-1),G.useEffect(()=>(s&&U.connect(s===!0?L:s),U.connect(L),()=>void U.dispose()),[s,L,t,U,v]),G.useEffect(()=>{const k=P=>{v(),t&&A.regress(),l&&l(P)},V=P=>{u&&u(P)},H=P=>{h&&h(P)};return U.addEventListener("change",k),U.addEventListener("start",V),U.addEventListener("end",H),()=>{U.removeEventListener("start",V),U.removeEventListener("end",H),U.removeEventListener("change",k)}},[l,u,h,U,v,M]),G.useEffect(()=>{if(n){const k=T().controls;return N({controls:U}),()=>N({controls:k})}},[n,U]),G.createElement("primitive",Ul({ref:p,object:U,enableDamping:r},f))}),CP=Z6>=154?"opaque_fragment":"output_fragment";class jue extends BA{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${CP}>`,`
        ${r?`#include <${CP}>`:`#extension GL_OES_standard_derivatives : enable
#include <${CP}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${Z6>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const Gue=G.forwardRef((n,e)=>{const[t]=G.useState(()=>new jue(null));return G.createElement("primitive",Ul({},n,{object:t,ref:e,attach:"material"}))});function hR(n,e){const t=n+"Geometry";return G.forwardRef(({args:i,children:r,...s},l)=>{const u=G.useRef(null);return G.useImperativeHandle(l,()=>u.current),G.useLayoutEffect(()=>void(e==null?void 0:e(u.current))),G.createElement("mesh",Ul({ref:u},s),G.createElement(t,{attach:"geometry",args:i}),r)})}const e4=hR("box"),Wue=hR("cone"),Yue=hR("cylinder"),t4=hR("sphere");let lg,YE;const Xue=G.createContext(null),n4=new Bn,i4=new fe,que=G.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=G.useRef(null);G.useImperativeHandle(r,()=>s.current,[]);const[l,u]=G.useState([]),[[h,f,p]]=G.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);G.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),im(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),n4.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,l.length),lg=0;lg<l.length;lg++)YE=l[lg].current,YE.getWorldPosition(i4).applyMatrix4(n4),i4.toArray(h,lg*3),s.current.geometry.attributes.position.needsUpdate=!0,YE.matrixWorldNeedsUpdate=!0,YE.color.toArray(f,lg*3),s.current.geometry.attributes.color.needsUpdate=!0,p.set([YE.size],lg),s.current.geometry.attributes.size.needsUpdate=!0});const v=G.useMemo(()=>({getParent:()=>s,subscribe:y=>(u(x=>[...x,y]),()=>u(x=>x.filter(_=>_.current!==y.current)))}),[]);return G.createElement("points",Ul({userData:{instances:l},matrixAutoUpdate:!1,ref:s,raycast:()=>null},i),G.createElement("bufferGeometry",null,G.createElement("bufferAttribute",{attach:"attributes-position",count:h.length/3,array:h,itemSize:3,usage:wg}),G.createElement("bufferAttribute",{attach:"attributes-color",count:f.length/3,array:f,itemSize:3,usage:wg}),G.createElement("bufferAttribute",{attach:"attributes-size",count:p.length,array:p,itemSize:1,usage:wg})),G.createElement(Xue.Provider,{value:v},n))}),$ue=G.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},l)=>{const u=G.useRef(null);return G.useImperativeHandle(l,()=>u.current,[]),im(()=>{const h=u.current.geometry.attributes;h.position.needsUpdate=!0,t&&(h.color.needsUpdate=!0),i&&(h.size.needsUpdate=!0)}),G.createElement("points",Ul({ref:u},s),G.createElement("bufferGeometry",null,G.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:wg}),t&&G.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:wg}),i&&G.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:wg})),n)}),Kue=G.forwardRef((n,e)=>n.positions instanceof Float32Array?G.createElement($ue,Ul({},n,{ref:e})):G.createElement(que,Ul({},n,{ref:e})));var J6=/^--/;function Zue(n,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!J6.test(n)&&!(h1.hasOwnProperty(n)&&h1[n])?e+"px":(""+e).trim()}var r4={};function Jue(n,e){if(!n.nodeType||!n.setAttribute)return!1;const t=n.nodeName==="filter"||n.parentNode&&n.parentNode.nodeName==="filter",{className:i,style:r,children:s,scrollTop:l,scrollLeft:u,viewBox:h,...f}=e,p=Object.values(f),v=Object.keys(f).map(y=>t||n.hasAttribute(y)?y:r4[y]||(r4[y]=y.replace(/([A-Z])/g,x=>"-"+x.toLowerCase())));s!==void 0&&(n.textContent=s);for(const y in r)if(r.hasOwnProperty(y)){const x=Zue(y,r[y]);J6.test(y)?n.style.setProperty(y,x):n.style[y]=x}v.forEach((y,x)=>{n.setAttribute(y,p[x])}),i!==void 0&&(n.className=i),l!==void 0&&(n.scrollTop=l),u!==void 0&&(n.scrollLeft=u),h!==void 0&&n.setAttribute("viewBox",h)}var h1={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Que=(n,e)=>n+e.charAt(0).toUpperCase()+e.substring(1),ece=["Webkit","Ms","Moz","O"];h1=Object.keys(h1).reduce((n,e)=>(ece.forEach(t=>n[Que(t,e)]=n[e]),n),h1);var tce=/^(matrix|translate|scale|rotate|skew)/,nce=/^(translate)/,ice=/^(rotate|skew)/,AP=(n,e)=>Xt.num(n)&&n!==0?n+e:n,PC=(n,e)=>Xt.arr(n)?n.every(t=>PC(t,e)):Xt.num(n)?n===e:parseFloat(n)===e,rce=class extends cR{constructor({x:n,y:e,z:t,...i}){const r=[],s=[];(n||e||t)&&(r.push([n||0,e||0,t||0]),s.push(l=>[`translate3d(${l.map(u=>AP(u,"px")).join(",")})`,PC(l,0)])),Lf(i,(l,u)=>{if(u==="transform")r.push([l||""]),s.push(h=>[h,h===""]);else if(tce.test(u)){if(delete i[u],Xt.und(l))return;const h=nce.test(u)?"px":ice.test(u)?"deg":"";r.push(Dl(l)),s.push(u==="rotate3d"?([f,p,v,y])=>[`rotate3d(${f},${p},${v},${AP(y,h)})`,PC(y,0)]:f=>[`${u}(${f.map(p=>AP(p,h)).join(",")})`,PC(f,u.startsWith("scale")?1:0)])}}),r.length&&(i.transform=new ace(r,s)),super(i)}},ace=class extends h6{constructor(n,e){super(),this.inputs=n,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let n="",e=!0;return xi(this.inputs,(t,i)=>{const r=Bo(t[0]),[s,l]=this.transforms[i](Xt.arr(r)?r:t.map(Bo));n+=" "+s,e=e&&l}),e?"none":n}observerAdded(n){n==1&&xi(this.inputs,e=>xi(e,t=>uu(t)&&px(t,this)))}observerRemoved(n){n==0&&xi(this.inputs,e=>xi(e,t=>uu(t)&&q1(t,this)))}eventObserved(n){n.type=="change"&&(this._value=null),X1(this,n)}},sce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];dc.assign({batchedUpdates:m4.unstable_batchedUpdates,createStringInterpolator:v6,colors:Doe});var oce=cle(sce,{applyAnimatedValues:Jue,createAnimatedStyle:n=>new rce(n),getComponentProps:({scrollTop:n,scrollLeft:e,...t})=>t}),Q6=oce.animated;const lce=Q6.group;function uce({sector:n,position:e,isSelected:t,isCurrent:i,onClick:r,lodLevel:s,playerCount:l}){const u=G.useRef(null),h=G.useRef(null),[f,p]=G.useState(!1),v=G.useMemo(()=>{const P={normal:{color:"#4488ff",emissive:"#001122",geometry:"sphere",scale:1,glow:!1},nebula:{color:"#ff6644",emissive:"#220011",geometry:"sphere",scale:1.2,glow:!0},asteroid:{color:"#888844",emissive:"#111100",geometry:"box",scale:.8,glow:!1},blackhole:{color:"#220022",emissive:"#440044",geometry:"sphere",scale:1.5,glow:!0},star:{color:"#ffff44",emissive:"#444400",geometry:"sphere",scale:1.3,glow:!0},wormhole:{color:"#4444ff",emissive:"#000044",geometry:"cylinder",scale:1,glow:!0}};return P[n.type]||P.normal},[n.type]),y=G.useMemo(()=>l===0?.3:l<=2?.6:l<=5?.8:1,[l]),{scale:x,opacity:_,rotationY:M}=Lle({scale:t?1.3:i?1.1:f?1.05:1,opacity:s.detail==="low"?.7:1,rotationY:i?Math.PI*2:0,config:{mass:1,tension:280,friction:60}});im(P=>{if(h.current&&(i||l>0)&&(h.current.rotation.x+=.01,h.current.rotation.z+=.005),h.current&&v.glow&&s.showEffects){const I=P.clock.getElapsedTime(),q=.5+Math.sin(I*2)*.3;h.current.material.emissiveIntensity=q}});const N=P=>{P.stopPropagation(),r(n)},T=P=>{P.stopPropagation(),p(!0),document.body.style.cursor="pointer"},A=()=>{p(!1),document.body.style.cursor="auto"},w=G.useMemo(()=>{const P=new Jt(v.color);return i?P.clone().lerp(new Jt("#00ff00"),.3):t?P.clone().lerp(new Jt("#ffff00"),.3):f?P.clone().lerp(new Jt("#ffffff"),.2):P.clone().multiplyScalar(.5+y*.5)},[v.color,i,t,f,y]),L=G.useMemo(()=>new Jt(v.emissive).clone().multiplyScalar(y),[v.emissive,y]),U=()=>{const P=v.scale*(s.detail==="low"?.5:1),I=D.jsxDEV(Q6.meshStandardMaterial,{color:w,emissive:L,emissiveIntensity:v.glow?.3:.1,metalness:.3,roughness:.7,transparent:!0,opacity:_},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:165,columnNumber:7},this);switch(v.geometry){case"box":return D.jsxDEV(e4,{args:[P*2,P*2,P*2],children:I},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:179,columnNumber:11},this);case"cylinder":return D.jsxDEV(Yue,{args:[P,P,P*3,16],children:I},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:185,columnNumber:11},this);default:return D.jsxDEV(t4,{args:[P,s.detail==="low"?8:16,s.detail==="low"?6:12],children:I},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:191,columnNumber:11},this)}},k=()=>l===0||!s.showEffects?null:D.jsxDEV("group",{position:[0,v.scale+1,0],children:[D.jsxDEV(t4,{args:[.2,8,6],children:D.jsxDEV("meshBasicMaterial",{color:"#00ff00"},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:205,columnNumber:11},this)},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:204,columnNumber:9},this),s.showLabels&&D.jsxDEV(lO,{position:[0,.5,0],fontSize:.3,color:"#ffffff",anchorX:"center",anchorY:"middle",children:l},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:208,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:203,columnNumber:7},this),V=()=>!s.showLabels||s.detail==="low"?null:D.jsxDEV(lO,{position:[0,-v.scale-1,0],fontSize:.4,color:i?"#00ff00":t?"#ffff00":"#ffffff",anchorX:"center",anchorY:"middle",maxWidth:8,textAlign:"center",children:n.name},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:227,columnNumber:7},this),H=()=>{if(!s.showEffects||s.detail==="low")return null;const P=[];let I=0;return n.special_features&&n.special_features.length>0&&P.push(D.jsxDEV("group",{position:[v.scale+.5+I,0,0],children:D.jsxDEV(e4,{args:[.2,.2,.2],children:D.jsxDEV("meshBasicMaterial",{color:"#ffaa00"},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:253,columnNumber:13},this)},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:252,columnNumber:11},this)},"features",!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:251,columnNumber:9},this)),P};return D.jsxDEV(lce,{ref:u,position:e.toArray(),scale:x,"rotation-y":M,onClick:N,onPointerOver:T,onPointerOut:A,children:[D.jsxDEV("mesh",{ref:h,children:U()},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:273,columnNumber:7},this),k(),V(),H(),(t||i)&&s.showEffects&&D.jsxDEV("mesh",{rotation:[Math.PI/2,0,0],children:[D.jsxDEV("ringGeometry",{args:[v.scale+.5,v.scale+.7,32]},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:289,columnNumber:11},this),D.jsxDEV("meshBasicMaterial",{color:i?"#00ff00":"#ffff00",transparent:!0,opacity:.6,side:Cl},void 0,!1,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:290,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:288,columnNumber:9},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/SectorNode3D.tsx",lineNumber:263,columnNumber:5},this)}function cce({player:n,position:e,lodLevel:t}){const i=G.useRef(null);return im(r=>{if(i.current){const s=r.clock.getElapsedTime();i.current.scale.setScalar(1+Math.sin(s*3)*.1)}}),t.detail==="low"?null:D.jsxDEV("group",{ref:i,position:e.toArray(),children:[D.jsxDEV(Wue,{args:[.3,1,6],rotation:[0,0,Math.PI],children:D.jsxDEV("meshBasicMaterial",{color:"#00ff88"},void 0,!1,{fileName:"/app/src/components/galaxy/PlayerMarker3D.tsx",lineNumber:38,columnNumber:9},this)},void 0,!1,{fileName:"/app/src/components/galaxy/PlayerMarker3D.tsx",lineNumber:37,columnNumber:7},this),t.showLabels&&D.jsxDEV(lO,{position:[0,1.5,0],fontSize:.3,color:"#00ff88",anchorX:"center",anchorY:"middle",children:n.username},void 0,!1,{fileName:"/app/src/components/galaxy/PlayerMarker3D.tsx",lineNumber:43,columnNumber:9},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/PlayerMarker3D.tsx",lineNumber:35,columnNumber:5},this)}function a4({start:n,end:e,type:t,lodLevel:i}){const r=G.useMemo(()=>{if(i.detail==="low")return[n,e];const u=n.clone().lerp(e,.5),h=n.distanceTo(e),f=new fe((Math.random()-.5)*h*.2,(Math.random()-.5)*h*.2,(Math.random()-.5)*h*.2);return u.add(f),[n,u,e]},[n,e,i.detail]),s=t==="tunnel"?"#ff4444":"#4488ff",l=t==="tunnel"?3:1;return i.detail==="low"&&n.distanceTo(e)>50?null:D.jsxDEV(Yle,{points:r,color:s,lineWidth:l,transparent:!0,opacity:.6},void 0,!1,{fileName:"/app/src/components/galaxy/ConnectionPath3D.tsx",lineNumber:48,columnNumber:5},this)}function fce({count:n=5e3,radius:e=300}){const t=G.useRef(null),[i,r]=G.useMemo(()=>{const s=new Float32Array(n*3),l=new Float32Array(n*3);for(let u=0;u<n;u++){const h=u*3,f=Math.random()*Math.PI*2,p=Math.acos(Math.random()*2-1),v=Math.random()*e;s[h]=v*Math.sin(p)*Math.cos(f),s[h+1]=v*Math.sin(p)*Math.sin(f),s[h+2]=v*Math.cos(p);const y=Math.random();y<.7?(l[h]=1,l[h+1]=1,l[h+2]=1):y<.85?(l[h]=.7,l[h+1]=.8,l[h+2]=1):(l[h]=1,l[h+1]=.8,l[h+2]=.6)}return[s,l]},[n,e]);return im(()=>{t.current&&(t.current.rotation.y+=2e-4,t.current.rotation.x+=1e-4)}),D.jsxDEV(Kue,{ref:t,positions:i,children:[D.jsxDEV(Gue,{transparent:!0,vertexColors:!0,size:.5,sizeAttenuation:!0,depthWrite:!1,blending:qC},void 0,!1,{fileName:"/app/src/components/galaxy/StarField.tsx",lineNumber:64,columnNumber:7},this),D.jsxDEV("bufferAttribute",{attach:"attributes-color",args:[r,3]},void 0,!1,{fileName:"/app/src/components/galaxy/StarField.tsx",lineNumber:72,columnNumber:7},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/StarField.tsx",lineNumber:63,columnNumber:5},this)}const XE={near:{distance:50,detail:"high",showLabels:!0,showEffects:!0},medium:{distance:200,detail:"medium",showLabels:!0,showEffects:!1},far:{distance:1/0,detail:"low",showLabels:!1,showEffects:!1}};function dce({onSectorSelect:n}){var N;const{camera:e}=lu(),{currentSector:t,availableMoves:i,isLoading:r}=kg(),{sectorPlayers:s,isConnected:l}=_O(),[u,h]=G.useState(null),[f,p]=G.useState(100),v=G.useRef(null);im(()=>{if(e){const T=e.position.length();p(T)}});const y=G.useMemo(()=>f<XE.near.distance?XE.near:f<XE.medium.distance?XE.medium:XE.far,[f]),x=G.useMemo(()=>{const T=new Map;return t&&T.set(t.id,t),i.warps.forEach(A=>{T.has(A.sector_id)||T.set(A.sector_id,{id:A.sector_id,name:A.name,type:A.type,hazard_level:0,radiation_level:0,resources:{},players_present:[],special_features:[]})}),i.tunnels.forEach(A=>{T.has(A.sector_id)||T.set(A.sector_id,{id:A.sector_id,name:A.name,type:A.type,hazard_level:0,radiation_level:0,resources:{},players_present:[],special_features:[]})}),Array.from(T.values())},[t,i]),_=G.useMemo(()=>{if(!x||x.length===0)return new Map;const T=new Map;return x.forEach((A,w)=>{if(A.id===(t==null?void 0:t.id))T.set(A.id,new fe(0,0,0));else{const L=2*Math.PI*(w-1)/(x.length-1),U=50,k=(Math.random()-.5)*20,V=Math.cos(L)*U,H=Math.sin(L)*U;T.set(A.id,new fe(V,H,k))}}),T},[x,t]),M=T=>{h(T),n==null||n(T)};return G.useEffect(()=>{if(t&&_.has(t.id)){const T=_.get(t.id);e.lookAt(T)}},[t,_,e]),r||!x?D.jsxDEV(lz,{center:!0,children:D.jsxDEV("div",{className:"loading-container",children:[D.jsxDEV("div",{className:"loading-spinner"},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:148,columnNumber:11},this),D.jsxDEV("div",{children:"Loading Galaxy..."},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:149,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:147,columnNumber:9},this)},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:146,columnNumber:7},this):D.jsxDEV("group",{ref:v,children:[D.jsxDEV(fce,{},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:158,columnNumber:7},this),x.map(T=>{const A=_.get(T.id);return!A||y.detail==="low"&&f>300&&e.position.distanceTo(A)>100?null:D.jsxDEV(uce,{sector:T,position:A,isSelected:(u==null?void 0:u.id)===T.id,isCurrent:(t==null?void 0:t.id)===T.id,onClick:M,lodLevel:y,playerCount:T.id===(t==null?void 0:t.id)?s.length:0},T.id,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:172,columnNumber:11},this)}),t&&(()=>{const T=_.get(t.id);if(!T)return null;const A=[];return i.warps.forEach((w,L)=>{const U=_.get(w.sector_id);U&&A.push(D.jsxDEV(a4,{start:T,end:U,type:"warp",lodLevel:y},`warp-${t.id}-${w.sector_id}-${L}`,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:197,columnNumber:15},this))}),i.tunnels.forEach((w,L)=>{const U=_.get(w.sector_id);U&&A.push(D.jsxDEV(a4,{start:T,end:U,type:"tunnel",lodLevel:y},`tunnel-${t.id}-${w.sector_id}-${L}`,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:213,columnNumber:15},this))}),A})(),l&&t&&s.length>0&&(()=>{const T=_.get(t.id);return T?s.map((A,w)=>D.jsxDEV(cce,{player:A,position:T.clone().add(new fe((w-s.length/2)*2,w%2*2,0)),lodLevel:y},`${A.user_id}-${t.id}`,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:233,columnNumber:11},this)):null})(),u&&y.showLabels&&D.jsxDEV(lz,{position:((N=_.get(u.id))==null?void 0:N.toArray())||[0,0,0],center:!0,className:"sector-info-popup",children:D.jsxDEV("div",{className:"sector-info-card",children:[D.jsxDEV("h3",{children:u.name},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:254,columnNumber:13},this),D.jsxDEV("p",{children:["Type: ",u.type]},void 0,!0,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:255,columnNumber:13},this),D.jsxDEV("p",{children:["Players: ",u.id===(t==null?void 0:t.id)?s.length:0]},void 0,!0,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:256,columnNumber:13},this),D.jsxDEV("p",{children:["Available: ",u.id===(t==null?void 0:t.id)?"Current":"Connected"]},void 0,!0,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:257,columnNumber:13},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:253,columnNumber:11},this)},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:248,columnNumber:9},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:156,columnNumber:5},this)}function hce({className:n,onSectorSelect:e}){const[t,i]=G.useState("balanced");G.useEffect(()=>{let s=0,l=performance.now();const u=()=>{s++;const h=performance.now();if(h-l>=1e3){const f=s;s=0,l=h,f<20?i("low"):f<45?i("balanced"):i("high")}requestAnimationFrame(u)};u()},[]);const r=G.useMemo(()=>({high:{antialias:!0,shadows:!0,pixelRatio:Math.min(window.devicePixelRatio,2),powerPreference:"high-performance"},balanced:{antialias:!0,shadows:!1,pixelRatio:Math.min(window.devicePixelRatio,1.5),powerPreference:"default"},low:{antialias:!1,shadows:!1,pixelRatio:1,powerPreference:"low-power"}})[t],[t]);return D.jsxDEV("div",{className:`galaxy-3d-container ${n||""}`,children:[D.jsxDEV("div",{className:"performance-indicator",children:D.jsxDEV("span",{className:`performance-badge ${t}`,children:t.toUpperCase()},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:328,columnNumber:9},this)},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:327,columnNumber:7},this),D.jsxDEV(hoe,{camera:{position:[50,50,100],fov:60,near:.1,far:2e3},gl:{antialias:r.antialias,powerPreference:r.powerPreference,preserveDrawingBuffer:!1,alpha:!1},shadows:r.shadows,dpr:r.pixelRatio,style:{background:"#000010"},children:[D.jsxDEV("ambientLight",{intensity:.2},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:352,columnNumber:9},this),D.jsxDEV("pointLight",{position:[100,100,100],intensity:.8},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:353,columnNumber:9},this),D.jsxDEV("pointLight",{position:[-100,-100,-100],intensity:.3,color:"#4444ff"},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:354,columnNumber:9},this),D.jsxDEV(Hue,{enablePan:!0,enableZoom:!0,enableRotate:!0,zoomSpeed:.6,panSpeed:.8,rotateSpeed:.4,minDistance:10,maxDistance:500,maxPolarAngle:Math.PI},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:357,columnNumber:9},this),D.jsxDEV(G.Suspense,{fallback:null,children:D.jsxDEV(dce,{onSectorSelect:e},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:371,columnNumber:11},this)},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:370,columnNumber:9},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:334,columnNumber:7},this),D.jsxDEV("div",{className:"galaxy-ui-overlay",children:D.jsxDEV("div",{className:"galaxy-controls",children:D.jsxDEV("button",{className:"control-button",onClick:()=>i(t==="high"?"low":"high"),title:"Toggle Performance Mode",children:["⚡ ",t]},void 0,!0,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:378,columnNumber:11},this)},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:377,columnNumber:9},this)},void 0,!1,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:376,columnNumber:7},this)]},void 0,!0,{fileName:"/app/src/components/galaxy/Galaxy3DRenderer.tsx",lineNumber:325,columnNumber:5},this)}class pce extends G.Component{constructor(){super(...arguments);au(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("ErrorBoundary caught an error:",t,i),this.props.onError&&this.props.onError(t,i)}render(){var t,i;return this.state.hasError?this.props.fallback?this.props.fallback:D.jsxDEV("div",{style:{padding:"20px",border:"1px solid #ff6b6b",borderRadius:"5px",backgroundColor:"#ffe0e0",color:"#d63384"},children:[D.jsxDEV("h3",{children:"⚠️ Component Error"},void 0,!1,{fileName:"/app/src/components/common/ErrorBoundary.tsx",lineNumber:45,columnNumber:11},this),D.jsxDEV("p",{children:"Something went wrong with this component."},void 0,!1,{fileName:"/app/src/components/common/ErrorBoundary.tsx",lineNumber:46,columnNumber:11},this),D.jsxDEV("details",{children:[D.jsxDEV("summary",{children:"Error Details"},void 0,!1,{fileName:"/app/src/components/common/ErrorBoundary.tsx",lineNumber:48,columnNumber:13},this),D.jsxDEV("pre",{style:{fontSize:"12px",overflow:"auto"},children:[(t=this.state.error)==null?void 0:t.message,`
`,(i=this.state.error)==null?void 0:i.stack]},void 0,!0,{fileName:"/app/src/components/common/ErrorBoundary.tsx",lineNumber:49,columnNumber:13},this)]},void 0,!0,{fileName:"/app/src/components/common/ErrorBoundary.tsx",lineNumber:47,columnNumber:11},this),D.jsxDEV("button",{onClick:()=>this.setState({hasError:!1,error:void 0}),style:{marginTop:"10px",padding:"5px 10px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"Try Again"},void 0,!1,{fileName:"/app/src/components/common/ErrorBoundary.tsx",lineNumber:55,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/components/common/ErrorBoundary.tsx",lineNumber:38,columnNumber:9},this):this.props.children}}const mce=()=>{const{playerState:n,currentSector:e,availableMoves:t,getAvailableMoves:i,moveToSector:r}=kg(),[s,l]=G.useState([]),[u,h]=G.useState([]),[f,p]=G.useState(null),[v,y]=G.useState({x:0,y:0}),[x,_]=G.useState(!1),[M,N]=G.useState({x:0,y:0}),[T,A]=G.useState(1),[w,L]=G.useState("2d"),U=G.useRef(null);G.useEffect(()=>{if(e){l([]),h([]);const J=[{id:e.id,name:e.name,type:e.type,x:0,y:0,isConnected:!0,isDiscovered:!0,isCurrent:!0}],W=[];t.warps&&t.warps.length&&t.warps.forEach((se,te)=>{const ae=2*Math.PI*te/t.warps.length,ge=150,ve=Math.cos(ae)*ge,ce=Math.sin(ae)*ge;J.push({id:se.sector_id,name:se.name,type:se.type,x:ve,y:ce,isConnected:!0,isDiscovered:!0,isCurrent:!1}),W.push({from:e.id,to:se.sector_id,isTunnel:!1,isOneWay:!1})}),t.tunnels&&t.tunnels.length&&t.tunnels.forEach((se,te)=>{const ae=2*Math.PI*te/t.tunnels.length,ge=300,ve=Math.cos(ae)*ge,ce=Math.sin(ae)*ge;J.push({id:se.sector_id,name:se.name,type:se.type,x:ve,y:ce,isConnected:!0,isDiscovered:!0,isCurrent:!1}),W.push({from:e.id,to:se.sector_id,isTunnel:!0,isOneWay:!1})}),l(J),h(W)}},[e,t]),G.useEffect(()=>{n&&i()},[n]);const k=j=>{j.button===0&&(_(!0),N({x:j.clientX,y:j.clientY}))},V=j=>{if(x){const J=j.clientX-M.x,W=j.clientY-M.y;y({x:v.x+J,y:v.y+W}),N({x:j.clientX,y:j.clientY})}},H=()=>{_(!1)},P=j=>{j.preventDefault();const J=-j.deltaY*.001,W=Math.max(.5,Math.min(2,T+J));A(W)},I=j=>{p(j)},q=()=>{f&&f.id!==(e==null?void 0:e.id)&&r(f.id)};return D.jsxDEV(n5,{children:D.jsxDEV("div",{className:"galaxy-map-container",children:[D.jsxDEV("div",{className:"map-header",children:[D.jsxDEV("h2",{children:"Galaxy Map"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:176,columnNumber:11},globalThis),D.jsxDEV("div",{className:"map-controls",children:[D.jsxDEV("button",{className:`view-mode-button ${w==="3d"?"active":""}`,onClick:()=>L("3d"),title:"3D Galaxy View",children:"🌌 3D"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:178,columnNumber:13},globalThis),D.jsxDEV("button",{className:`view-mode-button ${w==="2d"?"active":""}`,onClick:()=>L("2d"),title:"2D Galaxy Map",children:"📍 2D"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:185,columnNumber:13},globalThis),w==="2d"&&D.jsxDEV(D.Fragment,{children:[D.jsxDEV("button",{className:"zoom-button",onClick:()=>A(Math.min(2,T+.1)),children:"+"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:194,columnNumber:17},globalThis),D.jsxDEV("button",{className:"zoom-button",onClick:()=>A(Math.max(.5,T-.1)),children:"-"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:200,columnNumber:17},globalThis),D.jsxDEV("button",{className:"reset-button",onClick:()=>{y({x:0,y:0}),A(1)},children:"Reset"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:206,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:193,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:177,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:175,columnNumber:9},globalThis),w==="3d"?D.jsxDEV("div",{className:"map-view map-view-3d",children:D.jsxDEV(pce,{fallback:D.jsxDEV("div",{style:{padding:"20px",textAlign:"center"},children:[D.jsxDEV("h3",{children:"3D Galaxy View Unavailable"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:224,columnNumber:17},globalThis),D.jsxDEV("p",{children:"There was an issue loading the 3D galaxy map."},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:225,columnNumber:17},globalThis),D.jsxDEV("button",{onClick:()=>L("2d"),children:"Switch to 2D Map"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:226,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:223,columnNumber:15},globalThis),children:D.jsxDEV(hce,{className:"galaxy-3d-view",onSectorSelect:j=>{const J={id:j.id,name:j.name,type:j.sector_type||"normal",x:0,y:0,isConnected:!0,isDiscovered:!0,isCurrent:j.id===(e==null?void 0:e.id)};p(J)}},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:231,columnNumber:15},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:222,columnNumber:13},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:221,columnNumber:11},globalThis):D.jsxDEV("div",{className:"map-view map-view-2d",onMouseDown:k,onMouseMove:V,onMouseUp:H,onMouseLeave:H,onWheel:P,children:D.jsxDEV("div",{className:"map-content",ref:U,style:{transform:`translate(${v.x}px, ${v.y}px) scale(${T})`,cursor:x?"grabbing":"grab"},children:[D.jsxDEV("svg",{className:"connections-layer",width:"100%",height:"100%",children:u.map((j,J)=>{var ye,be;const W=s.find(we=>we.id===j.from),se=s.find(we=>we.id===j.to);if(!W||!se)return null;const te=((ye=U.current)==null?void 0:ye.clientWidth)||800,ae=((be=U.current)==null?void 0:be.clientHeight)||600,ge=te/2,ve=ae/2,ce=ge+W.x,Y=ve+W.y,ee=ge+se.x,le=ve+se.y;return D.jsxDEV("g",{children:[D.jsxDEV("line",{x1:ce,y1:Y,x2:ee,y2:le,className:j.isTunnel?"warp-tunnel":"warp-path",strokeDasharray:j.isTunnel?"5,5":""},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:288,columnNumber:21},globalThis),j.isOneWay&&D.jsxDEV("polygon",{points:`${ee},${le} ${ee-10},${le-5} ${ee-10},${le+5}`,className:"direction-arrow",transform:`rotate(${Math.atan2(le-Y,ee-ce)*(180/Math.PI)}, ${ee}, ${le})`},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:294,columnNumber:23},globalThis)]},`conn-${J}`,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:287,columnNumber:19},globalThis)})},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:268,columnNumber:13},globalThis),D.jsxDEV("div",{className:"sectors-layer",children:s.map(j=>{var ve,ce;const J=((ve=U.current)==null?void 0:ve.clientWidth)||800,W=((ce=U.current)==null?void 0:ce.clientHeight)||600,se=J/2,te=W/2,ae=se+j.x,ge=te+j.y;return D.jsxDEV("div",{className:`sector-node ${j.isCurrent?"current":""} ${(f==null?void 0:f.id)===j.id?"selected":""} ${j.isConnected?"connected":""} ${j.type.toLowerCase()}`,style:{left:`${ae}px`,top:`${ge}px`},onClick:()=>I(j),children:D.jsxDEV("div",{className:"sector-id",children:j.id},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:329,columnNumber:21},globalThis)},`sector-${j.id}`,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:318,columnNumber:19},globalThis)})},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:306,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:259,columnNumber:11},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:251,columnNumber:11},globalThis),f&&D.jsxDEV("div",{className:"sector-details-panel",children:[D.jsxDEV("h3",{children:f.isCurrent?"Current Location":"Selected Sector"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:340,columnNumber:13},globalThis),D.jsxDEV("div",{className:"sector-info",children:[D.jsxDEV("div",{className:"sector-name",children:["Sector ",f.id,": ",f.name]},void 0,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:342,columnNumber:15},globalThis),D.jsxDEV("div",{className:"sector-type",children:f.type},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:345,columnNumber:15},globalThis),!f.isCurrent&&f.isConnected&&D.jsxDEV("button",{className:"travel-button",onClick:q,children:"Travel to Sector"},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:349,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:341,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:339,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:174,columnNumber:7},globalThis)},void 0,!1,{fileName:"/app/src/components/pages/GalaxyMap.tsx",lineNumber:173,columnNumber:5},globalThis)},vce=()=>{const{user:n,isAuthenticated:e,isLoading:t}=pc(),{playerState:i,currentShip:r,isLoading:s,error:l}=kg(),[u,h]=G.useState(null),[f,p]=G.useState(null);G.useEffect(()=>{e&&(async()=>{var _,M;const x=localStorage.getItem("accessToken");if(!x){p("No access token found");return}try{const T=(()=>{if({}.VITE_API_URL)return{}.VITE_API_URL;const L=window.location.origin;if(L.includes(".app.github.dev")){const V=window.location.hostname.split(".")[0],H=V.lastIndexOf("-");return`https://${H!==-1?V.substring(0,H):V}-8080.app.github.dev`}return L.includes("localhost")?"http://localhost:8080":""})();console.log("Testing API with URL:",T);const A=await di.get(`${T}/api/v1/auth/me`,{headers:{Authorization:`Bearer ${x}`}}),w=await di.get(`${T}/api/v1/player/state`,{headers:{Authorization:`Bearer ${x}`}});h({apiUrl:T,authResponse:A.data,playerResponse:w.data,token:x.substring(0,10)+"..."}),p(null)}catch(N){console.error("API test failed:",N),p(`API test failed: ${((M=(_=N.response)==null?void 0:_.data)==null?void 0:M.detail)||N.message}`)}})()},[e]);const v=()=>{localStorage.clear(),sessionStorage.clear(),window.location.reload()};return D.jsxDEV("div",{style:{padding:"20px",fontFamily:"monospace"},children:[D.jsxDEV("h1",{children:"Debug Information"},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:81,columnNumber:7},globalThis),D.jsxDEV("div",{style:{marginBottom:"20px",padding:"10px",border:"1px solid #ccc"},children:[D.jsxDEV("h2",{children:"Authentication Status"},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:84,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Is Authenticated: ",e?"Yes":"No"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:85,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Auth Loading: ",t?"Yes":"No"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:86,columnNumber:9},globalThis),D.jsxDEV("p",{children:["User: ",n?n.username:"None"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:87,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Access Token: ",localStorage.getItem("accessToken")?"Present":"Missing"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:88,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Refresh Token: ",localStorage.getItem("refreshToken")?"Present":"Missing"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:89,columnNumber:9},globalThis),D.jsxDEV("p",{children:["User ID: ",localStorage.getItem("userId")||"Missing"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:90,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:83,columnNumber:7},globalThis),D.jsxDEV("div",{style:{marginBottom:"20px",padding:"10px",border:"1px solid #ccc"},children:[D.jsxDEV("h2",{children:"Game State"},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:94,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Game Loading: ",s?"Yes":"No"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:95,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Game Error: ",l||"None"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:96,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Player State: ",i?"Loaded":"Not loaded"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:97,columnNumber:9},globalThis),i&&D.jsxDEV("div",{style:{marginLeft:"20px"},children:[D.jsxDEV("p",{children:["Player ID: ",i.id]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:100,columnNumber:13},globalThis),D.jsxDEV("p",{children:["Username: ",i.username]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:101,columnNumber:13},globalThis),D.jsxDEV("p",{children:["Credits: ",i.credits]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:102,columnNumber:13},globalThis),D.jsxDEV("p",{children:["Turns: ",i.turns]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:103,columnNumber:13},globalThis),D.jsxDEV("p",{children:["Current Ship ID: ",i.current_ship_id]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:104,columnNumber:13},globalThis),D.jsxDEV("p",{children:["Current Sector: ",i.current_sector_id]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:105,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:99,columnNumber:11},globalThis),D.jsxDEV("p",{children:["Current Ship: ",r?r.name:"Not loaded"]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:108,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:93,columnNumber:7},globalThis),D.jsxDEV("div",{style:{marginBottom:"20px",padding:"10px",border:"1px solid #ccc"},children:[D.jsxDEV("h2",{children:"API Test Results"},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:112,columnNumber:9},globalThis),f&&D.jsxDEV("p",{style:{color:"red"},children:["Error: ",f]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:113,columnNumber:22},globalThis),u&&D.jsxDEV("div",{children:[D.jsxDEV("p",{children:["API URL: ",u.apiUrl]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:116,columnNumber:13},globalThis),D.jsxDEV("p",{children:["Token: ",u.token]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:117,columnNumber:13},globalThis),D.jsxDEV("h3",{children:"Auth Response:"},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:118,columnNumber:13},globalThis),D.jsxDEV("pre",{children:JSON.stringify(u.authResponse,null,2)},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:119,columnNumber:13},globalThis),D.jsxDEV("h3",{children:"Player Response:"},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:120,columnNumber:13},globalThis),D.jsxDEV("pre",{children:JSON.stringify(u.playerResponse,null,2)},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:121,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:115,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:111,columnNumber:7},globalThis),D.jsxDEV("div",{style:{marginBottom:"20px"},children:[D.jsxDEV("button",{onClick:v,style:{padding:"10px",marginRight:"10px"},children:"Clear All Storage & Reload"},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:127,columnNumber:9},globalThis),D.jsxDEV("button",{onClick:()=>window.location.href="/auth/callback",style:{padding:"10px"},children:"Test OAuth Callback"},void 0,!1,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:130,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:126,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/DebugPage.tsx",lineNumber:80,columnNumber:5},globalThis)},gce=()=>{const{user:n,isAuthenticated:e,isLoading:t}=pc(),{playerState:i,currentShip:r,isLoading:s,error:l}=kg(),[u,h]=G.useState([]),f=async()=>{var M,N;const p=[],v=localStorage.getItem("accessToken"),y=localStorage.getItem("refreshToken"),x=localStorage.getItem("userId");p.push({test:"LocalStorage tokens",result:v?"PASS":"FAIL",details:{accessToken:v?v.substring(0,20)+"...":"Missing",refreshToken:y?y.substring(0,20)+"...":"Missing",userId:x||"Missing"}});const _=di.defaults.headers.common.Authorization;if(p.push({test:"Axios auth header",result:_?"PASS":"FAIL",details:_||"Missing"}),v){try{const T=await di.get("/api/v1/auth/me",{headers:{Authorization:`Bearer ${v}`}});p.push({test:"Direct API auth test",result:"PASS",details:T.data})}catch(T){p.push({test:"Direct API auth test",result:"FAIL",details:((M=T.response)==null?void 0:M.data)||T.message})}try{const T=await di.get("/api/v1/player/state",{headers:{Authorization:`Bearer ${v}`}});p.push({test:"Direct API player test",result:"PASS",details:T.data})}catch(T){p.push({test:"Direct API player test",result:"FAIL",details:((N=T.response)==null?void 0:N.data)||T.message})}}h(p)};return G.useEffect(()=>{f()},[]),D.jsxDEV("div",{style:{padding:"20px",fontFamily:"monospace"},children:[D.jsxDEV("h1",{children:"Authentication Test Page"},void 0,!1,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:84,columnNumber:7},globalThis),D.jsxDEV("div",{style:{marginBottom:"20px"},children:[D.jsxDEV("button",{onClick:f,style:{padding:"10px",marginRight:"10px"},children:"Run Tests"},void 0,!1,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:87,columnNumber:9},globalThis),D.jsxDEV("button",{onClick:()=>localStorage.clear(),style:{padding:"10px"},children:"Clear Storage"},void 0,!1,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:90,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:86,columnNumber:7},globalThis),D.jsxDEV("div",{style:{marginBottom:"20px",padding:"10px",border:"1px solid #ccc"},children:[D.jsxDEV("h2",{children:"Auth Context Status"},void 0,!1,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:96,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Is Authenticated: ",e?"Yes":"No"]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:97,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Auth Loading: ",t?"Yes":"No"]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:98,columnNumber:9},globalThis),D.jsxDEV("p",{children:["User: ",n?n.username:"None"]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:99,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:95,columnNumber:7},globalThis),D.jsxDEV("div",{style:{marginBottom:"20px",padding:"10px",border:"1px solid #ccc"},children:[D.jsxDEV("h2",{children:"Game Context Status"},void 0,!1,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:103,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Game Loading: ",s?"Yes":"No"]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:104,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Game Error: ",l||"None"]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:105,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Player State: ",i?`${i.username} (${i.credits} credits)`:"Not loaded"]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:106,columnNumber:9},globalThis),D.jsxDEV("p",{children:["Current Ship: ",r?r.name:"Not loaded"]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:107,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:102,columnNumber:7},globalThis),D.jsxDEV("div",{style:{marginBottom:"20px",padding:"10px",border:"1px solid #ccc"},children:[D.jsxDEV("h2",{children:"Test Results"},void 0,!1,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:111,columnNumber:9},globalThis),u.map((p,v)=>D.jsxDEV("div",{style:{marginBottom:"10px",padding:"10px",backgroundColor:p.result==="PASS"?"#e6ffe6":"#ffe6e6"},children:[D.jsxDEV("h3",{children:[p.test,": ",p.result]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:118,columnNumber:13},globalThis),D.jsxDEV("pre",{children:JSON.stringify(p.details,null,2)},void 0,!1,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:119,columnNumber:13},globalThis)]},v,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:113,columnNumber:11},globalThis))]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:110,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/app/src/components/pages/TestAuthPage.tsx",lineNumber:83,columnNumber:5},globalThis)};const yce={SCOUT_SHIP:"Fast ship with excellent sensors and moderate cargo capacity. Great for exploration and reconnaissance missions.",CARGO_HAULER:"Large vessel with extensive cargo holds. Slower but ideal for trade routes with high volume goods.",ESCAPE_POD:"Small, basic ship with minimal features but good maneuverability. Built for survival, not comfort.",LIGHT_FREIGHTER:"Balanced ship with decent speed and cargo capacity. A popular choice for new traders in the sector.",DEFENDER:"Combat-focused vessel with reinforced hull and weapon hardpoints. Lower cargo capacity but high survivability.",FAST_COURIER:"Extremely fast ship designed for rapid transit between sectors. Limited cargo space but excellent for high-value, low-volume goods.",COLONY_SHIP:"Specialized vessel designed for colonization missions. Equipped with terraforming modules and space for many colonists.",CARRIER:"Massive military vessel with multiple drone bays and fleet coordination capabilities. The backbone of any serious fleet operation."},s4={SCOUT_SHIP:"Scout Ship",CARGO_HAULER:"Cargo Hauler",ESCAPE_POD:"Escape Pod",LIGHT_FREIGHTER:"Light Freighter",DEFENDER:"Defender",FAST_COURIER:"Fast Courier",COLONY_SHIP:"Colony Ship",CARRIER:"Carrier"},bce=()=>{const{session:n,availableShips:e,claimShip:t,currentPrompt:i,isLoading:r}=rT(),[s,l]=G.useState(null),[u,h]=G.useState(""),f=async p=>{p.preventDefault(),s&&u.trim()&&await t(s,u)};return D.jsxDEV("div",{className:"dialogue-box",children:[D.jsxDEV("div",{className:"game-title-header",children:[D.jsxDEV("h1",{className:"game-title",children:"SECTOR WARS 2102"},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:55,columnNumber:9},globalThis),D.jsxDEV("h2",{className:"game-subtitle",children:"Welcome to the Galaxy"},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:56,columnNumber:9},globalThis),D.jsxDEV("div",{className:"location-context",children:"Callisto Colony Shipyard"},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:57,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:54,columnNumber:7},globalThis),D.jsxDEV("div",{className:"dialogue-header",children:[D.jsxDEV("div",{className:"npc-avatar"},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:61,columnNumber:9},globalThis),D.jsxDEV("div",{className:"speaker-name",children:"Security Guard"},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:62,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:60,columnNumber:7},globalThis),D.jsxDEV("div",{className:"dialogue-text",children:i||`The year is 2102. You find yourself in a bustling shipyard on the outskirts of the Callisto Colony. Your memory is hazy—a side effect of the cryo-sleep required for the journey here. A small orange cat darts between the landing gear of nearby ships, disappearing into the shadows. You're approaching what appears to be your escape pod when a stern-looking Security Guard blocks your path.

Guard: "Hold it right there! This area is restricted to registered pilots only. Which of these vessels belongs to you?"`},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:65,columnNumber:7},globalThis),D.jsxDEV("div",{className:"ship-selection",children:e.map(p=>D.jsxDEV("div",{className:`ship-option ${s===p?"selected":""}`,onClick:()=>l(p),children:[D.jsxDEV("div",{className:`ship-image ${p.toLowerCase().replace(/_/g,"-")}`,children:D.jsxDEV("div",{className:"fallback",children:s4[p]},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:80,columnNumber:15},globalThis)},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:79,columnNumber:13},globalThis),D.jsxDEV("div",{className:"ship-name",children:s4[p]},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:82,columnNumber:13},globalThis),D.jsxDEV("div",{className:"ship-description",children:yce[p]},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:83,columnNumber:13},globalThis)]},p,!0,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:74,columnNumber:11},globalThis))},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:72,columnNumber:7},globalThis),D.jsxDEV("form",{onSubmit:f,className:"dialogue-response",children:[D.jsxDEV("textarea",{className:"response-input",placeholder:"Type your response here...",value:u,onChange:p=>h(p.target.value),disabled:r},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:89,columnNumber:9},globalThis),D.jsxDEV("div",{className:"response-buttons",children:D.jsxDEV("button",{type:"submit",className:"submit-response",disabled:!s||!u.trim()||r,children:"Submit"},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:98,columnNumber:11},globalThis)},void 0,!1,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:97,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:88,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/ShipSelection.tsx",lineNumber:53,columnNumber:5},globalThis)},xce=()=>{const{currentPrompt:n,dialogueHistory:e,submitResponse:t,isLoading:i,dialogueOutcome:r}=rT(),[s,l]=G.useState(""),u=G.useRef(null);G.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[e]);const h=async f=>{if(f.preventDefault(),s.trim()&&!i&&!r)try{await t(s),l("")}catch(p){console.error("Error submitting response:",p)}};return D.jsxDEV("div",{className:"dialogue-box",children:[D.jsxDEV("div",{className:"dialogue-history",ref:u,children:e.map((f,p)=>D.jsxDEV("div",{className:"history-item",children:[f.npc&&D.jsxDEV("div",{className:"npc-message",children:[D.jsxDEV("div",{className:"dialogue-header",children:D.jsxDEV("div",{className:"speaker-name",children:"Security Guard:"},void 0,!1,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:50,columnNumber:19},globalThis)},void 0,!1,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:49,columnNumber:17},globalThis),D.jsxDEV("div",{className:"dialogue-text",children:f.npc},void 0,!1,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:52,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:48,columnNumber:15},globalThis),f.player&&D.jsxDEV("div",{className:"player-message",children:D.jsxDEV("div",{className:"dialogue-text",children:f.player},void 0,!1,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:57,columnNumber:17},globalThis)},void 0,!1,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:56,columnNumber:15},globalThis)]},p,!0,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:46,columnNumber:11},globalThis))},void 0,!1,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:44,columnNumber:7},globalThis),!r&&D.jsxDEV("form",{onSubmit:h,className:"dialogue-response",children:[D.jsxDEV("textarea",{className:"response-input",placeholder:"Type your response to the guard...",value:s,onChange:f=>l(f.target.value),disabled:i||!!r},void 0,!1,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:67,columnNumber:11},globalThis),D.jsxDEV("div",{className:"response-buttons",children:D.jsxDEV("button",{type:"submit",className:"submit-response",disabled:!s.trim()||i||!!r,children:"Submit"},void 0,!1,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:76,columnNumber:13},globalThis)},void 0,!1,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:75,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:66,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/DialogueExchange.tsx",lineNumber:42,columnNumber:5},globalThis)},o4={SCOUT_SHIP:"Scout Ship",CARGO_FREIGHTER:"Cargo Freighter",ESCAPE_POD:"Escape Pod",LIGHT_FREIGHTER:"Light Freighter",DEFENDER:"Defender",FAST_COURIER:"Fast Courier"},Sce=()=>{const{dialogueOutcome:n,completeFirstLogin:e,isLoading:t}=rT(),i=sx(),[r,s]=G.useState(!1),[l,u]=G.useState(null),[h,f]=G.useState(null);if(!n)return null;const p=async()=>{s(!0),f(null);try{const y=await e();u(y),setTimeout(()=>{i("/game")},1500)}catch{f("Failed to complete registration. Please try again."),s(!1)}},v=()=>{switch(n.outcome){case"SUCCESS":return"Authentication successful. Welcome aboard, captain!";case"PARTIAL_SUCCESS":return"Your story has inconsistencies, but you're cleared to proceed.";case"FAILURE":return"Your story doesn't check out. You're limited to basic resources.";default:return"Processing complete. You may now enter the sector."}};return D.jsxDEV("div",{className:"outcome-container",children:[D.jsxDEV("h2",{className:"outcome-header",children:v()},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:70,columnNumber:7},globalThis),D.jsxDEV("div",{className:"outcome-ship",children:[D.jsxDEV("div",{className:`ship-image-large ${n.awarded_ship.toLowerCase().replace(/_/g,"-")}`,children:D.jsxDEV("div",{className:"fallback",children:o4[n.awarded_ship]||n.awarded_ship},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:74,columnNumber:11},globalThis)},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:73,columnNumber:9},globalThis),D.jsxDEV("div",{className:"ship-name",children:o4[n.awarded_ship]||n.awarded_ship},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:76,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:72,columnNumber:7},globalThis),D.jsxDEV("div",{className:"outcome-details",children:[D.jsxDEV("div",{className:"outcome-item",children:[D.jsxDEV("div",{className:"outcome-icon",children:"💰"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:81,columnNumber:11},globalThis),D.jsxDEV("div",{className:"outcome-value",children:n.starting_credits},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:82,columnNumber:11},globalThis),D.jsxDEV("div",{className:"outcome-label",children:"Credits"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:83,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:80,columnNumber:9},globalThis),D.jsxDEV("div",{className:"outcome-item",children:[D.jsxDEV("div",{className:"outcome-icon",children:"🔍"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:87,columnNumber:11},globalThis),D.jsxDEV("div",{className:"outcome-value",children:n.negotiation_skill},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:88,columnNumber:11},globalThis),D.jsxDEV("div",{className:"outcome-label",children:"Negotiation Skill"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:89,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:86,columnNumber:9},globalThis),n.negotiation_bonus&&D.jsxDEV("div",{className:"outcome-item",children:[D.jsxDEV("div",{className:"outcome-icon",children:"⭐"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:94,columnNumber:13},globalThis),D.jsxDEV("div",{className:"outcome-value",children:"Trade Bonus"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:95,columnNumber:13},globalThis),D.jsxDEV("div",{className:"outcome-label",children:"Special Ability"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:96,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:93,columnNumber:11},globalThis),n.notoriety_penalty&&D.jsxDEV("div",{className:"outcome-item",children:[D.jsxDEV("div",{className:"outcome-icon",children:"⚠️"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:102,columnNumber:13},globalThis),D.jsxDEV("div",{className:"outcome-value",children:"Notoriety"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:103,columnNumber:13},globalThis),D.jsxDEV("div",{className:"outcome-label",children:"Reputation Penalty"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:104,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:101,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:79,columnNumber:7},globalThis),D.jsxDEV("div",{className:"guard-final-message dialogue-text",children:n.guard_response},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:109,columnNumber:7},globalThis),h&&D.jsxDEV("div",{className:"error-message",children:h},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:113,columnNumber:17},globalThis),D.jsxDEV("button",{className:"outcome-start-button",onClick:p,disabled:t||r,children:r?"Initializing...":"Begin Your Journey"},void 0,!1,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:115,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/OutcomeDisplay.tsx",lineNumber:69,columnNumber:5},globalThis)},_ce=()=>{const{isLoading:n,error:e,session:t,startSession:i,resetError:r,requiresFirstLogin:s,dialogueOutcome:l}=rT(),[u,h]=G.useState("ship_selection");return G.useEffect(()=>{s&&!t&&i(),t&&h(t.current_step)},[s,t,i]),s?D.jsxDEV("div",{className:"first-login-container",children:[n&&D.jsxDEV("div",{className:"loading-overlay",children:D.jsxDEV("div",{className:"loading-spinner"},void 0,!1,{fileName:"/app/src/components/first-login/FirstLoginContainer.tsx",lineNumber:49,columnNumber:11},globalThis)},void 0,!1,{fileName:"/app/src/components/first-login/FirstLoginContainer.tsx",lineNumber:48,columnNumber:9},globalThis),e&&D.jsxDEV("div",{className:"error-message",children:[e,D.jsxDEV("button",{onClick:r,children:"Dismiss"},void 0,!1,{fileName:"/app/src/components/first-login/FirstLoginContainer.tsx",lineNumber:56,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/FirstLoginContainer.tsx",lineNumber:54,columnNumber:9},globalThis),u==="ship_selection"&&t&&D.jsxDEV(bce,{},void 0,!1,{fileName:"/app/src/components/first-login/FirstLoginContainer.tsx",lineNumber:61,columnNumber:9},globalThis),u==="dialogue"&&t&&D.jsxDEV(xce,{},void 0,!1,{fileName:"/app/src/components/first-login/FirstLoginContainer.tsx",lineNumber:65,columnNumber:9},globalThis),(u==="completion"||l)&&D.jsxDEV(Sce,{},void 0,!1,{fileName:"/app/src/components/first-login/FirstLoginContainer.tsx",lineNumber:69,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/app/src/components/first-login/FirstLoginContainer.tsx",lineNumber:46,columnNumber:5},globalThis):null};function Ece(){const[n,e]=G.useState(!1),[t,i]=G.useState(null),[r,s]=G.useState("Loading..."),[l,u]=G.useState(""),[h,f]=G.useState(""),[p,v]=G.useState("none");sx();const y=()=>({}).VITE_API_URL?(console.log("Using VITE_API_URL override:",{}.VITE_API_URL),{}.VITE_API_URL):(console.log("Using Vite proxy for API requests (empty baseUrl)"),""),x=()=>{const L=y();return L?`${L}/api/v1/status`:`${window.location.origin}/api/v1/status`},_=()=>{const L=y(),U=["/api/status","/api/status/","/api/v1/status","/api/v1/status/","/api/version","/api/v1/status/version","/"];return L?U.map(k=>`${L}${k}`).join(`
`):U.map(k=>`${window.location.origin}${k}`).join(`
`)},M=()=>{const L=di.create();return L.interceptors.response.use(U=>{if(U.status>=300&&U.status<400&&U.headers.location){const k=U.headers.location;if(console.log(`Intercepted redirect to: ${k}`),k.includes(":8080")){const V=k.replace(":8080","");console.log(`Fixed redirect location: ${V}`),U.headers.fixedLocation=V}}return U},U=>Promise.reject(U)),L},T=window.location.hostname.includes(".app.github.dev")?M():null;G.useEffect(()=>{const U=new URLSearchParams(window.location.search).get("auth");if(U)try{console.log("Found auth parameter in URL");const I=JSON.parse(decodeURIComponent(U));if(I.accessToken){console.log("Setting tokens from URL parameter"),localStorage.setItem("accessToken",I.accessToken),localStorage.setItem("refreshToken",I.refreshToken),localStorage.setItem("userId",I.userId),di.defaults.headers.common.Authorization=`Bearer ${I.accessToken}`,T&&(T.defaults.headers.common.Authorization=`Bearer ${I.accessToken}`);const q=new URL(window.location.href);q.searchParams.delete("auth"),window.history.replaceState({},document.title,q.href)}}catch(I){console.error("Error parsing auth parameter:",I)}const k=y();console.log("Checking API status at:",k);const V=async()=>{try{console.log("Starting API status check. App version: 0.1.1");const I=[{path:"/api/status/ping",name:"ping endpoint"},{path:"/api/v1/status/ping",name:"versioned ping endpoint"},{path:"/api/status",name:"direct status"},{path:"/api/status/",name:"direct status with trailing slash"},{path:"/api/v1/status",name:"versioned status"},{path:"/api/v1/status/",name:"versioned status with trailing slash"},{path:"/api/version",name:"direct version"},{path:"/api/v1/status/version",name:"versioned status/version"},{path:"/",name:"server root"}];for(const q of I)try{console.log(`Trying ${q.name} endpoint: ${k}${q.path}`);const j=window.location.hostname.includes(".app.github.dev"),J={maxRedirects:j?0:5,validateStatus:function(te){return te<500},headers:{"X-Forwarded-Host":window.location.host,"X-Forwarded-Proto":"https"}};console.log("Request options:",J);const W=j&&T?T:di;console.log(`Using ${j?"Codespaces":"standard"} axios instance`);const se=await W.get(`${k}${q.path}`,J);if(j&&se.status>=300&&se.status<400){console.log(`Received redirect status: ${se.status}`);const te=se.headers.location,ae=se.headers.fixedLocation||te;if(te){console.log(`Redirect location: ${te}`),ae!==te&&console.log(`Using fixed location: ${ae}`);try{te.includes(":8080")&&te.includes("-8080.app.github.dev")&&console.log("⚠️ Detected double port in redirect URL, fixing it..."),console.log(`Following redirect to: ${ae}`);const ge=await W.get(ae,{...J,maxRedirects:0});if(ge.status>=200&&ge.status<300){console.log("Redirect successful:",ge.data),s("Connected"),u(ge.data.message||"Game API Server is operational (redirected)"),f(ge.data.environment||"gameserver");return}else if(ge.status>=300&&ge.status<400){const ve=ge.headers.location,ce=ve&&ve.includes(":8080")&&ve.includes("-8080.app.github.dev")?ve.replace(":8080",""):ve;console.log(`Another redirect detected to: ${ce}`);try{const Y=await W.get(ce,{...J,maxRedirects:0});if(Y.status>=200&&Y.status<300){console.log("Final redirect successful:",Y.data),s("Connected"),u(Y.data.message||"Game API Server operational"),f(Y.data.environment||"gameserver");return}}catch(Y){console.warn("Failed to follow nested redirect:",Y)}}}catch(ge){console.warn("Failed to follow redirect:",ge)}s("Connected (with redirect)"),u("Game server is responding"),f("gameserver");return}}if(se.status>=200&&se.status<300){console.log(`API connection successful via ${q.name} endpoint`,se.data),s("Connected"),q.path.includes("version")?u(`Game API Server v${se.data.version||"0.1.0"}`):q.path.includes("ping")?u(`Game API Server is operational (ping: ${se.data.ping})`):u(se.data.message||"Game API Server is operational"),f(se.data.environment||"gameserver"),console.log(`SUCCESS: Connected to API via ${q.name}`);return}}catch(j){console.warn(`${q.name} endpoint failed:`,j),j.response?(console.error("Error response data:",j.response.data),console.error("Error response status:",j.response.status),console.error("Error response headers:",j.response.headers)):j.request?console.error("Error request (no response received):",j.request):console.error("Error message:",j.message),console.error("Error config:",j.config)}throw new Error("All API endpoints failed")}catch(I){console.error("Error connecting to API (all attempts failed):",I),console.error("apiUrl used:",k),console.error("Current location:",window.location.toString()),s("Error connecting to API")}};V();const H=setInterval(V,3e4);return(async()=>{var j;const I=localStorage.getItem("accessToken"),q=sessionStorage.getItem("oauth_redirect_completed")==="true";if(q&&(console.log("App detected we are coming from OAuth redirect"),console.log("Access token exists:",!!I),I&&console.log("Access token substring:",I.substring(0,20)+"...")),I)try{console.log("Setting authorization header with token (first 20 chars):",I.substring(0,20)+"..."),di.defaults.headers.common.Authorization=`Bearer ${I}`,console.log("Current axios headers:",di.defaults.headers.common),console.log("Making request to /api/v1/auth/me");const J=await di.get(`${k}/api/v1/auth/me`);console.log("Authentication successful, user data:",J.data),i(J.data),e(!0),q&&(console.log("Clearing OAuth redirect flag"),sessionStorage.removeItem("oauth_redirect_completed"))}catch(J){console.error("Failed to verify authentication:",J),console.error("Error details:",((j=J.response)==null?void 0:j.data)||J.message),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userId"),e(!1)}})(),()=>clearInterval(H)},[]);const A=()=>{v("login")},w=()=>{v("register")};return n?D.jsxDEV(T4,{to:"/game",replace:!0},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:416,columnNumber:12},this):D.jsxDEV("div",{className:"container",children:[D.jsxDEV("header",{className:"site-header",children:D.jsxDEV("div",{className:"header-content",children:[D.jsxDEV("div",{className:"logo",children:[D.jsxDEV("h1",{children:"Sector Wars 2102"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:424,columnNumber:13},this),D.jsxDEV("p",{className:"subtitle",children:"The Future of Space Trading"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:425,columnNumber:13},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:423,columnNumber:11},this),D.jsxDEV("div",{className:"header-actions",children:!n&&D.jsxDEV(D.Fragment,{children:[D.jsxDEV("button",{className:"header-btn",onClick:A,children:"Login"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:430,columnNumber:17},this),D.jsxDEV("button",{className:"header-btn primary",onClick:w,children:"Join Now"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:431,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:429,columnNumber:15},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:427,columnNumber:11},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:422,columnNumber:9},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:421,columnNumber:7},this),D.jsxDEV("main",{children:p==="login"?D.jsxDEV(uq,{onLoginSuccess:()=>v("none"),switchToRegister:()=>v("register"),onClose:()=>v("none")},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:440,columnNumber:11},this):p==="register"?D.jsxDEV(cq,{onRegisterSuccess:()=>v("none"),switchToLogin:()=>v("login"),onClose:()=>v("none")},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:446,columnNumber:11},this):D.jsxDEV(D.Fragment,{children:[D.jsxDEV("section",{className:"hero-section",children:[D.jsxDEV("div",{className:"hero-content",children:[D.jsxDEV("div",{className:"hero-badge",children:D.jsxDEV("span",{className:"badge-text",children:"🚀 Revolutionary AI-Powered Space Trading"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:457,columnNumber:19},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:456,columnNumber:17},this),D.jsxDEV("h1",{className:"hero-title",children:["Command the Galaxy.",D.jsxDEV("br",{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:460,columnNumber:38},this),D.jsxDEV("span",{className:"hero-title-accent",children:"Shape the Universe."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:461,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:459,columnNumber:17},this),D.jsxDEV("p",{className:"hero-description",children:"The first space trading game with AI consciousness. Build quantum warp tunnels, create planets with Genesis Devices, and expand the universe itself in this revolutionary multiplayer experience."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:463,columnNumber:17},this),D.jsxDEV("div",{className:"hero-stats",children:[D.jsxDEV("div",{className:"stat-item",children:[D.jsxDEV("div",{className:"stat-number",children:"1,000"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:469,columnNumber:21},this),D.jsxDEV("div",{className:"stat-label",children:"Turns per Day"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:470,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:468,columnNumber:19},this),D.jsxDEV("div",{className:"stat-item",children:[D.jsxDEV("div",{className:"stat-number",children:"∞"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:473,columnNumber:21},this),D.jsxDEV("div",{className:"stat-label",children:"Expanding Universe"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:474,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:472,columnNumber:19},this),D.jsxDEV("div",{className:"stat-item",children:[D.jsxDEV("div",{className:"stat-number",children:"24/7"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:477,columnNumber:21},this),D.jsxDEV("div",{className:"stat-label",children:"AI Trading Assistant"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:478,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:476,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:467,columnNumber:17},this),D.jsxDEV("div",{className:"cta-buttons",children:[D.jsxDEV("button",{className:"cta-primary",onClick:A,children:"🚀 Launch Into Space"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:483,columnNumber:19},this),D.jsxDEV("button",{className:"cta-secondary",onClick:w,children:"🌟 Join the Galaxy"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:489,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:482,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:455,columnNumber:15},this),D.jsxDEV("div",{className:"hero-visual",children:D.jsxDEV("div",{className:"galaxy-animation",children:[D.jsxDEV("div",{className:"star-field",children:[...Array(50)].map((L,U)=>D.jsxDEV("div",{className:`star star-${U%3+1}`,style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`}},U,!1,{fileName:"/app/src/App.tsx",lineNumber:502,columnNumber:23},this))},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:500,columnNumber:19},this),D.jsxDEV("div",{className:"central-hub",children:[D.jsxDEV("div",{className:"hub-core",children:"🌌"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:511,columnNumber:21},this),D.jsxDEV("div",{className:"orbit-ring"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:512,columnNumber:21},this),D.jsxDEV("div",{className:"pulse-ring"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:513,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:510,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:499,columnNumber:17},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:498,columnNumber:15},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:454,columnNumber:13},this),D.jsxDEV("section",{className:"features-showcase",children:[D.jsxDEV("div",{className:"section-header",children:[D.jsxDEV("h2",{className:"section-title",children:"Revolutionary Features"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:522,columnNumber:17},this),D.jsxDEV("p",{className:"section-subtitle",children:"Experience space trading like never before with cutting-edge AI and universe expansion mechanics"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:523,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:521,columnNumber:15},this),D.jsxDEV("div",{className:"features-grid",children:[D.jsxDEV("div",{className:"feature-card featured",children:[D.jsxDEV("div",{className:"feature-icon-large",children:"🤖"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:528,columnNumber:19},this),D.jsxDEV("h3",{children:"ARIA AI Trading Assistant"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:529,columnNumber:19},this),D.jsxDEV("p",{children:"World's first learning AI companion that adapts to your trading style, predicts market trends, and optimizes routes in real-time."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:530,columnNumber:19},this),D.jsxDEV("div",{className:"feature-tags",children:[D.jsxDEV("span",{className:"tag",children:"Machine Learning"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:532,columnNumber:21},this),D.jsxDEV("span",{className:"tag",children:"Personalized"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:533,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:531,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:527,columnNumber:17},this),D.jsxDEV("div",{className:"feature-card",children:[D.jsxDEV("div",{className:"feature-icon-large",children:"🌀"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:538,columnNumber:19},this),D.jsxDEV("h3",{children:"Quantum Warp Tunnels"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:539,columnNumber:19},this),D.jsxDEV("p",{children:"Build warp gates to reach hidden regions and expand the universe. Create new trade routes to sectors no one has ever seen."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:540,columnNumber:19},this),D.jsxDEV("div",{className:"feature-tags",children:D.jsxDEV("span",{className:"tag",children:"Universe Expansion"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:542,columnNumber:21},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:541,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:537,columnNumber:17},this),D.jsxDEV("div",{className:"feature-card",children:[D.jsxDEV("div",{className:"feature-icon-large",children:"🌍"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:547,columnNumber:19},this),D.jsxDEV("h3",{children:"Genesis Devices"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:548,columnNumber:19},this),D.jsxDEV("p",{children:"Create entirely new planets using rare quantum technology. Transform empty space into thriving worlds."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:549,columnNumber:19},this),D.jsxDEV("div",{className:"feature-tags",children:D.jsxDEV("span",{className:"tag",children:"Planet Creation"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:551,columnNumber:21},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:550,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:546,columnNumber:17},this),D.jsxDEV("div",{className:"feature-card",children:[D.jsxDEV("div",{className:"feature-icon-large",children:"⚔️"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:556,columnNumber:19},this),D.jsxDEV("h3",{children:"Strategic Combat"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:557,columnNumber:19},this),D.jsxDEV("p",{children:"Deploy drones, assault planets, and command fleets with tactical precision. Indestructible escape pods ensure you never lose everything."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:558,columnNumber:19},this),D.jsxDEV("div",{className:"feature-tags",children:D.jsxDEV("span",{className:"tag",children:"Tactical"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:560,columnNumber:21},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:559,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:555,columnNumber:17},this),D.jsxDEV("div",{className:"feature-card",children:[D.jsxDEV("div",{className:"feature-icon-large",children:"👥"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:565,columnNumber:19},this),D.jsxDEV("h3",{children:"Real-time Multiplayer"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:566,columnNumber:19},this),D.jsxDEV("p",{children:"See other players moving through the galaxy instantly. Form teams, collaborate on Genesis projects, and build trading empires together."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:567,columnNumber:19},this),D.jsxDEV("div",{className:"feature-tags",children:D.jsxDEV("span",{className:"tag",children:"Live Updates"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:569,columnNumber:21},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:568,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:564,columnNumber:17},this),D.jsxDEV("div",{className:"feature-card",children:[D.jsxDEV("div",{className:"feature-icon-large",children:"📱"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:574,columnNumber:19},this),D.jsxDEV("h3",{children:"Mobile Optimized"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:575,columnNumber:19},this),D.jsxDEV("p",{children:"Full gameplay experience on any device. Trade on your phone, manage your empire on your tablet, all with seamless synchronization."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:576,columnNumber:19},this),D.jsxDEV("div",{className:"feature-tags",children:D.jsxDEV("span",{className:"tag",children:"Cross-Platform"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:578,columnNumber:21},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:577,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:573,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:526,columnNumber:15},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:520,columnNumber:13},this),D.jsxDEV("section",{className:"game-preview",children:[D.jsxDEV("div",{className:"section-header",children:[D.jsxDEV("h2",{className:"section-title",children:"See the Galaxy in Action"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:587,columnNumber:17},this),D.jsxDEV("p",{className:"section-subtitle",children:"Get a glimpse of the immersive universe that awaits you"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:588,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:586,columnNumber:15},this),D.jsxDEV("div",{className:"preview-showcase",children:[D.jsxDEV("div",{className:"preview-card",children:[D.jsxDEV("div",{className:"preview-image trading",children:D.jsxDEV("div",{className:"mock-ui",children:[D.jsxDEV("div",{className:"ui-header",children:"🚀 Trading Console"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:595,columnNumber:23},this),D.jsxDEV("div",{className:"ui-content",children:[D.jsxDEV("div",{className:"market-item",children:[D.jsxDEV("span",{children:"🔋 Energy Cells"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:598,columnNumber:27},this),D.jsxDEV("span",{className:"price profit",children:"+32% ↗"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:599,columnNumber:27},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:597,columnNumber:25},this),D.jsxDEV("div",{className:"market-item",children:[D.jsxDEV("span",{children:"⚙️ Equipment"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:602,columnNumber:27},this),D.jsxDEV("span",{className:"price loss",children:"-18% ↘"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:603,columnNumber:27},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:601,columnNumber:25},this),D.jsxDEV("div",{className:"ai-recommendation",children:D.jsxDEV("span",{children:"🤖 ARIA: Profitable route to Sector 47 detected"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:606,columnNumber:27},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:605,columnNumber:25},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:596,columnNumber:23},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:594,columnNumber:21},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:593,columnNumber:19},this),D.jsxDEV("h3",{children:"AI-Powered Trading"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:611,columnNumber:19},this),D.jsxDEV("p",{children:"Real-time market analysis with personalized AI recommendations"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:612,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:592,columnNumber:17},this),D.jsxDEV("div",{className:"preview-card",children:[D.jsxDEV("div",{className:"preview-image exploration",children:D.jsxDEV("div",{className:"mock-ui",children:[D.jsxDEV("div",{className:"ui-header",children:"🌌 Navigation"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:618,columnNumber:23},this),D.jsxDEV("div",{className:"galaxy-mini",children:[D.jsxDEV("div",{className:"sector current",children:"You"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:620,columnNumber:25},this),D.jsxDEV("div",{className:"sector discovered",children:"47"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:621,columnNumber:25},this),D.jsxDEV("div",{className:"sector unknown",children:"??"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:622,columnNumber:25},this),D.jsxDEV("div",{className:"warp-tunnel",children:"~~~"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:623,columnNumber:25},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:619,columnNumber:23},this),D.jsxDEV("div",{className:"ui-action",children:"Build Quantum Tunnel →"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:625,columnNumber:23},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:617,columnNumber:21},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:616,columnNumber:19},this),D.jsxDEV("h3",{children:"Universe Expansion"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:628,columnNumber:19},this),D.jsxDEV("p",{children:"Discover new sectors and build connections to expand the galaxy"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:629,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:615,columnNumber:17},this),D.jsxDEV("div",{className:"preview-card",children:[D.jsxDEV("div",{className:"preview-image colonization",children:D.jsxDEV("div",{className:"mock-ui",children:[D.jsxDEV("div",{className:"ui-header",children:"🌍 Colonization"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:635,columnNumber:23},this),D.jsxDEV("div",{className:"planet-progress",children:[D.jsxDEV("div",{className:"progress-bar",children:D.jsxDEV("div",{className:"progress-fill",style:{width:"73%"}},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:638,columnNumber:27},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:637,columnNumber:25},this),D.jsxDEV("div",{className:"progress-text",children:"Genesis Device: 73% Complete"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:640,columnNumber:25},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:636,columnNumber:23},this),D.jsxDEV("div",{className:"ui-action",children:'New Planet: "New Earth" Ready!'},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:642,columnNumber:23},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:634,columnNumber:21},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:633,columnNumber:19},this),D.jsxDEV("h3",{children:"Planet Creation"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:645,columnNumber:19},this),D.jsxDEV("p",{children:"Use Genesis Devices to create new worlds and expand civilization"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:646,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:632,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:591,columnNumber:15},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:585,columnNumber:13},this),D.jsxDEV("section",{className:"getting-started",children:[D.jsxDEV("div",{className:"section-header",children:[D.jsxDEV("h2",{className:"section-title",children:"Ready to Command the Galaxy?"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:654,columnNumber:17},this),D.jsxDEV("p",{className:"section-subtitle",children:"Join thousands of players in the ultimate space trading experience"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:655,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:653,columnNumber:15},this),D.jsxDEV("div",{className:"start-steps",children:[D.jsxDEV("div",{className:"step",children:[D.jsxDEV("div",{className:"step-number",children:"1"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:660,columnNumber:19},this),D.jsxDEV("div",{className:"step-content",children:[D.jsxDEV("h3",{children:"Create Your Account"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:662,columnNumber:21},this),D.jsxDEV("p",{children:"Quick registration gets you into the game in under 30 seconds"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:663,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:661,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:659,columnNumber:17},this),D.jsxDEV("div",{className:"step",children:[D.jsxDEV("div",{className:"step-number",children:"2"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:668,columnNumber:19},this),D.jsxDEV("div",{className:"step-content",children:[D.jsxDEV("h3",{children:"Meet Your AI Assistant"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:670,columnNumber:21},this),D.jsxDEV("p",{children:"ARIA will guide you through your first trades and help you understand the market"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:671,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:669,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:667,columnNumber:17},this),D.jsxDEV("div",{className:"step",children:[D.jsxDEV("div",{className:"step-number",children:"3"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:676,columnNumber:19},this),D.jsxDEV("div",{className:"step-content",children:[D.jsxDEV("h3",{children:"Start Trading & Exploring"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:678,columnNumber:21},this),D.jsxDEV("p",{children:"Use your 1,000 daily turns to build your empire and discover new sectors"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:679,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:677,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:675,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:658,columnNumber:15},this),D.jsxDEV("div",{className:"final-cta",children:[D.jsxDEV("h3",{children:"What are you waiting for?"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:685,columnNumber:17},this),D.jsxDEV("p",{children:"The galaxy needs commanders. Will you answer the call?"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:686,columnNumber:17},this),D.jsxDEV("div",{className:"cta-buttons",children:[D.jsxDEV("button",{className:"cta-primary large",onClick:w,children:"🚀 Start Your Journey"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:688,columnNumber:19},this),D.jsxDEV("button",{className:"cta-secondary large",onClick:A,children:"↩️ Returning Commander"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:694,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:687,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:684,columnNumber:15},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:652,columnNumber:13},this),D.jsxDEV("section",{className:"sidebar-content",children:[D.jsxDEV("div",{className:"status-section",children:[D.jsxDEV("h3",{children:"Game Server Status"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:707,columnNumber:17},this),D.jsxDEV("div",{className:"status-indicator",children:[D.jsxDEV("span",{className:`status-dot ${r.includes("Connected")?"connected":"disconnected"}`},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:709,columnNumber:19},this),D.jsxDEV("span",{className:"status-text",children:r},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:710,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:708,columnNumber:17},this),r.includes("Connected")?D.jsxDEV("div",{className:"api-info",children:[D.jsxDEV("p",{children:[D.jsxDEV("strong",{children:"Message:"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:714,columnNumber:24},this)," ",l]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:714,columnNumber:21},this),D.jsxDEV("p",{children:[D.jsxDEV("strong",{children:"Environment:"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:715,columnNumber:24},this)," ",h]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:715,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:713,columnNumber:19},this):D.jsxDEV("div",{className:"api-info error-info",children:[D.jsxDEV("p",{children:[D.jsxDEV("strong",{children:"API URL:"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:719,columnNumber:24},this)," ",x()]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:719,columnNumber:21},this),D.jsxDEV("p",{children:D.jsxDEV("strong",{children:"URLs tried:"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:720,columnNumber:24},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:720,columnNumber:21},this),D.jsxDEV("pre",{className:"api-urls-tried",children:_()},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:721,columnNumber:21},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:718,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:706,columnNumber:15},this),D.jsxDEV("div",{className:"news-section",children:[D.jsxDEV("h3",{children:"Latest Updates"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:727,columnNumber:17},this),D.jsxDEV("div",{className:"news-item",children:[D.jsxDEV("span",{className:"news-date",children:"December 2024"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:729,columnNumber:19},this),D.jsxDEV("h4",{className:"news-title",children:"AI Trading Assistant ARIA Launched"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:730,columnNumber:19},this),D.jsxDEV("p",{className:"news-desc",children:"Revolutionary AI companion now helps players with personalized market analysis and trading recommendations."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:731,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:728,columnNumber:17},this),D.jsxDEV("div",{className:"news-item",children:[D.jsxDEV("span",{className:"news-date",children:"November 2024"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:734,columnNumber:19},this),D.jsxDEV("h4",{className:"news-title",children:"Quantum Warp Tunnels Live"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:735,columnNumber:19},this),D.jsxDEV("p",{className:"news-desc",children:"Players can now build warp gates to access hidden sectors and expand the universe."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:736,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:733,columnNumber:17},this),D.jsxDEV("div",{className:"news-item",children:[D.jsxDEV("span",{className:"news-date",children:"October 2024"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:739,columnNumber:19},this),D.jsxDEV("h4",{className:"news-title",children:"Genesis Devices Released"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:740,columnNumber:19},this),D.jsxDEV("p",{className:"news-desc",children:"Create new planets in empty space using advanced terraforming technology."},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:741,columnNumber:19},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:738,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:726,columnNumber:15},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:705,columnNumber:13},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:452,columnNumber:11},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:438,columnNumber:7},this),D.jsxDEV("footer",{children:D.jsxDEV("p",{children:"Sector Wars 2102 - Player Client v0.1.0"},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:750,columnNumber:9},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:749,columnNumber:7},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:420,columnNumber:5},this)}const l4=({children:n})=>{const e=localStorage.getItem("accessToken");return!e?(console.log("Access token not found, redirecting to home"),D.jsxDEV(T4,{to:"/",replace:!0},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:763,columnNumber:12},globalThis)):(e&&!di.defaults.headers.common.Authorization&&(console.log("Setting axios auth header in ProtectedRoute"),di.defaults.headers.common.Authorization=`Bearer ${e}`),D.jsxDEV(D.Fragment,{children:n},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:772,columnNumber:10},globalThis))};function Tce(){return D.jsxDEV(lq,{defaultTheme:"cockpit",children:D.jsxDEV(cY,{children:D.jsxDEV(nq,{children:D.jsxDEV(sq,{children:D.jsxDEV(iq,{children:D.jsxDEV(rq,{children:[D.jsxDEV($9,{children:[D.jsxDEV(ug,{path:"/oauth-callback",element:D.jsxDEV(fq,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:784,columnNumber:54},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:784,columnNumber:15},this),D.jsxDEV(ug,{path:"/debug",element:D.jsxDEV(vce,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:785,columnNumber:45},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:785,columnNumber:15},this),D.jsxDEV(ug,{path:"/test-auth",element:D.jsxDEV(gce,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:786,columnNumber:49},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:786,columnNumber:15},this),D.jsxDEV(ug,{path:"/game",element:D.jsxDEV(l4,{children:D.jsxDEV(kJ,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:789,columnNumber:19},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:788,columnNumber:17},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:787,columnNumber:15},this),D.jsxDEV(ug,{path:"/game/map",element:D.jsxDEV(l4,{children:D.jsxDEV(mce,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:794,columnNumber:19},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:793,columnNumber:17},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:792,columnNumber:15},this),D.jsxDEV(ug,{path:"*",element:D.jsxDEV(Ece,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:797,columnNumber:40},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:797,columnNumber:15},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:783,columnNumber:17},this),D.jsxDEV(_ce,{},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:799,columnNumber:17},this)]},void 0,!0,{fileName:"/app/src/App.tsx",lineNumber:782,columnNumber:15},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:781,columnNumber:13},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:780,columnNumber:11},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:779,columnNumber:9},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:778,columnNumber:7},this)},void 0,!1,{fileName:"/app/src/App.tsx",lineNumber:777,columnNumber:5},this)}DP.createRoot(document.getElementById("root")).render(D.jsxDEV(lA.StrictMode,{children:D.jsxDEV(Tce,{},void 0,!1,{fileName:"/app/src/main.tsx",lineNumber:8,columnNumber:5},globalThis)},void 0,!1,{fileName:"/app/src/main.tsx",lineNumber:7,columnNumber:3},globalThis));
