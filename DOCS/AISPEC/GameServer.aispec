OVERVIEW:
Game API Server built with FastAPI provides core game logic, database operations, and RESTful API endpoints for player actions, built with Python and containerized in Docker.

FACTS:
* FastAPI replaced Flask for improved performance and typing
* RESTful API with JSON responses for all game actions
* JWT authentication for API security
* SQLAlchemy ORM for database operations
* Pydantic models for request/response validation
* Fully containerized for cross-environment compatibility
* Automatic API documentation with Swagger/OpenAPI
* Rate limiting for security
* Asynchronous handlers for improved concurrency
* Dependency injection pattern for services

TERMINOLOGY:
* FastAPI: Python web framework optimized for API development
* JWT: JSON Web Token for authentication
* Pydantic: Data validation library
* Dependency Injection: Design pattern for service management
* Rate Limiting: Restricting request frequency
* RESTful: Architectural style for APIs based on HTTP methods

FILES:
- /services/gameserver/
  ├── Dockerfile
  ├── requirements.txt
  ├── src/
  │   ├── main.py                # FastAPI application entry point
  │   ├── api/
  │   │   ├── __init__.py
  │   │   ├── routes/
  │   │   │   ├── auth.py        # Authentication endpoints
  │   │   │   ├── admin.py       # Admin endpoints
  │   │   │   └── users.py       # User management
  │   │   └── middleware/
  │   │       ├── auth.py        # JWT authentication middleware
  │   │       └── rate_limit.py  # Rate limiting middleware
  │   ├── auth/                  # Authentication system
  │   │   ├── __init__.py
  │   │   ├── router.py          # FastAPI router for auth endpoints
  │   │   ├── dependencies.py    # FastAPI dependencies for auth
  │   │   ├── oauth.py           # OAuth provider integrations
  │   │   ├── jwt.py             # JWT token generation and validation
  │   │   ├── admin.py           # Admin user management
  │   │   └── middleware.py      # Auth middleware for FastAPI
  │   ├── models/                # Database models
  │   │   ├── __init__.py
  │   │   ├── user.py            # User model
  │   │   ├── oauth_account.py   # OAuth account linking
  │   │   └── refresh_token.py   # JWT refresh tokens
  │   ├── schemas/               # Pydantic models for API
  │   │   ├── __init__.py
  │   │   ├── auth.py            # Auth schemas
  │   │   └── user.py            # User schemas
  │   ├── services/              # Business logic
  │   │   ├── __init__.py
  │   │   └── user_service.py    # User logic
  │   ├── core/                  # Core infrastructure
  │   │   ├── __init__.py
  │   │   ├── config.py          # Application configuration
  │   │   ├── database.py        # Database connection
  │   │   └── security.py        # Security utilities
  │   └── utils/                 # Utility functions
  │       ├── __init__.py
  │       └── helpers.py         # Common helper functions
  └── alembic/                   # Database migrations

SCHEMA:
See Database.aispec for database schema details.

API Endpoints:
- /api/auth/register [POST] - Register new user
- /api/auth/login [POST] - Login user
- /api/auth/refresh [POST] - Refresh JWT token
- /api/admin/users [GET] - Admin user management

CONSTRAINTS:
* API must follow RESTful design principles
* Responses must include appropriate HTTP status codes
* Authentication required for all game action endpoints
* Admin endpoints must verify admin privileges
* Rate limiting must be applied to prevent abuse
* API versioning must be implemented for future compatibility
* Error responses must be standardized
* Database operations must use transactions for consistency
